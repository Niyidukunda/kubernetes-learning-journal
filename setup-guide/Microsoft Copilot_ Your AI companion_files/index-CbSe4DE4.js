const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DOGcyGx1.js","assets/deferred-Yz4LKiym.js","assets/math.scalar.functions-C0i4R8fp.js","assets/animationGroup-CFaOszII.js","assets/skeleton-IVgtpvPZ.js","assets/rawTexture-CgNPLHYb.js","assets/easing-CqSx7pdL.js","assets/weightedsound-5o6ZCLiX.js","assets/audioEngine-DoShOVtX.js","assets/babylonFileParser.function-CWsVgwsY.js","assets/assetContainer-An-fJuxX.js","assets/asyncLock-9aZud8Qo.js","assets/ray-_SqJDfGo.js","assets/webgpuEngine-B0_WhERi.js","assets/bakedVertexAnimation-DzppQKjz.js","assets/helperFunctions-D4tcj8XO.js","assets/fresnelFunction-CKehKfyi.js","assets/sceneUboDeclaration-BzWMQe1E.js","assets/decalFragment-eEV3sDtm.js","assets/dataReader-COuj_ly-.js","assets/standardMaterial-CuzgRYhh.js","assets/shaderMaterial-C2jYuFfs.js","assets/bakedVertexAnimation-BqDF-c-q.js","assets/morphTargetsVertex-BVny_sEB.js","assets/vertexColorMixing-Dflz2-Fc.js","assets/discBuilder-BVZ5yfLr.js","assets/abstractEngine.cubeTexture-Dz743xsj.js","assets/engine.multiRender-Bj0n9OAI.js","assets/environmentTextureTools-DYO-NKUS.js","assets/dumpTools-LHjEaCmz.js","assets/engine.multiRender-0sh_no9Z.js","assets/flowGraphParser-DjGp2Wyj.js","assets/flowGraphRichTypes-CAPnHM1v.js","assets/flowGraphJsonPointerParserBlock-BlNizCem.js","assets/flowGraphCachedOperationBlock-kLvNk5bm.js","assets/flowGraphConsoleLogBlock-B7aI9ypZ.js","assets/flowGraphBranchBlock-BPrv_tT-.js","assets/flowGraphDoNBlock-HwS006EV.js","assets/flowGraphForLoopBlock-CIlIHVSo.js","assets/flowGraphThrottleBlock-C5SE9tvR.js","assets/flowGraphMultiGateBlock-Btusw2oR.js","assets/flowGraphSwitchBlock-CCjxYBej.js","assets/flowGraphWaitAllBlock-1ys8P5sm.js","assets/flowGraphCounterBlock-zmpO1-pb.js","assets/flowGraphWhileLoopBlock-BJlvMRN7.js","assets/flowGraphDebounceBlock-BivR5y7S.js","assets/flowGraphFlipFlopBlock-DCbXGWjI.js","assets/flowGraphSequenceBlock-HxH8G3sB.js","assets/flowGraphSetDelayBlock-DiXWjvbk.js","assets/flowGraphCancelDelayBlock-DeIF-ufs.js","assets/flowGraphPlayAnimationBlock-D46Lr2jr.js","assets/flowGraphStopAnimationBlock-BCUXr6_9.js","assets/flowGraphPauseAnimationBlock-Dsxch7sA.js","assets/flowGraphInterpolationBlock-BdJEf4ao.js","assets/flowGraphEasingBlock-Mnm6lneQ.js","assets/flowGraphBezierCurveEasingBlock-BAzqsFd4.js","assets/flowGraphConditionalDataBlock-CeBJLcrn.js","assets/flowGraphGetVariableBlock-CYTLJyfp.js","assets/flowGraphSetVariableBlock-BNjAeIeV.js","assets/flowGraphTransformCoordinatesSystemBlock-B1W3wusm.js","assets/flowGraphGetPropertyBlock-B2edFlTy.js","assets/flowGraphSetPropertyBlock-0L95F1RY.js","assets/flowGraphConstantBlock-5SjeRsxj.js","assets/flowGraphGetAssetBlock-C9atWkWG.js","assets/flowGraphDataSwitchBlock-BEVT8OYU.js","assets/flowGraphMathBlocks-CnNmy2RU.js","assets/flowGraphBinaryOperationBlock-DOJ8kSFq.js","assets/flowGraphUnaryOperationBlock-Aw5Bp3c4.js","assets/flowGraphTernaryOperationBlock-Crcr8gTR.js","assets/flowGraphMathCombineExtractBlocks-DECIFZsH.js","assets/flowGraphMatrixMathBlocks-Cj6oOc1X.js","assets/flowGraphVectorMathBlocks-Bw5i4Rcb.js","assets/flowGraphTypeToTypeBlocks-w-UOV572.js","assets/flowGraphContextBlock-CpK_GQBE.js","assets/flowGraphArrayIndexBlock-Bk3yXo6m.js","assets/flowGraphCodeExecutionBlock-j0oXhOYx.js","assets/flowGraphIndexOfBlock-0Y2bWLzw.js","assets/flowGraphFunctionReferenceBlock-DXxBqq-L.js","assets/flowGraphMeshPickEventBlock-BmsfrpBj.js","assets/flowGraphSceneReadyEventBlock-CPwi4RMb.js","assets/flowGraphReceiveCustomEventBlock-DulG4rBR.js","assets/flowGraphSendCustomEventBlock-CR9L6c_I.js","assets/flowGraphSceneTickEventBlock-Cm1Npc4R.js","assets/flowGraphPointerOutEventBlock-BE34u8xS.js","assets/flowGraphPointerOverEventBlock-Dsimwpp3.js","assets/shadowGeneratorSceneComponent-CtpGKn_V.js","assets/shadowGenerator-xBsqG8T-.js","assets/clipPlaneFragment-C9vA0JCJ.js","assets/clipPlaneVertex-CUcGLszw.js","assets/pointCloudVertex-Dam45TYf.js","assets/pointLight-DeyKYIGm.js","assets/cubeTexture-C7bUDBOS.js","assets/dds-DhXyNdEY.js","assets/ktxTextureLoader-UeJsajpD.js","assets/workerPool-H9Ji3mCo.js","assets/iblCdfGenerator-CgOUyNvc.js","assets/helperFunctions-CDzN6mxM.js","assets/fogFragment-aGUvtlYr.js","assets/logDepthVertex-DVzGCB0i.js","assets/sceneVertexDeclaration-CZLxQa3E.js","assets/sceneUboDeclaration-BFMkil_u.js","assets/meshUboDeclaration-Cpraz_Ho.js","assets/iesTextureLoader-jaYDMBUn.js","assets/hdrCubeTexture-CGeKJwCA.js","assets/hdr-Dz2csW8-.js","assets/logDepthDeclaration-C0FKediV.js","assets/oitFragment-CZIH0jrI.js","assets/default.fragment-Cil4qr8B.js","assets/defaultUboDeclaration-CDOZvO8g.js","assets/mainUVVaryingDeclaration-B78gvJ5t.js","assets/logDepthVertex-wpuJ3UcB.js","assets/samplerVertexImplementation-Bdf3Wx7U.js","assets/logDepthDeclaration-yoCtw2ho.js","assets/shadowsVertex-BFA9fsjN.js","assets/oitFragment-BukB0EbR.js","assets/lightUboDeclaration-RMJ_ucl5.js","assets/lightsFragmentFunctions-BLsV4MHx.js","assets/lightFragment-BEKQ5-zK.js","assets/fogFragmentDeclaration-D5Ap9cag.js","assets/pbr.vertex-B4GUNkjA.js","assets/harmonicsFunctions-CYbsc34A.js","assets/pbr.fragment-BX6cwd9f.js","assets/pbr.vertex-2DhXcsdj.js","assets/harmonicsFunctions-SM1LLuMN.js","assets/mainUVVaryingDeclaration-DrZ29LTq.js","assets/bumpVertex-DprtmwqU.js","assets/pbr.fragment-DUdNnff_.js","assets/bumpFragment-uyw-kXru.js","assets/shaderLanguage-BjwqUAVi.js","assets/ddsTextureLoader-DT80-9yL.js","assets/envTextureLoader-CFPTZqWW.js","assets/tgaTextureLoader-vX0kWBgR.js","assets/hdrTextureLoader-DkWy3aIt.js","assets/basisTextureLoader-CkkVx_sm.js","assets/exrTextureLoader-BYJeL0mI.js","assets/iblShadowsRenderPipeline-DrZfiNqf.js","assets/rawCubeTexture-GunTOXC3.js","assets/pointsCloudSystem-CrRo0jf-.js","assets/thinInstanceMesh-SEtr_KmD.js","assets/default.fragment-YDyajBLH.js","assets/defaultUboDeclaration-7UV9nPw1.js","assets/default.vertex-DWxI-lNU.js","assets/default.vertex-BugPShqp.js","assets/dracoDecoder-CwbqbsGo.js","assets/meshoptCompression-B2qodcxN.js","assets/mesh.vertexData.functions-BXkNVxNr.js","assets/lodCube.fragment-Bx0CErSI.js","assets/lod.fragment-UVQl9seq.js","assets/lodCube.fragment-Bmn3ZTq-.js","assets/lod.fragment-DeFPjJmN.js","assets/rgbdDecode.fragment-8xYrmOiW.js","assets/rgbdEncode.fragment-CquyZIoR.js","assets/rgbdDecode.fragment-CvigptDs.js","assets/rgbdEncode.fragment-B6zXAMn5.js","assets/postProcessRenderPipelineManagerSceneComponent-D-v9AzBj.js","assets/postprocess.vertex-DYRBVTti.js","assets/pass.fragment-v9P3CW7z.js","assets/passCube.fragment-BD4yas3z.js","assets/pass.fragment-Dm9X-6p8.js","assets/passCube.fragment-CNq43VoV.js","assets/sceneFragmentDeclaration-B3lEOSif.js","assets/index-CeIncVfT.js","assets/glTFLoader-CKTFnXTZ.js","assets/glTFLoaderExtensionRegistry-TnevkcAU.js","assets/objectModelMapping-Ck7t4D0A.js","assets/KHR_animation_pointer-DxhXyMPR.js","assets/EXT_lights_image_based-BwwRLmLG.js","assets/EXT_mesh_gpu_instancing-DkbC2QcD.js","assets/EXT_meshopt_compression-DXCEmkXY.js","assets/EXT_texture_webp-OAaMrA7c.js","assets/EXT_texture_avif-DqhAlRXy.js","assets/EXT_lights_ies-C--2jHYg.js","assets/KHR_draco_mesh_compression-BJQe5RVb.js","assets/KHR_lights_punctual-tqc_KoZN.js","assets/KHR_materials_pbrSpecularGlossiness-xWoCcKwT.js","assets/KHR_materials_unlit-BGrQFndF.js","assets/KHR_materials_clearcoat-DXL8u6Pw.js","assets/KHR_materials_iridescence-BKjwQwIY.js","assets/KHR_materials_anisotropy-BWpeFBqI.js","assets/KHR_materials_emissive_strength-CcwOMpAH.js","assets/KHR_materials_sheen-DehNvb0P.js","assets/KHR_materials_specular-Cg1XlV3O.js","assets/KHR_materials_ior-DDTkq4PX.js","assets/KHR_materials_variants-C9b6L4D0.js","assets/KHR_materials_transmission-Bxr4zUPf.js","assets/KHR_materials_diffuse_transmission-Bs1iiokw.js","assets/KHR_materials_volume-Bui1ISgT.js","assets/KHR_materials_dispersion-CKFUUD61.js","assets/EXT_materials_diffuse_roughness-BwT9g_sn.js","assets/KHR_mesh_quantization-BUBoqWPa.js","assets/KHR_texture_basisu-B_9d14rd.js","assets/KHR_texture_transform-xd-4xo21.js","assets/KHR_xmp_json_ld-DBFTVTTR.js","assets/MSFT_audio_emitter-BSLZipDt.js","assets/MSFT_lod-Bw5buoiM.js","assets/MSFT_minecraftMesh-C5LBOuvG.js","assets/MSFT_sRGBFactors-C08lzRUX.js","assets/KHR_interactivity-BLeGsxOO.js","assets/declarationMapper-D5a2e49G.js","assets/KHR_node_visibility-CfI-AFCI.js","assets/KHR_node_selectability-Yz9uD7n3.js","assets/KHR_node_hoverability-C5SkyPhL.js","assets/ExtrasAsMetadata--182SUOX.js","assets/index-bF9WTJrS.js","assets/stlFileLoader.metadata-D34mcJg2.js","assets/babylon.inspector.bundle.max-0AXFUC9r.js","assets/shadowOnlyMaterial-D_jfJdSE.js","assets/shadowOnly.fragment-C3u91SDn.js","assets/shadowOnly.vertex-CrHCxgHq.js","assets/objFileLoader-D4OEK3Sm.js","assets/stlFileLoader-BrLrC46K.js","assets/splatFileLoader-DjU_kXGX.js","assets/sidebar-pages-ByLiCZ5A.js","assets/use-supports-hover-lqGFbcZ_.js","assets/conversations-BWzTb-Yi.js","assets/delete-C4ILvMH6.js","assets/share-Bi3bKZWK.js","assets/dots-horizontal-DKlvGyMK.js","assets/use-share-message-D9lrktmY.js","assets/use-list-key-down-CiL7QQ0X.js","assets/index-Cijl96VN.js","assets/index-Chjiymov.js","assets/sender-share-conversation-modal-CvUyZVSn.js","assets/alert-BXOA7XZG.js","assets/error-DkJ6v1Tk.js","assets/sender-share-modal-copy-button-BGMEH6qt.js","assets/character-6RQdaeoH.js","assets/use-set-up-babylon-CMG4OiHZ.js","assets/product-purchase-ltzPps4L.js","assets/constants-riKOLevW.js","assets/utils-DMwI5Lyc.js","assets/wallet-element-factory-BFUceFGp.js","assets/upsell-block-BLeYudwr.js","assets/cross-selling-strip-BYWnKFJQ.js","assets/price-tracking-block-Casg8dNH.js","assets/use-price-tracking-CvbHAcQy.js","assets/use-shopping-telemetry-DZlzx719.js","assets/shopping-telemetry-D2Invl-H.js","assets/chevron-bolded-ce2FXAgd.js","assets/format-money-drvM7H8g.js","assets/composer-actions-prompt-suggestions-B18l5e-3.js","assets/booking-BMTVO1xT.js","assets/expedia-DhOzWozn.js","assets/flower-C9p19PuI.js","assets/hotels-yugeaHLR.js","assets/kayak-BK1VF646.js","assets/open-table-ChfRkH1n.js","assets/priceline-BrBOpL-O.js","assets/sky-scanner-BkBJ6HLh.js","assets/trip-advisor-kqAlLObP.js","assets/viator-4z7_hDEr.js","assets/over-task-quota-DZrR7KP-.js","assets/composer-action-C1ujjgNS.js","assets/computer-use-task-closed-CBzANZ-d.js","assets/safety-risk-card-B2WOnfyd.js","assets/use-send-action-command-2t5Zy8sC.js","assets/cross-selling-strip-consumer-D4fiG5-V.js","assets/composer-prompt-review-J8zzF3Tt.js","assets/use-ocv-feedback-DVPO9JR-.js","assets/daily-briefing-chat-BW5Bi8vt.js","assets/contract-down-left-Dg8kkVbs.js","assets/dailly-briefing-composer-input-BSLlKl3T.js","assets/composer-sign-in-Be4XZ5NH.js","assets/merge-conversation-checkbox-DY-lsF0g.js","assets/daily-briefing-composer-player-CYFbBDqx.js","assets/sum-TKy2wozW.js","assets/progress-bar-Bmi1EEz3.js","assets/next-BUG3LSxZ.js","assets/pause-4yU45abQ.js","assets/play-BVKz317R.js","assets/video-player-v_Kk6WSl.js","assets/native-player-Cv6OufI_.js","assets/card-carousel-C85uJVdx.js","assets/utils-ifQmq0fb.js","assets/settings-M998LU6x.js","assets/voice-options-Dkxcn2s7.js","assets/privacy-choices-Bw2Yxk3H.js","assets/qr-CanA2tiT.js","assets/use-is-lab-enabled-DixdNa02.js","assets/mask-wrapper-o9l5VK0P.js","assets/atoms-DM-FOpvP.js","assets/order-details-view-C8g9sqlA.js","assets/card-info-ahq-gUDn.js","assets/visa-DNBWtMre.js","assets/product-info-DsCKs7Oq.js","assets/wallet-icon-button-BsCmMwTC.js","assets/minus-D3ZcvOov.js","assets/shipping-address-k3k1HEaH.js","assets/download-BplmWj3b.js","assets/faq-link-BYUQcD4e.js","assets/rewards-link-D424XFmq.js","assets/moon-BMRrvHpD.js","assets/sun-aNgkPMBM.js","assets/gift-DnWRiloW.js","assets/link-CYqlvfsQ.js","assets/rewards-badge-background-dark-Unyyy771.js","assets/rewards-badge-background-iC9qSM2b.js","assets/rewards-badge-container-dark-B9vLlQ8e.js","assets/rewards-badge-container-C7CHxsIL.js","assets/rewards-badge-dark-CNpjuoQj.js","assets/rewards-badge-BMQF83ap.js","assets/plus-B-L31ilf.js","assets/base-modal-BlSimmY_.js","assets/picture-in-picture-C-t77SD0.js","assets/composer-large-screen-DHhKiXMG.js","assets/types-S47nI6MK.js","assets/coachmark-DycBbPmw.js","assets/composer-system-alert-PF6c4N2x.js","assets/index-REtLvepy.js","assets/hoist-non-react-statics.cjs-CvcHW_V8.js","assets/discover-CmjIRn4t.js","assets/use-discover-feed-dfG6Iuae.js","assets/podcast-schemas-lVRgVTgo.js","assets/block-BB745pzv.js","assets/podcast-CP7viGpK.js","assets/external-link-Cy0R0Dv8.js","assets/document-one-page-sparkle-C2xzh8Ol.js","assets/food-apple-Byis9UzH.js","assets/lightbulb-CzGVGg9-.js","assets/location-ripple-DuLOyZZO.js","assets/scales-Gk2KQ0qo.js","assets/tag-BuXVTSzM.js","assets/play-outline-MFLeKfkR.js","assets/weather-states-categories-CmeEET4X.js","assets/headphones-JX9iNIdA.js","assets/use-podcasts-navigation-8unIbebJ.js","assets/actions-chat-detail-C5QLNSuX.js","assets/expand-pane-DA1VY-j9.js","assets/save-action-CoreB38W.js","assets/new-tab-CMIi35gF.js","assets/pause-outline-C7_-Gxfu.js","assets/contextual-shopping-card-8nLFddEn.js","assets/product-rating-DD0qA42D.js","assets/shopping-utils-DsPRayiB.js","assets/buy-button-CH2gxCBS.js","assets/product-price-badge-C45IIeG6.js","assets/citation-chips-row-CuX3_h7M.js","assets/bell-alert-MBSbCmYW.js","assets/bell-D6aahJt6.js","assets/star-DGujmGWM.js","assets/action-alert-CteS1cmv.js","assets/ai-message-Ezfi436W.js","assets/ai-message-item-ZkD2tuBQ.js","assets/vertical-divider-EsmrjYFS.js","assets/use-ads-card-operations-CuFBIrPE.js","assets/use-page-KmGToH4I.js","assets/wham.lazy-B-L5A0cY.js","assets/page-CJa2e_8Y.js","assets/login.lazy-Tl19C3QK.js","assets/gaming.lazy-TuX86IZE.js","assets/fang.lazy-C5LwrwZM.js","assets/daily.lazy-G8ZwFR7E.js","assets/daily-briefing-DQWAaxMh.js","assets/formatDistanceToNow-BhNgtAWJ.js","assets/constructNow-WLjWa6Lu.js","assets/parseISO-xp3HVfku.js","assets/use-is-portrait-8vZ_shOG.js","assets/wand-CErowXMV.js","assets/index.lazy-HDwiEzT0.js","assets/arrow-referral-CJZ41WDp.js","assets/copliot-referral-DrgEmWbu.js","assets/four-leaf-clover-DNTk94zV.js","assets/hexagon-DdK84kWi.js","assets/message-referral-9hZLrB9E.js","assets/rewards-DYmPX-rs.js","assets/index.lazy-lyLVffdn.js","assets/labs-telemetry-CNqaxxzG.js","assets/index-fNuM0-hj.js","assets/labs-social-icon-discord-BF47kvWQ.js","assets/labs-social-icon-instagram-BQw1LNLY.js","assets/labs-social-icon-x-BaQYIiFx.js","assets/labs-social-icon-youtube-CMaE_-n3.js","assets/labs-logo-DUqpPhti.js","assets/subscription.manage.lazy-CnXNDTH7.js","assets/rules.lazy-DrYEVpkh.js","assets/link-multiple-Drbc0JhL.js","assets/pro.subscribe.lazy-BWD3QDpj.js","assets/payment-methods-management-Ban5nmS2.js","assets/v4-CtRu48qb.js","assets/index-BijYd5V1.js","assets/checkout-wrapper-DmRMEZwY.js","assets/paywall-container-C_QEJWvn.js","assets/add-address-Bpc6ZxxL.js","assets/address-BM0uhB7_.js","assets/pidl-element-factory-CHoZevfJ.js","assets/workflow-pi-dropdown-disabler-QRXZliOw.js","assets/react-number-format.es-CU4G3y0z.js","assets/wallet-dropdown-Bory4SzW.js","assets/wallet-list-DjH2ZAC8.js","assets/info-DCdjFLIH.js","assets/current-0eRMbap7.js","assets/pidl-element-factory-DikK38DI.css","assets/add-address-view-CsK20p2s.js","assets/form-field-skeleton-B2Y8J7Tq.js","assets/add-payment-instrument-X8MEwid-.js","assets/add-payment-instrument-view-DSa74g9d.js","assets/add-ewallet-skeleton-BBasHuLk.js","assets/select-payment-instrument-D3rQQf-g.js","assets/start-line-7ogt41Js.js","assets/credit-card-CUqGtoVN.js","assets/pro.subscribe-DU9qjcuZ.css","assets/pages._pageId.lazy-D_-zG5CT.js","assets/use-focus-restore-Bq5-lI0H.js","assets/text-bold-XpXFIawO.js","assets/text-bullet-list-DaNacxti.js","assets/text-code-B-l3UK2W.js","assets/text-italic-B3f6zji0.js","assets/text-numbered-list-CJlwPx2x.js","assets/text-paragraph-9pkC5SFX.js","assets/pages-welcome-dark-r64A2mUI.js","assets/pages-welcome-light-DDUDcHxX.js","assets/arrow-enter-up-Cdz4nhBX.js","assets/use-focus-restore-3_vsUgT7.css","assets/copy-add-bj8LYFde.js","assets/memory.narrative.lazy-LbfBCr0u.js","assets/sharing.podcasts._shareId.lazy-CXfo8xLk.js","assets/shares.pages._shareId.lazy-CkstVWMD.js","assets/eye-Bu4W-g1v.js","assets/pro.ewallet.return.lazy-i_moGF_q.js","assets/podcasts._podcastType._podcastId.lazy-DmYn7uNA.js","assets/experiments._experimentAlias.lazy-NQw3Amcv.js","assets/chats_._conversationId.talk.lazy-O604Hy-N.js","assets/timer-AT_Yuglv.js","assets/voicemail-dark-BtARQIb1.js","assets/voicemail-light-DeMSWjpH.js","assets/my-creations.lazy-u05By-uy.js","assets/biometric-consent-C4fNsboE.js","assets/my-creations-DV8PrLMj.css"])))=>i.map(i=>d[i]);
var Are=Object.defineProperty;var KF=t=>{throw TypeError(t)};var kre=(t,e,n)=>e in t?Are(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Se=(t,e,n)=>kre(t,typeof e!="symbol"?e+"":e,n),NA=(t,e,n)=>e.has(t)||KF("Cannot "+n);var J=(t,e,n)=>(NA(t,e,"read from private field"),n?n.call(t):e.get(t)),Rt=(t,e,n)=>e.has(t)?KF("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ht=(t,e,n,r)=>(NA(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Je=(t,e,n)=>(NA(t,e,"access private method"),n);var ow=(t,e,n,r)=>({set _(i){ht(t,e,i,n)},get _(){return J(t,e,r)}});function ZH(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var xb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function M$e(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var MA={exports:{}},Ny={},LA={exports:{}},rn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GF;function Rre(){if(GF)return rn;GF=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),l=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;function m(H){return H===null||typeof H!="object"?null:(H=p&&H[p]||H["@@iterator"],typeof H=="function"?H:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,_={};function S(H,q,le){this.props=H,this.context=q,this.refs=_,this.updater=le||g}S.prototype.isReactComponent={},S.prototype.setState=function(H,q){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,q,"setState")},S.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function w(){}w.prototype=S.prototype;function T(H,q,le){this.props=H,this.context=q,this.refs=_,this.updater=le||g}var I=T.prototype=new w;I.constructor=T,C(I,S.prototype),I.isPureReactComponent=!0;var A=Array.isArray,k=Object.prototype.hasOwnProperty,R={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function P(H,q,le){var Ce,_e={},be=null,Pe=null;if(q!=null)for(Ce in q.ref!==void 0&&(Pe=q.ref),q.key!==void 0&&(be=""+q.key),q)k.call(q,Ce)&&!M.hasOwnProperty(Ce)&&(_e[Ce]=q[Ce]);var Oe=arguments.length-2;if(Oe===1)_e.children=le;else if(1<Oe){for(var Q=Array(Oe),ee=0;ee<Oe;ee++)Q[ee]=arguments[ee+2];_e.children=Q}if(H&&H.defaultProps)for(Ce in Oe=H.defaultProps,Oe)_e[Ce]===void 0&&(_e[Ce]=Oe[Ce]);return{$$typeof:t,type:H,key:be,ref:Pe,props:_e,_owner:R.current}}function N(H,q){return{$$typeof:t,type:H.type,key:q,ref:H.ref,props:H.props,_owner:H._owner}}function D(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function G(H){var q={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(le){return q[le]})}var U=/\/+/g;function W(H,q){return typeof H=="object"&&H!==null&&H.key!=null?G(""+H.key):q.toString(36)}function $(H,q,le,Ce,_e){var be=typeof H;(be==="undefined"||be==="boolean")&&(H=null);var Pe=!1;if(H===null)Pe=!0;else switch(be){case"string":case"number":Pe=!0;break;case"object":switch(H.$$typeof){case t:case e:Pe=!0}}if(Pe)return Pe=H,_e=_e(Pe),H=Ce===""?"."+W(Pe,0):Ce,A(_e)?(le="",H!=null&&(le=H.replace(U,"$&/")+"/"),$(_e,q,le,"",function(ee){return ee})):_e!=null&&(D(_e)&&(_e=N(_e,le+(!_e.key||Pe&&Pe.key===_e.key?"":(""+_e.key).replace(U,"$&/")+"/")+H)),q.push(_e)),1;if(Pe=0,Ce=Ce===""?".":Ce+":",A(H))for(var Oe=0;Oe<H.length;Oe++){be=H[Oe];var Q=Ce+W(be,Oe);Pe+=$(be,q,le,Q,_e)}else if(Q=m(H),typeof Q=="function")for(H=Q.call(H),Oe=0;!(be=H.next()).done;)be=be.value,Q=Ce+W(be,Oe++),Pe+=$(be,q,le,Q,_e);else if(be==="object")throw q=String(H),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Pe}function L(H,q,le){if(H==null)return H;var Ce=[],_e=0;return $(H,Ce,"","",function(be){return q.call(le,be,_e++)}),Ce}function B(H){if(H._status===-1){var q=H._result;q=q(),q.then(function(le){(H._status===0||H._status===-1)&&(H._status=1,H._result=le)},function(le){(H._status===0||H._status===-1)&&(H._status=2,H._result=le)}),H._status===-1&&(H._status=0,H._result=q)}if(H._status===1)return H._result.default;throw H._result}var j={current:null},V={transition:null},K={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:V,ReactCurrentOwner:R};function z(){throw Error("act(...) is not supported in production builds of React.")}return rn.Children={map:L,forEach:function(H,q,le){L(H,function(){q.apply(this,arguments)},le)},count:function(H){var q=0;return L(H,function(){q++}),q},toArray:function(H){return L(H,function(q){return q})||[]},only:function(H){if(!D(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},rn.Component=S,rn.Fragment=n,rn.Profiler=i,rn.PureComponent=T,rn.StrictMode=r,rn.Suspense=c,rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,rn.act=z,rn.cloneElement=function(H,q,le){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var Ce=C({},H.props),_e=H.key,be=H.ref,Pe=H._owner;if(q!=null){if(q.ref!==void 0&&(be=q.ref,Pe=R.current),q.key!==void 0&&(_e=""+q.key),H.type&&H.type.defaultProps)var Oe=H.type.defaultProps;for(Q in q)k.call(q,Q)&&!M.hasOwnProperty(Q)&&(Ce[Q]=q[Q]===void 0&&Oe!==void 0?Oe[Q]:q[Q])}var Q=arguments.length-2;if(Q===1)Ce.children=le;else if(1<Q){Oe=Array(Q);for(var ee=0;ee<Q;ee++)Oe[ee]=arguments[ee+2];Ce.children=Oe}return{$$typeof:t,type:H.type,key:_e,ref:be,props:Ce,_owner:Pe}},rn.createContext=function(H){return H={$$typeof:s,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:o,_context:H},H.Consumer=H},rn.createElement=P,rn.createFactory=function(H){var q=P.bind(null,H);return q.type=H,q},rn.createRef=function(){return{current:null}},rn.forwardRef=function(H){return{$$typeof:a,render:H}},rn.isValidElement=D,rn.lazy=function(H){return{$$typeof:d,_payload:{_status:-1,_result:H},_init:B}},rn.memo=function(H,q){return{$$typeof:l,type:H,compare:q===void 0?null:q}},rn.startTransition=function(H){var q=V.transition;V.transition={};try{H()}finally{V.transition=q}},rn.unstable_act=z,rn.useCallback=function(H,q){return j.current.useCallback(H,q)},rn.useContext=function(H){return j.current.useContext(H)},rn.useDebugValue=function(){},rn.useDeferredValue=function(H){return j.current.useDeferredValue(H)},rn.useEffect=function(H,q){return j.current.useEffect(H,q)},rn.useId=function(){return j.current.useId()},rn.useImperativeHandle=function(H,q,le){return j.current.useImperativeHandle(H,q,le)},rn.useInsertionEffect=function(H,q){return j.current.useInsertionEffect(H,q)},rn.useLayoutEffect=function(H,q){return j.current.useLayoutEffect(H,q)},rn.useMemo=function(H,q){return j.current.useMemo(H,q)},rn.useReducer=function(H,q,le){return j.current.useReducer(H,q,le)},rn.useRef=function(H){return j.current.useRef(H)},rn.useState=function(H){return j.current.useState(H)},rn.useSyncExternalStore=function(H,q,le){return j.current.useSyncExternalStore(H,q,le)},rn.useTransition=function(){return j.current.useTransition()},rn.version="18.3.1",rn}var qF;function dC(){return qF||(qF=1,LA.exports=Rre()),LA.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YF;function Pre(){if(YF)return Ny;YF=1;var t=dC(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(a,c,l){var d,p={},m=null,g=null;l!==void 0&&(m=""+l),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(g=c.ref);for(d in c)r.call(c,d)&&!o.hasOwnProperty(d)&&(p[d]=c[d]);if(a&&a.defaultProps)for(d in c=a.defaultProps,c)p[d]===void 0&&(p[d]=c[d]);return{$$typeof:e,type:a,key:m,ref:g,props:p,_owner:i.current}}return Ny.Fragment=n,Ny.jsx=s,Ny.jsxs=s,Ny}var QF;function Ore(){return QF||(QF=1,MA.exports=Pre()),MA.exports}var y=Ore(),b=dC();const Dl=uC(b),JH=ZH({__proto__:null,default:Dl},[b]);var sw={},DA={exports:{}},bo={},jA={exports:{}},FA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XF;function Nre(){return XF||(XF=1,function(t){function e(V,K){var z=V.length;V.push(K);e:for(;0<z;){var H=z-1>>>1,q=V[H];if(0<i(q,K))V[H]=K,V[z]=q,z=H;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var K=V[0],z=V.pop();if(z!==K){V[0]=z;e:for(var H=0,q=V.length,le=q>>>1;H<le;){var Ce=2*(H+1)-1,_e=V[Ce],be=Ce+1,Pe=V[be];if(0>i(_e,z))be<q&&0>i(Pe,_e)?(V[H]=Pe,V[be]=z,H=be):(V[H]=_e,V[Ce]=z,H=Ce);else if(be<q&&0>i(Pe,z))V[H]=Pe,V[be]=z,H=be;else break e}}return K}function i(V,K){var z=V.sortIndex-K.sortIndex;return z!==0?z:V.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var c=[],l=[],d=1,p=null,m=3,g=!1,C=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(V){for(var K=n(l);K!==null;){if(K.callback===null)r(l);else if(K.startTime<=V)r(l),K.sortIndex=K.expirationTime,e(c,K);else break;K=n(l)}}function A(V){if(_=!1,I(V),!C)if(n(c)!==null)C=!0,B(k);else{var K=n(l);K!==null&&j(A,K.startTime-V)}}function k(V,K){C=!1,_&&(_=!1,w(P),P=-1),g=!0;var z=m;try{for(I(K),p=n(c);p!==null&&(!(p.expirationTime>K)||V&&!G());){var H=p.callback;if(typeof H=="function"){p.callback=null,m=p.priorityLevel;var q=H(p.expirationTime<=K);K=t.unstable_now(),typeof q=="function"?p.callback=q:p===n(c)&&r(c),I(K)}else r(c);p=n(c)}if(p!==null)var le=!0;else{var Ce=n(l);Ce!==null&&j(A,Ce.startTime-K),le=!1}return le}finally{p=null,m=z,g=!1}}var R=!1,M=null,P=-1,N=5,D=-1;function G(){return!(t.unstable_now()-D<N)}function U(){if(M!==null){var V=t.unstable_now();D=V;var K=!0;try{K=M(!0,V)}finally{K?W():(R=!1,M=null)}}else R=!1}var W;if(typeof T=="function")W=function(){T(U)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,L=$.port2;$.port1.onmessage=U,W=function(){L.postMessage(null)}}else W=function(){S(U,0)};function B(V){M=V,R||(R=!0,W())}function j(V,K){P=S(function(){V(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){C||g||(C=!0,B(k))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(m){case 1:case 2:case 3:var K=3;break;default:K=m}var z=m;m=K;try{return V()}finally{m=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,K){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var z=m;m=V;try{return K()}finally{m=z}},t.unstable_scheduleCallback=function(V,K,z){var H=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?H+z:H):z=H,V){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=z+q,V={id:d++,callback:K,priorityLevel:V,startTime:z,expirationTime:q,sortIndex:-1},z>H?(V.sortIndex=z,e(l,V),n(c)===null&&V===n(l)&&(_?(w(P),P=-1):_=!0,j(A,z-H))):(V.sortIndex=q,e(c,V),C||g||(C=!0,B(k))),V},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(V){var K=m;return function(){var z=m;m=K;try{return V.apply(this,arguments)}finally{m=z}}}}(FA)),FA}var ZF;function Mre(){return ZF||(ZF=1,jA.exports=Nre()),jA.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JF;function Lre(){if(JF)return bo;JF=1;var t=dC(),e=Mre();function n(u){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+u,v=1;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(u,f){s(u,f),s(u+"Capture",f)}function s(u,f){for(i[u]=f,u=0;u<f.length;u++)r.add(f[u])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,l=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function m(u){return c.call(p,u)?!0:c.call(d,u)?!1:l.test(u)?p[u]=!0:(d[u]=!0,!1)}function g(u,f,v,E){if(v!==null&&v.type===0)return!1;switch(typeof f){case"function":case"symbol":return!0;case"boolean":return E?!1:v!==null?!v.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function C(u,f,v,E){if(f===null||typeof f>"u"||g(u,f,v,E))return!0;if(E)return!1;if(v!==null)switch(v.type){case 3:return!f;case 4:return f===!1;case 5:return isNaN(f);case 6:return isNaN(f)||1>f}return!1}function _(u,f,v,E,x,O,F){this.acceptsBooleans=f===2||f===3||f===4,this.attributeName=E,this.attributeNamespace=x,this.mustUseProperty=v,this.propertyName=u,this.type=f,this.sanitizeURL=O,this.removeEmptyString=F}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){S[u]=new _(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var f=u[0];S[f]=new _(f,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){S[u]=new _(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){S[u]=new _(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){S[u]=new _(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){S[u]=new _(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){S[u]=new _(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){S[u]=new _(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){S[u]=new _(u,5,!1,u.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function T(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var f=u.replace(w,T);S[f]=new _(f,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var f=u.replace(w,T);S[f]=new _(f,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var f=u.replace(w,T);S[f]=new _(f,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){S[u]=new _(u,1,!1,u.toLowerCase(),null,!1,!1)}),S.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){S[u]=new _(u,1,!1,u.toLowerCase(),null,!0,!0)});function I(u,f,v,E){var x=S.hasOwnProperty(f)?S[f]:null;(x!==null?x.type!==0:E||!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(C(f,v,x,E)&&(v=null),E||x===null?m(f)&&(v===null?u.removeAttribute(f):u.setAttribute(f,""+v)):x.mustUseProperty?u[x.propertyName]=v===null?x.type===3?!1:"":v:(f=x.attributeName,E=x.attributeNamespace,v===null?u.removeAttribute(f):(x=x.type,v=x===3||x===4&&v===!0?"":""+v,E?u.setAttributeNS(E,f,v):u.setAttribute(f,v))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),R=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),G=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),V=Symbol.iterator;function K(u){return u===null||typeof u!="object"?null:(u=V&&u[V]||u["@@iterator"],typeof u=="function"?u:null)}var z=Object.assign,H;function q(u){if(H===void 0)try{throw Error()}catch(v){var f=v.stack.trim().match(/\n( *(at )?)/);H=f&&f[1]||""}return`
`+H+u}var le=!1;function Ce(u,f){if(!u||le)return"";le=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(we){var E=we}Reflect.construct(u,[],f)}else{try{f.call()}catch(we){E=we}u.call(f.prototype)}else{try{throw Error()}catch(we){E=we}u()}}catch(we){if(we&&E&&typeof we.stack=="string"){for(var x=we.stack.split(`
`),O=E.stack.split(`
`),F=x.length-1,X=O.length-1;1<=F&&0<=X&&x[F]!==O[X];)X--;for(;1<=F&&0<=X;F--,X--)if(x[F]!==O[X]){if(F!==1||X!==1)do if(F--,X--,0>X||x[F]!==O[X]){var ie=`
`+x[F].replace(" at new "," at ");return u.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",u.displayName)),ie}while(1<=F&&0<=X);break}}}finally{le=!1,Error.prepareStackTrace=v}return(u=u?u.displayName||u.name:"")?q(u):""}function _e(u){switch(u.tag){case 5:return q(u.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return u=Ce(u.type,!1),u;case 11:return u=Ce(u.type.render,!1),u;case 1:return u=Ce(u.type,!0),u;default:return""}}function be(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case M:return"Fragment";case R:return"Portal";case N:return"Profiler";case P:return"StrictMode";case W:return"Suspense";case $:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case G:return(u.displayName||"Context")+".Consumer";case D:return(u._context.displayName||"Context")+".Provider";case U:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case L:return f=u.displayName||null,f!==null?f:be(u.type)||"Memo";case B:f=u._payload,u=u._init;try{return be(u(f))}catch{}}return null}function Pe(u){var f=u.type;switch(u.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=f.render,u=u.displayName||u.name||"",f.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(f);case 8:return f===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function Oe(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function Q(u){var f=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function ee(u){var f=Q(u)?"checked":"value",v=Object.getOwnPropertyDescriptor(u.constructor.prototype,f),E=""+u[f];if(!u.hasOwnProperty(f)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var x=v.get,O=v.set;return Object.defineProperty(u,f,{configurable:!0,get:function(){return x.call(this)},set:function(F){E=""+F,O.call(this,F)}}),Object.defineProperty(u,f,{enumerable:v.enumerable}),{getValue:function(){return E},setValue:function(F){E=""+F},stopTracking:function(){u._valueTracker=null,delete u[f]}}}}function Ie(u){u._valueTracker||(u._valueTracker=ee(u))}function re(u){if(!u)return!1;var f=u._valueTracker;if(!f)return!0;var v=f.getValue(),E="";return u&&(E=Q(u)?u.checked?"true":"false":u.value),u=E,u!==v?(f.setValue(u),!0):!1}function ue(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function xe(u,f){var v=f.checked;return z({},f,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??u._wrapperState.initialChecked})}function Y(u,f){var v=f.defaultValue==null?"":f.defaultValue,E=f.checked!=null?f.checked:f.defaultChecked;v=Oe(f.value!=null?f.value:v),u._wrapperState={initialChecked:E,initialValue:v,controlled:f.type==="checkbox"||f.type==="radio"?f.checked!=null:f.value!=null}}function ge(u,f){f=f.checked,f!=null&&I(u,"checked",f,!1)}function Ee(u,f){ge(u,f);var v=Oe(f.value),E=f.type;if(v!=null)E==="number"?(v===0&&u.value===""||u.value!=v)&&(u.value=""+v):u.value!==""+v&&(u.value=""+v);else if(E==="submit"||E==="reset"){u.removeAttribute("value");return}f.hasOwnProperty("value")?pe(u,f.type,v):f.hasOwnProperty("defaultValue")&&pe(u,f.type,Oe(f.defaultValue)),f.checked==null&&f.defaultChecked!=null&&(u.defaultChecked=!!f.defaultChecked)}function ye(u,f,v){if(f.hasOwnProperty("value")||f.hasOwnProperty("defaultValue")){var E=f.type;if(!(E!=="submit"&&E!=="reset"||f.value!==void 0&&f.value!==null))return;f=""+u._wrapperState.initialValue,v||f===u.value||(u.value=f),u.defaultValue=f}v=u.name,v!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,v!==""&&(u.name=v)}function pe(u,f,v){(f!=="number"||ue(u.ownerDocument)!==u)&&(v==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+v&&(u.defaultValue=""+v))}var Le=Array.isArray;function De(u,f,v,E){if(u=u.options,f){f={};for(var x=0;x<v.length;x++)f["$"+v[x]]=!0;for(v=0;v<u.length;v++)x=f.hasOwnProperty("$"+u[v].value),u[v].selected!==x&&(u[v].selected=x),x&&E&&(u[v].defaultSelected=!0)}else{for(v=""+Oe(v),f=null,x=0;x<u.length;x++){if(u[x].value===v){u[x].selected=!0,E&&(u[x].defaultSelected=!0);return}f!==null||u[x].disabled||(f=u[x])}f!==null&&(f.selected=!0)}}function Xe(u,f){if(f.dangerouslySetInnerHTML!=null)throw Error(n(91));return z({},f,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function mt(u,f){var v=f.value;if(v==null){if(v=f.children,f=f.defaultValue,v!=null){if(f!=null)throw Error(n(92));if(Le(v)){if(1<v.length)throw Error(n(93));v=v[0]}f=v}f==null&&(f=""),v=f}u._wrapperState={initialValue:Oe(v)}}function qe(u,f){var v=Oe(f.value),E=Oe(f.defaultValue);v!=null&&(v=""+v,v!==u.value&&(u.value=v),f.defaultValue==null&&u.defaultValue!==v&&(u.defaultValue=v)),E!=null&&(u.defaultValue=""+E)}function dt(u){var f=u.textContent;f===u._wrapperState.initialValue&&f!==""&&f!==null&&(u.value=f)}function $t(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nn(u,f){return u==null||u==="http://www.w3.org/1999/xhtml"?$t(f):u==="http://www.w3.org/2000/svg"&&f==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var Wt,Ye=function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(f,v,E,x){MSApp.execUnsafeLocalFunction(function(){return u(f,v,E,x)})}:u}(function(u,f){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=f;else{for(Wt=Wt||document.createElement("div"),Wt.innerHTML="<svg>"+f.valueOf().toString()+"</svg>",f=Wt.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;f.firstChild;)u.appendChild(f.firstChild)}});function et(u,f){if(f){var v=u.firstChild;if(v&&v===u.lastChild&&v.nodeType===3){v.nodeValue=f;return}}u.textContent=f}var te={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Re=["Webkit","ms","Moz","O"];Object.keys(te).forEach(function(u){Re.forEach(function(f){f=f+u.charAt(0).toUpperCase()+u.substring(1),te[f]=te[u]})});function Me(u,f,v){return f==null||typeof f=="boolean"||f===""?"":v||typeof f!="number"||f===0||te.hasOwnProperty(u)&&te[u]?(""+f).trim():f+"px"}function Fe(u,f){u=u.style;for(var v in f)if(f.hasOwnProperty(v)){var E=v.indexOf("--")===0,x=Me(v,f[v],E);v==="float"&&(v="cssFloat"),E?u.setProperty(v,x):u[v]=x}}var ut=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _t(u,f){if(f){if(ut[u]&&(f.children!=null||f.dangerouslySetInnerHTML!=null))throw Error(n(137,u));if(f.dangerouslySetInnerHTML!=null){if(f.children!=null)throw Error(n(60));if(typeof f.dangerouslySetInnerHTML!="object"||!("__html"in f.dangerouslySetInnerHTML))throw Error(n(61))}if(f.style!=null&&typeof f.style!="object")throw Error(n(62))}}function it(u,f){if(u.indexOf("-")===-1)return typeof f.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ne=null;function Te(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Ne=null,rt=null,tt=null;function Et(u){if(u=yy(u)){if(typeof Ne!="function")throw Error(n(280));var f=u.stateNode;f&&(f=C_(f),Ne(u.stateNode,u.type,f))}}function Dt(u){rt?tt?tt.push(u):tt=[u]:rt=u}function Mt(){if(rt){var u=rt,f=tt;if(tt=rt=null,Et(u),f)for(u=0;u<f.length;u++)Et(f[u])}}function Jt(u,f){return u(f)}function ur(){}var Sn=!1;function Ln(u,f,v){if(Sn)return u(f,v);Sn=!0;try{return Jt(u,f,v)}finally{Sn=!1,(rt!==null||tt!==null)&&(ur(),Mt())}}function dr(u,f){var v=u.stateNode;if(v===null)return null;var E=C_(v);if(E===null)return null;v=E[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(u=u.type,E=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!E;break e;default:u=!1}if(u)return null;if(v&&typeof v!="function")throw Error(n(231,f,typeof v));return v}var wr=!1;if(a)try{var ps={};Object.defineProperty(ps,"passive",{get:function(){wr=!0}}),window.addEventListener("test",ps,ps),window.removeEventListener("test",ps,ps)}catch{wr=!1}function Ui(u,f,v,E,x,O,F,X,ie){var we=Array.prototype.slice.call(arguments,3);try{f.apply(v,we)}catch(He){this.onError(He)}}var lo=!1,Oo=null,No=!1,Mc=null,Ld={onError:function(u){lo=!0,Oo=u}};function Mo(u,f,v,E,x,O,F,X,ie){lo=!1,Oo=null,Ui.apply(Ld,arguments)}function Pa(u,f,v,E,x,O,F,X,ie){if(Mo.apply(this,arguments),lo){if(lo){var we=Oo;lo=!1,Oo=null}else throw Error(n(198));No||(No=!0,Mc=we)}}function uo(u){var f=u,v=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,(f.flags&4098)!==0&&(v=f.return),u=f.return;while(u)}return f.tag===3?v:null}function Dd(u){if(u.tag===13){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function ms(u){if(uo(u)!==u)throw Error(n(188))}function Yv(u){var f=u.alternate;if(!f){if(f=uo(u),f===null)throw Error(n(188));return f!==u?null:u}for(var v=u,E=f;;){var x=v.return;if(x===null)break;var O=x.alternate;if(O===null){if(E=x.return,E!==null){v=E;continue}break}if(x.child===O.child){for(O=x.child;O;){if(O===v)return ms(x),u;if(O===E)return ms(x),f;O=O.sibling}throw Error(n(188))}if(v.return!==E.return)v=x,E=O;else{for(var F=!1,X=x.child;X;){if(X===v){F=!0,v=x,E=O;break}if(X===E){F=!0,E=x,v=O;break}X=X.sibling}if(!F){for(X=O.child;X;){if(X===v){F=!0,v=O,E=x;break}if(X===E){F=!0,E=O,v=x;break}X=X.sibling}if(!F)throw Error(n(189))}}if(v.alternate!==E)throw Error(n(190))}if(v.tag!==3)throw Error(n(188));return v.stateNode.current===v?u:f}function Tt(u){return u=Yv(u),u!==null?ae(u):null}function ae(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var f=ae(u);if(f!==null)return f;u=u.sibling}return null}var Ve=e.unstable_scheduleCallback,bt=e.unstable_cancelCallback,Pn=e.unstable_shouldYield,Mr=e.unstable_requestPaint,Xt=e.unstable_now,Ur=e.unstable_getCurrentPriorityLevel,wi=e.unstable_ImmediatePriority,Js=e.unstable_UserBlockingPriority,fr=e.unstable_NormalPriority,Hl=e.unstable_LowPriority,jd=e.unstable_IdlePriority,mp=null,gs=null;function Jx(u){if(gs&&typeof gs.onCommitFiberRoot=="function")try{gs.onCommitFiberRoot(mp,u,void 0,(u.current.flags&128)===128)}catch{}}var Lo=Math.clz32?Math.clz32:zl,XC=Math.log,Fd=Math.LN2;function zl(u){return u>>>=0,u===0?32:31-(XC(u)/Fd|0)|0}var Oa=64,Ud=4194304;function Bd(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function gp(u,f){var v=u.pendingLanes;if(v===0)return 0;var E=0,x=u.suspendedLanes,O=u.pingedLanes,F=v&268435455;if(F!==0){var X=F&~x;X!==0?E=Bd(X):(O&=F,O!==0&&(E=Bd(O)))}else F=v&~x,F!==0?E=Bd(F):O!==0&&(E=Bd(O));if(E===0)return 0;if(f!==0&&f!==E&&(f&x)===0&&(x=E&-E,O=f&-f,x>=O||x===16&&(O&4194240)!==0))return f;if((E&4)!==0&&(E|=v&16),f=u.entangledLanes,f!==0)for(u=u.entanglements,f&=E;0<f;)v=31-Lo(f),x=1<<v,E|=u[v],f&=~x;return E}function e1(u,f){switch(u){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vd(u,f){for(var v=u.suspendedLanes,E=u.pingedLanes,x=u.expirationTimes,O=u.pendingLanes;0<O;){var F=31-Lo(O),X=1<<F,ie=x[F];ie===-1?((X&v)===0||(X&E)!==0)&&(x[F]=e1(X,f)):ie<=f&&(u.expiredLanes|=X),O&=~X}}function Qv(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function ZC(){var u=Oa;return Oa<<=1,(Oa&4194240)===0&&(Oa=64),u}function Xv(u){for(var f=[],v=0;31>v;v++)f.push(u);return f}function $l(u,f,v){u.pendingLanes|=f,f!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,f=31-Lo(f),u[f]=v}function Zv(u,f){var v=u.pendingLanes&~f;u.pendingLanes=f,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=f,u.mutableReadLanes&=f,u.entangledLanes&=f,f=u.entanglements;var E=u.eventTimes;for(u=u.expirationTimes;0<v;){var x=31-Lo(v),O=1<<x;f[x]=0,E[x]=-1,u[x]=-1,v&=~O}}function vp(u,f){var v=u.entangledLanes|=f;for(u=u.entanglements;v;){var E=31-Lo(v),x=1<<E;x&f|u[E]&f&&(u[E]|=f),v&=~x}}var mn=0;function Jv(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var Lc,Dc,Wl,Hd,ey,Kl=!1,Na=[],ea=null,ta=null,Do=null,jc=new Map,Gl=new Map,fo=[],Ma="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yp(u,f){switch(u){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":Do=null;break;case"pointerover":case"pointerout":jc.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(f.pointerId)}}function ql(u,f,v,E,x,O){return u===null||u.nativeEvent!==O?(u={blockedOn:f,domEventName:v,eventSystemFlags:E,nativeEvent:O,targetContainers:[x]},f!==null&&(f=yy(f),f!==null&&Dc(f)),u):(u.eventSystemFlags|=E,f=u.targetContainers,x!==null&&f.indexOf(x)===-1&&f.push(x),u)}function ty(u,f,v,E,x){switch(f){case"focusin":return ea=ql(ea,u,f,v,E,x),!0;case"dragenter":return ta=ql(ta,u,f,v,E,x),!0;case"mouseover":return Do=ql(Do,u,f,v,E,x),!0;case"pointerover":var O=x.pointerId;return jc.set(O,ql(jc.get(O)||null,u,f,v,E,x)),!0;case"gotpointercapture":return O=x.pointerId,Gl.set(O,ql(Gl.get(O)||null,u,f,v,E,x)),!0}return!1}function Yl(u){var f=tf(u.target);if(f!==null){var v=uo(f);if(v!==null){if(f=v.tag,f===13){if(f=Dd(v),f!==null){u.blockedOn=f,ey(u.priority,function(){Wl(v)});return}}else if(f===3&&v.stateNode.current.memoizedState.isDehydrated){u.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}u.blockedOn=null}function zd(u){if(u.blockedOn!==null)return!1;for(var f=u.targetContainers;0<f.length;){var v=wp(u.domEventName,u.eventSystemFlags,f[0],u.nativeEvent);if(v===null){v=u.nativeEvent;var E=new v.constructor(v.type,v);ne=E,v.target.dispatchEvent(E),ne=null}else return f=yy(v),f!==null&&Dc(f),u.blockedOn=v,!1;f.shift()}return!0}function bp(u,f,v){zd(u)&&v.delete(f)}function vs(){Kl=!1,ea!==null&&zd(ea)&&(ea=null),ta!==null&&zd(ta)&&(ta=null),Do!==null&&zd(Do)&&(Do=null),jc.forEach(bp),Gl.forEach(bp)}function $d(u,f){u.blockedOn===f&&(u.blockedOn=null,Kl||(Kl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,vs)))}function Wd(u){function f(x){return $d(x,u)}if(0<Na.length){$d(Na[0],u);for(var v=1;v<Na.length;v++){var E=Na[v];E.blockedOn===u&&(E.blockedOn=null)}}for(ea!==null&&$d(ea,u),ta!==null&&$d(ta,u),Do!==null&&$d(Do,u),jc.forEach(f),Gl.forEach(f),v=0;v<fo.length;v++)E=fo[v],E.blockedOn===u&&(E.blockedOn=null);for(;0<fo.length&&(v=fo[0],v.blockedOn===null);)Yl(v),v.blockedOn===null&&fo.shift()}var jo=A.ReactCurrentBatchConfig,Cp=!0;function JC(u,f,v,E){var x=mn,O=jo.transition;jo.transition=null;try{mn=1,_p(u,f,v,E)}finally{mn=x,jo.transition=O}}function La(u,f,v,E){var x=mn,O=jo.transition;jo.transition=null;try{mn=4,_p(u,f,v,E)}finally{mn=x,jo.transition=O}}function _p(u,f,v,E){if(Cp){var x=wp(u,f,v,E);if(x===null)S1(u,f,E,ys,v),yp(u,E);else if(ty(x,u,f,v,E))E.stopPropagation();else if(yp(u,E),f&4&&-1<Ma.indexOf(u)){for(;x!==null;){var O=yy(x);if(O!==null&&Lc(O),O=wp(u,f,v,E),O===null&&S1(u,f,E,ys,v),O===x)break;x=O}x!==null&&E.stopPropagation()}else S1(u,f,E,null,v)}}var ys=null;function wp(u,f,v,E){if(ys=null,u=Te(E),u=tf(u),u!==null)if(f=uo(u),f===null)u=null;else if(v=f.tag,v===13){if(u=Dd(f),u!==null)return u;u=null}else if(v===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;u=null}else f!==u&&(u=null);return ys=u,null}function ny(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ur()){case wi:return 1;case Js:return 4;case fr:case Hl:return 16;case jd:return 536870912;default:return 16}default:return 16}}var Da=null,Sp=null,Kd=null;function e_(){if(Kd)return Kd;var u,f=Sp,v=f.length,E,x="value"in Da?Da.value:Da.textContent,O=x.length;for(u=0;u<v&&f[u]===x[u];u++);var F=v-u;for(E=1;E<=F&&f[v-E]===x[O-E];E++);return Kd=x.slice(u,1<E?1-E:void 0)}function Ep(u){var f=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&f===13&&(u=13)):u=f,u===10&&(u=13),32<=u||u===13?u:0}function Gd(){return!0}function t_(){return!1}function Bi(u){function f(v,E,x,O,F){this._reactName=v,this._targetInst=x,this.type=E,this.nativeEvent=O,this.target=F,this.currentTarget=null;for(var X in u)u.hasOwnProperty(X)&&(v=u[X],this[X]=v?v(O):O[X]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?Gd:t_,this.isPropagationStopped=t_,this}return z(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=Gd)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=Gd)},persist:function(){},isPersistent:Gd}),f}var Ql={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qd=Bi(Ql),Yd=z({},Ql,{view:0,detail:0}),ry=Bi(Yd),Qd,Fc,Xd,Xl=z({},Yd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ay,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Xd&&(Xd&&u.type==="mousemove"?(Qd=u.screenX-Xd.screenX,Fc=u.screenY-Xd.screenY):Fc=Qd=0,Xd=u),Qd)},movementY:function(u){return"movementY"in u?u.movementY:Fc}}),n_=Bi(Xl),t1=z({},Xl,{dataTransfer:0}),n1=Bi(t1),r1=z({},Yd,{relatedTarget:0}),Zd=Bi(r1),i1=z({},Ql,{animationName:0,elapsedTime:0,pseudoElement:0}),o1=Bi(i1),r_=z({},Ql,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Fo=Bi(r_),iy=z({},Ql,{data:0}),oy=Bi(iy),s1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},i_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sy(u){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(u):(u=Tp[u])?!!f[u]:!1}function ay(){return sy}var Zl=z({},Yd,{key:function(u){if(u.key){var f=s1[u.key]||u.key;if(f!=="Unidentified")return f}return u.type==="keypress"?(u=Ep(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?i_[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ay,charCode:function(u){return u.type==="keypress"?Ep(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Ep(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),a1=Bi(Zl),c1=z({},Xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jl=Bi(c1),o_=z({},Yd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ay}),s_=Bi(o_),l1=z({},Ql,{propertyName:0,elapsedTime:0,pseudoElement:0}),u1=Bi(l1),ja=z({},Xl,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),a_=Bi(ja),d1=[9,13,27,32],cy=a&&"CompositionEvent"in window,eu=null;a&&"documentMode"in document&&(eu=document.documentMode);var f1=a&&"TextEvent"in window&&!eu,Ip=a&&(!cy||eu&&8<eu&&11>=eu),c_=" ",l_=!1;function tu(u,f){switch(u){case"keyup":return d1.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ly(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var nu=!1;function h1(u,f){switch(u){case"compositionend":return ly(f);case"keypress":return f.which!==32?null:(l_=!0,c_);case"textInput":return u=f.data,u===c_&&l_?null:u;default:return null}}function uy(u,f){if(nu)return u==="compositionend"||!cy&&tu(u,f)?(u=e_(),Kd=Sp=Da=null,nu=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return Ip&&f.locale!=="ko"?null:f.data;default:return null}}var p1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function u_(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f==="input"?!!p1[u.type]:f==="textarea"}function d_(u,f,v,E){Dt(E),f=v_(f,"onChange"),0<f.length&&(v=new qd("onChange","change",null,v,E),u.push({event:v,listeners:f}))}var Jd=null,ef=null;function m1(u){cj(u,0)}function ru(u){var f=Np(u);if(re(f))return u}function f_(u,f){if(u==="change")return f}var h_=!1;if(a){var dy;if(a){var xp="oninput"in document;if(!xp){var fy=document.createElement("div");fy.setAttribute("oninput","return;"),xp=typeof fy.oninput=="function"}dy=xp}else dy=!1;h_=dy&&(!document.documentMode||9<document.documentMode)}function ze(){Jd&&(Jd.detachEvent("onpropertychange",At),ef=Jd=null)}function At(u){if(u.propertyName==="value"&&ru(ef)){var f=[];d_(f,ef,u,Te(u)),Ln(m1,f)}}function Kn(u,f,v){u==="focusin"?(ze(),Jd=f,ef=v,Jd.attachEvent("onpropertychange",At)):u==="focusout"&&ze()}function yn(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return ru(ef)}function Br(u,f){if(u==="click")return ru(f)}function Fa(u,f){if(u==="input"||u==="change")return ru(f)}function Ap(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var ho=typeof Object.is=="function"?Object.is:Ap;function iu(u,f){if(ho(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var v=Object.keys(u),E=Object.keys(f);if(v.length!==E.length)return!1;for(E=0;E<v.length;E++){var x=v[E];if(!c.call(f,x)||!ho(u[x],f[x]))return!1}return!0}function Y3(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function Q3(u,f){var v=Y3(u);u=0;for(var E;v;){if(v.nodeType===3){if(E=u+v.textContent.length,u<=f&&E>=f)return{node:v,offset:f-u};u=E}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=Y3(v)}}function X3(u,f){return u&&f?u===f?!0:u&&u.nodeType===3?!1:f&&f.nodeType===3?X3(u,f.parentNode):"contains"in u?u.contains(f):u.compareDocumentPosition?!!(u.compareDocumentPosition(f)&16):!1:!1}function Z3(){for(var u=window,f=ue();f instanceof u.HTMLIFrameElement;){try{var v=typeof f.contentWindow.location.href=="string"}catch{v=!1}if(v)u=f.contentWindow;else break;f=ue(u.document)}return f}function g1(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f&&(f==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||f==="textarea"||u.contentEditable==="true")}function Lne(u){var f=Z3(),v=u.focusedElem,E=u.selectionRange;if(f!==v&&v&&v.ownerDocument&&X3(v.ownerDocument.documentElement,v)){if(E!==null&&g1(v)){if(f=E.start,u=E.end,u===void 0&&(u=f),"selectionStart"in v)v.selectionStart=f,v.selectionEnd=Math.min(u,v.value.length);else if(u=(f=v.ownerDocument||document)&&f.defaultView||window,u.getSelection){u=u.getSelection();var x=v.textContent.length,O=Math.min(E.start,x);E=E.end===void 0?O:Math.min(E.end,x),!u.extend&&O>E&&(x=E,E=O,O=x),x=Q3(v,O);var F=Q3(v,E);x&&F&&(u.rangeCount!==1||u.anchorNode!==x.node||u.anchorOffset!==x.offset||u.focusNode!==F.node||u.focusOffset!==F.offset)&&(f=f.createRange(),f.setStart(x.node,x.offset),u.removeAllRanges(),O>E?(u.addRange(f),u.extend(F.node,F.offset)):(f.setEnd(F.node,F.offset),u.addRange(f)))}}for(f=[],u=v;u=u.parentNode;)u.nodeType===1&&f.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<f.length;v++)u=f[v],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var Dne=a&&"documentMode"in document&&11>=document.documentMode,kp=null,v1=null,hy=null,y1=!1;function J3(u,f,v){var E=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;y1||kp==null||kp!==ue(E)||(E=kp,"selectionStart"in E&&g1(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),hy&&iu(hy,E)||(hy=E,E=v_(v1,"onSelect"),0<E.length&&(f=new qd("onSelect","select",null,f,v),u.push({event:f,listeners:E}),f.target=kp)))}function p_(u,f){var v={};return v[u.toLowerCase()]=f.toLowerCase(),v["Webkit"+u]="webkit"+f,v["Moz"+u]="moz"+f,v}var Rp={animationend:p_("Animation","AnimationEnd"),animationiteration:p_("Animation","AnimationIteration"),animationstart:p_("Animation","AnimationStart"),transitionend:p_("Transition","TransitionEnd")},b1={},ej={};a&&(ej=document.createElement("div").style,"AnimationEvent"in window||(delete Rp.animationend.animation,delete Rp.animationiteration.animation,delete Rp.animationstart.animation),"TransitionEvent"in window||delete Rp.transitionend.transition);function m_(u){if(b1[u])return b1[u];if(!Rp[u])return u;var f=Rp[u],v;for(v in f)if(f.hasOwnProperty(v)&&v in ej)return b1[u]=f[v];return u}var tj=m_("animationend"),nj=m_("animationiteration"),rj=m_("animationstart"),ij=m_("transitionend"),oj=new Map,sj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ou(u,f){oj.set(u,f),o(f,[u])}for(var C1=0;C1<sj.length;C1++){var _1=sj[C1],jne=_1.toLowerCase(),Fne=_1[0].toUpperCase()+_1.slice(1);ou(jne,"on"+Fne)}ou(tj,"onAnimationEnd"),ou(nj,"onAnimationIteration"),ou(rj,"onAnimationStart"),ou("dblclick","onDoubleClick"),ou("focusin","onFocus"),ou("focusout","onBlur"),ou(ij,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var py="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Une=new Set("cancel close invalid load scroll toggle".split(" ").concat(py));function aj(u,f,v){var E=u.type||"unknown-event";u.currentTarget=v,Pa(E,f,void 0,u),u.currentTarget=null}function cj(u,f){f=(f&4)!==0;for(var v=0;v<u.length;v++){var E=u[v],x=E.event;E=E.listeners;e:{var O=void 0;if(f)for(var F=E.length-1;0<=F;F--){var X=E[F],ie=X.instance,we=X.currentTarget;if(X=X.listener,ie!==O&&x.isPropagationStopped())break e;aj(x,X,we),O=ie}else for(F=0;F<E.length;F++){if(X=E[F],ie=X.instance,we=X.currentTarget,X=X.listener,ie!==O&&x.isPropagationStopped())break e;aj(x,X,we),O=ie}}}if(No)throw u=Mc,No=!1,Mc=null,u}function Gn(u,f){var v=f[k1];v===void 0&&(v=f[k1]=new Set);var E=u+"__bubble";v.has(E)||(lj(f,u,2,!1),v.add(E))}function w1(u,f,v){var E=0;f&&(E|=4),lj(v,u,E,f)}var g_="_reactListening"+Math.random().toString(36).slice(2);function my(u){if(!u[g_]){u[g_]=!0,r.forEach(function(v){v!=="selectionchange"&&(Une.has(v)||w1(v,!1,u),w1(v,!0,u))});var f=u.nodeType===9?u:u.ownerDocument;f===null||f[g_]||(f[g_]=!0,w1("selectionchange",!1,f))}}function lj(u,f,v,E){switch(ny(f)){case 1:var x=JC;break;case 4:x=La;break;default:x=_p}v=x.bind(null,f,v,u),x=void 0,!wr||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(x=!0),E?x!==void 0?u.addEventListener(f,v,{capture:!0,passive:x}):u.addEventListener(f,v,!0):x!==void 0?u.addEventListener(f,v,{passive:x}):u.addEventListener(f,v,!1)}function S1(u,f,v,E,x){var O=E;if((f&1)===0&&(f&2)===0&&E!==null)e:for(;;){if(E===null)return;var F=E.tag;if(F===3||F===4){var X=E.stateNode.containerInfo;if(X===x||X.nodeType===8&&X.parentNode===x)break;if(F===4)for(F=E.return;F!==null;){var ie=F.tag;if((ie===3||ie===4)&&(ie=F.stateNode.containerInfo,ie===x||ie.nodeType===8&&ie.parentNode===x))return;F=F.return}for(;X!==null;){if(F=tf(X),F===null)return;if(ie=F.tag,ie===5||ie===6){E=O=F;continue e}X=X.parentNode}}E=E.return}Ln(function(){var we=O,He=Te(v),Ge=[];e:{var Ue=oj.get(u);if(Ue!==void 0){var gt=qd,Ct=u;switch(u){case"keypress":if(Ep(v)===0)break e;case"keydown":case"keyup":gt=a1;break;case"focusin":Ct="focus",gt=Zd;break;case"focusout":Ct="blur",gt=Zd;break;case"beforeblur":case"afterblur":gt=Zd;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":gt=n_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":gt=n1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":gt=s_;break;case tj:case nj:case rj:gt=o1;break;case ij:gt=u1;break;case"scroll":gt=ry;break;case"wheel":gt=a_;break;case"copy":case"cut":case"paste":gt=Fo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":gt=Jl}var wt=(f&4)!==0,Sr=!wt&&u==="scroll",me=wt?Ue!==null?Ue+"Capture":null:Ue;wt=[];for(var ce=we,ve;ce!==null;){ve=ce;var nt=ve.stateNode;if(ve.tag===5&&nt!==null&&(ve=nt,me!==null&&(nt=dr(ce,me),nt!=null&&wt.push(gy(ce,nt,ve)))),Sr)break;ce=ce.return}0<wt.length&&(Ue=new gt(Ue,Ct,null,v,He),Ge.push({event:Ue,listeners:wt}))}}if((f&7)===0){e:{if(Ue=u==="mouseover"||u==="pointerover",gt=u==="mouseout"||u==="pointerout",Ue&&v!==ne&&(Ct=v.relatedTarget||v.fromElement)&&(tf(Ct)||Ct[Uc]))break e;if((gt||Ue)&&(Ue=He.window===He?He:(Ue=He.ownerDocument)?Ue.defaultView||Ue.parentWindow:window,gt?(Ct=v.relatedTarget||v.toElement,gt=we,Ct=Ct?tf(Ct):null,Ct!==null&&(Sr=uo(Ct),Ct!==Sr||Ct.tag!==5&&Ct.tag!==6)&&(Ct=null)):(gt=null,Ct=we),gt!==Ct)){if(wt=n_,nt="onMouseLeave",me="onMouseEnter",ce="mouse",(u==="pointerout"||u==="pointerover")&&(wt=Jl,nt="onPointerLeave",me="onPointerEnter",ce="pointer"),Sr=gt==null?Ue:Np(gt),ve=Ct==null?Ue:Np(Ct),Ue=new wt(nt,ce+"leave",gt,v,He),Ue.target=Sr,Ue.relatedTarget=ve,nt=null,tf(He)===we&&(wt=new wt(me,ce+"enter",Ct,v,He),wt.target=ve,wt.relatedTarget=Sr,nt=wt),Sr=nt,gt&&Ct)t:{for(wt=gt,me=Ct,ce=0,ve=wt;ve;ve=Pp(ve))ce++;for(ve=0,nt=me;nt;nt=Pp(nt))ve++;for(;0<ce-ve;)wt=Pp(wt),ce--;for(;0<ve-ce;)me=Pp(me),ve--;for(;ce--;){if(wt===me||me!==null&&wt===me.alternate)break t;wt=Pp(wt),me=Pp(me)}wt=null}else wt=null;gt!==null&&uj(Ge,Ue,gt,wt,!1),Ct!==null&&Sr!==null&&uj(Ge,Sr,Ct,wt,!0)}}e:{if(Ue=we?Np(we):window,gt=Ue.nodeName&&Ue.nodeName.toLowerCase(),gt==="select"||gt==="input"&&Ue.type==="file")var It=f_;else if(u_(Ue))if(h_)It=Fa;else{It=yn;var Ot=Kn}else(gt=Ue.nodeName)&&gt.toLowerCase()==="input"&&(Ue.type==="checkbox"||Ue.type==="radio")&&(It=Br);if(It&&(It=It(u,we))){d_(Ge,It,v,He);break e}Ot&&Ot(u,Ue,we),u==="focusout"&&(Ot=Ue._wrapperState)&&Ot.controlled&&Ue.type==="number"&&pe(Ue,"number",Ue.value)}switch(Ot=we?Np(we):window,u){case"focusin":(u_(Ot)||Ot.contentEditable==="true")&&(kp=Ot,v1=we,hy=null);break;case"focusout":hy=v1=kp=null;break;case"mousedown":y1=!0;break;case"contextmenu":case"mouseup":case"dragend":y1=!1,J3(Ge,v,He);break;case"selectionchange":if(Dne)break;case"keydown":case"keyup":J3(Ge,v,He)}var Nt;if(cy)e:{switch(u){case"compositionstart":var zt="onCompositionStart";break e;case"compositionend":zt="onCompositionEnd";break e;case"compositionupdate":zt="onCompositionUpdate";break e}zt=void 0}else nu?tu(u,v)&&(zt="onCompositionEnd"):u==="keydown"&&v.keyCode===229&&(zt="onCompositionStart");zt&&(Ip&&v.locale!=="ko"&&(nu||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&nu&&(Nt=e_()):(Da=He,Sp="value"in Da?Da.value:Da.textContent,nu=!0)),Ot=v_(we,zt),0<Ot.length&&(zt=new oy(zt,u,null,v,He),Ge.push({event:zt,listeners:Ot}),Nt?zt.data=Nt:(Nt=ly(v),Nt!==null&&(zt.data=Nt)))),(Nt=f1?h1(u,v):uy(u,v))&&(we=v_(we,"onBeforeInput"),0<we.length&&(He=new oy("onBeforeInput","beforeinput",null,v,He),Ge.push({event:He,listeners:we}),He.data=Nt))}cj(Ge,f)})}function gy(u,f,v){return{instance:u,listener:f,currentTarget:v}}function v_(u,f){for(var v=f+"Capture",E=[];u!==null;){var x=u,O=x.stateNode;x.tag===5&&O!==null&&(x=O,O=dr(u,v),O!=null&&E.unshift(gy(u,O,x)),O=dr(u,f),O!=null&&E.push(gy(u,O,x))),u=u.return}return E}function Pp(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function uj(u,f,v,E,x){for(var O=f._reactName,F=[];v!==null&&v!==E;){var X=v,ie=X.alternate,we=X.stateNode;if(ie!==null&&ie===E)break;X.tag===5&&we!==null&&(X=we,x?(ie=dr(v,O),ie!=null&&F.unshift(gy(v,ie,X))):x||(ie=dr(v,O),ie!=null&&F.push(gy(v,ie,X)))),v=v.return}F.length!==0&&u.push({event:f,listeners:F})}var Bne=/\r\n?/g,Vne=/\u0000|\uFFFD/g;function dj(u){return(typeof u=="string"?u:""+u).replace(Bne,`
`).replace(Vne,"")}function y_(u,f,v){if(f=dj(f),dj(u)!==f&&v)throw Error(n(425))}function b_(){}var E1=null,T1=null;function I1(u,f){return u==="textarea"||u==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var x1=typeof setTimeout=="function"?setTimeout:void 0,Hne=typeof clearTimeout=="function"?clearTimeout:void 0,fj=typeof Promise=="function"?Promise:void 0,zne=typeof queueMicrotask=="function"?queueMicrotask:typeof fj<"u"?function(u){return fj.resolve(null).then(u).catch($ne)}:x1;function $ne(u){setTimeout(function(){throw u})}function A1(u,f){var v=f,E=0;do{var x=v.nextSibling;if(u.removeChild(v),x&&x.nodeType===8)if(v=x.data,v==="/$"){if(E===0){u.removeChild(x),Wd(f);return}E--}else v!=="$"&&v!=="$?"&&v!=="$!"||E++;v=x}while(v);Wd(f)}function su(u){for(;u!=null;u=u.nextSibling){var f=u.nodeType;if(f===1||f===3)break;if(f===8){if(f=u.data,f==="$"||f==="$!"||f==="$?")break;if(f==="/$")return null}}return u}function hj(u){u=u.previousSibling;for(var f=0;u;){if(u.nodeType===8){var v=u.data;if(v==="$"||v==="$!"||v==="$?"){if(f===0)return u;f--}else v==="/$"&&f++}u=u.previousSibling}return null}var Op=Math.random().toString(36).slice(2),Ua="__reactFiber$"+Op,vy="__reactProps$"+Op,Uc="__reactContainer$"+Op,k1="__reactEvents$"+Op,Wne="__reactListeners$"+Op,Kne="__reactHandles$"+Op;function tf(u){var f=u[Ua];if(f)return f;for(var v=u.parentNode;v;){if(f=v[Uc]||v[Ua]){if(v=f.alternate,f.child!==null||v!==null&&v.child!==null)for(u=hj(u);u!==null;){if(v=u[Ua])return v;u=hj(u)}return f}u=v,v=u.parentNode}return null}function yy(u){return u=u[Ua]||u[Uc],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Np(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(n(33))}function C_(u){return u[vy]||null}var R1=[],Mp=-1;function au(u){return{current:u}}function qn(u){0>Mp||(u.current=R1[Mp],R1[Mp]=null,Mp--)}function zn(u,f){Mp++,R1[Mp]=u.current,u.current=f}var cu={},Si=au(cu),po=au(!1),nf=cu;function Lp(u,f){var v=u.type.contextTypes;if(!v)return cu;var E=u.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===f)return E.__reactInternalMemoizedMaskedChildContext;var x={},O;for(O in v)x[O]=f[O];return E&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=f,u.__reactInternalMemoizedMaskedChildContext=x),x}function mo(u){return u=u.childContextTypes,u!=null}function __(){qn(po),qn(Si)}function pj(u,f,v){if(Si.current!==cu)throw Error(n(168));zn(Si,f),zn(po,v)}function mj(u,f,v){var E=u.stateNode;if(f=f.childContextTypes,typeof E.getChildContext!="function")return v;E=E.getChildContext();for(var x in E)if(!(x in f))throw Error(n(108,Pe(u)||"Unknown",x));return z({},v,E)}function w_(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||cu,nf=Si.current,zn(Si,u),zn(po,po.current),!0}function gj(u,f,v){var E=u.stateNode;if(!E)throw Error(n(169));v?(u=mj(u,f,nf),E.__reactInternalMemoizedMergedChildContext=u,qn(po),qn(Si),zn(Si,u)):qn(po),zn(po,v)}var Bc=null,S_=!1,P1=!1;function vj(u){Bc===null?Bc=[u]:Bc.push(u)}function Gne(u){S_=!0,vj(u)}function lu(){if(!P1&&Bc!==null){P1=!0;var u=0,f=mn;try{var v=Bc;for(mn=1;u<v.length;u++){var E=v[u];do E=E(!0);while(E!==null)}Bc=null,S_=!1}catch(x){throw Bc!==null&&(Bc=Bc.slice(u+1)),Ve(wi,lu),x}finally{mn=f,P1=!1}}return null}var Dp=[],jp=0,E_=null,T_=0,bs=[],Cs=0,rf=null,Vc=1,Hc="";function of(u,f){Dp[jp++]=T_,Dp[jp++]=E_,E_=u,T_=f}function yj(u,f,v){bs[Cs++]=Vc,bs[Cs++]=Hc,bs[Cs++]=rf,rf=u;var E=Vc;u=Hc;var x=32-Lo(E)-1;E&=~(1<<x),v+=1;var O=32-Lo(f)+x;if(30<O){var F=x-x%5;O=(E&(1<<F)-1).toString(32),E>>=F,x-=F,Vc=1<<32-Lo(f)+x|v<<x|E,Hc=O+u}else Vc=1<<O|v<<x|E,Hc=u}function O1(u){u.return!==null&&(of(u,1),yj(u,1,0))}function N1(u){for(;u===E_;)E_=Dp[--jp],Dp[jp]=null,T_=Dp[--jp],Dp[jp]=null;for(;u===rf;)rf=bs[--Cs],bs[Cs]=null,Hc=bs[--Cs],bs[Cs]=null,Vc=bs[--Cs],bs[Cs]=null}var Uo=null,Bo=null,er=!1,na=null;function bj(u,f){var v=Es(5,null,null,0);v.elementType="DELETED",v.stateNode=f,v.return=u,f=u.deletions,f===null?(u.deletions=[v],u.flags|=16):f.push(v)}function Cj(u,f){switch(u.tag){case 5:var v=u.type;return f=f.nodeType!==1||v.toLowerCase()!==f.nodeName.toLowerCase()?null:f,f!==null?(u.stateNode=f,Uo=u,Bo=su(f.firstChild),!0):!1;case 6:return f=u.pendingProps===""||f.nodeType!==3?null:f,f!==null?(u.stateNode=f,Uo=u,Bo=null,!0):!1;case 13:return f=f.nodeType!==8?null:f,f!==null?(v=rf!==null?{id:Vc,overflow:Hc}:null,u.memoizedState={dehydrated:f,treeContext:v,retryLane:1073741824},v=Es(18,null,null,0),v.stateNode=f,v.return=u,u.child=v,Uo=u,Bo=null,!0):!1;default:return!1}}function M1(u){return(u.mode&1)!==0&&(u.flags&128)===0}function L1(u){if(er){var f=Bo;if(f){var v=f;if(!Cj(u,f)){if(M1(u))throw Error(n(418));f=su(v.nextSibling);var E=Uo;f&&Cj(u,f)?bj(E,v):(u.flags=u.flags&-4097|2,er=!1,Uo=u)}}else{if(M1(u))throw Error(n(418));u.flags=u.flags&-4097|2,er=!1,Uo=u}}}function _j(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Uo=u}function I_(u){if(u!==Uo)return!1;if(!er)return _j(u),er=!0,!1;var f;if((f=u.tag!==3)&&!(f=u.tag!==5)&&(f=u.type,f=f!=="head"&&f!=="body"&&!I1(u.type,u.memoizedProps)),f&&(f=Bo)){if(M1(u))throw wj(),Error(n(418));for(;f;)bj(u,f),f=su(f.nextSibling)}if(_j(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,f=0;u;){if(u.nodeType===8){var v=u.data;if(v==="/$"){if(f===0){Bo=su(u.nextSibling);break e}f--}else v!=="$"&&v!=="$!"&&v!=="$?"||f++}u=u.nextSibling}Bo=null}}else Bo=Uo?su(u.stateNode.nextSibling):null;return!0}function wj(){for(var u=Bo;u;)u=su(u.nextSibling)}function Fp(){Bo=Uo=null,er=!1}function D1(u){na===null?na=[u]:na.push(u)}var qne=A.ReactCurrentBatchConfig;function by(u,f,v){if(u=v.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(n(309));var E=v.stateNode}if(!E)throw Error(n(147,u));var x=E,O=""+u;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===O?f.ref:(f=function(F){var X=x.refs;F===null?delete X[O]:X[O]=F},f._stringRef=O,f)}if(typeof u!="string")throw Error(n(284));if(!v._owner)throw Error(n(290,u))}return u}function x_(u,f){throw u=Object.prototype.toString.call(f),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u))}function Sj(u){var f=u._init;return f(u._payload)}function Ej(u){function f(me,ce){if(u){var ve=me.deletions;ve===null?(me.deletions=[ce],me.flags|=16):ve.push(ce)}}function v(me,ce){if(!u)return null;for(;ce!==null;)f(me,ce),ce=ce.sibling;return null}function E(me,ce){for(me=new Map;ce!==null;)ce.key!==null?me.set(ce.key,ce):me.set(ce.index,ce),ce=ce.sibling;return me}function x(me,ce){return me=vu(me,ce),me.index=0,me.sibling=null,me}function O(me,ce,ve){return me.index=ve,u?(ve=me.alternate,ve!==null?(ve=ve.index,ve<ce?(me.flags|=2,ce):ve):(me.flags|=2,ce)):(me.flags|=1048576,ce)}function F(me){return u&&me.alternate===null&&(me.flags|=2),me}function X(me,ce,ve,nt){return ce===null||ce.tag!==6?(ce=xA(ve,me.mode,nt),ce.return=me,ce):(ce=x(ce,ve),ce.return=me,ce)}function ie(me,ce,ve,nt){var It=ve.type;return It===M?He(me,ce,ve.props.children,nt,ve.key):ce!==null&&(ce.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===B&&Sj(It)===ce.type)?(nt=x(ce,ve.props),nt.ref=by(me,ce,ve),nt.return=me,nt):(nt=X_(ve.type,ve.key,ve.props,null,me.mode,nt),nt.ref=by(me,ce,ve),nt.return=me,nt)}function we(me,ce,ve,nt){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==ve.containerInfo||ce.stateNode.implementation!==ve.implementation?(ce=AA(ve,me.mode,nt),ce.return=me,ce):(ce=x(ce,ve.children||[]),ce.return=me,ce)}function He(me,ce,ve,nt,It){return ce===null||ce.tag!==7?(ce=hf(ve,me.mode,nt,It),ce.return=me,ce):(ce=x(ce,ve),ce.return=me,ce)}function Ge(me,ce,ve){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return ce=xA(""+ce,me.mode,ve),ce.return=me,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case k:return ve=X_(ce.type,ce.key,ce.props,null,me.mode,ve),ve.ref=by(me,null,ce),ve.return=me,ve;case R:return ce=AA(ce,me.mode,ve),ce.return=me,ce;case B:var nt=ce._init;return Ge(me,nt(ce._payload),ve)}if(Le(ce)||K(ce))return ce=hf(ce,me.mode,ve,null),ce.return=me,ce;x_(me,ce)}return null}function Ue(me,ce,ve,nt){var It=ce!==null?ce.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number")return It!==null?null:X(me,ce,""+ve,nt);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case k:return ve.key===It?ie(me,ce,ve,nt):null;case R:return ve.key===It?we(me,ce,ve,nt):null;case B:return It=ve._init,Ue(me,ce,It(ve._payload),nt)}if(Le(ve)||K(ve))return It!==null?null:He(me,ce,ve,nt,null);x_(me,ve)}return null}function gt(me,ce,ve,nt,It){if(typeof nt=="string"&&nt!==""||typeof nt=="number")return me=me.get(ve)||null,X(ce,me,""+nt,It);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case k:return me=me.get(nt.key===null?ve:nt.key)||null,ie(ce,me,nt,It);case R:return me=me.get(nt.key===null?ve:nt.key)||null,we(ce,me,nt,It);case B:var Ot=nt._init;return gt(me,ce,ve,Ot(nt._payload),It)}if(Le(nt)||K(nt))return me=me.get(ve)||null,He(ce,me,nt,It,null);x_(ce,nt)}return null}function Ct(me,ce,ve,nt){for(var It=null,Ot=null,Nt=ce,zt=ce=0,Jr=null;Nt!==null&&zt<ve.length;zt++){Nt.index>zt?(Jr=Nt,Nt=null):Jr=Nt.sibling;var bn=Ue(me,Nt,ve[zt],nt);if(bn===null){Nt===null&&(Nt=Jr);break}u&&Nt&&bn.alternate===null&&f(me,Nt),ce=O(bn,ce,zt),Ot===null?It=bn:Ot.sibling=bn,Ot=bn,Nt=Jr}if(zt===ve.length)return v(me,Nt),er&&of(me,zt),It;if(Nt===null){for(;zt<ve.length;zt++)Nt=Ge(me,ve[zt],nt),Nt!==null&&(ce=O(Nt,ce,zt),Ot===null?It=Nt:Ot.sibling=Nt,Ot=Nt);return er&&of(me,zt),It}for(Nt=E(me,Nt);zt<ve.length;zt++)Jr=gt(Nt,me,zt,ve[zt],nt),Jr!==null&&(u&&Jr.alternate!==null&&Nt.delete(Jr.key===null?zt:Jr.key),ce=O(Jr,ce,zt),Ot===null?It=Jr:Ot.sibling=Jr,Ot=Jr);return u&&Nt.forEach(function(yu){return f(me,yu)}),er&&of(me,zt),It}function wt(me,ce,ve,nt){var It=K(ve);if(typeof It!="function")throw Error(n(150));if(ve=It.call(ve),ve==null)throw Error(n(151));for(var Ot=It=null,Nt=ce,zt=ce=0,Jr=null,bn=ve.next();Nt!==null&&!bn.done;zt++,bn=ve.next()){Nt.index>zt?(Jr=Nt,Nt=null):Jr=Nt.sibling;var yu=Ue(me,Nt,bn.value,nt);if(yu===null){Nt===null&&(Nt=Jr);break}u&&Nt&&yu.alternate===null&&f(me,Nt),ce=O(yu,ce,zt),Ot===null?It=yu:Ot.sibling=yu,Ot=yu,Nt=Jr}if(bn.done)return v(me,Nt),er&&of(me,zt),It;if(Nt===null){for(;!bn.done;zt++,bn=ve.next())bn=Ge(me,bn.value,nt),bn!==null&&(ce=O(bn,ce,zt),Ot===null?It=bn:Ot.sibling=bn,Ot=bn);return er&&of(me,zt),It}for(Nt=E(me,Nt);!bn.done;zt++,bn=ve.next())bn=gt(Nt,me,zt,bn.value,nt),bn!==null&&(u&&bn.alternate!==null&&Nt.delete(bn.key===null?zt:bn.key),ce=O(bn,ce,zt),Ot===null?It=bn:Ot.sibling=bn,Ot=bn);return u&&Nt.forEach(function(xre){return f(me,xre)}),er&&of(me,zt),It}function Sr(me,ce,ve,nt){if(typeof ve=="object"&&ve!==null&&ve.type===M&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case k:e:{for(var It=ve.key,Ot=ce;Ot!==null;){if(Ot.key===It){if(It=ve.type,It===M){if(Ot.tag===7){v(me,Ot.sibling),ce=x(Ot,ve.props.children),ce.return=me,me=ce;break e}}else if(Ot.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===B&&Sj(It)===Ot.type){v(me,Ot.sibling),ce=x(Ot,ve.props),ce.ref=by(me,Ot,ve),ce.return=me,me=ce;break e}v(me,Ot);break}else f(me,Ot);Ot=Ot.sibling}ve.type===M?(ce=hf(ve.props.children,me.mode,nt,ve.key),ce.return=me,me=ce):(nt=X_(ve.type,ve.key,ve.props,null,me.mode,nt),nt.ref=by(me,ce,ve),nt.return=me,me=nt)}return F(me);case R:e:{for(Ot=ve.key;ce!==null;){if(ce.key===Ot)if(ce.tag===4&&ce.stateNode.containerInfo===ve.containerInfo&&ce.stateNode.implementation===ve.implementation){v(me,ce.sibling),ce=x(ce,ve.children||[]),ce.return=me,me=ce;break e}else{v(me,ce);break}else f(me,ce);ce=ce.sibling}ce=AA(ve,me.mode,nt),ce.return=me,me=ce}return F(me);case B:return Ot=ve._init,Sr(me,ce,Ot(ve._payload),nt)}if(Le(ve))return Ct(me,ce,ve,nt);if(K(ve))return wt(me,ce,ve,nt);x_(me,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"?(ve=""+ve,ce!==null&&ce.tag===6?(v(me,ce.sibling),ce=x(ce,ve),ce.return=me,me=ce):(v(me,ce),ce=xA(ve,me.mode,nt),ce.return=me,me=ce),F(me)):v(me,ce)}return Sr}var Up=Ej(!0),Tj=Ej(!1),A_=au(null),k_=null,Bp=null,j1=null;function F1(){j1=Bp=k_=null}function U1(u){var f=A_.current;qn(A_),u._currentValue=f}function B1(u,f,v){for(;u!==null;){var E=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,E!==null&&(E.childLanes|=f)):E!==null&&(E.childLanes&f)!==f&&(E.childLanes|=f),u===v)break;u=u.return}}function Vp(u,f){k_=u,j1=Bp=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&f)!==0&&(go=!0),u.firstContext=null)}function _s(u){var f=u._currentValue;if(j1!==u)if(u={context:u,memoizedValue:f,next:null},Bp===null){if(k_===null)throw Error(n(308));Bp=u,k_.dependencies={lanes:0,firstContext:u}}else Bp=Bp.next=u;return f}var sf=null;function V1(u){sf===null?sf=[u]:sf.push(u)}function Ij(u,f,v,E){var x=f.interleaved;return x===null?(v.next=v,V1(f)):(v.next=x.next,x.next=v),f.interleaved=v,zc(u,E)}function zc(u,f){u.lanes|=f;var v=u.alternate;for(v!==null&&(v.lanes|=f),v=u,u=u.return;u!==null;)u.childLanes|=f,v=u.alternate,v!==null&&(v.childLanes|=f),v=u,u=u.return;return v.tag===3?v.stateNode:null}var uu=!1;function H1(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xj(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function $c(u,f){return{eventTime:u,lane:f,tag:0,payload:null,callback:null,next:null}}function du(u,f,v){var E=u.updateQueue;if(E===null)return null;if(E=E.shared,(gn&2)!==0){var x=E.pending;return x===null?f.next=f:(f.next=x.next,x.next=f),E.pending=f,zc(u,v)}return x=E.interleaved,x===null?(f.next=f,V1(E)):(f.next=x.next,x.next=f),E.interleaved=f,zc(u,v)}function R_(u,f,v){if(f=f.updateQueue,f!==null&&(f=f.shared,(v&4194240)!==0)){var E=f.lanes;E&=u.pendingLanes,v|=E,f.lanes=v,vp(u,v)}}function Aj(u,f){var v=u.updateQueue,E=u.alternate;if(E!==null&&(E=E.updateQueue,v===E)){var x=null,O=null;if(v=v.firstBaseUpdate,v!==null){do{var F={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};O===null?x=O=F:O=O.next=F,v=v.next}while(v!==null);O===null?x=O=f:O=O.next=f}else x=O=f;v={baseState:E.baseState,firstBaseUpdate:x,lastBaseUpdate:O,shared:E.shared,effects:E.effects},u.updateQueue=v;return}u=v.lastBaseUpdate,u===null?v.firstBaseUpdate=f:u.next=f,v.lastBaseUpdate=f}function P_(u,f,v,E){var x=u.updateQueue;uu=!1;var O=x.firstBaseUpdate,F=x.lastBaseUpdate,X=x.shared.pending;if(X!==null){x.shared.pending=null;var ie=X,we=ie.next;ie.next=null,F===null?O=we:F.next=we,F=ie;var He=u.alternate;He!==null&&(He=He.updateQueue,X=He.lastBaseUpdate,X!==F&&(X===null?He.firstBaseUpdate=we:X.next=we,He.lastBaseUpdate=ie))}if(O!==null){var Ge=x.baseState;F=0,He=we=ie=null,X=O;do{var Ue=X.lane,gt=X.eventTime;if((E&Ue)===Ue){He!==null&&(He=He.next={eventTime:gt,lane:0,tag:X.tag,payload:X.payload,callback:X.callback,next:null});e:{var Ct=u,wt=X;switch(Ue=f,gt=v,wt.tag){case 1:if(Ct=wt.payload,typeof Ct=="function"){Ge=Ct.call(gt,Ge,Ue);break e}Ge=Ct;break e;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=wt.payload,Ue=typeof Ct=="function"?Ct.call(gt,Ge,Ue):Ct,Ue==null)break e;Ge=z({},Ge,Ue);break e;case 2:uu=!0}}X.callback!==null&&X.lane!==0&&(u.flags|=64,Ue=x.effects,Ue===null?x.effects=[X]:Ue.push(X))}else gt={eventTime:gt,lane:Ue,tag:X.tag,payload:X.payload,callback:X.callback,next:null},He===null?(we=He=gt,ie=Ge):He=He.next=gt,F|=Ue;if(X=X.next,X===null){if(X=x.shared.pending,X===null)break;Ue=X,X=Ue.next,Ue.next=null,x.lastBaseUpdate=Ue,x.shared.pending=null}}while(!0);if(He===null&&(ie=Ge),x.baseState=ie,x.firstBaseUpdate=we,x.lastBaseUpdate=He,f=x.shared.interleaved,f!==null){x=f;do F|=x.lane,x=x.next;while(x!==f)}else O===null&&(x.shared.lanes=0);lf|=F,u.lanes=F,u.memoizedState=Ge}}function kj(u,f,v){if(u=f.effects,f.effects=null,u!==null)for(f=0;f<u.length;f++){var E=u[f],x=E.callback;if(x!==null){if(E.callback=null,E=v,typeof x!="function")throw Error(n(191,x));x.call(E)}}}var Cy={},Ba=au(Cy),_y=au(Cy),wy=au(Cy);function af(u){if(u===Cy)throw Error(n(174));return u}function z1(u,f){switch(zn(wy,f),zn(_y,u),zn(Ba,Cy),u=f.nodeType,u){case 9:case 11:f=(f=f.documentElement)?f.namespaceURI:nn(null,"");break;default:u=u===8?f.parentNode:f,f=u.namespaceURI||null,u=u.tagName,f=nn(f,u)}qn(Ba),zn(Ba,f)}function Hp(){qn(Ba),qn(_y),qn(wy)}function Rj(u){af(wy.current);var f=af(Ba.current),v=nn(f,u.type);f!==v&&(zn(_y,u),zn(Ba,v))}function $1(u){_y.current===u&&(qn(Ba),qn(_y))}var or=au(0);function O_(u){for(var f=u;f!==null;){if(f.tag===13){var v=f.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var W1=[];function K1(){for(var u=0;u<W1.length;u++)W1[u]._workInProgressVersionPrimary=null;W1.length=0}var N_=A.ReactCurrentDispatcher,G1=A.ReactCurrentBatchConfig,cf=0,sr=null,Vr=null,Xr=null,M_=!1,Sy=!1,Ey=0,Yne=0;function Ei(){throw Error(n(321))}function q1(u,f){if(f===null)return!1;for(var v=0;v<f.length&&v<u.length;v++)if(!ho(u[v],f[v]))return!1;return!0}function Y1(u,f,v,E,x,O){if(cf=O,sr=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,N_.current=u===null||u.memoizedState===null?Jne:ere,u=v(E,x),Sy){O=0;do{if(Sy=!1,Ey=0,25<=O)throw Error(n(301));O+=1,Xr=Vr=null,f.updateQueue=null,N_.current=tre,u=v(E,x)}while(Sy)}if(N_.current=j_,f=Vr!==null&&Vr.next!==null,cf=0,Xr=Vr=sr=null,M_=!1,f)throw Error(n(300));return u}function Q1(){var u=Ey!==0;return Ey=0,u}function Va(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xr===null?sr.memoizedState=Xr=u:Xr=Xr.next=u,Xr}function ws(){if(Vr===null){var u=sr.alternate;u=u!==null?u.memoizedState:null}else u=Vr.next;var f=Xr===null?sr.memoizedState:Xr.next;if(f!==null)Xr=f,Vr=u;else{if(u===null)throw Error(n(310));Vr=u,u={memoizedState:Vr.memoizedState,baseState:Vr.baseState,baseQueue:Vr.baseQueue,queue:Vr.queue,next:null},Xr===null?sr.memoizedState=Xr=u:Xr=Xr.next=u}return Xr}function Ty(u,f){return typeof f=="function"?f(u):f}function X1(u){var f=ws(),v=f.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=u;var E=Vr,x=E.baseQueue,O=v.pending;if(O!==null){if(x!==null){var F=x.next;x.next=O.next,O.next=F}E.baseQueue=x=O,v.pending=null}if(x!==null){O=x.next,E=E.baseState;var X=F=null,ie=null,we=O;do{var He=we.lane;if((cf&He)===He)ie!==null&&(ie=ie.next={lane:0,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),E=we.hasEagerState?we.eagerState:u(E,we.action);else{var Ge={lane:He,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null};ie===null?(X=ie=Ge,F=E):ie=ie.next=Ge,sr.lanes|=He,lf|=He}we=we.next}while(we!==null&&we!==O);ie===null?F=E:ie.next=X,ho(E,f.memoizedState)||(go=!0),f.memoizedState=E,f.baseState=F,f.baseQueue=ie,v.lastRenderedState=E}if(u=v.interleaved,u!==null){x=u;do O=x.lane,sr.lanes|=O,lf|=O,x=x.next;while(x!==u)}else x===null&&(v.lanes=0);return[f.memoizedState,v.dispatch]}function Z1(u){var f=ws(),v=f.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=u;var E=v.dispatch,x=v.pending,O=f.memoizedState;if(x!==null){v.pending=null;var F=x=x.next;do O=u(O,F.action),F=F.next;while(F!==x);ho(O,f.memoizedState)||(go=!0),f.memoizedState=O,f.baseQueue===null&&(f.baseState=O),v.lastRenderedState=O}return[O,E]}function Pj(){}function Oj(u,f){var v=sr,E=ws(),x=f(),O=!ho(E.memoizedState,x);if(O&&(E.memoizedState=x,go=!0),E=E.queue,J1(Lj.bind(null,v,E,u),[u]),E.getSnapshot!==f||O||Xr!==null&&Xr.memoizedState.tag&1){if(v.flags|=2048,Iy(9,Mj.bind(null,v,E,x,f),void 0,null),Zr===null)throw Error(n(349));(cf&30)!==0||Nj(v,f,x)}return x}function Nj(u,f,v){u.flags|=16384,u={getSnapshot:f,value:v},f=sr.updateQueue,f===null?(f={lastEffect:null,stores:null},sr.updateQueue=f,f.stores=[u]):(v=f.stores,v===null?f.stores=[u]:v.push(u))}function Mj(u,f,v,E){f.value=v,f.getSnapshot=E,Dj(f)&&jj(u)}function Lj(u,f,v){return v(function(){Dj(f)&&jj(u)})}function Dj(u){var f=u.getSnapshot;u=u.value;try{var v=f();return!ho(u,v)}catch{return!0}}function jj(u){var f=zc(u,1);f!==null&&sa(f,u,1,-1)}function Fj(u){var f=Va();return typeof u=="function"&&(u=u()),f.memoizedState=f.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ty,lastRenderedState:u},f.queue=u,u=u.dispatch=Zne.bind(null,sr,u),[f.memoizedState,u]}function Iy(u,f,v,E){return u={tag:u,create:f,destroy:v,deps:E,next:null},f=sr.updateQueue,f===null?(f={lastEffect:null,stores:null},sr.updateQueue=f,f.lastEffect=u.next=u):(v=f.lastEffect,v===null?f.lastEffect=u.next=u:(E=v.next,v.next=u,u.next=E,f.lastEffect=u)),u}function Uj(){return ws().memoizedState}function L_(u,f,v,E){var x=Va();sr.flags|=u,x.memoizedState=Iy(1|f,v,void 0,E===void 0?null:E)}function D_(u,f,v,E){var x=ws();E=E===void 0?null:E;var O=void 0;if(Vr!==null){var F=Vr.memoizedState;if(O=F.destroy,E!==null&&q1(E,F.deps)){x.memoizedState=Iy(f,v,O,E);return}}sr.flags|=u,x.memoizedState=Iy(1|f,v,O,E)}function Bj(u,f){return L_(8390656,8,u,f)}function J1(u,f){return D_(2048,8,u,f)}function Vj(u,f){return D_(4,2,u,f)}function Hj(u,f){return D_(4,4,u,f)}function zj(u,f){if(typeof f=="function")return u=u(),f(u),function(){f(null)};if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function $j(u,f,v){return v=v!=null?v.concat([u]):null,D_(4,4,zj.bind(null,f,u),v)}function eA(){}function Wj(u,f){var v=ws();f=f===void 0?null:f;var E=v.memoizedState;return E!==null&&f!==null&&q1(f,E[1])?E[0]:(v.memoizedState=[u,f],u)}function Kj(u,f){var v=ws();f=f===void 0?null:f;var E=v.memoizedState;return E!==null&&f!==null&&q1(f,E[1])?E[0]:(u=u(),v.memoizedState=[u,f],u)}function Gj(u,f,v){return(cf&21)===0?(u.baseState&&(u.baseState=!1,go=!0),u.memoizedState=v):(ho(v,f)||(v=ZC(),sr.lanes|=v,lf|=v,u.baseState=!0),f)}function Qne(u,f){var v=mn;mn=v!==0&&4>v?v:4,u(!0);var E=G1.transition;G1.transition={};try{u(!1),f()}finally{mn=v,G1.transition=E}}function qj(){return ws().memoizedState}function Xne(u,f,v){var E=mu(u);if(v={lane:E,action:v,hasEagerState:!1,eagerState:null,next:null},Yj(u))Qj(f,v);else if(v=Ij(u,f,v,E),v!==null){var x=Hi();sa(v,u,E,x),Xj(v,f,E)}}function Zne(u,f,v){var E=mu(u),x={lane:E,action:v,hasEagerState:!1,eagerState:null,next:null};if(Yj(u))Qj(f,x);else{var O=u.alternate;if(u.lanes===0&&(O===null||O.lanes===0)&&(O=f.lastRenderedReducer,O!==null))try{var F=f.lastRenderedState,X=O(F,v);if(x.hasEagerState=!0,x.eagerState=X,ho(X,F)){var ie=f.interleaved;ie===null?(x.next=x,V1(f)):(x.next=ie.next,ie.next=x),f.interleaved=x;return}}catch{}finally{}v=Ij(u,f,x,E),v!==null&&(x=Hi(),sa(v,u,E,x),Xj(v,f,E))}}function Yj(u){var f=u.alternate;return u===sr||f!==null&&f===sr}function Qj(u,f){Sy=M_=!0;var v=u.pending;v===null?f.next=f:(f.next=v.next,v.next=f),u.pending=f}function Xj(u,f,v){if((v&4194240)!==0){var E=f.lanes;E&=u.pendingLanes,v|=E,f.lanes=v,vp(u,v)}}var j_={readContext:_s,useCallback:Ei,useContext:Ei,useEffect:Ei,useImperativeHandle:Ei,useInsertionEffect:Ei,useLayoutEffect:Ei,useMemo:Ei,useReducer:Ei,useRef:Ei,useState:Ei,useDebugValue:Ei,useDeferredValue:Ei,useTransition:Ei,useMutableSource:Ei,useSyncExternalStore:Ei,useId:Ei,unstable_isNewReconciler:!1},Jne={readContext:_s,useCallback:function(u,f){return Va().memoizedState=[u,f===void 0?null:f],u},useContext:_s,useEffect:Bj,useImperativeHandle:function(u,f,v){return v=v!=null?v.concat([u]):null,L_(4194308,4,zj.bind(null,f,u),v)},useLayoutEffect:function(u,f){return L_(4194308,4,u,f)},useInsertionEffect:function(u,f){return L_(4,2,u,f)},useMemo:function(u,f){var v=Va();return f=f===void 0?null:f,u=u(),v.memoizedState=[u,f],u},useReducer:function(u,f,v){var E=Va();return f=v!==void 0?v(f):f,E.memoizedState=E.baseState=f,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:f},E.queue=u,u=u.dispatch=Xne.bind(null,sr,u),[E.memoizedState,u]},useRef:function(u){var f=Va();return u={current:u},f.memoizedState=u},useState:Fj,useDebugValue:eA,useDeferredValue:function(u){return Va().memoizedState=u},useTransition:function(){var u=Fj(!1),f=u[0];return u=Qne.bind(null,u[1]),Va().memoizedState=u,[f,u]},useMutableSource:function(){},useSyncExternalStore:function(u,f,v){var E=sr,x=Va();if(er){if(v===void 0)throw Error(n(407));v=v()}else{if(v=f(),Zr===null)throw Error(n(349));(cf&30)!==0||Nj(E,f,v)}x.memoizedState=v;var O={value:v,getSnapshot:f};return x.queue=O,Bj(Lj.bind(null,E,O,u),[u]),E.flags|=2048,Iy(9,Mj.bind(null,E,O,v,f),void 0,null),v},useId:function(){var u=Va(),f=Zr.identifierPrefix;if(er){var v=Hc,E=Vc;v=(E&~(1<<32-Lo(E)-1)).toString(32)+v,f=":"+f+"R"+v,v=Ey++,0<v&&(f+="H"+v.toString(32)),f+=":"}else v=Yne++,f=":"+f+"r"+v.toString(32)+":";return u.memoizedState=f},unstable_isNewReconciler:!1},ere={readContext:_s,useCallback:Wj,useContext:_s,useEffect:J1,useImperativeHandle:$j,useInsertionEffect:Vj,useLayoutEffect:Hj,useMemo:Kj,useReducer:X1,useRef:Uj,useState:function(){return X1(Ty)},useDebugValue:eA,useDeferredValue:function(u){var f=ws();return Gj(f,Vr.memoizedState,u)},useTransition:function(){var u=X1(Ty)[0],f=ws().memoizedState;return[u,f]},useMutableSource:Pj,useSyncExternalStore:Oj,useId:qj,unstable_isNewReconciler:!1},tre={readContext:_s,useCallback:Wj,useContext:_s,useEffect:J1,useImperativeHandle:$j,useInsertionEffect:Vj,useLayoutEffect:Hj,useMemo:Kj,useReducer:Z1,useRef:Uj,useState:function(){return Z1(Ty)},useDebugValue:eA,useDeferredValue:function(u){var f=ws();return Vr===null?f.memoizedState=u:Gj(f,Vr.memoizedState,u)},useTransition:function(){var u=Z1(Ty)[0],f=ws().memoizedState;return[u,f]},useMutableSource:Pj,useSyncExternalStore:Oj,useId:qj,unstable_isNewReconciler:!1};function ra(u,f){if(u&&u.defaultProps){f=z({},f),u=u.defaultProps;for(var v in u)f[v]===void 0&&(f[v]=u[v]);return f}return f}function tA(u,f,v,E){f=u.memoizedState,v=v(E,f),v=v==null?f:z({},f,v),u.memoizedState=v,u.lanes===0&&(u.updateQueue.baseState=v)}var F_={isMounted:function(u){return(u=u._reactInternals)?uo(u)===u:!1},enqueueSetState:function(u,f,v){u=u._reactInternals;var E=Hi(),x=mu(u),O=$c(E,x);O.payload=f,v!=null&&(O.callback=v),f=du(u,O,x),f!==null&&(sa(f,u,x,E),R_(f,u,x))},enqueueReplaceState:function(u,f,v){u=u._reactInternals;var E=Hi(),x=mu(u),O=$c(E,x);O.tag=1,O.payload=f,v!=null&&(O.callback=v),f=du(u,O,x),f!==null&&(sa(f,u,x,E),R_(f,u,x))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var v=Hi(),E=mu(u),x=$c(v,E);x.tag=2,f!=null&&(x.callback=f),f=du(u,x,E),f!==null&&(sa(f,u,E,v),R_(f,u,E))}};function Zj(u,f,v,E,x,O,F){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(E,O,F):f.prototype&&f.prototype.isPureReactComponent?!iu(v,E)||!iu(x,O):!0}function Jj(u,f,v){var E=!1,x=cu,O=f.contextType;return typeof O=="object"&&O!==null?O=_s(O):(x=mo(f)?nf:Si.current,E=f.contextTypes,O=(E=E!=null)?Lp(u,x):cu),f=new f(v,O),u.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=F_,u.stateNode=f,f._reactInternals=u,E&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=x,u.__reactInternalMemoizedMaskedChildContext=O),f}function eF(u,f,v,E){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(v,E),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(v,E),f.state!==u&&F_.enqueueReplaceState(f,f.state,null)}function nA(u,f,v,E){var x=u.stateNode;x.props=v,x.state=u.memoizedState,x.refs={},H1(u);var O=f.contextType;typeof O=="object"&&O!==null?x.context=_s(O):(O=mo(f)?nf:Si.current,x.context=Lp(u,O)),x.state=u.memoizedState,O=f.getDerivedStateFromProps,typeof O=="function"&&(tA(u,f,O,v),x.state=u.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(f=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),f!==x.state&&F_.enqueueReplaceState(x,x.state,null),P_(u,v,x,E),x.state=u.memoizedState),typeof x.componentDidMount=="function"&&(u.flags|=4194308)}function zp(u,f){try{var v="",E=f;do v+=_e(E),E=E.return;while(E);var x=v}catch(O){x=`
Error generating stack: `+O.message+`
`+O.stack}return{value:u,source:f,stack:x,digest:null}}function rA(u,f,v){return{value:u,source:null,stack:v??null,digest:f??null}}function iA(u,f){try{console.error(f.value)}catch(v){setTimeout(function(){throw v})}}var nre=typeof WeakMap=="function"?WeakMap:Map;function tF(u,f,v){v=$c(-1,v),v.tag=3,v.payload={element:null};var E=f.value;return v.callback=function(){W_||(W_=!0,bA=E),iA(u,f)},v}function nF(u,f,v){v=$c(-1,v),v.tag=3;var E=u.type.getDerivedStateFromError;if(typeof E=="function"){var x=f.value;v.payload=function(){return E(x)},v.callback=function(){iA(u,f)}}var O=u.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(v.callback=function(){iA(u,f),typeof E!="function"&&(hu===null?hu=new Set([this]):hu.add(this));var F=f.stack;this.componentDidCatch(f.value,{componentStack:F!==null?F:""})}),v}function rF(u,f,v){var E=u.pingCache;if(E===null){E=u.pingCache=new nre;var x=new Set;E.set(f,x)}else x=E.get(f),x===void 0&&(x=new Set,E.set(f,x));x.has(v)||(x.add(v),u=gre.bind(null,u,f,v),f.then(u,u))}function iF(u){do{var f;if((f=u.tag===13)&&(f=u.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return u;u=u.return}while(u!==null);return null}function oF(u,f,v,E,x){return(u.mode&1)===0?(u===f?u.flags|=65536:(u.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(f=$c(-1,1),f.tag=2,du(v,f,1))),v.lanes|=1),u):(u.flags|=65536,u.lanes=x,u)}var rre=A.ReactCurrentOwner,go=!1;function Vi(u,f,v,E){f.child=u===null?Tj(f,null,v,E):Up(f,u.child,v,E)}function sF(u,f,v,E,x){v=v.render;var O=f.ref;return Vp(f,x),E=Y1(u,f,v,E,O,x),v=Q1(),u!==null&&!go?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~x,Wc(u,f,x)):(er&&v&&O1(f),f.flags|=1,Vi(u,f,E,x),f.child)}function aF(u,f,v,E,x){if(u===null){var O=v.type;return typeof O=="function"&&!IA(O)&&O.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(f.tag=15,f.type=O,cF(u,f,O,E,x)):(u=X_(v.type,null,E,f,f.mode,x),u.ref=f.ref,u.return=f,f.child=u)}if(O=u.child,(u.lanes&x)===0){var F=O.memoizedProps;if(v=v.compare,v=v!==null?v:iu,v(F,E)&&u.ref===f.ref)return Wc(u,f,x)}return f.flags|=1,u=vu(O,E),u.ref=f.ref,u.return=f,f.child=u}function cF(u,f,v,E,x){if(u!==null){var O=u.memoizedProps;if(iu(O,E)&&u.ref===f.ref)if(go=!1,f.pendingProps=E=O,(u.lanes&x)!==0)(u.flags&131072)!==0&&(go=!0);else return f.lanes=u.lanes,Wc(u,f,x)}return oA(u,f,v,E,x)}function lF(u,f,v){var E=f.pendingProps,x=E.children,O=u!==null?u.memoizedState:null;if(E.mode==="hidden")if((f.mode&1)===0)f.memoizedState={baseLanes:0,cachePool:null,transitions:null},zn(Wp,Vo),Vo|=v;else{if((v&1073741824)===0)return u=O!==null?O.baseLanes|v:v,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:u,cachePool:null,transitions:null},f.updateQueue=null,zn(Wp,Vo),Vo|=u,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},E=O!==null?O.baseLanes:v,zn(Wp,Vo),Vo|=E}else O!==null?(E=O.baseLanes|v,f.memoizedState=null):E=v,zn(Wp,Vo),Vo|=E;return Vi(u,f,x,v),f.child}function uF(u,f){var v=f.ref;(u===null&&v!==null||u!==null&&u.ref!==v)&&(f.flags|=512,f.flags|=2097152)}function oA(u,f,v,E,x){var O=mo(v)?nf:Si.current;return O=Lp(f,O),Vp(f,x),v=Y1(u,f,v,E,O,x),E=Q1(),u!==null&&!go?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~x,Wc(u,f,x)):(er&&E&&O1(f),f.flags|=1,Vi(u,f,v,x),f.child)}function dF(u,f,v,E,x){if(mo(v)){var O=!0;w_(f)}else O=!1;if(Vp(f,x),f.stateNode===null)B_(u,f),Jj(f,v,E),nA(f,v,E,x),E=!0;else if(u===null){var F=f.stateNode,X=f.memoizedProps;F.props=X;var ie=F.context,we=v.contextType;typeof we=="object"&&we!==null?we=_s(we):(we=mo(v)?nf:Si.current,we=Lp(f,we));var He=v.getDerivedStateFromProps,Ge=typeof He=="function"||typeof F.getSnapshotBeforeUpdate=="function";Ge||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(X!==E||ie!==we)&&eF(f,F,E,we),uu=!1;var Ue=f.memoizedState;F.state=Ue,P_(f,E,F,x),ie=f.memoizedState,X!==E||Ue!==ie||po.current||uu?(typeof He=="function"&&(tA(f,v,He,E),ie=f.memoizedState),(X=uu||Zj(f,v,X,E,Ue,ie,we))?(Ge||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(f.flags|=4194308)):(typeof F.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=E,f.memoizedState=ie),F.props=E,F.state=ie,F.context=we,E=X):(typeof F.componentDidMount=="function"&&(f.flags|=4194308),E=!1)}else{F=f.stateNode,xj(u,f),X=f.memoizedProps,we=f.type===f.elementType?X:ra(f.type,X),F.props=we,Ge=f.pendingProps,Ue=F.context,ie=v.contextType,typeof ie=="object"&&ie!==null?ie=_s(ie):(ie=mo(v)?nf:Si.current,ie=Lp(f,ie));var gt=v.getDerivedStateFromProps;(He=typeof gt=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(X!==Ge||Ue!==ie)&&eF(f,F,E,ie),uu=!1,Ue=f.memoizedState,F.state=Ue,P_(f,E,F,x);var Ct=f.memoizedState;X!==Ge||Ue!==Ct||po.current||uu?(typeof gt=="function"&&(tA(f,v,gt,E),Ct=f.memoizedState),(we=uu||Zj(f,v,we,E,Ue,Ct,ie)||!1)?(He||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(E,Ct,ie),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(E,Ct,ie)),typeof F.componentDidUpdate=="function"&&(f.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof F.componentDidUpdate!="function"||X===u.memoizedProps&&Ue===u.memoizedState||(f.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||X===u.memoizedProps&&Ue===u.memoizedState||(f.flags|=1024),f.memoizedProps=E,f.memoizedState=Ct),F.props=E,F.state=Ct,F.context=ie,E=we):(typeof F.componentDidUpdate!="function"||X===u.memoizedProps&&Ue===u.memoizedState||(f.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||X===u.memoizedProps&&Ue===u.memoizedState||(f.flags|=1024),E=!1)}return sA(u,f,v,E,O,x)}function sA(u,f,v,E,x,O){uF(u,f);var F=(f.flags&128)!==0;if(!E&&!F)return x&&gj(f,v,!1),Wc(u,f,O);E=f.stateNode,rre.current=f;var X=F&&typeof v.getDerivedStateFromError!="function"?null:E.render();return f.flags|=1,u!==null&&F?(f.child=Up(f,u.child,null,O),f.child=Up(f,null,X,O)):Vi(u,f,X,O),f.memoizedState=E.state,x&&gj(f,v,!0),f.child}function fF(u){var f=u.stateNode;f.pendingContext?pj(u,f.pendingContext,f.pendingContext!==f.context):f.context&&pj(u,f.context,!1),z1(u,f.containerInfo)}function hF(u,f,v,E,x){return Fp(),D1(x),f.flags|=256,Vi(u,f,v,E),f.child}var aA={dehydrated:null,treeContext:null,retryLane:0};function cA(u){return{baseLanes:u,cachePool:null,transitions:null}}function pF(u,f,v){var E=f.pendingProps,x=or.current,O=!1,F=(f.flags&128)!==0,X;if((X=F)||(X=u!==null&&u.memoizedState===null?!1:(x&2)!==0),X?(O=!0,f.flags&=-129):(u===null||u.memoizedState!==null)&&(x|=1),zn(or,x&1),u===null)return L1(f),u=f.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((f.mode&1)===0?f.lanes=1:u.data==="$!"?f.lanes=8:f.lanes=1073741824,null):(F=E.children,u=E.fallback,O?(E=f.mode,O=f.child,F={mode:"hidden",children:F},(E&1)===0&&O!==null?(O.childLanes=0,O.pendingProps=F):O=Z_(F,E,0,null),u=hf(u,E,v,null),O.return=f,u.return=f,O.sibling=u,f.child=O,f.child.memoizedState=cA(v),f.memoizedState=aA,u):lA(f,F));if(x=u.memoizedState,x!==null&&(X=x.dehydrated,X!==null))return ire(u,f,F,E,X,x,v);if(O){O=E.fallback,F=f.mode,x=u.child,X=x.sibling;var ie={mode:"hidden",children:E.children};return(F&1)===0&&f.child!==x?(E=f.child,E.childLanes=0,E.pendingProps=ie,f.deletions=null):(E=vu(x,ie),E.subtreeFlags=x.subtreeFlags&14680064),X!==null?O=vu(X,O):(O=hf(O,F,v,null),O.flags|=2),O.return=f,E.return=f,E.sibling=O,f.child=E,E=O,O=f.child,F=u.child.memoizedState,F=F===null?cA(v):{baseLanes:F.baseLanes|v,cachePool:null,transitions:F.transitions},O.memoizedState=F,O.childLanes=u.childLanes&~v,f.memoizedState=aA,E}return O=u.child,u=O.sibling,E=vu(O,{mode:"visible",children:E.children}),(f.mode&1)===0&&(E.lanes=v),E.return=f,E.sibling=null,u!==null&&(v=f.deletions,v===null?(f.deletions=[u],f.flags|=16):v.push(u)),f.child=E,f.memoizedState=null,E}function lA(u,f){return f=Z_({mode:"visible",children:f},u.mode,0,null),f.return=u,u.child=f}function U_(u,f,v,E){return E!==null&&D1(E),Up(f,u.child,null,v),u=lA(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function ire(u,f,v,E,x,O,F){if(v)return f.flags&256?(f.flags&=-257,E=rA(Error(n(422))),U_(u,f,F,E)):f.memoizedState!==null?(f.child=u.child,f.flags|=128,null):(O=E.fallback,x=f.mode,E=Z_({mode:"visible",children:E.children},x,0,null),O=hf(O,x,F,null),O.flags|=2,E.return=f,O.return=f,E.sibling=O,f.child=E,(f.mode&1)!==0&&Up(f,u.child,null,F),f.child.memoizedState=cA(F),f.memoizedState=aA,O);if((f.mode&1)===0)return U_(u,f,F,null);if(x.data==="$!"){if(E=x.nextSibling&&x.nextSibling.dataset,E)var X=E.dgst;return E=X,O=Error(n(419)),E=rA(O,E,void 0),U_(u,f,F,E)}if(X=(F&u.childLanes)!==0,go||X){if(E=Zr,E!==null){switch(F&-F){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}x=(x&(E.suspendedLanes|F))!==0?0:x,x!==0&&x!==O.retryLane&&(O.retryLane=x,zc(u,x),sa(E,u,x,-1))}return TA(),E=rA(Error(n(421))),U_(u,f,F,E)}return x.data==="$?"?(f.flags|=128,f.child=u.child,f=vre.bind(null,u),x._reactRetry=f,null):(u=O.treeContext,Bo=su(x.nextSibling),Uo=f,er=!0,na=null,u!==null&&(bs[Cs++]=Vc,bs[Cs++]=Hc,bs[Cs++]=rf,Vc=u.id,Hc=u.overflow,rf=f),f=lA(f,E.children),f.flags|=4096,f)}function mF(u,f,v){u.lanes|=f;var E=u.alternate;E!==null&&(E.lanes|=f),B1(u.return,f,v)}function uA(u,f,v,E,x){var O=u.memoizedState;O===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:E,tail:v,tailMode:x}:(O.isBackwards=f,O.rendering=null,O.renderingStartTime=0,O.last=E,O.tail=v,O.tailMode=x)}function gF(u,f,v){var E=f.pendingProps,x=E.revealOrder,O=E.tail;if(Vi(u,f,E.children,v),E=or.current,(E&2)!==0)E=E&1|2,f.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&mF(u,v,f);else if(u.tag===19)mF(u,v,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}E&=1}if(zn(or,E),(f.mode&1)===0)f.memoizedState=null;else switch(x){case"forwards":for(v=f.child,x=null;v!==null;)u=v.alternate,u!==null&&O_(u)===null&&(x=v),v=v.sibling;v=x,v===null?(x=f.child,f.child=null):(x=v.sibling,v.sibling=null),uA(f,!1,x,v,O);break;case"backwards":for(v=null,x=f.child,f.child=null;x!==null;){if(u=x.alternate,u!==null&&O_(u)===null){f.child=x;break}u=x.sibling,x.sibling=v,v=x,x=u}uA(f,!0,v,null,O);break;case"together":uA(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function B_(u,f){(f.mode&1)===0&&u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2)}function Wc(u,f,v){if(u!==null&&(f.dependencies=u.dependencies),lf|=f.lanes,(v&f.childLanes)===0)return null;if(u!==null&&f.child!==u.child)throw Error(n(153));if(f.child!==null){for(u=f.child,v=vu(u,u.pendingProps),f.child=v,v.return=f;u.sibling!==null;)u=u.sibling,v=v.sibling=vu(u,u.pendingProps),v.return=f;v.sibling=null}return f.child}function ore(u,f,v){switch(f.tag){case 3:fF(f),Fp();break;case 5:Rj(f);break;case 1:mo(f.type)&&w_(f);break;case 4:z1(f,f.stateNode.containerInfo);break;case 10:var E=f.type._context,x=f.memoizedProps.value;zn(A_,E._currentValue),E._currentValue=x;break;case 13:if(E=f.memoizedState,E!==null)return E.dehydrated!==null?(zn(or,or.current&1),f.flags|=128,null):(v&f.child.childLanes)!==0?pF(u,f,v):(zn(or,or.current&1),u=Wc(u,f,v),u!==null?u.sibling:null);zn(or,or.current&1);break;case 19:if(E=(v&f.childLanes)!==0,(u.flags&128)!==0){if(E)return gF(u,f,v);f.flags|=128}if(x=f.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),zn(or,or.current),E)break;return null;case 22:case 23:return f.lanes=0,lF(u,f,v)}return Wc(u,f,v)}var vF,dA,yF,bF;vF=function(u,f){for(var v=f.child;v!==null;){if(v.tag===5||v.tag===6)u.appendChild(v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===f)break;for(;v.sibling===null;){if(v.return===null||v.return===f)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},dA=function(){},yF=function(u,f,v,E){var x=u.memoizedProps;if(x!==E){u=f.stateNode,af(Ba.current);var O=null;switch(v){case"input":x=xe(u,x),E=xe(u,E),O=[];break;case"select":x=z({},x,{value:void 0}),E=z({},E,{value:void 0}),O=[];break;case"textarea":x=Xe(u,x),E=Xe(u,E),O=[];break;default:typeof x.onClick!="function"&&typeof E.onClick=="function"&&(u.onclick=b_)}_t(v,E);var F;v=null;for(we in x)if(!E.hasOwnProperty(we)&&x.hasOwnProperty(we)&&x[we]!=null)if(we==="style"){var X=x[we];for(F in X)X.hasOwnProperty(F)&&(v||(v={}),v[F]="")}else we!=="dangerouslySetInnerHTML"&&we!=="children"&&we!=="suppressContentEditableWarning"&&we!=="suppressHydrationWarning"&&we!=="autoFocus"&&(i.hasOwnProperty(we)?O||(O=[]):(O=O||[]).push(we,null));for(we in E){var ie=E[we];if(X=x!=null?x[we]:void 0,E.hasOwnProperty(we)&&ie!==X&&(ie!=null||X!=null))if(we==="style")if(X){for(F in X)!X.hasOwnProperty(F)||ie&&ie.hasOwnProperty(F)||(v||(v={}),v[F]="");for(F in ie)ie.hasOwnProperty(F)&&X[F]!==ie[F]&&(v||(v={}),v[F]=ie[F])}else v||(O||(O=[]),O.push(we,v)),v=ie;else we==="dangerouslySetInnerHTML"?(ie=ie?ie.__html:void 0,X=X?X.__html:void 0,ie!=null&&X!==ie&&(O=O||[]).push(we,ie)):we==="children"?typeof ie!="string"&&typeof ie!="number"||(O=O||[]).push(we,""+ie):we!=="suppressContentEditableWarning"&&we!=="suppressHydrationWarning"&&(i.hasOwnProperty(we)?(ie!=null&&we==="onScroll"&&Gn("scroll",u),O||X===ie||(O=[])):(O=O||[]).push(we,ie))}v&&(O=O||[]).push("style",v);var we=O;(f.updateQueue=we)&&(f.flags|=4)}},bF=function(u,f,v,E){v!==E&&(f.flags|=4)};function xy(u,f){if(!er)switch(u.tailMode){case"hidden":f=u.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?u.tail=null:v.sibling=null;break;case"collapsed":v=u.tail;for(var E=null;v!==null;)v.alternate!==null&&(E=v),v=v.sibling;E===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:E.sibling=null}}function Ti(u){var f=u.alternate!==null&&u.alternate.child===u.child,v=0,E=0;if(f)for(var x=u.child;x!==null;)v|=x.lanes|x.childLanes,E|=x.subtreeFlags&14680064,E|=x.flags&14680064,x.return=u,x=x.sibling;else for(x=u.child;x!==null;)v|=x.lanes|x.childLanes,E|=x.subtreeFlags,E|=x.flags,x.return=u,x=x.sibling;return u.subtreeFlags|=E,u.childLanes=v,f}function sre(u,f,v){var E=f.pendingProps;switch(N1(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ti(f),null;case 1:return mo(f.type)&&__(),Ti(f),null;case 3:return E=f.stateNode,Hp(),qn(po),qn(Si),K1(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(u===null||u.child===null)&&(I_(f)?f.flags|=4:u===null||u.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,na!==null&&(wA(na),na=null))),dA(u,f),Ti(f),null;case 5:$1(f);var x=af(wy.current);if(v=f.type,u!==null&&f.stateNode!=null)yF(u,f,v,E,x),u.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!E){if(f.stateNode===null)throw Error(n(166));return Ti(f),null}if(u=af(Ba.current),I_(f)){E=f.stateNode,v=f.type;var O=f.memoizedProps;switch(E[Ua]=f,E[vy]=O,u=(f.mode&1)!==0,v){case"dialog":Gn("cancel",E),Gn("close",E);break;case"iframe":case"object":case"embed":Gn("load",E);break;case"video":case"audio":for(x=0;x<py.length;x++)Gn(py[x],E);break;case"source":Gn("error",E);break;case"img":case"image":case"link":Gn("error",E),Gn("load",E);break;case"details":Gn("toggle",E);break;case"input":Y(E,O),Gn("invalid",E);break;case"select":E._wrapperState={wasMultiple:!!O.multiple},Gn("invalid",E);break;case"textarea":mt(E,O),Gn("invalid",E)}_t(v,O),x=null;for(var F in O)if(O.hasOwnProperty(F)){var X=O[F];F==="children"?typeof X=="string"?E.textContent!==X&&(O.suppressHydrationWarning!==!0&&y_(E.textContent,X,u),x=["children",X]):typeof X=="number"&&E.textContent!==""+X&&(O.suppressHydrationWarning!==!0&&y_(E.textContent,X,u),x=["children",""+X]):i.hasOwnProperty(F)&&X!=null&&F==="onScroll"&&Gn("scroll",E)}switch(v){case"input":Ie(E),ye(E,O,!0);break;case"textarea":Ie(E),dt(E);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(E.onclick=b_)}E=x,f.updateQueue=E,E!==null&&(f.flags|=4)}else{F=x.nodeType===9?x:x.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=$t(v)),u==="http://www.w3.org/1999/xhtml"?v==="script"?(u=F.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof E.is=="string"?u=F.createElement(v,{is:E.is}):(u=F.createElement(v),v==="select"&&(F=u,E.multiple?F.multiple=!0:E.size&&(F.size=E.size))):u=F.createElementNS(u,v),u[Ua]=f,u[vy]=E,vF(u,f,!1,!1),f.stateNode=u;e:{switch(F=it(v,E),v){case"dialog":Gn("cancel",u),Gn("close",u),x=E;break;case"iframe":case"object":case"embed":Gn("load",u),x=E;break;case"video":case"audio":for(x=0;x<py.length;x++)Gn(py[x],u);x=E;break;case"source":Gn("error",u),x=E;break;case"img":case"image":case"link":Gn("error",u),Gn("load",u),x=E;break;case"details":Gn("toggle",u),x=E;break;case"input":Y(u,E),x=xe(u,E),Gn("invalid",u);break;case"option":x=E;break;case"select":u._wrapperState={wasMultiple:!!E.multiple},x=z({},E,{value:void 0}),Gn("invalid",u);break;case"textarea":mt(u,E),x=Xe(u,E),Gn("invalid",u);break;default:x=E}_t(v,x),X=x;for(O in X)if(X.hasOwnProperty(O)){var ie=X[O];O==="style"?Fe(u,ie):O==="dangerouslySetInnerHTML"?(ie=ie?ie.__html:void 0,ie!=null&&Ye(u,ie)):O==="children"?typeof ie=="string"?(v!=="textarea"||ie!=="")&&et(u,ie):typeof ie=="number"&&et(u,""+ie):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(i.hasOwnProperty(O)?ie!=null&&O==="onScroll"&&Gn("scroll",u):ie!=null&&I(u,O,ie,F))}switch(v){case"input":Ie(u),ye(u,E,!1);break;case"textarea":Ie(u),dt(u);break;case"option":E.value!=null&&u.setAttribute("value",""+Oe(E.value));break;case"select":u.multiple=!!E.multiple,O=E.value,O!=null?De(u,!!E.multiple,O,!1):E.defaultValue!=null&&De(u,!!E.multiple,E.defaultValue,!0);break;default:typeof x.onClick=="function"&&(u.onclick=b_)}switch(v){case"button":case"input":case"select":case"textarea":E=!!E.autoFocus;break e;case"img":E=!0;break e;default:E=!1}}E&&(f.flags|=4)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return Ti(f),null;case 6:if(u&&f.stateNode!=null)bF(u,f,u.memoizedProps,E);else{if(typeof E!="string"&&f.stateNode===null)throw Error(n(166));if(v=af(wy.current),af(Ba.current),I_(f)){if(E=f.stateNode,v=f.memoizedProps,E[Ua]=f,(O=E.nodeValue!==v)&&(u=Uo,u!==null))switch(u.tag){case 3:y_(E.nodeValue,v,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&y_(E.nodeValue,v,(u.mode&1)!==0)}O&&(f.flags|=4)}else E=(v.nodeType===9?v:v.ownerDocument).createTextNode(E),E[Ua]=f,f.stateNode=E}return Ti(f),null;case 13:if(qn(or),E=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(er&&Bo!==null&&(f.mode&1)!==0&&(f.flags&128)===0)wj(),Fp(),f.flags|=98560,O=!1;else if(O=I_(f),E!==null&&E.dehydrated!==null){if(u===null){if(!O)throw Error(n(318));if(O=f.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(n(317));O[Ua]=f}else Fp(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Ti(f),O=!1}else na!==null&&(wA(na),na=null),O=!0;if(!O)return f.flags&65536?f:null}return(f.flags&128)!==0?(f.lanes=v,f):(E=E!==null,E!==(u!==null&&u.memoizedState!==null)&&E&&(f.child.flags|=8192,(f.mode&1)!==0&&(u===null||(or.current&1)!==0?Hr===0&&(Hr=3):TA())),f.updateQueue!==null&&(f.flags|=4),Ti(f),null);case 4:return Hp(),dA(u,f),u===null&&my(f.stateNode.containerInfo),Ti(f),null;case 10:return U1(f.type._context),Ti(f),null;case 17:return mo(f.type)&&__(),Ti(f),null;case 19:if(qn(or),O=f.memoizedState,O===null)return Ti(f),null;if(E=(f.flags&128)!==0,F=O.rendering,F===null)if(E)xy(O,!1);else{if(Hr!==0||u!==null&&(u.flags&128)!==0)for(u=f.child;u!==null;){if(F=O_(u),F!==null){for(f.flags|=128,xy(O,!1),E=F.updateQueue,E!==null&&(f.updateQueue=E,f.flags|=4),f.subtreeFlags=0,E=v,v=f.child;v!==null;)O=v,u=E,O.flags&=14680066,F=O.alternate,F===null?(O.childLanes=0,O.lanes=u,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=F.childLanes,O.lanes=F.lanes,O.child=F.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=F.memoizedProps,O.memoizedState=F.memoizedState,O.updateQueue=F.updateQueue,O.type=F.type,u=F.dependencies,O.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),v=v.sibling;return zn(or,or.current&1|2),f.child}u=u.sibling}O.tail!==null&&Xt()>Kp&&(f.flags|=128,E=!0,xy(O,!1),f.lanes=4194304)}else{if(!E)if(u=O_(F),u!==null){if(f.flags|=128,E=!0,v=u.updateQueue,v!==null&&(f.updateQueue=v,f.flags|=4),xy(O,!0),O.tail===null&&O.tailMode==="hidden"&&!F.alternate&&!er)return Ti(f),null}else 2*Xt()-O.renderingStartTime>Kp&&v!==1073741824&&(f.flags|=128,E=!0,xy(O,!1),f.lanes=4194304);O.isBackwards?(F.sibling=f.child,f.child=F):(v=O.last,v!==null?v.sibling=F:f.child=F,O.last=F)}return O.tail!==null?(f=O.tail,O.rendering=f,O.tail=f.sibling,O.renderingStartTime=Xt(),f.sibling=null,v=or.current,zn(or,E?v&1|2:v&1),f):(Ti(f),null);case 22:case 23:return EA(),E=f.memoizedState!==null,u!==null&&u.memoizedState!==null!==E&&(f.flags|=8192),E&&(f.mode&1)!==0?(Vo&1073741824)!==0&&(Ti(f),f.subtreeFlags&6&&(f.flags|=8192)):Ti(f),null;case 24:return null;case 25:return null}throw Error(n(156,f.tag))}function are(u,f){switch(N1(f),f.tag){case 1:return mo(f.type)&&__(),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return Hp(),qn(po),qn(Si),K1(),u=f.flags,(u&65536)!==0&&(u&128)===0?(f.flags=u&-65537|128,f):null;case 5:return $1(f),null;case 13:if(qn(or),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(n(340));Fp()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return qn(or),null;case 4:return Hp(),null;case 10:return U1(f.type._context),null;case 22:case 23:return EA(),null;case 24:return null;default:return null}}var V_=!1,Ii=!1,cre=typeof WeakSet=="function"?WeakSet:Set,yt=null;function $p(u,f){var v=u.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(E){hr(u,f,E)}else v.current=null}function fA(u,f,v){try{v()}catch(E){hr(u,f,E)}}var CF=!1;function lre(u,f){if(E1=Cp,u=Z3(),g1(u)){if("selectionStart"in u)var v={start:u.selectionStart,end:u.selectionEnd};else e:{v=(v=u.ownerDocument)&&v.defaultView||window;var E=v.getSelection&&v.getSelection();if(E&&E.rangeCount!==0){v=E.anchorNode;var x=E.anchorOffset,O=E.focusNode;E=E.focusOffset;try{v.nodeType,O.nodeType}catch{v=null;break e}var F=0,X=-1,ie=-1,we=0,He=0,Ge=u,Ue=null;t:for(;;){for(var gt;Ge!==v||x!==0&&Ge.nodeType!==3||(X=F+x),Ge!==O||E!==0&&Ge.nodeType!==3||(ie=F+E),Ge.nodeType===3&&(F+=Ge.nodeValue.length),(gt=Ge.firstChild)!==null;)Ue=Ge,Ge=gt;for(;;){if(Ge===u)break t;if(Ue===v&&++we===x&&(X=F),Ue===O&&++He===E&&(ie=F),(gt=Ge.nextSibling)!==null)break;Ge=Ue,Ue=Ge.parentNode}Ge=gt}v=X===-1||ie===-1?null:{start:X,end:ie}}else v=null}v=v||{start:0,end:0}}else v=null;for(T1={focusedElem:u,selectionRange:v},Cp=!1,yt=f;yt!==null;)if(f=yt,u=f.child,(f.subtreeFlags&1028)!==0&&u!==null)u.return=f,yt=u;else for(;yt!==null;){f=yt;try{var Ct=f.alternate;if((f.flags&1024)!==0)switch(f.tag){case 0:case 11:case 15:break;case 1:if(Ct!==null){var wt=Ct.memoizedProps,Sr=Ct.memoizedState,me=f.stateNode,ce=me.getSnapshotBeforeUpdate(f.elementType===f.type?wt:ra(f.type,wt),Sr);me.__reactInternalSnapshotBeforeUpdate=ce}break;case 3:var ve=f.stateNode.containerInfo;ve.nodeType===1?ve.textContent="":ve.nodeType===9&&ve.documentElement&&ve.removeChild(ve.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(nt){hr(f,f.return,nt)}if(u=f.sibling,u!==null){u.return=f.return,yt=u;break}yt=f.return}return Ct=CF,CF=!1,Ct}function Ay(u,f,v){var E=f.updateQueue;if(E=E!==null?E.lastEffect:null,E!==null){var x=E=E.next;do{if((x.tag&u)===u){var O=x.destroy;x.destroy=void 0,O!==void 0&&fA(f,v,O)}x=x.next}while(x!==E)}}function H_(u,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var v=f=f.next;do{if((v.tag&u)===u){var E=v.create;v.destroy=E()}v=v.next}while(v!==f)}}function hA(u){var f=u.ref;if(f!==null){var v=u.stateNode;switch(u.tag){case 5:u=v;break;default:u=v}typeof f=="function"?f(u):f.current=u}}function _F(u){var f=u.alternate;f!==null&&(u.alternate=null,_F(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&(delete f[Ua],delete f[vy],delete f[k1],delete f[Wne],delete f[Kne])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function wF(u){return u.tag===5||u.tag===3||u.tag===4}function SF(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||wF(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function pA(u,f,v){var E=u.tag;if(E===5||E===6)u=u.stateNode,f?v.nodeType===8?v.parentNode.insertBefore(u,f):v.insertBefore(u,f):(v.nodeType===8?(f=v.parentNode,f.insertBefore(u,v)):(f=v,f.appendChild(u)),v=v._reactRootContainer,v!=null||f.onclick!==null||(f.onclick=b_));else if(E!==4&&(u=u.child,u!==null))for(pA(u,f,v),u=u.sibling;u!==null;)pA(u,f,v),u=u.sibling}function mA(u,f,v){var E=u.tag;if(E===5||E===6)u=u.stateNode,f?v.insertBefore(u,f):v.appendChild(u);else if(E!==4&&(u=u.child,u!==null))for(mA(u,f,v),u=u.sibling;u!==null;)mA(u,f,v),u=u.sibling}var li=null,ia=!1;function fu(u,f,v){for(v=v.child;v!==null;)EF(u,f,v),v=v.sibling}function EF(u,f,v){if(gs&&typeof gs.onCommitFiberUnmount=="function")try{gs.onCommitFiberUnmount(mp,v)}catch{}switch(v.tag){case 5:Ii||$p(v,f);case 6:var E=li,x=ia;li=null,fu(u,f,v),li=E,ia=x,li!==null&&(ia?(u=li,v=v.stateNode,u.nodeType===8?u.parentNode.removeChild(v):u.removeChild(v)):li.removeChild(v.stateNode));break;case 18:li!==null&&(ia?(u=li,v=v.stateNode,u.nodeType===8?A1(u.parentNode,v):u.nodeType===1&&A1(u,v),Wd(u)):A1(li,v.stateNode));break;case 4:E=li,x=ia,li=v.stateNode.containerInfo,ia=!0,fu(u,f,v),li=E,ia=x;break;case 0:case 11:case 14:case 15:if(!Ii&&(E=v.updateQueue,E!==null&&(E=E.lastEffect,E!==null))){x=E=E.next;do{var O=x,F=O.destroy;O=O.tag,F!==void 0&&((O&2)!==0||(O&4)!==0)&&fA(v,f,F),x=x.next}while(x!==E)}fu(u,f,v);break;case 1:if(!Ii&&($p(v,f),E=v.stateNode,typeof E.componentWillUnmount=="function"))try{E.props=v.memoizedProps,E.state=v.memoizedState,E.componentWillUnmount()}catch(X){hr(v,f,X)}fu(u,f,v);break;case 21:fu(u,f,v);break;case 22:v.mode&1?(Ii=(E=Ii)||v.memoizedState!==null,fu(u,f,v),Ii=E):fu(u,f,v);break;default:fu(u,f,v)}}function TF(u){var f=u.updateQueue;if(f!==null){u.updateQueue=null;var v=u.stateNode;v===null&&(v=u.stateNode=new cre),f.forEach(function(E){var x=yre.bind(null,u,E);v.has(E)||(v.add(E),E.then(x,x))})}}function oa(u,f){var v=f.deletions;if(v!==null)for(var E=0;E<v.length;E++){var x=v[E];try{var O=u,F=f,X=F;e:for(;X!==null;){switch(X.tag){case 5:li=X.stateNode,ia=!1;break e;case 3:li=X.stateNode.containerInfo,ia=!0;break e;case 4:li=X.stateNode.containerInfo,ia=!0;break e}X=X.return}if(li===null)throw Error(n(160));EF(O,F,x),li=null,ia=!1;var ie=x.alternate;ie!==null&&(ie.return=null),x.return=null}catch(we){hr(x,f,we)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)IF(f,u),f=f.sibling}function IF(u,f){var v=u.alternate,E=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(oa(f,u),Ha(u),E&4){try{Ay(3,u,u.return),H_(3,u)}catch(wt){hr(u,u.return,wt)}try{Ay(5,u,u.return)}catch(wt){hr(u,u.return,wt)}}break;case 1:oa(f,u),Ha(u),E&512&&v!==null&&$p(v,v.return);break;case 5:if(oa(f,u),Ha(u),E&512&&v!==null&&$p(v,v.return),u.flags&32){var x=u.stateNode;try{et(x,"")}catch(wt){hr(u,u.return,wt)}}if(E&4&&(x=u.stateNode,x!=null)){var O=u.memoizedProps,F=v!==null?v.memoizedProps:O,X=u.type,ie=u.updateQueue;if(u.updateQueue=null,ie!==null)try{X==="input"&&O.type==="radio"&&O.name!=null&&ge(x,O),it(X,F);var we=it(X,O);for(F=0;F<ie.length;F+=2){var He=ie[F],Ge=ie[F+1];He==="style"?Fe(x,Ge):He==="dangerouslySetInnerHTML"?Ye(x,Ge):He==="children"?et(x,Ge):I(x,He,Ge,we)}switch(X){case"input":Ee(x,O);break;case"textarea":qe(x,O);break;case"select":var Ue=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!O.multiple;var gt=O.value;gt!=null?De(x,!!O.multiple,gt,!1):Ue!==!!O.multiple&&(O.defaultValue!=null?De(x,!!O.multiple,O.defaultValue,!0):De(x,!!O.multiple,O.multiple?[]:"",!1))}x[vy]=O}catch(wt){hr(u,u.return,wt)}}break;case 6:if(oa(f,u),Ha(u),E&4){if(u.stateNode===null)throw Error(n(162));x=u.stateNode,O=u.memoizedProps;try{x.nodeValue=O}catch(wt){hr(u,u.return,wt)}}break;case 3:if(oa(f,u),Ha(u),E&4&&v!==null&&v.memoizedState.isDehydrated)try{Wd(f.containerInfo)}catch(wt){hr(u,u.return,wt)}break;case 4:oa(f,u),Ha(u);break;case 13:oa(f,u),Ha(u),x=u.child,x.flags&8192&&(O=x.memoizedState!==null,x.stateNode.isHidden=O,!O||x.alternate!==null&&x.alternate.memoizedState!==null||(yA=Xt())),E&4&&TF(u);break;case 22:if(He=v!==null&&v.memoizedState!==null,u.mode&1?(Ii=(we=Ii)||He,oa(f,u),Ii=we):oa(f,u),Ha(u),E&8192){if(we=u.memoizedState!==null,(u.stateNode.isHidden=we)&&!He&&(u.mode&1)!==0)for(yt=u,He=u.child;He!==null;){for(Ge=yt=He;yt!==null;){switch(Ue=yt,gt=Ue.child,Ue.tag){case 0:case 11:case 14:case 15:Ay(4,Ue,Ue.return);break;case 1:$p(Ue,Ue.return);var Ct=Ue.stateNode;if(typeof Ct.componentWillUnmount=="function"){E=Ue,v=Ue.return;try{f=E,Ct.props=f.memoizedProps,Ct.state=f.memoizedState,Ct.componentWillUnmount()}catch(wt){hr(E,v,wt)}}break;case 5:$p(Ue,Ue.return);break;case 22:if(Ue.memoizedState!==null){kF(Ge);continue}}gt!==null?(gt.return=Ue,yt=gt):kF(Ge)}He=He.sibling}e:for(He=null,Ge=u;;){if(Ge.tag===5){if(He===null){He=Ge;try{x=Ge.stateNode,we?(O=x.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(X=Ge.stateNode,ie=Ge.memoizedProps.style,F=ie!=null&&ie.hasOwnProperty("display")?ie.display:null,X.style.display=Me("display",F))}catch(wt){hr(u,u.return,wt)}}}else if(Ge.tag===6){if(He===null)try{Ge.stateNode.nodeValue=we?"":Ge.memoizedProps}catch(wt){hr(u,u.return,wt)}}else if((Ge.tag!==22&&Ge.tag!==23||Ge.memoizedState===null||Ge===u)&&Ge.child!==null){Ge.child.return=Ge,Ge=Ge.child;continue}if(Ge===u)break e;for(;Ge.sibling===null;){if(Ge.return===null||Ge.return===u)break e;He===Ge&&(He=null),Ge=Ge.return}He===Ge&&(He=null),Ge.sibling.return=Ge.return,Ge=Ge.sibling}}break;case 19:oa(f,u),Ha(u),E&4&&TF(u);break;case 21:break;default:oa(f,u),Ha(u)}}function Ha(u){var f=u.flags;if(f&2){try{e:{for(var v=u.return;v!==null;){if(wF(v)){var E=v;break e}v=v.return}throw Error(n(160))}switch(E.tag){case 5:var x=E.stateNode;E.flags&32&&(et(x,""),E.flags&=-33);var O=SF(u);mA(u,O,x);break;case 3:case 4:var F=E.stateNode.containerInfo,X=SF(u);pA(u,X,F);break;default:throw Error(n(161))}}catch(ie){hr(u,u.return,ie)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function ure(u,f,v){yt=u,xF(u)}function xF(u,f,v){for(var E=(u.mode&1)!==0;yt!==null;){var x=yt,O=x.child;if(x.tag===22&&E){var F=x.memoizedState!==null||V_;if(!F){var X=x.alternate,ie=X!==null&&X.memoizedState!==null||Ii;X=V_;var we=Ii;if(V_=F,(Ii=ie)&&!we)for(yt=x;yt!==null;)F=yt,ie=F.child,F.tag===22&&F.memoizedState!==null?RF(x):ie!==null?(ie.return=F,yt=ie):RF(x);for(;O!==null;)yt=O,xF(O),O=O.sibling;yt=x,V_=X,Ii=we}AF(u)}else(x.subtreeFlags&8772)!==0&&O!==null?(O.return=x,yt=O):AF(u)}}function AF(u){for(;yt!==null;){var f=yt;if((f.flags&8772)!==0){var v=f.alternate;try{if((f.flags&8772)!==0)switch(f.tag){case 0:case 11:case 15:Ii||H_(5,f);break;case 1:var E=f.stateNode;if(f.flags&4&&!Ii)if(v===null)E.componentDidMount();else{var x=f.elementType===f.type?v.memoizedProps:ra(f.type,v.memoizedProps);E.componentDidUpdate(x,v.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var O=f.updateQueue;O!==null&&kj(f,O,E);break;case 3:var F=f.updateQueue;if(F!==null){if(v=null,f.child!==null)switch(f.child.tag){case 5:v=f.child.stateNode;break;case 1:v=f.child.stateNode}kj(f,F,v)}break;case 5:var X=f.stateNode;if(v===null&&f.flags&4){v=X;var ie=f.memoizedProps;switch(f.type){case"button":case"input":case"select":case"textarea":ie.autoFocus&&v.focus();break;case"img":ie.src&&(v.src=ie.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(f.memoizedState===null){var we=f.alternate;if(we!==null){var He=we.memoizedState;if(He!==null){var Ge=He.dehydrated;Ge!==null&&Wd(Ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ii||f.flags&512&&hA(f)}catch(Ue){hr(f,f.return,Ue)}}if(f===u){yt=null;break}if(v=f.sibling,v!==null){v.return=f.return,yt=v;break}yt=f.return}}function kF(u){for(;yt!==null;){var f=yt;if(f===u){yt=null;break}var v=f.sibling;if(v!==null){v.return=f.return,yt=v;break}yt=f.return}}function RF(u){for(;yt!==null;){var f=yt;try{switch(f.tag){case 0:case 11:case 15:var v=f.return;try{H_(4,f)}catch(ie){hr(f,v,ie)}break;case 1:var E=f.stateNode;if(typeof E.componentDidMount=="function"){var x=f.return;try{E.componentDidMount()}catch(ie){hr(f,x,ie)}}var O=f.return;try{hA(f)}catch(ie){hr(f,O,ie)}break;case 5:var F=f.return;try{hA(f)}catch(ie){hr(f,F,ie)}}}catch(ie){hr(f,f.return,ie)}if(f===u){yt=null;break}var X=f.sibling;if(X!==null){X.return=f.return,yt=X;break}yt=f.return}}var dre=Math.ceil,z_=A.ReactCurrentDispatcher,gA=A.ReactCurrentOwner,Ss=A.ReactCurrentBatchConfig,gn=0,Zr=null,Lr=null,ui=0,Vo=0,Wp=au(0),Hr=0,ky=null,lf=0,$_=0,vA=0,Ry=null,vo=null,yA=0,Kp=1/0,Kc=null,W_=!1,bA=null,hu=null,K_=!1,pu=null,G_=0,Py=0,CA=null,q_=-1,Y_=0;function Hi(){return(gn&6)!==0?Xt():q_!==-1?q_:q_=Xt()}function mu(u){return(u.mode&1)===0?1:(gn&2)!==0&&ui!==0?ui&-ui:qne.transition!==null?(Y_===0&&(Y_=ZC()),Y_):(u=mn,u!==0||(u=window.event,u=u===void 0?16:ny(u.type)),u)}function sa(u,f,v,E){if(50<Py)throw Py=0,CA=null,Error(n(185));$l(u,v,E),((gn&2)===0||u!==Zr)&&(u===Zr&&((gn&2)===0&&($_|=v),Hr===4&&gu(u,ui)),yo(u,E),v===1&&gn===0&&(f.mode&1)===0&&(Kp=Xt()+500,S_&&lu()))}function yo(u,f){var v=u.callbackNode;Vd(u,f);var E=gp(u,u===Zr?ui:0);if(E===0)v!==null&&bt(v),u.callbackNode=null,u.callbackPriority=0;else if(f=E&-E,u.callbackPriority!==f){if(v!=null&&bt(v),f===1)u.tag===0?Gne(OF.bind(null,u)):vj(OF.bind(null,u)),zne(function(){(gn&6)===0&&lu()}),v=null;else{switch(Jv(E)){case 1:v=wi;break;case 4:v=Js;break;case 16:v=fr;break;case 536870912:v=jd;break;default:v=fr}v=BF(v,PF.bind(null,u))}u.callbackPriority=f,u.callbackNode=v}}function PF(u,f){if(q_=-1,Y_=0,(gn&6)!==0)throw Error(n(327));var v=u.callbackNode;if(Gp()&&u.callbackNode!==v)return null;var E=gp(u,u===Zr?ui:0);if(E===0)return null;if((E&30)!==0||(E&u.expiredLanes)!==0||f)f=Q_(u,E);else{f=E;var x=gn;gn|=2;var O=MF();(Zr!==u||ui!==f)&&(Kc=null,Kp=Xt()+500,df(u,f));do try{pre();break}catch(X){NF(u,X)}while(!0);F1(),z_.current=O,gn=x,Lr!==null?f=0:(Zr=null,ui=0,f=Hr)}if(f!==0){if(f===2&&(x=Qv(u),x!==0&&(E=x,f=_A(u,x))),f===1)throw v=ky,df(u,0),gu(u,E),yo(u,Xt()),v;if(f===6)gu(u,E);else{if(x=u.current.alternate,(E&30)===0&&!fre(x)&&(f=Q_(u,E),f===2&&(O=Qv(u),O!==0&&(E=O,f=_A(u,O))),f===1))throw v=ky,df(u,0),gu(u,E),yo(u,Xt()),v;switch(u.finishedWork=x,u.finishedLanes=E,f){case 0:case 1:throw Error(n(345));case 2:ff(u,vo,Kc);break;case 3:if(gu(u,E),(E&130023424)===E&&(f=yA+500-Xt(),10<f)){if(gp(u,0)!==0)break;if(x=u.suspendedLanes,(x&E)!==E){Hi(),u.pingedLanes|=u.suspendedLanes&x;break}u.timeoutHandle=x1(ff.bind(null,u,vo,Kc),f);break}ff(u,vo,Kc);break;case 4:if(gu(u,E),(E&4194240)===E)break;for(f=u.eventTimes,x=-1;0<E;){var F=31-Lo(E);O=1<<F,F=f[F],F>x&&(x=F),E&=~O}if(E=x,E=Xt()-E,E=(120>E?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*dre(E/1960))-E,10<E){u.timeoutHandle=x1(ff.bind(null,u,vo,Kc),E);break}ff(u,vo,Kc);break;case 5:ff(u,vo,Kc);break;default:throw Error(n(329))}}}return yo(u,Xt()),u.callbackNode===v?PF.bind(null,u):null}function _A(u,f){var v=Ry;return u.current.memoizedState.isDehydrated&&(df(u,f).flags|=256),u=Q_(u,f),u!==2&&(f=vo,vo=v,f!==null&&wA(f)),u}function wA(u){vo===null?vo=u:vo.push.apply(vo,u)}function fre(u){for(var f=u;;){if(f.flags&16384){var v=f.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var E=0;E<v.length;E++){var x=v[E],O=x.getSnapshot;x=x.value;try{if(!ho(O(),x))return!1}catch{return!1}}}if(v=f.child,f.subtreeFlags&16384&&v!==null)v.return=f,f=v;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function gu(u,f){for(f&=~vA,f&=~$_,u.suspendedLanes|=f,u.pingedLanes&=~f,u=u.expirationTimes;0<f;){var v=31-Lo(f),E=1<<v;u[v]=-1,f&=~E}}function OF(u){if((gn&6)!==0)throw Error(n(327));Gp();var f=gp(u,0);if((f&1)===0)return yo(u,Xt()),null;var v=Q_(u,f);if(u.tag!==0&&v===2){var E=Qv(u);E!==0&&(f=E,v=_A(u,E))}if(v===1)throw v=ky,df(u,0),gu(u,f),yo(u,Xt()),v;if(v===6)throw Error(n(345));return u.finishedWork=u.current.alternate,u.finishedLanes=f,ff(u,vo,Kc),yo(u,Xt()),null}function SA(u,f){var v=gn;gn|=1;try{return u(f)}finally{gn=v,gn===0&&(Kp=Xt()+500,S_&&lu())}}function uf(u){pu!==null&&pu.tag===0&&(gn&6)===0&&Gp();var f=gn;gn|=1;var v=Ss.transition,E=mn;try{if(Ss.transition=null,mn=1,u)return u()}finally{mn=E,Ss.transition=v,gn=f,(gn&6)===0&&lu()}}function EA(){Vo=Wp.current,qn(Wp)}function df(u,f){u.finishedWork=null,u.finishedLanes=0;var v=u.timeoutHandle;if(v!==-1&&(u.timeoutHandle=-1,Hne(v)),Lr!==null)for(v=Lr.return;v!==null;){var E=v;switch(N1(E),E.tag){case 1:E=E.type.childContextTypes,E!=null&&__();break;case 3:Hp(),qn(po),qn(Si),K1();break;case 5:$1(E);break;case 4:Hp();break;case 13:qn(or);break;case 19:qn(or);break;case 10:U1(E.type._context);break;case 22:case 23:EA()}v=v.return}if(Zr=u,Lr=u=vu(u.current,null),ui=Vo=f,Hr=0,ky=null,vA=$_=lf=0,vo=Ry=null,sf!==null){for(f=0;f<sf.length;f++)if(v=sf[f],E=v.interleaved,E!==null){v.interleaved=null;var x=E.next,O=v.pending;if(O!==null){var F=O.next;O.next=x,E.next=F}v.pending=E}sf=null}return u}function NF(u,f){do{var v=Lr;try{if(F1(),N_.current=j_,M_){for(var E=sr.memoizedState;E!==null;){var x=E.queue;x!==null&&(x.pending=null),E=E.next}M_=!1}if(cf=0,Xr=Vr=sr=null,Sy=!1,Ey=0,gA.current=null,v===null||v.return===null){Hr=1,ky=f,Lr=null;break}e:{var O=u,F=v.return,X=v,ie=f;if(f=ui,X.flags|=32768,ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var we=ie,He=X,Ge=He.tag;if((He.mode&1)===0&&(Ge===0||Ge===11||Ge===15)){var Ue=He.alternate;Ue?(He.updateQueue=Ue.updateQueue,He.memoizedState=Ue.memoizedState,He.lanes=Ue.lanes):(He.updateQueue=null,He.memoizedState=null)}var gt=iF(F);if(gt!==null){gt.flags&=-257,oF(gt,F,X,O,f),gt.mode&1&&rF(O,we,f),f=gt,ie=we;var Ct=f.updateQueue;if(Ct===null){var wt=new Set;wt.add(ie),f.updateQueue=wt}else Ct.add(ie);break e}else{if((f&1)===0){rF(O,we,f),TA();break e}ie=Error(n(426))}}else if(er&&X.mode&1){var Sr=iF(F);if(Sr!==null){(Sr.flags&65536)===0&&(Sr.flags|=256),oF(Sr,F,X,O,f),D1(zp(ie,X));break e}}O=ie=zp(ie,X),Hr!==4&&(Hr=2),Ry===null?Ry=[O]:Ry.push(O),O=F;do{switch(O.tag){case 3:O.flags|=65536,f&=-f,O.lanes|=f;var me=tF(O,ie,f);Aj(O,me);break e;case 1:X=ie;var ce=O.type,ve=O.stateNode;if((O.flags&128)===0&&(typeof ce.getDerivedStateFromError=="function"||ve!==null&&typeof ve.componentDidCatch=="function"&&(hu===null||!hu.has(ve)))){O.flags|=65536,f&=-f,O.lanes|=f;var nt=nF(O,X,f);Aj(O,nt);break e}}O=O.return}while(O!==null)}DF(v)}catch(It){f=It,Lr===v&&v!==null&&(Lr=v=v.return);continue}break}while(!0)}function MF(){var u=z_.current;return z_.current=j_,u===null?j_:u}function TA(){(Hr===0||Hr===3||Hr===2)&&(Hr=4),Zr===null||(lf&268435455)===0&&($_&268435455)===0||gu(Zr,ui)}function Q_(u,f){var v=gn;gn|=2;var E=MF();(Zr!==u||ui!==f)&&(Kc=null,df(u,f));do try{hre();break}catch(x){NF(u,x)}while(!0);if(F1(),gn=v,z_.current=E,Lr!==null)throw Error(n(261));return Zr=null,ui=0,Hr}function hre(){for(;Lr!==null;)LF(Lr)}function pre(){for(;Lr!==null&&!Pn();)LF(Lr)}function LF(u){var f=UF(u.alternate,u,Vo);u.memoizedProps=u.pendingProps,f===null?DF(u):Lr=f,gA.current=null}function DF(u){var f=u;do{var v=f.alternate;if(u=f.return,(f.flags&32768)===0){if(v=sre(v,f,Vo),v!==null){Lr=v;return}}else{if(v=are(v,f),v!==null){v.flags&=32767,Lr=v;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Hr=6,Lr=null;return}}if(f=f.sibling,f!==null){Lr=f;return}Lr=f=u}while(f!==null);Hr===0&&(Hr=5)}function ff(u,f,v){var E=mn,x=Ss.transition;try{Ss.transition=null,mn=1,mre(u,f,v,E)}finally{Ss.transition=x,mn=E}return null}function mre(u,f,v,E){do Gp();while(pu!==null);if((gn&6)!==0)throw Error(n(327));v=u.finishedWork;var x=u.finishedLanes;if(v===null)return null;if(u.finishedWork=null,u.finishedLanes=0,v===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0;var O=v.lanes|v.childLanes;if(Zv(u,O),u===Zr&&(Lr=Zr=null,ui=0),(v.subtreeFlags&2064)===0&&(v.flags&2064)===0||K_||(K_=!0,BF(fr,function(){return Gp(),null})),O=(v.flags&15990)!==0,(v.subtreeFlags&15990)!==0||O){O=Ss.transition,Ss.transition=null;var F=mn;mn=1;var X=gn;gn|=4,gA.current=null,lre(u,v),IF(v,u),Lne(T1),Cp=!!E1,T1=E1=null,u.current=v,ure(v),Mr(),gn=X,mn=F,Ss.transition=O}else u.current=v;if(K_&&(K_=!1,pu=u,G_=x),O=u.pendingLanes,O===0&&(hu=null),Jx(v.stateNode),yo(u,Xt()),f!==null)for(E=u.onRecoverableError,v=0;v<f.length;v++)x=f[v],E(x.value,{componentStack:x.stack,digest:x.digest});if(W_)throw W_=!1,u=bA,bA=null,u;return(G_&1)!==0&&u.tag!==0&&Gp(),O=u.pendingLanes,(O&1)!==0?u===CA?Py++:(Py=0,CA=u):Py=0,lu(),null}function Gp(){if(pu!==null){var u=Jv(G_),f=Ss.transition,v=mn;try{if(Ss.transition=null,mn=16>u?16:u,pu===null)var E=!1;else{if(u=pu,pu=null,G_=0,(gn&6)!==0)throw Error(n(331));var x=gn;for(gn|=4,yt=u.current;yt!==null;){var O=yt,F=O.child;if((yt.flags&16)!==0){var X=O.deletions;if(X!==null){for(var ie=0;ie<X.length;ie++){var we=X[ie];for(yt=we;yt!==null;){var He=yt;switch(He.tag){case 0:case 11:case 15:Ay(8,He,O)}var Ge=He.child;if(Ge!==null)Ge.return=He,yt=Ge;else for(;yt!==null;){He=yt;var Ue=He.sibling,gt=He.return;if(_F(He),He===we){yt=null;break}if(Ue!==null){Ue.return=gt,yt=Ue;break}yt=gt}}}var Ct=O.alternate;if(Ct!==null){var wt=Ct.child;if(wt!==null){Ct.child=null;do{var Sr=wt.sibling;wt.sibling=null,wt=Sr}while(wt!==null)}}yt=O}}if((O.subtreeFlags&2064)!==0&&F!==null)F.return=O,yt=F;else e:for(;yt!==null;){if(O=yt,(O.flags&2048)!==0)switch(O.tag){case 0:case 11:case 15:Ay(9,O,O.return)}var me=O.sibling;if(me!==null){me.return=O.return,yt=me;break e}yt=O.return}}var ce=u.current;for(yt=ce;yt!==null;){F=yt;var ve=F.child;if((F.subtreeFlags&2064)!==0&&ve!==null)ve.return=F,yt=ve;else e:for(F=ce;yt!==null;){if(X=yt,(X.flags&2048)!==0)try{switch(X.tag){case 0:case 11:case 15:H_(9,X)}}catch(It){hr(X,X.return,It)}if(X===F){yt=null;break e}var nt=X.sibling;if(nt!==null){nt.return=X.return,yt=nt;break e}yt=X.return}}if(gn=x,lu(),gs&&typeof gs.onPostCommitFiberRoot=="function")try{gs.onPostCommitFiberRoot(mp,u)}catch{}E=!0}return E}finally{mn=v,Ss.transition=f}}return!1}function jF(u,f,v){f=zp(v,f),f=tF(u,f,1),u=du(u,f,1),f=Hi(),u!==null&&($l(u,1,f),yo(u,f))}function hr(u,f,v){if(u.tag===3)jF(u,u,v);else for(;f!==null;){if(f.tag===3){jF(f,u,v);break}else if(f.tag===1){var E=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(hu===null||!hu.has(E))){u=zp(v,u),u=nF(f,u,1),f=du(f,u,1),u=Hi(),f!==null&&($l(f,1,u),yo(f,u));break}}f=f.return}}function gre(u,f,v){var E=u.pingCache;E!==null&&E.delete(f),f=Hi(),u.pingedLanes|=u.suspendedLanes&v,Zr===u&&(ui&v)===v&&(Hr===4||Hr===3&&(ui&130023424)===ui&&500>Xt()-yA?df(u,0):vA|=v),yo(u,f)}function FF(u,f){f===0&&((u.mode&1)===0?f=1:(f=Ud,Ud<<=1,(Ud&130023424)===0&&(Ud=4194304)));var v=Hi();u=zc(u,f),u!==null&&($l(u,f,v),yo(u,v))}function vre(u){var f=u.memoizedState,v=0;f!==null&&(v=f.retryLane),FF(u,v)}function yre(u,f){var v=0;switch(u.tag){case 13:var E=u.stateNode,x=u.memoizedState;x!==null&&(v=x.retryLane);break;case 19:E=u.stateNode;break;default:throw Error(n(314))}E!==null&&E.delete(f),FF(u,v)}var UF;UF=function(u,f,v){if(u!==null)if(u.memoizedProps!==f.pendingProps||po.current)go=!0;else{if((u.lanes&v)===0&&(f.flags&128)===0)return go=!1,ore(u,f,v);go=(u.flags&131072)!==0}else go=!1,er&&(f.flags&1048576)!==0&&yj(f,T_,f.index);switch(f.lanes=0,f.tag){case 2:var E=f.type;B_(u,f),u=f.pendingProps;var x=Lp(f,Si.current);Vp(f,v),x=Y1(null,f,E,u,x,v);var O=Q1();return f.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,mo(E)?(O=!0,w_(f)):O=!1,f.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,H1(f),x.updater=F_,f.stateNode=x,x._reactInternals=f,nA(f,E,u,v),f=sA(null,f,E,!0,O,v)):(f.tag=0,er&&O&&O1(f),Vi(null,f,x,v),f=f.child),f;case 16:E=f.elementType;e:{switch(B_(u,f),u=f.pendingProps,x=E._init,E=x(E._payload),f.type=E,x=f.tag=Cre(E),u=ra(E,u),x){case 0:f=oA(null,f,E,u,v);break e;case 1:f=dF(null,f,E,u,v);break e;case 11:f=sF(null,f,E,u,v);break e;case 14:f=aF(null,f,E,ra(E.type,u),v);break e}throw Error(n(306,E,""))}return f;case 0:return E=f.type,x=f.pendingProps,x=f.elementType===E?x:ra(E,x),oA(u,f,E,x,v);case 1:return E=f.type,x=f.pendingProps,x=f.elementType===E?x:ra(E,x),dF(u,f,E,x,v);case 3:e:{if(fF(f),u===null)throw Error(n(387));E=f.pendingProps,O=f.memoizedState,x=O.element,xj(u,f),P_(f,E,null,v);var F=f.memoizedState;if(E=F.element,O.isDehydrated)if(O={element:E,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},f.updateQueue.baseState=O,f.memoizedState=O,f.flags&256){x=zp(Error(n(423)),f),f=hF(u,f,E,v,x);break e}else if(E!==x){x=zp(Error(n(424)),f),f=hF(u,f,E,v,x);break e}else for(Bo=su(f.stateNode.containerInfo.firstChild),Uo=f,er=!0,na=null,v=Tj(f,null,E,v),f.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Fp(),E===x){f=Wc(u,f,v);break e}Vi(u,f,E,v)}f=f.child}return f;case 5:return Rj(f),u===null&&L1(f),E=f.type,x=f.pendingProps,O=u!==null?u.memoizedProps:null,F=x.children,I1(E,x)?F=null:O!==null&&I1(E,O)&&(f.flags|=32),uF(u,f),Vi(u,f,F,v),f.child;case 6:return u===null&&L1(f),null;case 13:return pF(u,f,v);case 4:return z1(f,f.stateNode.containerInfo),E=f.pendingProps,u===null?f.child=Up(f,null,E,v):Vi(u,f,E,v),f.child;case 11:return E=f.type,x=f.pendingProps,x=f.elementType===E?x:ra(E,x),sF(u,f,E,x,v);case 7:return Vi(u,f,f.pendingProps,v),f.child;case 8:return Vi(u,f,f.pendingProps.children,v),f.child;case 12:return Vi(u,f,f.pendingProps.children,v),f.child;case 10:e:{if(E=f.type._context,x=f.pendingProps,O=f.memoizedProps,F=x.value,zn(A_,E._currentValue),E._currentValue=F,O!==null)if(ho(O.value,F)){if(O.children===x.children&&!po.current){f=Wc(u,f,v);break e}}else for(O=f.child,O!==null&&(O.return=f);O!==null;){var X=O.dependencies;if(X!==null){F=O.child;for(var ie=X.firstContext;ie!==null;){if(ie.context===E){if(O.tag===1){ie=$c(-1,v&-v),ie.tag=2;var we=O.updateQueue;if(we!==null){we=we.shared;var He=we.pending;He===null?ie.next=ie:(ie.next=He.next,He.next=ie),we.pending=ie}}O.lanes|=v,ie=O.alternate,ie!==null&&(ie.lanes|=v),B1(O.return,v,f),X.lanes|=v;break}ie=ie.next}}else if(O.tag===10)F=O.type===f.type?null:O.child;else if(O.tag===18){if(F=O.return,F===null)throw Error(n(341));F.lanes|=v,X=F.alternate,X!==null&&(X.lanes|=v),B1(F,v,f),F=O.sibling}else F=O.child;if(F!==null)F.return=O;else for(F=O;F!==null;){if(F===f){F=null;break}if(O=F.sibling,O!==null){O.return=F.return,F=O;break}F=F.return}O=F}Vi(u,f,x.children,v),f=f.child}return f;case 9:return x=f.type,E=f.pendingProps.children,Vp(f,v),x=_s(x),E=E(x),f.flags|=1,Vi(u,f,E,v),f.child;case 14:return E=f.type,x=ra(E,f.pendingProps),x=ra(E.type,x),aF(u,f,E,x,v);case 15:return cF(u,f,f.type,f.pendingProps,v);case 17:return E=f.type,x=f.pendingProps,x=f.elementType===E?x:ra(E,x),B_(u,f),f.tag=1,mo(E)?(u=!0,w_(f)):u=!1,Vp(f,v),Jj(f,E,x),nA(f,E,x,v),sA(null,f,E,!0,u,v);case 19:return gF(u,f,v);case 22:return lF(u,f,v)}throw Error(n(156,f.tag))};function BF(u,f){return Ve(u,f)}function bre(u,f,v,E){this.tag=u,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Es(u,f,v,E){return new bre(u,f,v,E)}function IA(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Cre(u){if(typeof u=="function")return IA(u)?1:0;if(u!=null){if(u=u.$$typeof,u===U)return 11;if(u===L)return 14}return 2}function vu(u,f){var v=u.alternate;return v===null?(v=Es(u.tag,f,u.key,u.mode),v.elementType=u.elementType,v.type=u.type,v.stateNode=u.stateNode,v.alternate=u,u.alternate=v):(v.pendingProps=f,v.type=u.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=u.flags&14680064,v.childLanes=u.childLanes,v.lanes=u.lanes,v.child=u.child,v.memoizedProps=u.memoizedProps,v.memoizedState=u.memoizedState,v.updateQueue=u.updateQueue,f=u.dependencies,v.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},v.sibling=u.sibling,v.index=u.index,v.ref=u.ref,v}function X_(u,f,v,E,x,O){var F=2;if(E=u,typeof u=="function")IA(u)&&(F=1);else if(typeof u=="string")F=5;else e:switch(u){case M:return hf(v.children,x,O,f);case P:F=8,x|=8;break;case N:return u=Es(12,v,f,x|2),u.elementType=N,u.lanes=O,u;case W:return u=Es(13,v,f,x),u.elementType=W,u.lanes=O,u;case $:return u=Es(19,v,f,x),u.elementType=$,u.lanes=O,u;case j:return Z_(v,x,O,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case D:F=10;break e;case G:F=9;break e;case U:F=11;break e;case L:F=14;break e;case B:F=16,E=null;break e}throw Error(n(130,u==null?u:typeof u,""))}return f=Es(F,v,f,x),f.elementType=u,f.type=E,f.lanes=O,f}function hf(u,f,v,E){return u=Es(7,u,E,f),u.lanes=v,u}function Z_(u,f,v,E){return u=Es(22,u,E,f),u.elementType=j,u.lanes=v,u.stateNode={isHidden:!1},u}function xA(u,f,v){return u=Es(6,u,null,f),u.lanes=v,u}function AA(u,f,v){return f=Es(4,u.children!==null?u.children:[],u.key,f),f.lanes=v,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function _re(u,f,v,E,x){this.tag=f,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xv(0),this.expirationTimes=Xv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xv(0),this.identifierPrefix=E,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function kA(u,f,v,E,x,O,F,X,ie){return u=new _re(u,f,v,X,ie),f===1?(f=1,O===!0&&(f|=8)):f=0,O=Es(3,null,null,f),u.current=O,O.stateNode=u,O.memoizedState={element:E,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},H1(O),u}function wre(u,f,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:E==null?null:""+E,children:u,containerInfo:f,implementation:v}}function VF(u){if(!u)return cu;u=u._reactInternals;e:{if(uo(u)!==u||u.tag!==1)throw Error(n(170));var f=u;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(mo(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(n(171))}if(u.tag===1){var v=u.type;if(mo(v))return mj(u,v,f)}return f}function HF(u,f,v,E,x,O,F,X,ie){return u=kA(v,E,!0,u,x,O,F,X,ie),u.context=VF(null),v=u.current,E=Hi(),x=mu(v),O=$c(E,x),O.callback=f??null,du(v,O,x),u.current.lanes=x,$l(u,x,E),yo(u,E),u}function J_(u,f,v,E){var x=f.current,O=Hi(),F=mu(x);return v=VF(v),f.context===null?f.context=v:f.pendingContext=v,f=$c(O,F),f.payload={element:u},E=E===void 0?null:E,E!==null&&(f.callback=E),u=du(x,f,F),u!==null&&(sa(u,x,F,O),R_(u,x,F)),F}function ew(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function zF(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var v=u.retryLane;u.retryLane=v!==0&&v<f?v:f}}function RA(u,f){zF(u,f),(u=u.alternate)&&zF(u,f)}function Sre(){return null}var $F=typeof reportError=="function"?reportError:function(u){console.error(u)};function PA(u){this._internalRoot=u}tw.prototype.render=PA.prototype.render=function(u){var f=this._internalRoot;if(f===null)throw Error(n(409));J_(u,f,null,null)},tw.prototype.unmount=PA.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var f=u.containerInfo;uf(function(){J_(null,u,null,null)}),f[Uc]=null}};function tw(u){this._internalRoot=u}tw.prototype.unstable_scheduleHydration=function(u){if(u){var f=Hd();u={blockedOn:null,target:u,priority:f};for(var v=0;v<fo.length&&f!==0&&f<fo[v].priority;v++);fo.splice(v,0,u),v===0&&Yl(u)}};function OA(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function nw(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function WF(){}function Ere(u,f,v,E,x){if(x){if(typeof E=="function"){var O=E;E=function(){var we=ew(F);O.call(we)}}var F=HF(f,E,u,0,null,!1,!1,"",WF);return u._reactRootContainer=F,u[Uc]=F.current,my(u.nodeType===8?u.parentNode:u),uf(),F}for(;x=u.lastChild;)u.removeChild(x);if(typeof E=="function"){var X=E;E=function(){var we=ew(ie);X.call(we)}}var ie=kA(u,0,!1,null,null,!1,!1,"",WF);return u._reactRootContainer=ie,u[Uc]=ie.current,my(u.nodeType===8?u.parentNode:u),uf(function(){J_(f,ie,v,E)}),ie}function rw(u,f,v,E,x){var O=v._reactRootContainer;if(O){var F=O;if(typeof x=="function"){var X=x;x=function(){var ie=ew(F);X.call(ie)}}J_(f,F,u,x)}else F=Ere(v,f,u,x,E);return ew(F)}Lc=function(u){switch(u.tag){case 3:var f=u.stateNode;if(f.current.memoizedState.isDehydrated){var v=Bd(f.pendingLanes);v!==0&&(vp(f,v|1),yo(f,Xt()),(gn&6)===0&&(Kp=Xt()+500,lu()))}break;case 13:uf(function(){var E=zc(u,1);if(E!==null){var x=Hi();sa(E,u,1,x)}}),RA(u,1)}},Dc=function(u){if(u.tag===13){var f=zc(u,134217728);if(f!==null){var v=Hi();sa(f,u,134217728,v)}RA(u,134217728)}},Wl=function(u){if(u.tag===13){var f=mu(u),v=zc(u,f);if(v!==null){var E=Hi();sa(v,u,f,E)}RA(u,f)}},Hd=function(){return mn},ey=function(u,f){var v=mn;try{return mn=u,f()}finally{mn=v}},Ne=function(u,f,v){switch(f){case"input":if(Ee(u,v),f=v.name,v.type==="radio"&&f!=null){for(v=u;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll("input[name="+JSON.stringify(""+f)+'][type="radio"]'),f=0;f<v.length;f++){var E=v[f];if(E!==u&&E.form===u.form){var x=C_(E);if(!x)throw Error(n(90));re(E),Ee(E,x)}}}break;case"textarea":qe(u,v);break;case"select":f=v.value,f!=null&&De(u,!!v.multiple,f,!1)}},Jt=SA,ur=uf;var Tre={usingClientEntryPoint:!1,Events:[yy,Np,C_,Dt,Mt,SA]},Oy={findFiberByHostInstance:tf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ire={bundleType:Oy.bundleType,version:Oy.version,rendererPackageName:Oy.rendererPackageName,rendererConfig:Oy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=Tt(u),u===null?null:u.stateNode},findFiberByHostInstance:Oy.findFiberByHostInstance||Sre,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iw.isDisabled&&iw.supportsFiber)try{mp=iw.inject(Ire),gs=iw}catch{}}return bo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tre,bo.createPortal=function(u,f){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!OA(f))throw Error(n(200));return wre(u,f,null,v)},bo.createRoot=function(u,f){if(!OA(u))throw Error(n(299));var v=!1,E="",x=$F;return f!=null&&(f.unstable_strictMode===!0&&(v=!0),f.identifierPrefix!==void 0&&(E=f.identifierPrefix),f.onRecoverableError!==void 0&&(x=f.onRecoverableError)),f=kA(u,1,!1,null,null,v,!1,E,x),u[Uc]=f.current,my(u.nodeType===8?u.parentNode:u),new PA(f)},bo.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=Tt(f),u=u===null?null:u.stateNode,u},bo.flushSync=function(u){return uf(u)},bo.hydrate=function(u,f,v){if(!nw(f))throw Error(n(200));return rw(null,u,f,!0,v)},bo.hydrateRoot=function(u,f,v){if(!OA(u))throw Error(n(405));var E=v!=null&&v.hydratedSources||null,x=!1,O="",F=$F;if(v!=null&&(v.unstable_strictMode===!0&&(x=!0),v.identifierPrefix!==void 0&&(O=v.identifierPrefix),v.onRecoverableError!==void 0&&(F=v.onRecoverableError)),f=HF(f,null,u,1,v??null,x,!1,O,F),u[Uc]=f.current,my(u),E)for(u=0;u<E.length;u++)v=E[u],x=v._getVersion,x=x(v._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[v,x]:f.mutableSourceEagerHydrationData.push(v,x);return new tw(f)},bo.render=function(u,f,v){if(!nw(f))throw Error(n(200));return rw(null,u,f,!1,v)},bo.unmountComponentAtNode=function(u){if(!nw(u))throw Error(n(40));return u._reactRootContainer?(uf(function(){rw(null,null,u,!1,function(){u._reactRootContainer=null,u[Uc]=null})}),!0):!1},bo.unstable_batchedUpdates=SA,bo.unstable_renderSubtreeIntoContainer=function(u,f,v,E){if(!nw(v))throw Error(n(200));if(u==null||u._reactInternals===void 0)throw Error(n(38));return rw(u,f,v,!1,E)},bo.version="18.3.1-next-f1338f8080-20240426",bo}var e4;function ez(){if(e4)return DA.exports;e4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),DA.exports=Lre(),DA.exports}var t4;function Dre(){if(t4)return sw;t4=1;var t=ez();return sw.createRoot=t.createRoot,sw.hydrateRoot=t.hydrateRoot,sw}var jre=Dre();const Fre=uC(jre);var Ure="Invariant failed";function cl(t,e){if(!t)throw new Error(Ure)}const Gm=new WeakMap,hS=new WeakMap,YS={current:[]};let UA=!1,Ab=0;const db=new Set,aw=new Map;function tz(t){const e=Array.from(t).sort((n,r)=>n instanceof qm&&n.options.deps.includes(r)?1:r instanceof qm&&r.options.deps.includes(n)?-1:0);for(const n of e){if(YS.current.includes(n))continue;YS.current.push(n),n.recompute();const r=hS.get(n);if(r)for(const i of r){const o=Gm.get(i);o&&tz(o)}}}function Bre(t){t.listeners.forEach(e=>e({prevVal:t.prevState,currentVal:t.state}))}function Vre(t){t.listeners.forEach(e=>e({prevVal:t.prevState,currentVal:t.state}))}function nz(t){if(Ab>0&&!aw.has(t)&&aw.set(t,t.prevState),db.add(t),!(Ab>0)&&!UA)try{for(UA=!0;db.size>0;){const e=Array.from(db);db.clear();for(const n of e){const r=aw.get(n)??n.prevState;n.prevState=r,Bre(n)}for(const n of e){const r=Gm.get(n);r&&(YS.current.push(n),tz(r))}for(const n of e){const r=Gm.get(n);if(r)for(const i of r)Vre(i)}}}finally{UA=!1,YS.current=[],aw.clear()}}function BA(t){Ab++;try{t()}finally{if(Ab--,Ab===0){const e=Array.from(db)[0];e&&nz(e)}}}class WP{constructor(e,n){this.listeners=new Set,this.subscribe=r=>{var i,o;this.listeners.add(r);const s=(o=(i=this.options)==null?void 0:i.onSubscribe)==null?void 0:o.call(i,r,this);return()=>{this.listeners.delete(r),s==null||s()}},this.setState=r=>{var i,o,s;this.prevState=this.state,this.state=(i=this.options)!=null&&i.updateFn?this.options.updateFn(this.prevState)(r):r(this.prevState),(s=(o=this.options)==null?void 0:o.onUpdate)==null||s.call(o),nz(this)},this.prevState=e,this.state=e,this.options=n}}class qm{constructor(e){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const n=[],r=[];for(const i of this.options.deps)n.push(i.prevState),r.push(i.state);return this.lastSeenDepValues=r,{prevDepVals:n,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var n,r;this.prevState=this.state;const{prevDepVals:i,currDepVals:o,prevVal:s}=this.getDepVals();this.state=this.options.fn({prevDepVals:i,currDepVals:o,prevVal:s}),(r=(n=this.options).onUpdate)==null||r.call(n)},this.checkIfRecalculationNeededDeeply=()=>{for(const o of this.options.deps)o instanceof qm&&o.checkIfRecalculationNeededDeeply();let n=!1;const r=this.lastSeenDepValues,{currDepVals:i}=this.getDepVals();for(let o=0;o<i.length;o++)if(i[o]!==r[o]){n=!0;break}n&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const n of this._subscriptions)n()}),this.subscribe=n=>{var r,i;this.listeners.add(n);const o=(i=(r=this.options).onSubscribe)==null?void 0:i.call(r,n,this);return()=>{this.listeners.delete(n),o==null||o()}},this.options=e,this.state=e.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(e=this.options.deps){for(const n of e)if(n instanceof qm)n.registerOnGraph(),this.registerOnGraph(n.options.deps);else if(n instanceof WP){let r=Gm.get(n);r||(r=new Set,Gm.set(n,r)),r.add(this);let i=hS.get(this);i||(i=new Set,hS.set(this,i)),i.add(n)}}unregisterFromGraph(e=this.options.deps){for(const n of e)if(n instanceof qm)this.unregisterFromGraph(n.options.deps);else if(n instanceof WP){const r=Gm.get(n);r&&r.delete(this);const i=hS.get(this);i&&i.delete(n)}}}const Zu="__TSR_index",n4="popstate",r4="beforeunload";function rz(t){let e=t.getLocation();const n=new Set,r=s=>{e=t.getLocation(),n.forEach(a=>a({location:e,action:s}))},i=s=>{t.notifyOnIndexChange??!0?r(s):e=t.getLocation()},o=async({task:s,navigateOpts:a,...c})=>{var l,d;if((a==null?void 0:a.ignoreBlocker)??!1){s();return}const m=((l=t.getBlockers)==null?void 0:l.call(t))??[],g=c.type==="PUSH"||c.type==="REPLACE";if(typeof document<"u"&&m.length&&g)for(const C of m){const _=n0(c.path,c.state);if(await C.blockerFn({currentLocation:e,nextLocation:_,action:c.type})){(d=t.onBlocked)==null||d.call(t);return}}s()};return{get location(){return e},get length(){return t.getLength()},subscribers:n,subscribe:s=>(n.add(s),()=>{n.delete(s)}),push:(s,a,c)=>{const l=e.state[Zu];a=KP(l+1,a),o({task:()=>{t.pushState(s,a),r({type:"PUSH"})},navigateOpts:c,type:"PUSH",path:s,state:a})},replace:(s,a,c)=>{const l=e.state[Zu];a=KP(l,a),o({task:()=>{t.replaceState(s,a),r({type:"REPLACE"})},navigateOpts:c,type:"REPLACE",path:s,state:a})},go:(s,a)=>{o({task:()=>{t.go(s),i({type:"GO",index:s})},navigateOpts:a,type:"GO"})},back:s=>{o({task:()=>{t.back((s==null?void 0:s.ignoreBlocker)??!1),i({type:"BACK"})},navigateOpts:s,type:"BACK"})},forward:s=>{o({task:()=>{t.forward((s==null?void 0:s.ignoreBlocker)??!1),i({type:"FORWARD"})},navigateOpts:s,type:"FORWARD"})},canGoBack:()=>e.state[Zu]!==0,createHref:s=>t.createHref(s),block:s=>{var a;if(!t.setBlockers)return()=>{};const c=((a=t.getBlockers)==null?void 0:a.call(t))??[];return t.setBlockers([...c,s]),()=>{var l,d;const p=((l=t.getBlockers)==null?void 0:l.call(t))??[];(d=t.setBlockers)==null||d.call(t,p.filter(m=>m!==s))}},flush:()=>{var s;return(s=t.flush)==null?void 0:s.call(t)},destroy:()=>{var s;return(s=t.destroy)==null?void 0:s.call(t)},notify:r}}function KP(t,e){return e||(e={}),{...e,key:a2(),[Zu]:t}}function Hre(t){var e;const n=typeof document<"u"?window:void 0,r=n.history.pushState,i=n.history.replaceState;let o=[];const s=()=>o,a=N=>o=N,c=N=>N,l=()=>n0(`${n.location.pathname}${n.location.search}${n.location.hash}`,n.history.state);(e=n.history.state)!=null&&e.key||n.history.replaceState({[Zu]:0,key:a2()},"");let d=l(),p,m=!1,g=!1,C=!1,_=!1;const S=()=>d;let w,T;const I=()=>{w&&(P._ignoreSubscribers=!0,(w.isPush?n.history.pushState:n.history.replaceState)(w.state,"",w.href),P._ignoreSubscribers=!1,w=void 0,T=void 0,p=void 0)},A=(N,D,G)=>{const U=c(D);T||(p=d),d=n0(D,G),w={href:U,state:G,isPush:(w==null?void 0:w.isPush)||N==="push"},T||(T=Promise.resolve().then(()=>I()))},k=N=>{d=l(),P.notify({type:N})},R=async()=>{if(g){g=!1;return}const N=l(),D=N.state[Zu]-d.state[Zu],G=D===1,U=D===-1,W=!G&&!U||m;m=!1;const $=W?"GO":U?"BACK":"FORWARD",L=W?{type:"GO",index:D}:{type:U?"BACK":"FORWARD"};if(C)C=!1;else{const B=s();if(typeof document<"u"&&B.length){for(const j of B)if(await j.blockerFn({currentLocation:d,nextLocation:N,action:$})){g=!0,n.history.go(1),P.notify(L);return}}}d=l(),P.notify(L)},M=N=>{if(_){_=!1;return}let D=!1;const G=s();if(typeof document<"u"&&G.length)for(const U of G){const W=U.enableBeforeUnload??!0;if(W===!0){D=!0;break}if(typeof W=="function"&&W()===!0){D=!0;break}}if(D)return N.preventDefault(),N.returnValue=""},P=rz({getLocation:S,getLength:()=>n.history.length,pushState:(N,D)=>A("push",N,D),replaceState:(N,D)=>A("replace",N,D),back:N=>(N&&(C=!0),_=!0,n.history.back()),forward:N=>{N&&(C=!0),_=!0,n.history.forward()},go:N=>{m=!0,n.history.go(N)},createHref:N=>c(N),flush:I,destroy:()=>{n.history.pushState=r,n.history.replaceState=i,n.removeEventListener(r4,M,{capture:!0}),n.removeEventListener(n4,R)},onBlocked:()=>{p&&d!==p&&(d=p)},getBlockers:s,setBlockers:a,notifyOnIndexChange:!1});return n.addEventListener(r4,M,{capture:!0}),n.addEventListener(n4,R),n.history.pushState=function(...N){const D=r.apply(n.history,N);return P._ignoreSubscribers||k("PUSH"),D},n.history.replaceState=function(...N){const D=i.apply(n.history,N);return P._ignoreSubscribers||k("REPLACE"),D},P}function zre(t={initialEntries:["/"]}){const e=t.initialEntries;let n=t.initialIndex?Math.min(Math.max(t.initialIndex,0),e.length-1):e.length-1;const r=e.map((o,s)=>KP(s,void 0));return rz({getLocation:()=>n0(e[n],r[n]),getLength:()=>e.length,pushState:(o,s)=>{n<e.length-1&&(e.splice(n+1),r.splice(n+1)),r.push(s),e.push(o),n=Math.max(e.length-1,0)},replaceState:(o,s)=>{r[n]=s,e[n]=o},back:()=>{n=Math.max(n-1,0)},forward:()=>{n=Math.min(n+1,e.length-1)},go:o=>{n=Math.min(Math.max(n+o,0),e.length-1)},createHref:o=>o})}function n0(t,e){const n=t.indexOf("#"),r=t.indexOf("?");return{href:t,pathname:t.substring(0,n>0?r>0?Math.min(n,r):n:r>0?r:t.length),hash:n>-1?t.substring(n):"",search:r>-1?t.slice(r,n===-1?void 0:n):"",state:e||{[Zu]:0,key:a2()}}}function a2(){return(Math.random()+1).toString(36).substring(7)}function wm(t){return t[t.length-1]}function $re(t){return typeof t=="function"}function fb(t,e){return $re(t)?t(e):t}function GP(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function Rs(t,e){if(t===e)return t;const n=e,r=o4(t)&&o4(n);if(r||QS(t)&&QS(n)){const i=r?t:Object.keys(t),o=i.length,s=r?n:Object.keys(n),a=s.length,c=r?[]:{};let l=0;for(let d=0;d<a;d++){const p=r?d:s[d];(!r&&i.includes(p)||r)&&t[p]===void 0&&n[p]===void 0?(c[p]=void 0,l++):(c[p]=Rs(t[p],n[p]),c[p]===t[p]&&t[p]!==void 0&&l++)}return o===a&&l===o?t:c}return n}function QS(t){if(!i4(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!i4(n)||!n.hasOwnProperty("isPrototypeOf"))}function i4(t){return Object.prototype.toString.call(t)==="[object Object]"}function o4(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function s4(t,e){let n=Object.keys(t);return e&&(n=n.filter(r=>t[r]!==void 0)),n}function kb(t,e,n){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(QS(t)&&QS(e)){const r=(n==null?void 0:n.ignoreUndefined)??!0,i=s4(t,r),o=s4(e,r);return!(n!=null&&n.partial)&&i.length!==o.length?!1:o.every(s=>kb(t[s],e[s],n))}return Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:!t.some((r,i)=>!kb(r,e[i],n)):!1}function lm(t){let e,n;const r=new Promise((i,o)=>{e=i,n=o});return r.status="pending",r.resolve=i=>{r.status="resolved",r.value=i,e(i),t==null||t(i)},r.reject=i=>{r.status="rejected",n(i)},r}function Wre(t){return/%[0-9A-Fa-f]{2}/.test(t)}function fl(t){return tI(t.filter(e=>e!==void 0).join("/"))}function tI(t){return t.replace(/\/{2,}/g,"/")}function c2(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function Wf(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function Kre(t){return Wf(c2(t))}function Gre({basepath:t,base:e,to:n,trailingSlash:r="never",caseSensitive:i}){var o,s;e=XS(t,e,i),n=XS(t,n,i);let a=kg(e);const c=kg(n);a.length>1&&((o=wm(a))==null?void 0:o.value)==="/"&&a.pop(),c.forEach((d,p)=>{d.value==="/"?p?p===c.length-1&&a.push(d):a=[d]:d.value===".."?a.pop():d.value==="."||a.push(d)}),a.length>1&&(((s=wm(a))==null?void 0:s.value)==="/"?r==="never"&&a.pop():r==="always"&&a.push({type:"pathname",value:"/"}));const l=fl([t,...a.map(d=>d.value)]);return tI(l)}function kg(t){if(!t)return[];t=tI(t);const e=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),!t)return e;const n=t.split("/").filter(Boolean);return e.push(...n.map(r=>r==="$"||r==="*"?{type:"wildcard",value:r}:r.charAt(0)==="$"?{type:"param",value:r}:{type:"pathname",value:r.includes("%25")?r.split("%25").map(i=>decodeURI(i)).join("%25"):decodeURI(r)})),t.slice(-1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),e}function cw({path:t,params:e,leaveWildcards:n,leaveParams:r,decodeCharMap:i}){const o=kg(t);function s(l){const d=e[l],p=typeof d=="string";return["*","_splat"].includes(l)?p?encodeURI(d):d:p?qre(d,i):d}const a={},c=fl(o.map(l=>{if(l.type==="wildcard"){a._splat=e._splat;const d=s("_splat");return n?`${l.value}${d??""}`:d}if(l.type==="param"){const d=l.value.substring(1);if(a[d]=e[d],r){const p=s(l.value);return`${l.value}${p??""}`}return s(d)??"undefined"}return l.value}));return{usedParams:a,interpolatedPath:c}}function qre(t,e){let n=encodeURIComponent(t);if(e)for(const[r,i]of e)n=n.replaceAll(r,i);return n}function lw(t,e,n){const r=Yre(t,e,n);if(!(n.to&&!r))return r??{}}function XS(t,e,n=!1){const r=n?t:t.toLowerCase(),i=n?e:e.toLowerCase();switch(!0){case r==="/":return e;case i===r:return"";case e.length<t.length:return e;case i[r.length]!=="/":return e;case i.startsWith(r):return e.slice(t.length);default:return e}}function Yre(t,e,n){if(t!=="/"&&!e.startsWith(t))return;e=XS(t,e,n.caseSensitive);const r=XS(t,`${n.to??"$"}`,n.caseSensitive),i=kg(e),o=kg(r);e.startsWith("/")||i.unshift({type:"pathname",value:"/"}),r.startsWith("/")||o.unshift({type:"pathname",value:"/"});const s={};return(()=>{for(let c=0;c<Math.max(i.length,o.length);c++){const l=i[c],d=o[c],p=c>=i.length-1,m=c>=o.length-1;if(d){if(d.type==="wildcard"){const g=decodeURI(fl(i.slice(c).map(C=>C.value)));return s["*"]=g,s._splat=g,!0}if(d.type==="pathname"){if(d.value==="/"&&!(l!=null&&l.value))return!0;if(l){if(n.caseSensitive){if(d.value!==l.value)return!1}else if(d.value.toLowerCase()!==l.value.toLowerCase())return!1}}if(!l)return!1;if(d.type==="param"){if(l.value==="/")return!1;l.value.charAt(0)!=="$"&&(s[d.value.substring(1)]=decodeURIComponent(l.value))}}if(!p&&m)return s["**"]=fl(i.slice(c+1).map(g=>g.value)),!!n.fuzzy&&(d==null?void 0:d.value)!=="/"}return!0})()?s:void 0}function iz(t={}){if(t.isNotFound=!0,t.throw)throw t;return t}function Ms(t){return!!(t!=null&&t.isNotFound)}const ZS="tsr-scroll-restoration-v1_3";let oz=!1;try{oz=typeof window<"u"&&typeof window.sessionStorage=="object"}catch{}const Qre=(t,e)=>{let n;return(...r)=>{n||(n=setTimeout(()=>{t(...r),n=null},e))}},Sm=oz?{state:JSON.parse(window.sessionStorage.getItem(ZS)||"null")||{},set:e=>(Sm.state=fb(e,Sm.state)||Sm.state,window.sessionStorage.setItem(ZS,JSON.stringify(Sm.state)))}:void 0,qP=t=>t.state.key||t.href;function Xre(t){const e=[];let n;for(;n=t.parentNode;)e.unshift(`${t.tagName}:nth-child(${[].indexOf.call(n.children,t)+1})`),t=n;return`${e.join(" > ")}`.toLowerCase()}let JS=!1;function sz(t,e,n,r,i){var o;let s;try{s=JSON.parse(sessionStorage.getItem(t)||"{}")}catch(l){console.error(l);return}const a=e||((o=window.history.state)==null?void 0:o.key),c=s[a];JS=!0,(()=>{if(r&&c){for(const d in c){const p=c[d];if(d==="window")window.scrollTo({top:p.scrollY,left:p.scrollX,behavior:n});else if(d){const m=document.querySelector(d);m&&(m.scrollLeft=p.scrollX,m.scrollTop=p.scrollY)}}return}const l=window.location.hash.split("#")[1];if(l){const d=(window.history.state||{}).__hashScrollIntoViewOptions??!0;if(d){const p=document.getElementById(l);p&&p.scrollIntoView(d)}return}["window",...(i==null?void 0:i.filter(d=>d!=="window"))??[]].forEach(d=>{const p=d==="window"?window:document.querySelector(d);p&&p.scrollTo({top:0,left:0,behavior:n})})})(),JS=!1}function Zre(t,e){if((t.options.scrollRestoration??!1)&&(t.isScrollRestoring=!0),typeof document>"u"||t.isScrollRestorationSetup)return;t.isScrollRestorationSetup=!0,JS=!1;const r=t.options.getScrollRestorationKey||qP;window.history.scrollRestoration="manual";const i=o=>{if(JS||!t.isScrollRestoring)return;let s="";if(o.target===document||o.target===window)s="window";else{const c=o.target.getAttribute("data-scroll-restoration-id");c?s=`[data-scroll-restoration-id="${c}"]`:s=Xre(o.target)}const a=r(t.state.location);Sm.set(c=>{const l=c[a]=c[a]||{},d=l[s]=l[s]||{};if(s==="window")d.scrollX=window.scrollX||0,d.scrollY=window.scrollY||0;else if(s){const p=document.querySelector(s);p&&(d.scrollX=p.scrollLeft||0,d.scrollY=p.scrollTop||0)}return c})};typeof document<"u"&&document.addEventListener("scroll",Qre(i,100),!0),t.subscribe("onRendered",o=>{const s=r(o.toLocation);if(!t.resetNextScroll){t.resetNextScroll=!0;return}sz(ZS,s,t.options.scrollRestorationBehavior||void 0,t.isScrollRestoring||void 0,t.options.scrollToTopSelectors||void 0),t.isScrollRestoring&&Sm.set(a=>(a[s]=a[s]||{},a))})}function Jre(t,e){let n,r,i,o="";for(n in t)if((i=t[n])!==void 0)if(Array.isArray(i))for(r=0;r<i.length;r++)o&&(o+="&"),o+=encodeURIComponent(n)+"="+encodeURIComponent(i[r]);else o&&(o+="&"),o+=encodeURIComponent(n)+"="+encodeURIComponent(i);return""+o}function a4(t){if(!t)return"";const e=Wre(t)?decodeURIComponent(t):decodeURIComponent(encodeURIComponent(t));return e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e}function eie(t,e){let n,r;const i={},o=t.split("&");for(;n=o.shift();){const s=n.indexOf("=");if(s!==-1){r=n.slice(0,s),r=decodeURIComponent(r);const a=n.slice(s+1);i[r]!==void 0?i[r]=[].concat(i[r],a4(a)):i[r]=a4(a)}else r=n,r=decodeURIComponent(r),i[r]=""}return i}const tie=rie(JSON.parse),nie=iie(JSON.stringify,JSON.parse);function rie(t){return e=>{e.substring(0,1)==="?"&&(e=e.substring(1));const n=eie(e);for(const r in n){const i=n[r];if(typeof i=="string")try{n[r]=t(i)}catch{}}return n}}function iie(t,e){function n(r){if(typeof r=="object"&&r!==null)try{return t(r)}catch{}else if(typeof r=="string"&&typeof e=="function")try{return e(r),t(r)}catch{}return r}return r=>{r={...r},Object.keys(r).forEach(o=>{const s=r[o];typeof s>"u"||s===void 0?delete r[o]:r[o]=n(s)});const i=Jre(r).toString();return i?`?${i}`:""}}const pa="__root__";function If(t){return!!(t!=null&&t.isRedirect)}function VA(t){return!!(t!=null&&t.isRedirect)&&t.href}function Ym(t){const e=t.resolvedLocation,n=t.location,r=(e==null?void 0:e.pathname)!==n.pathname,i=(e==null?void 0:e.href)!==n.href,o=(e==null?void 0:e.hash)!==n.hash;return{fromLocation:e,toLocation:n,pathChanged:r,hrefChanged:i,hashChanged:o}}class oie{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=n=>n(),this.update=n=>{var r;n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const i=this.options;this.options={...this.options,...n},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(o=>[encodeURIComponent(o),o])):void 0,(!this.basepath||n.basepath&&n.basepath!==i.basepath)&&(n.basepath===void 0||n.basepath===""||n.basepath==="/"?this.basepath="/":this.basepath=`/${Kre(n.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?zre({initialEntries:[this.basepath||"/"]}):Hre()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new WP(aie(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(o=>!["redirected"].includes(o.status))}}}),Zre(this)),typeof window<"u"&&"CSS"in window&&typeof((r=window.CSS)==null?void 0:r.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const n=this.options.notFoundRoute;n&&(n.init({originalIndex:99999999999,defaultSsr:this.options.defaultSsr}),this.routesById[n.id]=n);const r=s=>{s.forEach((a,c)=>{a.init({originalIndex:c,defaultSsr:this.options.defaultSsr});const l=this.routesById[a.id];if(cl(!l,`Duplicate routes found with id: ${String(a.id)}`),this.routesById[a.id]=a,!a.isRoot&&a.path){const p=Wf(a.fullPath);(!this.routesByPath[p]||a.fullPath.endsWith("/"))&&(this.routesByPath[p]=a)}const d=a.children;d!=null&&d.length&&r(d)})};r([this.routeTree]);const i=[];Object.values(this.routesById).forEach((s,a)=>{var c;if(s.isRoot||!s.path)return;const l=c2(s.fullPath),d=kg(l);for(;d.length>1&&((c=d[0])==null?void 0:c.value)==="/";)d.shift();const p=d.map(m=>m.value==="/"?.75:m.type==="param"?.5:m.type==="wildcard"?.25:1);i.push({child:s,trimmed:l,parsed:d,index:a,scores:p})}),this.flatRoutes=i.sort((s,a)=>{const c=Math.min(s.scores.length,a.scores.length);for(let l=0;l<c;l++)if(s.scores[l]!==a.scores[l])return a.scores[l]-s.scores[l];if(s.scores.length!==a.scores.length)return a.scores.length-s.scores.length;for(let l=0;l<c;l++)if(s.parsed[l].value!==a.parsed[l].value)return s.parsed[l].value>a.parsed[l].value?1:-1;return s.index-a.index}).map((s,a)=>(s.child.rank=a,s.child))},this.subscribe=(n,r)=>{const i={eventType:n,fn:r};return this.subscribers.add(i),()=>{this.subscribers.delete(i)}},this.emit=n=>{this.subscribers.forEach(r=>{r.eventType===n.type&&r.fn(n)})},this.parseLocation=(n,r)=>{const i=({pathname:c,search:l,hash:d,state:p})=>{const m=this.options.parseSearch(l),g=this.options.stringifySearch(m);return{pathname:c,searchStr:g,search:Rs(n==null?void 0:n.search,m),hash:d.split("#").reverse()[0]??"",href:`${c}${g}${d}`,state:Rs(n==null?void 0:n.state,p)}},o=i(r??this.history.location),{__tempLocation:s,__tempKey:a}=o.state;if(s&&(!a||a===this.tempLocationKey)){const c=i(s);return c.state.key=o.state.key,delete c.state.__tempLocation,{...c,maskedLocation:o}}return o},this.resolvePathWithBase=(n,r)=>Gre({basepath:this.basepath,base:n,to:tI(r),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.matchRoutes=(n,r,i)=>typeof n=="string"?this.matchRoutesInternal({pathname:n,search:r},i):this.matchRoutesInternal(n,r),this.getMatchedRoutes=(n,r)=>{let i={};const o=Wf(n.pathname),s=d=>lw(this.basepath,o,{to:d.fullPath,caseSensitive:d.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let a=(r==null?void 0:r.to)!==void 0?this.routesByPath[r.to]:void 0;a?i=s(a):a=this.flatRoutes.find(d=>{const p=s(d);return p?(i=p,!0):!1});let c=a||this.routesById[pa];const l=[c];for(;c.parentRoute;)c=c.parentRoute,l.unshift(c);return{matchedRoutes:l,routeParams:i,foundRoute:a}},this.cancelMatch=n=>{const r=this.getMatch(n);r&&(r.abortController.abort(),clearTimeout(r.pendingTimeout))},this.cancelMatches=()=>{var n;(n=this.state.pendingMatches)==null||n.forEach(r=>{this.cancelMatch(r.id)})},this.buildLocation=n=>{const r=(o={},s)=>{var a,c,l,d,p,m,g;const C=o._fromLocation?this.matchRoutes(o._fromLocation,{_buildLocation:!0}):this.state.matches,_=o.from!=null?C.find(U=>lw(this.basepath,Wf(U.pathname),{to:o.from,caseSensitive:!1,fuzzy:!1})):void 0,S=(_==null?void 0:_.pathname)||this.latestLocation.pathname;cl(o.from==null||_!=null,"Could not find match for from: "+o.from);const w=(a=this.state.pendingMatches)!=null&&a.length?(c=wm(this.state.pendingMatches))==null?void 0:c.search:((l=wm(C))==null?void 0:l.search)||this.latestLocation.search,T=s==null?void 0:s.matchedRoutes.filter(U=>C.find(W=>W.routeId===U.id));let I;if(o.to){const U=(_==null?void 0:_.fullPath)||((d=wm(C))==null?void 0:d.fullPath)||this.latestLocation.pathname;I=this.resolvePathWithBase(U,`${o.to}`)}else{const U=this.routesById[(p=T==null?void 0:T.find(W=>{const $=cw({path:W.fullPath,params:(s==null?void 0:s.routeParams)??{},decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath;return fl([this.basepath,$])===S}))==null?void 0:p.id];I=this.resolvePathWithBase(S,(U==null?void 0:U.to)??S)}const A={...(m=wm(C))==null?void 0:m.params};let k=(o.params??!0)===!0?A:{...A,...fb(o.params,A)};Object.keys(k).length>0&&(s==null||s.matchedRoutes.map(U=>{var W;return((W=U.options.params)==null?void 0:W.stringify)??U.options.stringifyParams}).filter(Boolean).forEach(U=>{k={...k,...U(k)}})),I=cw({path:I,params:k??{},leaveWildcards:!1,leaveParams:n.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath;let R=w;if(n._includeValidateSearch&&((g=this.options.search)!=null&&g.strict)){let U={};s==null||s.matchedRoutes.forEach(W=>{try{W.options.validateSearch&&(U={...U,...HA(W.options.validateSearch,{...U,...R})??{}})}catch{}}),R=U}R=(U=>{const W=(s==null?void 0:s.matchedRoutes.reduce((B,j)=>{var V;const K=[];if("search"in j.options)(V=j.options.search)!=null&&V.middlewares&&K.push(...j.options.search.middlewares);else if(j.options.preSearchFilters||j.options.postSearchFilters){const z=({search:H,next:q})=>{let le=H;"preSearchFilters"in j.options&&j.options.preSearchFilters&&(le=j.options.preSearchFilters.reduce((_e,be)=>be(_e),H));const Ce=q(le);return"postSearchFilters"in j.options&&j.options.postSearchFilters?j.options.postSearchFilters.reduce((_e,be)=>be(_e),Ce):Ce};K.push(z)}if(n._includeValidateSearch&&j.options.validateSearch){const z=({search:H,next:q})=>{const le=q(H);try{return{...le,...HA(j.options.validateSearch,le)??{}}}catch{return le}};K.push(z)}return B.concat(K)},[]))??[],$=({search:B})=>o.search?o.search===!0?B:fb(o.search,B):{};W.push($);const L=(B,j)=>{if(B>=W.length)return j;const V=W[B];return V({search:j,next:z=>L(B+1,z)})};return L(0,U)})(R),R=Rs(w,R);const P=this.options.stringifySearch(R),N=o.hash===!0?this.latestLocation.hash:o.hash?fb(o.hash,this.latestLocation.hash):void 0,D=N?`#${N}`:"";let G=o.state===!0?this.latestLocation.state:o.state?fb(o.state,this.latestLocation.state):{};return G=Rs(this.latestLocation.state,G),{pathname:I,search:R,searchStr:P,state:G,hash:N??"",href:`${I}${P}${D}`,unmaskOnReload:o.unmaskOnReload}},i=(o={},s)=>{var a;const c=r(o);let l=s?r(s):void 0;if(!l){let m={};const g=(a=this.options.routeMasks)==null?void 0:a.find(C=>{const _=lw(this.basepath,c.pathname,{to:C.from,caseSensitive:!1,fuzzy:!1});return _?(m=_,!0):!1});if(g){const{from:C,..._}=g;s={...GP(n,["from"]),..._,params:m},l=r(s)}}const d=this.getMatchedRoutes(c,o),p=r(o,d);if(l){const m=this.getMatchedRoutes(l,s),g=r(s,m);p.maskedLocation=g}return p};return n.mask?i(n,{...GP(n,["from"]),...n.mask}):i(n)},this.commitLocation=({viewTransition:n,ignoreBlocker:r,...i})=>{const o=()=>{const c=["key","__TSR_index","__hashScrollIntoViewOptions"];c.forEach(d=>{i.state[d]=this.latestLocation.state[d]});const l=kb(i.state,this.latestLocation.state);return c.forEach(d=>{delete i.state[d]}),l},s=this.latestLocation.href===i.href,a=this.commitLocationPromise;if(this.commitLocationPromise=lm(()=>{a==null||a.resolve()}),s&&o())this.load();else{let{maskedLocation:c,hashScrollIntoView:l,...d}=i;c&&(d={...c,state:{...c.state,__tempKey:void 0,__tempLocation:{...d,search:d.searchStr,state:{...d.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(d.unmaskOnReload??this.options.unmaskOnReload??!1)&&(d.state.__tempKey=this.tempLocationKey)),d.state.__hashScrollIntoViewOptions=l??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[i.replace?"replace":"push"](d.href,d.state,{ignoreBlocker:r})}return this.resetNextScroll=i.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:r,hashScrollIntoView:i,viewTransition:o,ignoreBlocker:s,href:a,...c}={})=>{if(a){const d=this.history.location.state.__TSR_index,p=n0(a,{__TSR_index:n?d:d+1});c.to=p.pathname,c.search=this.options.parseSearch(p.search),c.hash=p.hash.slice(1)}const l=this.buildLocation({...c,_includeValidateSearch:!0});return this.commitLocation({...l,viewTransition:o,replace:n,resetScroll:r,hashScrollIntoView:i,ignoreBlocker:s})},this.navigate=({to:n,reloadDocument:r,href:i,...o})=>{if(r){if(!i){const s=this.buildLocation({to:n,...o});i=this.history.createHref(s.href)}o.replace?window.location.replace(i):window.location.href=i;return}return this.buildAndCommitLocation({...o,href:i,to:n})},this.load=async n=>{this.latestLocation=this.parseLocation(this.latestLocation);let r,i,o;for(o=new Promise(s=>{this.startTransition(async()=>{var a;try{const c=this.latestLocation,l=this.state.resolvedLocation;this.cancelMatches();let d;BA(()=>{d=this.matchRoutes(c),this.__store.setState(p=>({...p,status:"pending",isLoading:!0,location:c,pendingMatches:d,cachedMatches:p.cachedMatches.filter(m=>!d.find(g=>g.id===m.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",...Ym({resolvedLocation:l,location:c})}),this.emit({type:"onBeforeLoad",...Ym({resolvedLocation:l,location:c})}),await this.loadMatches({sync:n==null?void 0:n.sync,matches:d,location:c,onReady:async()=>{this.startViewTransition(async()=>{let p,m,g;BA(()=>{this.__store.setState(C=>{const _=C.matches,S=C.pendingMatches||C.matches;return p=_.filter(w=>!S.find(T=>T.id===w.id)),m=S.filter(w=>!_.find(T=>T.id===w.id)),g=_.filter(w=>S.find(T=>T.id===w.id)),{...C,isLoading:!1,loadedAt:Date.now(),matches:S,pendingMatches:void 0,cachedMatches:[...C.cachedMatches,...p.filter(w=>w.status!=="error")]}}),this.clearExpiredCache()}),[[p,"onLeave"],[m,"onEnter"],[g,"onStay"]].forEach(([C,_])=>{C.forEach(S=>{var w,T;(T=(w=this.looseRoutesById[S.routeId].options)[_])==null||T.call(w,S)})})})}})}catch(c){VA(c)?(r=c,this.isServer||this.navigate({...r,replace:!0,ignoreBlocker:!0})):Ms(c)&&(i=c),this.__store.setState(l=>({...l,statusCode:r?r.statusCode:i?404:l.matches.some(d=>d.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===o&&((a=this.commitLocationPromise)==null||a.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),s()})}),this.latestLoadPromise=o,await o;this.latestLoadPromise&&o!==this.latestLoadPromise;)await this.latestLoadPromise;this.hasNotFoundMatch()&&this.__store.setState(s=>({...s,statusCode:404}))},this.startViewTransition=n=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let i;typeof r=="object"&&this.isViewTransitionTypesSupported?i={update:n,types:r.types}:i=n,document.startViewTransition(i)}else n()},this.updateMatch=(n,r)=>{var i;let o;const s=(i=this.state.pendingMatches)==null?void 0:i.find(d=>d.id===n),a=this.state.matches.find(d=>d.id===n),c=this.state.cachedMatches.find(d=>d.id===n),l=s?"pendingMatches":a?"matches":c?"cachedMatches":"";return l&&this.__store.setState(d=>{var p;return{...d,[l]:(p=d[l])==null?void 0:p.map(m=>m.id===n?o=r(m):m)}}),o},this.getMatch=n=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(r=>r.id===n),this.loadMatches=async({location:n,matches:r,preload:i,onReady:o,updateMatch:s=this.updateMatch,sync:a})=>{let c,l=!1;const d=async()=>{l||(l=!0,await(o==null?void 0:o()))},p=g=>!!(i&&!this.state.matches.find(C=>C.id===g));!this.isServer&&!this.state.matches.length&&d();const m=(g,C)=>{var _,S,w,T;if(VA(C)&&!C.reloadDocument)throw C;if(If(C)||Ms(C)){if(s(g.id,I=>({...I,status:If(C)?"redirected":Ms(C)?"notFound":"error",isFetching:!1,error:C,beforeLoadPromise:void 0,loaderPromise:void 0})),C.routeId||(C.routeId=g.routeId),(_=g.beforeLoadPromise)==null||_.resolve(),(S=g.loaderPromise)==null||S.resolve(),(w=g.loadPromise)==null||w.resolve(),If(C))throw l=!0,C=this.resolveRedirect({...C,_fromLocation:n}),C;if(Ms(C))throw this._handleNotFound(r,C,{updateMatch:s}),(T=this.serverSsr)==null||T.onMatchSettled({router:this,match:this.getMatch(g.id)}),C}};try{await new Promise((g,C)=>{(async()=>{var _,S,w,T;try{const I=(R,M,P)=>{var N,D;const{id:G,routeId:U}=r[R],W=this.looseRoutesById[U];if(M instanceof Promise)throw M;M.routerCode=P,c=c??R,m(this.getMatch(G),M);try{(D=(N=W.options).onError)==null||D.call(N,M)}catch($){M=$,m(this.getMatch(G),M)}s(G,$=>{var L,B;return(L=$.beforeLoadPromise)==null||L.resolve(),(B=$.loadPromise)==null||B.resolve(),{...$,error:M,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[R,{id:M,routeId:P}]of r.entries()){const N=this.getMatch(M),D=(_=r[R-1])==null?void 0:_.id,G=this.looseRoutesById[P],U=G.options.pendingMs??this.options.defaultPendingMs,W=!!(o&&!this.isServer&&!p(M)&&(G.options.loader||G.options.beforeLoad)&&typeof U=="number"&&U!==1/0&&(G.options.pendingComponent??((S=this.options)==null?void 0:S.defaultPendingComponent)));let $=!0;if((N.beforeLoadPromise||N.loaderPromise)&&(W&&setTimeout(()=>{try{d()}catch{}},U),await N.beforeLoadPromise,$=this.getMatch(M).status!=="success"),$){try{s(M,Pe=>{const Oe=Pe.loadPromise;return{...Pe,loadPromise:lm(()=>{Oe==null||Oe.resolve()}),beforeLoadPromise:lm()}});const L=new AbortController;let B;W&&(B=setTimeout(()=>{try{d()}catch{}},U));const{paramsError:j,searchError:V}=this.getMatch(M);j&&I(R,j,"PARSE_PARAMS"),V&&I(R,V,"VALIDATE_SEARCH");const K=()=>D?this.getMatch(D).context:this.options.context??{};s(M,Pe=>({...Pe,isFetching:"beforeLoad",fetchCount:Pe.fetchCount+1,abortController:L,pendingTimeout:B,context:{...K(),...Pe.__routeContext}}));const{search:z,params:H,context:q,cause:le}=this.getMatch(M),Ce=p(M),_e={search:z,abortController:L,params:H,preload:Ce,context:q,location:n,navigate:Pe=>this.navigate({...Pe,_fromLocation:n}),buildLocation:this.buildLocation,cause:Ce?"preload":le,matches:r},be=await((T=(w=G.options).beforeLoad)==null?void 0:T.call(w,_e))??{};(If(be)||Ms(be))&&I(R,be,"BEFORE_LOAD"),s(M,Pe=>({...Pe,__beforeLoadContext:be,context:{...K(),...Pe.__routeContext,...be},abortController:L}))}catch(L){I(R,L,"BEFORE_LOAD")}s(M,L=>{var B;return(B=L.beforeLoadPromise)==null||B.resolve(),{...L,beforeLoadPromise:void 0,isFetching:!1}})}}const A=r.slice(0,c),k=[];A.forEach(({id:R,routeId:M},P)=>{k.push((async()=>{const{loaderPromise:N}=this.getMatch(R);let D=!1,G=!1;if(N){await N;const U=this.getMatch(R);U.error&&m(U,U.error)}else{const U=k[P-1],W=this.looseRoutesById[M],$=()=>{const{params:le,loaderDeps:Ce,abortController:_e,context:be,cause:Pe}=this.getMatch(R),Oe=p(R);return{params:le,deps:Ce,preload:!!Oe,parentMatchPromise:U,abortController:_e,context:be,location:n,navigate:Q=>this.navigate({...Q,_fromLocation:n}),cause:Oe?"preload":Pe,route:W}},L=Date.now()-this.getMatch(R).updatedAt,B=p(R),j=B?W.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:W.options.staleTime??this.options.defaultStaleTime??0,V=W.options.shouldReload,K=typeof V=="function"?V($()):V;s(R,le=>({...le,loaderPromise:lm(),preload:!!B&&!this.state.matches.find(Ce=>Ce.id===R)}));const z=async()=>{var le,Ce,_e,be,Pe,Oe,Q,ee,Ie,re,ue;try{const xe=async()=>{const Y=this.getMatch(R);Y.minPendingPromise&&await Y.minPendingPromise};try{this.loadRouteChunk(W),s(R,mt=>({...mt,isFetching:"loader"}));const Y=await((Ce=(le=W.options).loader)==null?void 0:Ce.call(le,$()));m(this.getMatch(R),Y),await W._lazyPromise,await xe();const ge={matches:r,match:this.getMatch(R),params:this.getMatch(R).params,loaderData:Y},Ee=(be=(_e=W.options).head)==null?void 0:be.call(_e,ge),ye=Ee==null?void 0:Ee.meta,pe=Ee==null?void 0:Ee.links,Le=Ee==null?void 0:Ee.scripts,De=(Oe=(Pe=W.options).scripts)==null?void 0:Oe.call(Pe,ge),Xe=(ee=(Q=W.options).headers)==null?void 0:ee.call(Q,{loaderData:Y});s(R,mt=>({...mt,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:Y,meta:ye,links:pe,headScripts:Le,headers:Xe,scripts:De}))}catch(Y){let ge=Y;await xe(),m(this.getMatch(R),Y);try{(re=(Ie=W.options).onError)==null||re.call(Ie,Y)}catch(Ee){ge=Ee,m(this.getMatch(R),Ee)}s(R,Ee=>({...Ee,error:ge,status:"error",isFetching:!1}))}(ue=this.serverSsr)==null||ue.onMatchSettled({router:this,match:this.getMatch(R)}),await W._componentsPromise}catch(xe){s(R,Y=>({...Y,loaderPromise:void 0})),m(this.getMatch(R),xe)}},{status:H,invalid:q}=this.getMatch(R);D=H==="success"&&(q||(K??L>j)),B&&W.options.preload===!1||(D&&!a?(G=!0,(async()=>{try{await z();const{loaderPromise:le,loadPromise:Ce}=this.getMatch(R);le==null||le.resolve(),Ce==null||Ce.resolve(),s(R,_e=>({..._e,loaderPromise:void 0}))}catch(le){VA(le)&&await this.navigate(le)}})()):(H!=="success"||D&&a)&&await z())}if(!G){const{loaderPromise:U,loadPromise:W}=this.getMatch(R);U==null||U.resolve(),W==null||W.resolve()}return s(R,U=>({...U,isFetching:G?U.isFetching:!1,loaderPromise:G?U.loaderPromise:void 0,invalid:!1})),this.getMatch(R)})())}),await Promise.all(k),g()}catch(I){C(I)}})()}),await d()}catch(g){if(If(g)||Ms(g))throw Ms(g)&&!i&&await d(),g}return r},this.invalidate=n=>{const r=i=>{var o;return((o=n==null?void 0:n.filter)==null?void 0:o.call(n,i))??!0?{...i,invalid:!0,...i.status==="error"?{status:"pending",error:void 0}:{}}:i};return this.__store.setState(i=>{var o;return{...i,matches:i.matches.map(r),cachedMatches:i.cachedMatches.map(r),pendingMatches:(o=i.pendingMatches)==null?void 0:o.map(r)}}),this.load({sync:n==null?void 0:n.sync})},this.resolveRedirect=n=>{const r=n;return r.href||(r.href=this.buildLocation(r).href),r},this.clearCache=n=>{const r=n==null?void 0:n.filter;r!==void 0?this.__store.setState(i=>({...i,cachedMatches:i.cachedMatches.filter(o=>!r(o))})):this.__store.setState(i=>({...i,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=r=>{const i=this.looseRoutesById[r.routeId];if(!i.options.loader)return!0;const o=(r.preload?i.options.preloadGcTime??this.options.defaultPreloadGcTime:i.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(r.status!=="error"&&Date.now()-r.updatedAt<o)};this.clearCache({filter:n})},this.loadRouteChunk=n=>(n._lazyPromise===void 0&&(n.lazyFn?n._lazyPromise=n.lazyFn().then(r=>{const{id:i,...o}=r.options;Object.assign(n.options,o)}):n._lazyPromise=Promise.resolve()),n._componentsPromise===void 0&&(n._componentsPromise=n._lazyPromise.then(()=>Promise.all(az.map(async r=>{const i=n.options[r];i!=null&&i.preload&&await i.preload()})))),n._componentsPromise),this.preloadRoute=async n=>{const r=this.buildLocation(n);let i=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:n});const o=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(a=>a.id)),s=new Set([...o,...this.state.cachedMatches.map(a=>a.id)]);BA(()=>{i.forEach(a=>{s.has(a.id)||this.__store.setState(c=>({...c,cachedMatches:[...c.cachedMatches,a]}))})});try{return i=await this.loadMatches({matches:i,location:r,preload:!0,updateMatch:(a,c)=>{o.has(a)?i=i.map(l=>l.id===a?c(l):l):this.updateMatch(a,c)}}),i}catch(a){if(If(a))return a.reloadDocument?void 0:await this.preloadRoute({...a,_fromLocation:r});Ms(a)||console.error(a);return}},this.matchRoute=(n,r)=>{const i={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},o=this.buildLocation(i);if(r!=null&&r.pending&&this.state.status!=="pending")return!1;const a=((r==null?void 0:r.pending)===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,c=lw(this.basepath,a.pathname,{...r,to:o.pathname});return!c||n.params&&!kb(c,n.params,{partial:!0})?!1:c&&((r==null?void 0:r.includeSearch)??!0)?kb(a.search,o.search,{partial:!0})?c:!1:c},this._handleNotFound=(n,r,{updateMatch:i=this.updateMatch}={})=>{var o;const s=this.routesById[r.routeId??""]??this.routeTree,a={};for(const l of n)a[l.routeId]=l;!s.options.notFoundComponent&&((o=this.options)!=null&&o.defaultNotFoundComponent)&&(s.options.notFoundComponent=this.options.defaultNotFoundComponent),cl(s.options.notFoundComponent);const c=a[s.id];cl(c,"Could not find match for route: "+s.id),i(c.id,l=>({...l,status:"notFound",error:r,isFetching:!1})),r.routerCode==="BEFORE_LOAD"&&s.parentRoute&&(r.routeId=s.parentRoute.id,this._handleNotFound(n,r,{updateMatch:i}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??nie,parseSearch:e.parseSearch??tie}),typeof document<"u"&&(window.__TSR_ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(e,n){const{foundRoute:r,matchedRoutes:i,routeParams:o}=this.getMatchedRoutes(e,n==null?void 0:n.dest);let s=!1;(r?r.path!=="/"&&o["**"]:Wf(e.pathname))&&(this.options.notFoundRoute?i.push(this.options.notFoundRoute):s=!0);const a=(()=>{if(s){if(this.options.notFoundMode!=="root")for(let p=i.length-1;p>=0;p--){const m=i[p];if(m.children)return m.id}return pa}})(),c=i.map(p=>{var m;let g;const C=((m=p.options.params)==null?void 0:m.parse)??p.options.parseParams;if(C)try{const _=C(o);Object.assign(o,_)}catch(_){if(g=new sie(_.message,{cause:_}),n!=null&&n.throwOnError)throw g;return g}}),l=[],d=p=>(p==null?void 0:p.id)?p.context??this.options.context??{}:this.options.context??{};return i.forEach((p,m)=>{var g,C;const _=l[m-1],[S,w,T]=(()=>{const W=(_==null?void 0:_.search)??e.search,$=(_==null?void 0:_._strictSearch)??{};try{const L=HA(p.options.validateSearch,{...W})??{};return[{...W,...L},{...$,...L},void 0]}catch(L){let B=L;if(L instanceof eE||(B=new eE(L.message,{cause:L})),n!=null&&n.throwOnError)throw B;return[W,{},B]}})(),I=((C=(g=p.options).loaderDeps)==null?void 0:C.call(g,{search:S}))??"",A=I?JSON.stringify(I):"",{usedParams:k,interpolatedPath:R}=cw({path:p.fullPath,params:o,decodeCharMap:this.pathParamsDecodeCharMap}),M=cw({path:p.id,params:o,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath+A,P=this.getMatch(M),N=this.state.matches.find(W=>W.routeId===p.id),D=N?"stay":"enter";let G;if(P)G={...P,cause:D,params:N?Rs(N.params,o):o,_strictParams:k,search:Rs(N?N.search:P.search,S),_strictSearch:w};else{const W=p.options.loader||p.options.beforeLoad||p.lazyFn||cie(p)?"pending":"success";G={id:M,index:m,routeId:p.id,params:N?Rs(N.params,o):o,_strictParams:k,pathname:fl([this.basepath,R]),updatedAt:Date.now(),search:N?Rs(N.search,S):S,_strictSearch:w,searchError:void 0,status:W,isFetching:!1,error:void 0,paramsError:c[m],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:D,loaderDeps:N?Rs(N.loaderDeps,I):I,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:p.options.staticData||{},loadPromise:lm(),fullPath:p.fullPath}}n!=null&&n.preload||(G.globalNotFound=a===p.id),G.searchError=T;const U=d(_);G.context={...U,...G.__routeContext,...G.__beforeLoadContext},l.push(G)}),l.forEach((p,m)=>{var g,C,_,S,w,T,I,A;const k=this.looseRoutesById[p.routeId];if(!this.getMatch(p.id)&&(n==null?void 0:n._buildLocation)!==!0){const M=l[m-1],P=d(M),N={deps:p.loaderDeps,params:p.params,context:P,location:e,navigate:D=>this.navigate({...D,_fromLocation:e}),buildLocation:this.buildLocation,cause:p.cause,abortController:p.abortController,preload:!!p.preload,matches:l};p.__routeContext=((C=(g=k.options).context)==null?void 0:C.call(g,N))??{},p.context={...P,...p.__routeContext,...p.__beforeLoadContext}}if(p.status==="success"){p.headers=(S=(_=k.options).headers)==null?void 0:S.call(_,{loaderData:p.loaderData});const M={matches:l,match:p,params:p.params,loaderData:p.loaderData},P=(T=(w=k.options).head)==null?void 0:T.call(w,M);p.links=P==null?void 0:P.links,p.headScripts=P==null?void 0:P.scripts,p.meta=P==null?void 0:P.meta,p.scripts=(A=(I=k.options).scripts)==null?void 0:A.call(I,M)}}),l}}class eE extends Error{}class sie extends Error{}function aie(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function HA(t,e){if(t==null)return{};if("~standard"in t){const n=t["~standard"].validate(e);if(n instanceof Promise)throw new eE("Async validation not supported");if(n.issues)throw new eE(JSON.stringify(n.issues,void 0,2),{cause:n});return n.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}const az=["component","errorComponent","pendingComponent","notFoundComponent"];function cie(t){var e;for(const n of az)if((e=t.options[n])!=null&&e.preload)return!0;return!1}class cz{constructor(e){if(this.init=n=>{var r,i;this.originalIndex=n.originalIndex;const o=this.options,s=!(o!=null&&o.path)&&!(o!=null&&o.id);if(this.parentRoute=(i=(r=this.options).getParentRoute)==null?void 0:i.call(r),s)this._path=pa;else if(!this.parentRoute)throw new Error("Child Route instances must pass a 'getParentRoute: () => ParentRoute' option that returns a Route instance.");let a=s?pa:o==null?void 0:o.path;a&&a!=="/"&&(a=c2(a));const c=(o==null?void 0:o.id)||a;let l=s?pa:fl([this.parentRoute.id===pa?"":this.parentRoute.id,c]);a===pa&&(a="/"),l!==pa&&(l=fl(["/",l]));const d=l===pa?"/":fl([this.parentRoute.fullPath,a]);this._path=a,this._id=l,this._fullPath=d,this._to=d,this._ssr=(o==null?void 0:o.ssr)??n.defaultSsr??!0},this.addChildren=n=>this._addFileChildren(n),this._addFileChildren=n=>(Array.isArray(n)&&(this.children=n),typeof n=="object"&&n!==null&&(this.children=Object.values(n)),this),this._addFileTypes=()=>this,this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.options=e||{},this.isRoot=!(e!=null&&e.getParentRoute),e!=null&&e.id&&(e!=null&&e.path))throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}}class lie{constructor({id:e}){this.notFound=n=>iz({routeId:this.id,...n}),this.id=e}}class uie extends cz{constructor(e){super(e)}}function l2(t){const e=t.errorComponent??nI;return y.jsx(die,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:n,reset:r})=>n?b.createElement(e,{error:n,reset:r}):t.children})}class die extends b.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,n){this.props.onCatch&&this.props.onCatch(e,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function nI({error:t}){const[e,n]=b.useState(!1);return y.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[y.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),y.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(r=>!r),children:e?"Hide Error":"Show Error"})]}),y.jsx("div",{style:{height:".25rem"}}),e?y.jsx("div",{children:y.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?y.jsx("code",{children:t.message}):null})}):null]})}var zA={exports:{}},$A={},WA={exports:{}},KA={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c4;function fie(){if(c4)return KA;c4=1;var t=dC();function e(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,s=t.useDebugValue;function a(p,m){var g=m(),C=r({inst:{value:g,getSnapshot:m}}),_=C[0].inst,S=C[1];return o(function(){_.value=g,_.getSnapshot=m,c(_)&&S({inst:_})},[p,g,m]),i(function(){return c(_)&&S({inst:_}),p(function(){c(_)&&S({inst:_})})},[p]),s(g),g}function c(p){var m=p.getSnapshot;p=p.value;try{var g=m();return!n(p,g)}catch{return!0}}function l(p,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l:a;return KA.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,KA}var l4;function lz(){return l4||(l4=1,WA.exports=fie()),WA.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u4;function hie(){if(u4)return $A;u4=1;var t=dC(),e=lz();function n(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,s=t.useEffect,a=t.useMemo,c=t.useDebugValue;return $A.useSyncExternalStoreWithSelector=function(l,d,p,m,g){var C=o(null);if(C.current===null){var _={hasValue:!1,value:null};C.current=_}else _=C.current;C=a(function(){function w(R){if(!T){if(T=!0,I=R,R=m(R),g!==void 0&&_.hasValue){var M=_.value;if(g(M,R))return A=M}return A=R}if(M=A,r(I,R))return M;var P=m(R);return g!==void 0&&g(M,P)?(I=R,M):(I=R,A=P)}var T=!1,I,A,k=p===void 0?null:p;return[function(){return w(d())},k===null?void 0:function(){return w(k())}]},[d,p,m,g]);var S=i(l,C[0],C[1]);return s(function(){_.hasValue=!0,_.value=S},[S]),c(S),S},$A}var d4;function pie(){return d4||(d4=1,zA.exports=hie()),zA.exports}var mie=pie();function gie(t,e=n=>n){return mie.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,vie)}function vie(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!e.has(r)||!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}const GA=b.createContext(null);function u2(){return typeof document>"u"?GA:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=GA,GA)}function io(t){const e=b.useContext(u2());return t==null||t.warn,e}function eo(t){const e=io({warn:(t==null?void 0:t.router)===void 0}),n=(t==null?void 0:t.router)||e,r=b.useRef(void 0);return gie(n.__store,i=>{if(t!=null&&t.select){if(t.structuralSharing??n.options.defaultStructuralSharing){const o=Rs(r.current,t.select(i));return r.current=o,o}return t.select(i)}return i})}const rI=b.createContext(void 0),yie=b.createContext(void 0);function os(t){const e=b.useContext(t.from?yie:rI);return eo({select:r=>{const i=r.matches.find(o=>t.from?t.from===o.routeId:o.id===e);if(cl(!((t.shouldThrow??!0)&&!i),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),i!==void 0)return t.select?t.select(i):i},structuralSharing:t.structuralSharing})}function iI(t){return os({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function oI(t){const{select:e,...n}=t;return os({...n,select:r=>e?e(r.loaderDeps):r.loaderDeps})}function hv(t){return os({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.params):e.params})}function sI(t){return os({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function aI(t){const{navigate:e}=io();return b.useCallback(n=>e({from:t==null?void 0:t.from,...n}),[t==null?void 0:t.from,e])}function bie(t){return new Cie({id:t})}class Cie extends lie{constructor({id:e}){super({id:e}),this.useMatch=n=>os({select:n==null?void 0:n.select,from:this.id,structuralSharing:n==null?void 0:n.structuralSharing}),this.useRouteContext=n=>os({from:this.id,select:r=>n!=null&&n.select?n.select(r.context):r.context}),this.useSearch=n=>sI({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useParams=n=>hv({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useLoaderDeps=n=>oI({...n,from:this.id,strict:!1}),this.useLoaderData=n=>iI({...n,from:this.id,strict:!1}),this.useNavigate=()=>{const n=io();return aI({from:n.routesById[this.id].fullPath})},this.notFound=n=>iz({routeId:this.id,...n})}}let _ie=class extends cz{constructor(e){super(e),this.useMatch=n=>os({select:n==null?void 0:n.select,from:this.id,structuralSharing:n==null?void 0:n.structuralSharing}),this.useRouteContext=n=>os({...n,from:this.id,select:r=>n!=null&&n.select?n.select(r.context):r.context}),this.useSearch=n=>sI({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useParams=n=>hv({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useLoaderDeps=n=>oI({...n,from:this.id}),this.useLoaderData=n=>iI({...n,from:this.id}),this.useNavigate=()=>aI({from:this.fullPath})}};function wie(t){return new _ie(t)}class Sie extends uie{constructor(e){super(e),this.useMatch=n=>os({select:n==null?void 0:n.select,from:this.id,structuralSharing:n==null?void 0:n.structuralSharing}),this.useRouteContext=n=>os({...n,from:this.id,select:r=>n!=null&&n.select?n.select(r.context):r.context}),this.useSearch=n=>sI({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useParams=n=>hv({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useLoaderDeps=n=>oI({...n,from:this.id}),this.useLoaderData=n=>iI({...n,from:this.id}),this.useNavigate=()=>aI({from:this.fullPath})}}function Eie(t){return new Sie(t)}function dn(t){return new Tie(t,{silent:!0}).createRoute}class Tie{constructor(e,n){this.path=e,this.createRoute=r=>{this.silent;const i=wie(r);return i.isRoot=!1,i},this.silent=n==null?void 0:n.silent}}class Iie{constructor(e){this.useMatch=n=>os({select:n==null?void 0:n.select,from:this.options.id,structuralSharing:n==null?void 0:n.structuralSharing}),this.useRouteContext=n=>os({from:this.options.id,select:r=>n!=null&&n.select?n.select(r.context):r.context}),this.useSearch=n=>sI({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.options.id}),this.useParams=n=>hv({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.options.id}),this.useLoaderDeps=n=>oI({...n,from:this.options.id}),this.useLoaderData=n=>iI({...n,from:this.options.id}),this.useNavigate=()=>{const n=io();return aI({from:n.routesById[this.options.id].fullPath})},this.options=e,this.$$typeof=Symbol.for("react.memo")}}function D$e(t){return e=>new Iie({id:t,...e})}function xie(t){const e=eo({select:n=>`not-found-${n.location.pathname}-${n.status}`});return y.jsx(l2,{getResetKey:()=>e,onCatch:(n,r)=>{var i;if(Ms(n))(i=t.onCatch)==null||i.call(t,n,r);else throw n},errorComponent:({error:n})=>{var r;if(Ms(n))return(r=t.fallback)==null?void 0:r.call(t,n);throw n},children:t.children})}function Aie(){return y.jsx("p",{children:"Not Found"})}function pS(t){return y.jsx(y.Fragment,{children:t.children})}function uz(t,e,n){return e.options.notFoundComponent?y.jsx(e.options.notFoundComponent,{data:n}):t.options.defaultNotFoundComponent?y.jsx(t.options.defaultNotFoundComponent,{data:n}):y.jsx(Aie,{})}var qA,f4;function kie(){if(f4)return qA;f4=1;const t={},e=t.hasOwnProperty,n=(P,N)=>{for(const D in P)e.call(P,D)&&N(D,P[D])},r=(P,N)=>(N&&n(N,(D,G)=>{P[D]=G}),P),i=(P,N)=>{const D=P.length;let G=-1;for(;++G<D;)N(P[G])},o=P=>"\\u"+("0000"+P).slice(-4),s=(P,N)=>{let D=P.toString(16);return N?D:D.toUpperCase()},a=t.toString,c=Array.isArray,l=P=>typeof Buffer=="function"&&Buffer.isBuffer(P),d=P=>a.call(P)=="[object Object]",p=P=>typeof P=="string"||a.call(P)=="[object String]",m=P=>typeof P=="number"||a.call(P)=="[object Number]",g=P=>typeof P=="bigint",C=P=>typeof P=="function",_=P=>a.call(P)=="[object Map]",S=P=>a.call(P)=="[object Set]",w={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},T=/[\\\b\f\n\r\t]/,I=/[0-9]/,A=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,k=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,R=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,M=(P,N)=>{const D=()=>{j=B,++N.indentLevel,B=N.indent.repeat(N.indentLevel)},G={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},U=N&&N.json;U&&(G.quotes="double",G.wrap=!0),N=r(G,N),N.quotes!="single"&&N.quotes!="double"&&N.quotes!="backtick"&&(N.quotes="single");const W=N.quotes=="double"?'"':N.quotes=="backtick"?"`":"'",$=N.compact,L=N.lowercaseHex;let B=N.indent.repeat(N.indentLevel),j="";const V=N.__inline1__,K=N.__inline2__,z=$?"":`
`;let H,q=!0;const le=N.numbers=="binary",Ce=N.numbers=="octal",_e=N.numbers=="decimal",be=N.numbers=="hexadecimal";if(U&&P&&C(P.toJSON)&&(P=P.toJSON()),!p(P)){if(_(P))return P.size==0?"new Map()":($||(N.__inline1__=!0,N.__inline2__=!1),"new Map("+M(Array.from(P),N)+")");if(S(P))return P.size==0?"new Set()":"new Set("+M(Array.from(P),N)+")";if(l(P))return P.length==0?"Buffer.from([])":"Buffer.from("+M(Array.from(P),N)+")";if(c(P))return H=[],N.wrap=!0,V&&(N.__inline1__=!1,N.__inline2__=!0),K||D(),i(P,Oe=>{q=!1,K&&(N.__inline2__=!1),H.push(($||K?"":B)+M(Oe,N))}),q?"[]":K?"["+H.join(", ")+"]":"["+z+H.join(","+z)+z+($?"":j)+"]";if(m(P)||g(P)){if(U)return JSON.stringify(Number(P));let Oe;if(_e)Oe=String(P);else if(be){let Q=P.toString(16);L||(Q=Q.toUpperCase()),Oe="0x"+Q}else le?Oe="0b"+P.toString(2):Ce&&(Oe="0o"+P.toString(8));return g(P)?Oe+"n":Oe}else return g(P)?U?JSON.stringify(Number(P)):P+"n":d(P)?(H=[],N.wrap=!0,D(),n(P,(Oe,Q)=>{q=!1,H.push(($?"":B)+M(Oe,N)+":"+($?"":" ")+M(Q,N))}),q?"{}":"{"+z+H.join(","+z)+z+($?"":j)+"}"):U?JSON.stringify(P)||"null":String(P)}const Pe=N.escapeEverything?k:R;return H=P.replace(Pe,(Oe,Q,ee,Ie,re,ue)=>{if(Q){if(N.minimal)return Q;const Y=Q.charCodeAt(0),ge=Q.charCodeAt(1);if(N.es6){const Ee=(Y-55296)*1024+ge-56320+65536;return"\\u{"+s(Ee,L)+"}"}return o(s(Y,L))+o(s(ge,L))}if(ee)return o(s(ee.charCodeAt(0),L));if(Oe=="\0"&&!U&&!I.test(ue.charAt(re+1)))return"\\0";if(Ie)return Ie==W||N.escapeEverything?"\\"+Ie:Ie;if(T.test(Oe))return w[Oe];if(N.minimal&&!A.test(Oe))return Oe;const xe=s(Oe.charCodeAt(0),L);return U||xe.length>2?o(xe):"\\x"+("00"+xe).slice(-2)}),W=="`"&&(H=H.replace(/\$\{/g,"\\${")),N.isScriptContext&&(H=H.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,U?"\\u003C!--":"\\x3C!--")),N.wrap&&(H=W+H+W),H};return M.version="3.0.2",qA=M,qA}kie();function Rie({children:t,log:e}){return typeof document<"u"?null:y.jsx("script",{className:"tsr-once",dangerouslySetInnerHTML:{__html:[t,"",'if (typeof __TSR_SSR__ !== "undefined") __TSR_SSR__.cleanScripts()'].filter(Boolean).join(`
`)}})}function Pie(){const t=io(),n=(t.options.getScrollRestorationKey||qP)(t.latestLocation),r=n!==qP(t.latestLocation)?n:null;return!t.isScrollRestoring||!t.isServer?null:y.jsx(Rie,{children:`(${sz.toString()})(${JSON.stringify(ZS)},${JSON.stringify(r)}, undefined, true)`,log:!1})}const dz=b.memo(function({matchId:e}){var n,r;const i=io(),o=eo({select:w=>{var T;return(T=w.matches.find(I=>I.id===e))==null?void 0:T.routeId}});cl(o);const s=i.routesById[o],a=s.options.pendingComponent??i.options.defaultPendingComponent,c=a?y.jsx(a,{}):null,l=s.options.errorComponent??i.options.defaultErrorComponent,d=s.options.onCatch??i.options.defaultOnCatch,p=s.isRoot?s.options.notFoundComponent??((n=i.options.notFoundRoute)==null?void 0:n.options.component):s.options.notFoundComponent,m=(!s.isRoot||s.options.wrapInSuspense)&&(s.options.wrapInSuspense??a??((r=s.options.errorComponent)==null?void 0:r.preload))?b.Suspense:pS,g=l?l2:pS,C=p?xie:pS,_=eo({select:w=>w.loadedAt}),S=eo({select:w=>{var T;const I=w.matches.findIndex(A=>A.id===e);return(T=w.matches[I-1])==null?void 0:T.routeId}});return y.jsxs(y.Fragment,{children:[y.jsx(rI.Provider,{value:e,children:y.jsx(m,{fallback:c,children:y.jsx(g,{getResetKey:()=>_,errorComponent:l||nI,onCatch:(w,T)=>{if(Ms(w))throw w;d==null||d(w,T)},children:y.jsx(C,{fallback:w=>{if(!p||w.routeId&&w.routeId!==o||!w.routeId&&!s.isRoot)throw w;return b.createElement(p,w)},children:y.jsx(Nie,{matchId:e})})})})}),S===pa&&i.options.scrollRestoration?y.jsxs(y.Fragment,{children:[y.jsx(Oie,{}),y.jsx(Pie,{})]}):null]})});function Oie(){var t;const e=io(),n=b.useRef(void 0);return y.jsx("script",{suppressHydrationWarning:!0,ref:r=>{var i;r&&(n.current===void 0||n.current.href!==((i=e.state.resolvedLocation)==null?void 0:i.href))&&(e.emit({type:"onRendered",...Ym(e.state)}),n.current=e.state.resolvedLocation)}},(t=e.state.resolvedLocation)==null?void 0:t.state.key)}const Nie=b.memo(function({matchId:e}){var n,r,i;const o=io(),{match:s,key:a,routeId:c}=eo({select:m=>{const g=m.matches.findIndex(I=>I.id===e),C=m.matches[g],_=C.routeId,S=o.routesById[_].options.remountDeps??o.options.defaultRemountDeps,w=S==null?void 0:S({routeId:_,loaderDeps:C.loaderDeps,params:C._strictParams,search:C._strictSearch});return{key:w?JSON.stringify(w):void 0,routeId:_,match:GP(C,["id","status","error"])}},structuralSharing:!0}),l=o.routesById[c],d=b.useMemo(()=>{const m=l.options.component??o.options.defaultComponent;return m?y.jsx(m,{},a):y.jsx(fz,{})},[a,l.options.component,o.options.defaultComponent]),p=(l.options.errorComponent??o.options.defaultErrorComponent)||nI;if(s.status==="notFound")return cl(Ms(s.error)),uz(o,l,s.error);if(s.status==="redirected")throw cl(If(s.error)),(n=o.getMatch(s.id))==null?void 0:n.loadPromise;if(s.status==="error"){if(o.isServer)return y.jsx(p,{error:s.error,reset:void 0,info:{componentStack:""}});throw s.error}if(s.status==="pending"){const m=l.options.pendingMinMs??o.options.defaultPendingMinMs;if(m&&!((r=o.getMatch(s.id))!=null&&r.minPendingPromise)&&!o.isServer){const g=lm();Promise.resolve().then(()=>{o.updateMatch(s.id,C=>({...C,minPendingPromise:g}))}),setTimeout(()=>{g.resolve(),o.updateMatch(s.id,C=>({...C,minPendingPromise:void 0}))},m)}throw(i=o.getMatch(s.id))==null?void 0:i.loadPromise}return d}),fz=b.memo(function(){const e=io(),n=b.useContext(rI),r=eo({select:l=>{var d;return(d=l.matches.find(p=>p.id===n))==null?void 0:d.routeId}}),i=e.routesById[r],o=eo({select:l=>{const p=l.matches.find(m=>m.id===n);return cl(p),p.globalNotFound}}),s=eo({select:l=>{var d;const p=l.matches,m=p.findIndex(g=>g.id===n);return(d=p[m+1])==null?void 0:d.id}});if(o)return uz(e,i,void 0);if(!s)return null;const a=y.jsx(dz,{matchId:s}),c=e.options.defaultPendingComponent?y.jsx(e.options.defaultPendingComponent,{}):null;return n===pa?y.jsx(b.Suspense,{fallback:c,children:a}):a});var cI=ez();const uw=typeof window<"u"?b.useLayoutEffect:b.useEffect;function YA(t){const e=b.useRef({value:t,prev:null}),n=e.current.value;return t!==n&&(e.current={value:t,prev:n}),e.current.prev}function Mie(){const t=io(),e=b.useRef({router:t,mounted:!1}),n=eo({select:({isLoading:p})=>p}),[r,i]=b.useState(!1),o=eo({select:p=>p.matches.some(m=>m.status==="pending"),structuralSharing:!0}),s=YA(n),a=n||r||o,c=YA(a),l=n||o,d=YA(l);return t.isServer||(t.startTransition=p=>{i(!0),b.startTransition(()=>{p(),i(!1)})}),b.useEffect(()=>{const p=t.history.subscribe(t.load),m=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Wf(t.latestLocation.href)!==Wf(m.href)&&t.commitLocation({...m,replace:!0}),()=>{p()}},[t,t.history]),uw(()=>{if(typeof window<"u"&&t.clientSsr||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(m){console.error(m)}})()},[t]),uw(()=>{s&&!n&&t.emit({type:"onLoad",...Ym(t.state)})},[s,t,n]),uw(()=>{d&&!l&&t.emit({type:"onBeforeRouteMount",...Ym(t.state)})},[l,d,t]),uw(()=>{c&&!a&&(t.emit({type:"onResolved",...Ym(t.state)}),t.__store.setState(p=>({...p,status:"idle",resolvedLocation:p.location})))},[a,c,t]),null}function Lie(){const t=io(),e=t.options.defaultPendingComponent?y.jsx(t.options.defaultPendingComponent,{}):null,n=t.isServer||typeof document<"u"&&t.clientSsr?pS:b.Suspense,r=y.jsxs(n,{fallback:e,children:[y.jsx(Mie,{}),y.jsx(Die,{})]});return t.options.InnerWrap?y.jsx(t.options.InnerWrap,{children:r}):r}function Die(){const t=eo({select:n=>{var r;return(r=n.matches[0])==null?void 0:r.id}}),e=eo({select:n=>n.loadedAt});return y.jsx(rI.Provider,{value:t,children:y.jsx(l2,{getResetKey:()=>e,errorComponent:nI,onCatch:n=>{n.message||n.toString()},children:t?y.jsx(dz,{matchId:t}):null})})}function hz(t){return eo({select:e=>e.matches,structuralSharing:void 0})}const jie=t=>new Fie(t);class Fie extends oie{constructor(e){super(e)}}function Uie({router:t,children:e,...n}){t.update({...t.options,...n,context:{...t.options.context,...n.context}});const r=u2(),i=y.jsx(r.Provider,{value:t,children:e});return t.options.Wrap?y.jsx(t.options.Wrap,{children:i}):i}function Bie({router:t,...e}){return y.jsx(Uie,{router:t,...e,children:y.jsx(Lie,{})})}function pz(t){return eo({select:e=>t!=null&&t.select?t.select(e.location):e.location})}const Vie="modulepreload",Hie=function(t){return"https://studiostaticassetsprod.azureedge.net/bundle-cmc/"+t},h4={},de=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let s=function(l){return Promise.all(l.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=s(n.map(l=>{if(l=Hie(l),l in h4)return;h4[l]=!0;const d=l.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${p}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":Vie,d||(m.as="script"),m.crossOrigin="",m.href=l,c&&m.setAttribute("nonce",c),document.head.appendChild(m),d)return new Promise((g,C)=>{m.addEventListener("load",g),m.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};var lI=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},uI=typeof window>"u"||"Deno"in globalThis;function ua(){}function zie(t,e){return typeof t=="function"?t(e):t}function $ie(t){return typeof t=="number"&&t>=0&&t!==1/0}function Wie(t,e){return Math.max(t+(e||0)-Date.now(),0)}function p4(t,e){return typeof t=="function"?t(e):t}function Kie(t,e){return typeof t=="function"?t(e):t}function m4(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=t;if(s){if(r){if(e.queryHash!==d2(s,e.options))return!1}else if(!i0(e.queryKey,s))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||o&&!o(e))}function g4(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(r0(e.options.mutationKey)!==r0(o))return!1}else if(!i0(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function d2(t,e){return((e==null?void 0:e.queryKeyHashFn)||r0)(t)}function r0(t){return JSON.stringify(t,(e,n)=>YP(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function i0(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>i0(t[n],e[n])):!1}function mz(t,e){if(t===e)return t;const n=v4(t)&&v4(e);if(n||YP(t)&&YP(e)){const r=n?t:Object.keys(t),i=r.length,o=n?e:Object.keys(e),s=o.length,a=n?[]:{};let c=0;for(let l=0;l<s;l++){const d=n?l:o[l];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,c++):(a[d]=mz(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&c++)}return i===s&&c===i?t:a}return e}function F$e(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function v4(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function YP(t){if(!y4(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!y4(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function y4(t){return Object.prototype.toString.call(t)==="[object Object]"}function Gie(t){return new Promise(e=>{setTimeout(e,t)})}function qie(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?mz(t,e):e}function Yie(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Qie(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var f2=Symbol();function gz(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===f2?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function U$e(t,e){return typeof t=="function"?t(...e):!!t}var eh,Hu,ug,DH,Xie=(DH=class extends lI{constructor(){super();Rt(this,eh);Rt(this,Hu);Rt(this,ug);ht(this,ug,e=>{if(!uI&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){J(this,Hu)||this.setEventListener(J(this,ug))}onUnsubscribe(){var e;this.hasListeners()||((e=J(this,Hu))==null||e.call(this),ht(this,Hu,void 0))}setEventListener(e){var n;ht(this,ug,e),(n=J(this,Hu))==null||n.call(this),ht(this,Hu,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){J(this,eh)!==e&&(ht(this,eh,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof J(this,eh)=="boolean"?J(this,eh):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},eh=new WeakMap,Hu=new WeakMap,ug=new WeakMap,DH),vz=new Xie,dg,zu,fg,jH,Zie=(jH=class extends lI{constructor(){super();Rt(this,dg,!0);Rt(this,zu);Rt(this,fg);ht(this,fg,e=>{if(!uI&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){J(this,zu)||this.setEventListener(J(this,fg))}onUnsubscribe(){var e;this.hasListeners()||((e=J(this,zu))==null||e.call(this),ht(this,zu,void 0))}setEventListener(e){var n;ht(this,fg,e),(n=J(this,zu))==null||n.call(this),ht(this,zu,e(this.setOnline.bind(this)))}setOnline(e){J(this,dg)!==e&&(ht(this,dg,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return J(this,dg)}},dg=new WeakMap,zu=new WeakMap,fg=new WeakMap,jH),tE=new Zie;function Jie(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function eoe(t){return Math.min(1e3*2**t,3e4)}function yz(t){return(t??"online")==="online"?tE.isOnline():!0}var bz=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function QA(t){return t instanceof bz}function Cz(t){let e=!1,n=0,r=!1,i;const o=Jie(),s=_=>{var S;r||(m(new bz(_)),(S=t.abort)==null||S.call(t))},a=()=>{e=!0},c=()=>{e=!1},l=()=>vz.isFocused()&&(t.networkMode==="always"||tE.isOnline())&&t.canRun(),d=()=>yz(t.networkMode)&&t.canRun(),p=_=>{var S;r||(r=!0,(S=t.onSuccess)==null||S.call(t,_),i==null||i(),o.resolve(_))},m=_=>{var S;r||(r=!0,(S=t.onError)==null||S.call(t,_),i==null||i(),o.reject(_))},g=()=>new Promise(_=>{var S;i=w=>{(r||l())&&_(w)},(S=t.onPause)==null||S.call(t)}).then(()=>{var _;i=void 0,r||(_=t.onContinue)==null||_.call(t)}),C=()=>{if(r)return;let _;const S=n===0?t.initialPromise:void 0;try{_=S??t.fn()}catch(w){_=Promise.reject(w)}Promise.resolve(_).then(p).catch(w=>{var R;if(r)return;const T=t.retry??(uI?0:3),I=t.retryDelay??eoe,A=typeof I=="function"?I(n,w):I,k=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,w);if(e||!k){m(w);return}n++,(R=t.onFail)==null||R.call(t,n,w),Gie(A).then(()=>l()?void 0:g()).then(()=>{e?m(w):C()})})};return{promise:o,cancel:s,continue:()=>(i==null||i(),o),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?C():g().then(C),o)}}var toe=t=>setTimeout(t,0);function noe(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=toe;const o=a=>{e?t.push(a):i(()=>{n(a)})},s=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||s()}return c},batchCalls:a=>(...c)=>{o(()=>{a(...c)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var Yi=noe(),th,FH,_z=(FH=class{constructor(){Rt(this,th)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$ie(this.gcTime)&&ht(this,th,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(uI?1/0:5*60*1e3))}clearGcTimeout(){J(this,th)&&(clearTimeout(J(this,th)),ht(this,th,void 0))}},th=new WeakMap,FH),hg,pg,Ns,nh,xi,sC,rh,da,Xc,UH,roe=(UH=class extends _z{constructor(e){super();Rt(this,da);Rt(this,hg);Rt(this,pg);Rt(this,Ns);Rt(this,nh);Rt(this,xi);Rt(this,sC);Rt(this,rh);ht(this,rh,!1),ht(this,sC,e.defaultOptions),this.setOptions(e.options),this.observers=[],ht(this,nh,e.client),ht(this,Ns,J(this,nh).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ht(this,hg,ooe(this.options)),this.state=e.state??J(this,hg),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=J(this,xi))==null?void 0:e.promise}setOptions(e){this.options={...J(this,sC),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&J(this,Ns).remove(this)}setData(e,n){const r=qie(this.state.data,e,this.options);return Je(this,da,Xc).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Je(this,da,Xc).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=J(this,xi))==null?void 0:r.promise;return(i=J(this,xi))==null||i.cancel(e),n?n.then(ua).catch(ua):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(J(this,hg))}isActive(){return this.observers.some(e=>Kie(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===f2||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Wie(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=J(this,xi))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=J(this,xi))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),J(this,Ns).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(J(this,xi)&&(J(this,rh)?J(this,xi).cancel({revert:!0}):J(this,xi).cancelRetry()),this.scheduleGc()),J(this,Ns).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Je(this,da,Xc).call(this,{type:"invalidate"})}fetch(e,n){var c,l,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(J(this,xi))return J(this,xi).continueRetry(),J(this,xi).promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(ht(this,rh,!0),r.signal)})},o=()=>{const p=gz(this.options,n),m={client:J(this,nh),queryKey:this.queryKey,meta:this.meta};return i(m),ht(this,rh,!1),this.options.persister?this.options.persister(p,m,this):p(m)},s={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:J(this,nh),state:this.state,fetchFn:o};i(s),(c=this.options.behavior)==null||c.onFetch(s,this),ht(this,pg,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((l=s.fetchOptions)==null?void 0:l.meta))&&Je(this,da,Xc).call(this,{type:"fetch",meta:(d=s.fetchOptions)==null?void 0:d.meta});const a=p=>{var m,g,C,_;QA(p)&&p.silent||Je(this,da,Xc).call(this,{type:"error",error:p}),QA(p)||((g=(m=J(this,Ns).config).onError)==null||g.call(m,p,this),(_=(C=J(this,Ns).config).onSettled)==null||_.call(C,this.state.data,p,this)),this.scheduleGc()};return ht(this,xi,Cz({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:p=>{var m,g,C,_;if(p===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(S){a(S);return}(g=(m=J(this,Ns).config).onSuccess)==null||g.call(m,p,this),(_=(C=J(this,Ns).config).onSettled)==null||_.call(C,p,this.state.error,this),this.scheduleGc()},onError:a,onFail:(p,m)=>{Je(this,da,Xc).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{Je(this,da,Xc).call(this,{type:"pause"})},onContinue:()=>{Je(this,da,Xc).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),J(this,xi).start()}},hg=new WeakMap,pg=new WeakMap,Ns=new WeakMap,nh=new WeakMap,xi=new WeakMap,sC=new WeakMap,rh=new WeakMap,da=new WeakSet,Xc=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...ioe(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return QA(i)&&i.revert&&J(this,pg)?{...J(this,pg),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Yi.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),J(this,Ns).notify({query:this,type:"updated",action:e})})},UH);function ioe(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:yz(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ooe(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Xa,BH,soe=(BH=class extends lI{constructor(e={}){super();Rt(this,Xa);this.config=e,ht(this,Xa,new Map)}build(e,n,r){const i=n.queryKey,o=n.queryHash??d2(i,n);let s=this.get(o);return s||(s=new roe({client:e,queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){J(this,Xa).has(e.queryHash)||(J(this,Xa).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=J(this,Xa).get(e.queryHash);n&&(e.destroy(),n===e&&J(this,Xa).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Yi.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return J(this,Xa).get(e)}getAll(){return[...J(this,Xa).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>m4(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>m4(e,r)):n}notify(e){Yi.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Yi.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Yi.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Xa=new WeakMap,BH),Za,Ki,ih,Ja,Ru,VH,aoe=(VH=class extends _z{constructor(e){super();Rt(this,Ja);Rt(this,Za);Rt(this,Ki);Rt(this,ih);this.mutationId=e.mutationId,ht(this,Ki,e.mutationCache),ht(this,Za,[]),this.state=e.state||coe(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){J(this,Za).includes(e)||(J(this,Za).push(e),this.clearGcTimeout(),J(this,Ki).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ht(this,Za,J(this,Za).filter(n=>n!==e)),this.scheduleGc(),J(this,Ki).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){J(this,Za).length||(this.state.status==="pending"?this.scheduleGc():J(this,Ki).remove(this))}continue(){var e;return((e=J(this,ih))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,s,a,c,l,d,p,m,g,C,_,S,w,T,I,A,k,R,M,P;const n=()=>{Je(this,Ja,Ru).call(this,{type:"continue"})};ht(this,ih,Cz({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(N,D)=>{Je(this,Ja,Ru).call(this,{type:"failed",failureCount:N,error:D})},onPause:()=>{Je(this,Ja,Ru).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>J(this,Ki).canRun(this)}));const r=this.state.status==="pending",i=!J(this,ih).canStart();try{if(r)n();else{Je(this,Ja,Ru).call(this,{type:"pending",variables:e,isPaused:i}),await((s=(o=J(this,Ki).config).onMutate)==null?void 0:s.call(o,e,this));const D=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,e));D!==this.state.context&&Je(this,Ja,Ru).call(this,{type:"pending",context:D,variables:e,isPaused:i})}const N=await J(this,ih).start();return await((d=(l=J(this,Ki).config).onSuccess)==null?void 0:d.call(l,N,e,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,N,e,this.state.context)),await((C=(g=J(this,Ki).config).onSettled)==null?void 0:C.call(g,N,null,this.state.variables,this.state.context,this)),await((S=(_=this.options).onSettled)==null?void 0:S.call(_,N,null,e,this.state.context)),Je(this,Ja,Ru).call(this,{type:"success",data:N}),N}catch(N){try{throw await((T=(w=J(this,Ki).config).onError)==null?void 0:T.call(w,N,e,this.state.context,this)),await((A=(I=this.options).onError)==null?void 0:A.call(I,N,e,this.state.context)),await((R=(k=J(this,Ki).config).onSettled)==null?void 0:R.call(k,void 0,N,this.state.variables,this.state.context,this)),await((P=(M=this.options).onSettled)==null?void 0:P.call(M,void 0,N,e,this.state.context)),N}finally{Je(this,Ja,Ru).call(this,{type:"error",error:N})}}finally{J(this,Ki).runNext(this)}}},Za=new WeakMap,Ki=new WeakMap,ih=new WeakMap,Ja=new WeakSet,Ru=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Yi.batch(()=>{J(this,Za).forEach(r=>{r.onMutationUpdate(e)}),J(this,Ki).notify({mutation:this,type:"updated",action:e})})},VH);function coe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var il,fa,aC,HH,loe=(HH=class extends lI{constructor(e={}){super();Rt(this,il);Rt(this,fa);Rt(this,aC);this.config=e,ht(this,il,new Set),ht(this,fa,new Map),ht(this,aC,0)}build(e,n,r){const i=new aoe({mutationCache:this,mutationId:++ow(this,aC)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){J(this,il).add(e);const n=dw(e);if(typeof n=="string"){const r=J(this,fa).get(n);r?r.push(e):J(this,fa).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(J(this,il).delete(e)){const n=dw(e);if(typeof n=="string"){const r=J(this,fa).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&J(this,fa).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=dw(e);if(typeof n=="string"){const r=J(this,fa).get(n),i=r==null?void 0:r.find(o=>o.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=dw(e);if(typeof n=="string"){const i=(r=J(this,fa).get(n))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Yi.batch(()=>{J(this,il).forEach(e=>{this.notify({type:"removed",mutation:e})}),J(this,il).clear(),J(this,fa).clear()})}getAll(){return Array.from(J(this,il))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>g4(n,r))}findAll(e={}){return this.getAll().filter(n=>g4(e,n))}notify(e){Yi.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Yi.batch(()=>Promise.all(e.map(n=>n.continue().catch(ua))))}},il=new WeakMap,fa=new WeakMap,aC=new WeakMap,HH);function dw(t){var e;return(e=t.options.scope)==null?void 0:e.id}function b4(t){return{onFetch:(e,n)=>{var d,p,m,g,C;const r=e.options,i=(m=(p=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:p.fetchMore)==null?void 0:m.direction,o=((g=e.state.data)==null?void 0:g.pages)||[],s=((C=e.state.data)==null?void 0:C.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const l=async()=>{let _=!1;const S=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},w=gz(e.options,e.fetchOptions),T=async(I,A,k)=>{if(_)return Promise.reject();if(A==null&&I.pages.length)return Promise.resolve(I);const R={client:e.client,queryKey:e.queryKey,pageParam:A,direction:k?"backward":"forward",meta:e.options.meta};S(R);const M=await w(R),{maxPages:P}=e.options,N=k?Qie:Yie;return{pages:N(I.pages,M,P),pageParams:N(I.pageParams,A,P)}};if(i&&o.length){const I=i==="backward",A=I?uoe:C4,k={pages:o,pageParams:s},R=A(r,k);a=await T(k,R,I)}else{const I=t??o.length;do{const A=c===0?s[0]??r.initialPageParam:C4(r,a);if(c>0&&A==null)break;a=await T(a,A),c++}while(c<I)}return a};e.options.persister?e.fetchFn=()=>{var _,S;return(S=(_=e.options).persister)==null?void 0:S.call(_,l,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=l}}}function C4(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function uoe(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var pr,$u,Wu,mg,gg,Ku,vg,yg,zH,doe=(zH=class{constructor(t={}){Rt(this,pr);Rt(this,$u);Rt(this,Wu);Rt(this,mg);Rt(this,gg);Rt(this,Ku);Rt(this,vg);Rt(this,yg);ht(this,pr,t.queryCache||new soe),ht(this,$u,t.mutationCache||new loe),ht(this,Wu,t.defaultOptions||{}),ht(this,mg,new Map),ht(this,gg,new Map),ht(this,Ku,0)}mount(){ow(this,Ku)._++,J(this,Ku)===1&&(ht(this,vg,vz.subscribe(async t=>{t&&(await this.resumePausedMutations(),J(this,pr).onFocus())})),ht(this,yg,tE.subscribe(async t=>{t&&(await this.resumePausedMutations(),J(this,pr).onOnline())})))}unmount(){var t,e;ow(this,Ku)._--,J(this,Ku)===0&&((t=J(this,vg))==null||t.call(this),ht(this,vg,void 0),(e=J(this,yg))==null||e.call(this),ht(this,yg,void 0))}isFetching(t){return J(this,pr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return J(this,$u).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=J(this,pr).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=J(this,pr).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(p4(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return J(this,pr).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=J(this,pr).get(r.queryHash),o=i==null?void 0:i.state.data,s=zie(e,o);if(s!==void 0)return J(this,pr).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return Yi.batch(()=>J(this,pr).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=J(this,pr).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=J(this,pr);Yi.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=J(this,pr);return Yi.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Yi.batch(()=>J(this,pr).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(ua).catch(ua)}invalidateQueries(t,e={}){return Yi.batch(()=>(J(this,pr).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Yi.batch(()=>J(this,pr).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(ua)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(ua)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=J(this,pr).build(this,e);return n.isStaleByTime(p4(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ua).catch(ua)}fetchInfiniteQuery(t){return t.behavior=b4(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ua).catch(ua)}ensureInfiniteQueryData(t){return t.behavior=b4(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return tE.isOnline()?J(this,$u).resumePausedMutations():Promise.resolve()}getQueryCache(){return J(this,pr)}getMutationCache(){return J(this,$u)}getDefaultOptions(){return J(this,Wu)}setDefaultOptions(t){ht(this,Wu,t)}setQueryDefaults(t,e){J(this,mg).set(r0(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...J(this,mg).values()],n={};return e.forEach(r=>{i0(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){J(this,gg).set(r0(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...J(this,gg).values()],n={};return e.forEach(r=>{i0(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...J(this,Wu).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=d2(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===f2&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...J(this,Wu).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){J(this,pr).clear(),J(this,$u).clear()}},pr=new WeakMap,$u=new WeakMap,Wu=new WeakMap,mg=new WeakMap,gg=new WeakMap,Ku=new WeakMap,vg=new WeakMap,yg=new WeakMap,zH),wz=b.createContext(void 0),B$e=t=>{const e=b.useContext(wz);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},foe=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),y.jsx(wz.Provider,{value:t,children:e}));const va={};let hoe=0;function se(t,e){const n=`atom${++hoe}`,r={toString(){return(va?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof t=="function"?r.read=t:(r.init=t,r.read=poe,r.write=moe),e&&(r.write=e),r}function poe(t){return t(this)}function moe(t,e,n){return e(this,typeof n=="function"?n(t(this)):n)}const _4=(t,e)=>t.unstable_is?t.unstable_is(e):e===t,XA=t=>"init"in t,ZA=t=>!!t.write,nE=new WeakMap,QP=t=>{var e;return XP(t)&&!((e=nE.get(t))!=null&&e[1])},goe=(t,e)=>{const n=nE.get(t);if(n)n[1]=!0,n[0].forEach(r=>r(e));else if((va?"production":void 0)!=="production")throw new Error("[Bug] cancelable promise not found")},voe=t=>{if(nE.has(t))return;const e=[new Set,!1];nE.set(t,e);const n=()=>{e[1]=!0};t.then(n,n),t.onCancel=r=>{e[0].add(r)}},XP=t=>typeof(t==null?void 0:t.then)=="function",w4=t=>"v"in t||"e"in t,fw=t=>{if("e"in t)throw t.e;if((va?"production":void 0)!=="production"&&!("v"in t))throw new Error("[Bug] atom state is not initialized");return t.v},Sz=(t,e,n)=>{n.p.has(t)||(n.p.add(t),e.then(()=>{n.p.delete(t)},()=>{n.p.delete(t)}))},S4=(t,e,n,r,i)=>{var o;if((va?"production":void 0)!=="production"&&r===e)throw new Error("[Bug] atom cannot depend on itself");n.d.set(r,i.n),QP(n.v)&&Sz(e,n.v,i),(o=i.m)==null||o.t.add(e),t&&yoe(t,r,e)},qp=()=>[new Map,new Map,new Set],JA=(t,e,n)=>{t[0].has(e)||t[0].set(e,new Set),t[1].set(e,n)},yoe=(t,e,n)=>{const r=t[0].get(e);r&&r.add(n)},boe=(t,e)=>t[0].get(e),E4=(t,e)=>{t[2].add(e)},pf=t=>{for(;t[1].size||t[2].size;){t[0].clear();const e=new Set(t[1].values());t[1].clear();const n=new Set(t[2]);t[2].clear(),e.forEach(r=>{var i;return(i=r.m)==null?void 0:i.l.forEach(o=>o())}),n.forEach(r=>r())}},Ez=t=>{let e;(va?"production":void 0)!=="production"&&(e=new Set);const n=(_,S,w)=>{const T="v"in S,I=S.v,A=QP(S.v)?S.v:null;if(XP(w)){voe(w);for(const k of S.d.keys())Sz(_,w,t(k,S));S.v=w,delete S.e}else S.v=w,delete S.e;(!T||!Object.is(I,S.v))&&(++S.n,A&&goe(A,w))},r=(_,S,w,T)=>{var I;if(w4(w)&&(w.m&&!(T!=null&&T.has(S))||Array.from(w.d).every(([N,D])=>r(_,N,t(N,w),T).n===D)))return w;w.d.clear();let A=!0;const k=N=>{if(_4(S,N)){const G=t(N,w);if(!w4(G))if(XA(N))n(N,G,N.init);else throw new Error("no atom init");return fw(G)}const D=r(_,N,t(N,w),T);if(A)S4(_,S,w,N,D);else{const G=qp();S4(G,S,w,N,D),l(G,S,w),pf(G)}return fw(D)};let R,M;const P={get signal(){return R||(R=new AbortController),R.signal},get setSelf(){return(va?"production":void 0)!=="production"&&!ZA(S)&&console.warn("setSelf function cannot be used with read-only atom"),!M&&ZA(S)&&(M=(...N)=>{if((va?"production":void 0)!=="production"&&A&&console.warn("setSelf function cannot be called in sync"),!A)return c(S,...N)}),M}};try{const N=S.read(k,P);if(n(S,w,N),XP(N)){(I=N.onCancel)==null||I.call(N,()=>R==null?void 0:R.abort());const D=()=>{if(w.m){const G=qp();l(G,S,w),pf(G)}};N.then(D,D)}return w}catch(N){return delete w.v,w.e=N,++w.n,w}finally{A=!1}},i=_=>fw(r(void 0,_,t(_))),o=(_,S,w)=>{var T,I;const A=new Map;for(const k of((T=w.m)==null?void 0:T.t)||[])A.set(k,t(k,w));for(const k of w.p)A.set(k,t(k,w));return(I=boe(_,S))==null||I.forEach(k=>{A.set(k,t(k,w))}),A},s=(_,S,w)=>{const T=[],I=new Set,A=(R,M)=>{if(!I.has(R)){I.add(R);for(const[P,N]of o(_,R,M))R!==P&&A(P,N);T.push([R,M,M.n])}};A(S,w);const k=new Set([S]);for(let R=T.length-1;R>=0;--R){const[M,P,N]=T[R];let D=!1;for(const G of P.d.keys())if(G!==M&&k.has(G)){D=!0;break}D&&(r(_,M,P,I),l(_,M,P),N!==P.n&&(JA(_,M,P),k.add(M))),I.delete(M)}},a=(_,S,w,...T)=>{const I=R=>fw(r(_,R,t(R,w))),A=(R,...M)=>{const P=t(R,w);let N;if(_4(S,R)){if(!XA(R))throw new Error("atom not writable");const D="v"in P,G=P.v,U=M[0];n(R,P,U),l(_,R,P),(!D||!Object.is(G,P.v))&&(JA(_,R,P),s(_,R,P))}else N=a(_,R,P,...M);return pf(_),N};return S.write(I,A,...T)},c=(_,...S)=>{const w=qp(),T=a(w,_,t(_),...S);return pf(w),T},l=(_,S,w)=>{if(w.m&&!QP(w.v)){for(const T of w.d.keys())w.m.d.has(T)||(d(_,T,t(T,w)).t.add(S),w.m.d.add(T));for(const T of w.m.d||[])if(!w.d.has(T)){w.m.d.delete(T);const I=p(_,T,t(T,w));I==null||I.t.delete(S)}}},d=(_,S,w)=>{if(!w.m){r(_,S,w);for(const T of w.d.keys())d(_,T,t(T,w)).t.add(S);if(w.m={l:new Set,d:new Set(w.d.keys()),t:new Set},(va?"production":void 0)!=="production"&&e.add(S),ZA(S)&&S.onMount){const T=w.m,{onMount:I}=S;E4(_,()=>{const A=I((...k)=>a(_,S,w,...k));A&&(T.u=A)})}}return w.m},p=(_,S,w)=>{if(w.m&&!w.m.l.size&&!Array.from(w.m.t).some(T=>{var I;return(I=t(T,w).m)==null?void 0:I.d.has(S)})){const T=w.m.u;T&&E4(_,T),delete w.m,(va?"production":void 0)!=="production"&&e.delete(S);for(const I of w.d.keys()){const A=p(_,I,t(I,w));A==null||A.t.delete(S)}return}return w.m},C={get:i,set:c,sub:(_,S)=>{const w=qp(),T=t(_),I=d(w,_,T);pf(w);const A=I.l;return A.add(S),()=>{A.delete(S);const k=qp();p(k,_,T),pf(k)}},unstable_derive:_=>Ez(..._(t))};return(va?"production":void 0)!=="production"&&Object.assign(C,{dev4_get_internal_weak_map:()=>({get:S=>{const w=t(S);if(w.n!==0)return w}}),dev4_get_mounted_atoms:()=>e,dev4_restore_atoms:S=>{const w=qp();for(const[T,I]of S)if(XA(T)){const A=t(T),k="v"in A,R=A.v;n(T,A,I),l(w,T,A),(!k||!Object.is(R,A.v))&&(JA(w,T,A),s(w,T,A))}pf(w)}}),C},Coe=()=>{const t=new WeakMap;return Ez(n=>{let r=t.get(n);return r||(r={d:new Map,p:new Set,n:0},t.set(n,r)),r})};let My;const Ht=()=>(My||(My=Coe(),(va?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=My),globalThis.__JOTAI_DEFAULT_STORE__!==My&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),My),Tz={},_oe=b.createContext(void 0),Iz=t=>b.useContext(_oe)||Ht(),xz=t=>typeof(t==null?void 0:t.then)=="function",woe=t=>{t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e})},Soe=Dl.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(woe(t),t)}),ek=new WeakMap,Eoe=t=>{let e=ek.get(t);return e||(e=new Promise((n,r)=>{let i=t;const o=c=>l=>{i===c&&n(l)},s=c=>l=>{i===c&&r(l)},a=c=>{"onCancel"in c&&typeof c.onCancel=="function"&&c.onCancel(l=>{if((Tz?"production":void 0)!=="production"&&l===c)throw new Error("[Bug] p is not updated even after cancelation");xz(l)?(ek.set(l,e),i=l,l.then(o(l),s(l)),a(l)):n(l)})};t.then(o(t),s(t)),a(t)}),ek.set(t,e)),e};function oe(t,e){const n=Iz(),[[r,i,o],s]=b.useReducer(l=>{const d=n.get(t);return Object.is(l[0],d)&&l[1]===n&&l[2]===t?l:[d,n,t]},void 0,()=>[n.get(t),n,t]);let a=r;if((i!==n||o!==t)&&(s(),a=n.get(t)),b.useEffect(()=>{const l=n.sub(t,()=>{s()});return s(),l},[n,t,void 0]),b.useDebugValue(a),xz(a)){const l=Eoe(a);return Soe(l)}return a}function We(t,e){const n=Iz();return b.useCallback((...i)=>{if((Tz?"production":void 0)!=="production"&&!("write"in t))throw new Error("not writable atom");return n.set(t,...i)},[n,t])}function Lt(t,e){return[oe(t),We(t)]}const h2=b.createContext({});function Sl(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const fC=b.createContext(null),_h=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Toe extends b.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=r instanceof HTMLElement&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Ioe({children:t,isPresent:e,anchorX:n}){const r=b.useId(),i=b.useRef(null),o=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=b.useContext(_h);return b.useInsertionEffect(()=>{const{width:a,height:c,top:l,left:d,right:p}=o.current;if(e||!i.current||!a||!c)return;const m=n==="left"?`left: ${d}`:`right: ${p}`;i.current.dataset.motionPopId=r;const g=document.createElement("style");return s&&(g.nonce=s),document.head.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${c}px !important;
            ${m}px !important;
            top: ${l}px !important;
          }
        `),()=>{document.head.removeChild(g)}},[e]),y.jsx(Toe,{isPresent:e,childRef:i,sizeRef:o,children:b.cloneElement(t,{ref:i})})}const xoe=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s,anchorX:a})=>{const c=Sl(Aoe),l=b.useId(),d=b.useCallback(m=>{c.set(m,!0);for(const g of c.values())if(!g)return;r&&r()},[c,r]),p=b.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:d,register:m=>(c.set(m,!1),()=>c.delete(m))}),o?[Math.random(),d]:[n,d]);return b.useMemo(()=>{c.forEach((m,g)=>c.set(g,!1))},[n]),b.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),s==="popLayout"&&(t=y.jsx(Ioe,{isPresent:n,anchorX:a,children:t})),y.jsx(fC.Provider,{value:p,children:t})};function Aoe(){return new Map}function Az(t=!0){const e=b.useContext(fC);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=b.useId();b.useEffect(()=>{if(t)return i(o)},[t]);const s=b.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,s]:[!0]}function koe(){return Roe(b.useContext(fC))}function Roe(t){return t===null?!0:t.isPresent}const hw=t=>t.key||"";function T4(t){const e=[];return b.Children.forEach(t,n=>{b.isValidElement(n)&&e.push(n)}),e}const p2=typeof window<"u",hC=p2?b.useLayoutEffect:b.useEffect,Rr=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:s=!1,anchorX:a="left"})=>{const[c,l]=Az(s),d=b.useMemo(()=>T4(t),[t]),p=s&&!c?[]:d.map(hw),m=b.useRef(!0),g=b.useRef(d),C=Sl(()=>new Map),[_,S]=b.useState(d),[w,T]=b.useState(d);hC(()=>{m.current=!1,g.current=d;for(let k=0;k<w.length;k++){const R=hw(w[k]);p.includes(R)?C.delete(R):C.get(R)!==!0&&C.set(R,!1)}},[w,p.length,p.join("-")]);const I=[];if(d!==_){let k=[...d];for(let R=0;R<w.length;R++){const M=w[R],P=hw(M);p.includes(P)||(k.splice(R,0,M),I.push(M))}return o==="wait"&&I.length&&(k=I),T(T4(k)),S(d),null}const{forceRender:A}=b.useContext(h2);return y.jsx(y.Fragment,{children:w.map(k=>{const R=hw(k),M=s&&!c?!1:d===w||p.includes(R),P=()=>{if(C.has(R))C.set(R,!0);else return;let N=!0;C.forEach(D=>{D||(N=!1)}),N&&(A==null||A(),T(g.current),s&&(l==null||l()),r&&r())};return y.jsx(xoe,{isPresent:M,initial:!m.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:o,onExitComplete:M?void 0:P,anchorX:a,children:k},R)})})},Mi=t=>t;let Poe=Mi,kz=Mi;const Ooe={useManualTiming:!1},pw=["read","resolveKeyframes","update","preRender","render","postRender"];function Noe(t,e){let n=new Set,r=new Set,i=!1,o=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function c(d){s.has(d)&&(l.schedule(d),t()),d(a)}const l={schedule:(d,p=!1,m=!1)=>{const C=m&&i?n:r;return p&&s.add(d),C.has(d)||C.add(d),d},cancel:d=>{r.delete(d),s.delete(d)},process:d=>{if(a=d,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),n.clear(),i=!1,o&&(o=!1,l.process(d))}};return l}const Moe=40;function Rz(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=pw.reduce((w,T)=>(w[T]=Noe(o),w),{}),{read:a,resolveKeyframes:c,update:l,preRender:d,render:p,postRender:m}=s,g=()=>{const w=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,Moe),1),i.timestamp=w,i.isProcessing=!0,a.process(i),c.process(i),l.process(i),d.process(i),p.process(i),m.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(g))},C=()=>{n=!0,r=!0,i.isProcessing||t(g)};return{schedule:pw.reduce((w,T)=>{const I=s[T];return w[T]=(A,k=!1,R=!1)=>(n||C(),I.schedule(A,k,R)),w},{}),cancel:w=>{for(let T=0;T<pw.length;T++)s[pw[T]].cancel(w)},state:i,steps:s}}const{schedule:vn,cancel:Ia,state:ii,steps:tk}=Rz(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mi,!0),Pz=b.createContext({strict:!1}),I4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Rg={};for(const t in I4)Rg[t]={isEnabled:e=>I4[t].some(n=>!!e[n])};function Loe(t){for(const e in t)Rg[e]={...Rg[e],...t[e]}}const Doe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rE(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Doe.has(t)}let Oz=t=>!rE(t);function Nz(t){t&&(Oz=e=>e.startsWith("on")?!rE(e):t(e))}try{Nz(require("@emotion/is-prop-valid").default)}catch{}function joe(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Oz(i)||n===!0&&rE(i)||!e&&!rE(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Mz({children:t,isValidProp:e,...n}){e&&Nz(e),n={...b.useContext(_h),...n},n.isStatic=Sl(()=>n.isStatic);const r=b.useMemo(()=>n,[JSON.stringify(n.transition),n.transformPagePoint,n.reducedMotion]);return y.jsx(_h.Provider,{value:r,children:t})}function Foe(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const dI=b.createContext({});function fI(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function o0(t){return typeof t=="string"||Array.isArray(t)}const m2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],g2=["initial",...m2];function hI(t){return fI(t.animate)||g2.some(e=>o0(t[e]))}function Lz(t){return!!(hI(t)||t.variants)}function Uoe(t,e){if(hI(t)){const{initial:n,animate:r}=t;return{initial:n===!1||o0(n)?n:void 0,animate:o0(r)?r:void 0}}return t.inherit!==!1?e:{}}function Boe(t){const{initial:e,animate:n}=Uoe(t,b.useContext(dI));return b.useMemo(()=>({initial:e,animate:n}),[x4(e),x4(n)])}function x4(t){return Array.isArray(t)?t.join(" "):t}const Voe=Symbol.for("motionComponentSymbol");function Em(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Hoe(t,e,n){return b.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Em(n)&&(n.current=r))},[e])}const v2=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),zoe="framerAppearId",Dz="data-"+v2(zoe),{schedule:y2}=Rz(queueMicrotask,!1),jz=b.createContext({});function $oe(t,e,n,r,i){var o,s;const{visualElement:a}=b.useContext(dI),c=b.useContext(Pz),l=b.useContext(fC),d=b.useContext(_h).reducedMotion,p=b.useRef(null);r=r||c.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:d}));const m=p.current,g=b.useContext(jz);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&Woe(p.current,n,i,g);const C=b.useRef(!1);b.useInsertionEffect(()=>{m&&C.current&&m.update(n,l)});const _=n[Dz],S=b.useRef(!!_&&!(!((o=window.MotionHandoffIsComplete)===null||o===void 0)&&o.call(window,_))&&((s=window.MotionHasOptimisedAnimation)===null||s===void 0?void 0:s.call(window,_)));return hC(()=>{m&&(C.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),y2.render(m.render),S.current&&m.animationState&&m.animationState.animateChanges())}),b.useEffect(()=>{m&&(!S.current&&m.animationState&&m.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,_)}),S.current=!1))}),m}function Woe(t,e,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:c,layoutRoot:l}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Fz(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||a&&Em(a),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:l})}function Fz(t){if(t)return t.options.allowProjection!==!1?t.projection:Fz(t.parent)}function Koe({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var o,s;t&&Loe(t);function a(l,d){let p;const m={...b.useContext(_h),...l,layoutId:Goe(l)},{isStatic:g}=m,C=Boe(l),_=r(l,g);if(!g&&p2){qoe();const S=Yoe(m);p=S.MeasureLayout,C.visualElement=$oe(i,_,m,e,S.ProjectionNode)}return y.jsxs(dI.Provider,{value:C,children:[p&&C.visualElement?y.jsx(p,{visualElement:C.visualElement,...m}):null,n(i,l,Hoe(_,C.visualElement,d),_,g,C.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(s=(o=i.displayName)!==null&&o!==void 0?o:i.name)!==null&&s!==void 0?s:""})`}`;const c=b.forwardRef(a);return c[Voe]=i,c}function Goe({layoutId:t}){const e=b.useContext(h2).id;return e&&t!==void 0?e+"-"+t:t}function qoe(t,e){b.useContext(Pz).strict}function Yoe(t){const{drag:e,layout:n}=Rg;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Uz=t=>e=>typeof e=="string"&&e.startsWith(t),b2=Uz("--"),Qoe=Uz("var(--"),C2=t=>Qoe(t)?Xoe.test(t.split("/*")[0].trim()):!1,Xoe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,s0={};function Zoe(t){for(const e in t)s0[e]=t[e],b2(e)&&(s0[e].isCSSVariable=!0)}const pv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ep=new Set(pv);function Bz(t,{layout:e,layoutId:n}){return ep.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!s0[t]||t==="opacity")}const ai=t=>!!(t&&t.getVelocity),Vz=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Cc=(t,e,n)=>n>e?e:n<t?t:n,mv={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},a0={...mv,transform:t=>Cc(0,1,t)},mw={...mv,default:1},pC=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Pu=pC("deg"),pc=pC("%"),jt=pC("px"),Joe=pC("vh"),ese=pC("vw"),A4={...pc,parse:t=>pc.parse(t)/100,transform:t=>pc.transform(t*100)},tse={borderWidth:jt,borderTopWidth:jt,borderRightWidth:jt,borderBottomWidth:jt,borderLeftWidth:jt,borderRadius:jt,radius:jt,borderTopLeftRadius:jt,borderTopRightRadius:jt,borderBottomRightRadius:jt,borderBottomLeftRadius:jt,width:jt,maxWidth:jt,height:jt,maxHeight:jt,top:jt,right:jt,bottom:jt,left:jt,padding:jt,paddingTop:jt,paddingRight:jt,paddingBottom:jt,paddingLeft:jt,margin:jt,marginTop:jt,marginRight:jt,marginBottom:jt,marginLeft:jt,backgroundPositionX:jt,backgroundPositionY:jt},nse={rotate:Pu,rotateX:Pu,rotateY:Pu,rotateZ:Pu,scale:mw,scaleX:mw,scaleY:mw,scaleZ:mw,skew:Pu,skewX:Pu,skewY:Pu,distance:jt,translateX:jt,translateY:jt,translateZ:jt,x:jt,y:jt,z:jt,perspective:jt,transformPerspective:jt,opacity:a0,originX:A4,originY:A4,originZ:jt},k4={...mv,transform:Math.round},_2={...tse,...nse,zIndex:k4,size:jt,fillOpacity:a0,strokeOpacity:a0,numOctaves:k4},rse={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ise=pv.length;function ose(t,e,n){let r="",i=!0;for(let o=0;o<ise;o++){const s=pv[o],a=t[s];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(s.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||n){const l=Vz(a,_2[s]);if(!c){i=!1;const d=rse[s]||s;r+=`${d}(${l}) `}n&&(e[s]=l)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function w2(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let s=!1,a=!1;for(const c in e){const l=e[c];if(ep.has(c)){s=!0;continue}else if(b2(c)){i[c]=l;continue}else{const d=Vz(l,_2[c]);c.startsWith("origin")?(a=!0,o[c]=d):r[c]=d}}if(e.transform||(s||n?r.transform=ose(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:c="50%",originY:l="50%",originZ:d=0}=o;r.transformOrigin=`${c} ${l} ${d}`}}const S2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Hz(t,e,n){for(const r in e)!ai(e[r])&&!Bz(r,n)&&(t[r]=e[r])}function sse({transformTemplate:t},e){return b.useMemo(()=>{const n=S2();return w2(n,e,t),Object.assign({},n.vars,n.style)},[e])}function ase(t,e){const n=t.style||{},r={};return Hz(r,n,t),Object.assign(r,sse(t,e)),r}function cse(t,e){const n={},r=ase(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const lse=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function E2(t){return typeof t!="string"||t.includes("-")?!1:!!(lse.indexOf(t)>-1||/[A-Z]/u.test(t))}const use={offset:"stroke-dashoffset",array:"stroke-dasharray"},dse={offset:"strokeDashoffset",array:"strokeDasharray"};function fse(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?use:dse;t[o.offset]=jt.transform(-r);const s=jt.transform(e),a=jt.transform(n);t[o.array]=`${s} ${a}`}function R4(t,e,n){return typeof t=="string"?t:jt.transform(e+n*t)}function hse(t,e,n){const r=R4(e,t.x,t.width),i=R4(n,t.y,t.height);return`${r} ${i}`}function T2(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:a=1,pathOffset:c=0,...l},d,p){if(w2(t,l,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:g,dimensions:C}=t;m.transform&&(C&&(g.transform=m.transform),delete m.transform),C&&(i!==void 0||o!==void 0||g.transform)&&(g.transformOrigin=hse(C,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&fse(m,s,a,c,!1)}const zz=()=>({...S2(),attrs:{}}),I2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function pse(t,e,n,r){const i=b.useMemo(()=>{const o=zz();return T2(o,e,I2(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};Hz(o,t.style,t),i.style={...o,...i.style}}return i}function mse(t=!1){return(n,r,i,{latestValues:o},s)=>{const c=(E2(n)?pse:cse)(r,o,s,n),l=joe(r,typeof n=="string",t),d=n!==b.Fragment?{...l,...c,ref:i}:{},{children:p}=r,m=b.useMemo(()=>ai(p)?p.get():p,[p]);return b.createElement(n,{...d,children:m})}}function P4(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function x2(t,e,n,r){if(typeof e=="function"){const[i,o]=P4(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=P4(r);e=e(n!==void 0?n:t.custom,i,o)}return e}const ZP=t=>Array.isArray(t),gse=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),vse=t=>ZP(t)?t[t.length-1]||0:t;function mS(t){const e=ai(t)?t.get():t;return gse(e)?e.toValue():e}function yse({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,o){const s={latestValues:bse(r,i,o,t),renderState:e()};return n&&(s.onMount=a=>n({props:r,current:a,...s}),s.onUpdate=a=>n(a)),s}const $z=t=>(e,n)=>{const r=b.useContext(dI),i=b.useContext(fC),o=()=>yse(t,e,r,i);return n?o():Sl(o)};function bse(t,e,n,r){const i={},o=r(t,{});for(const m in o)i[m]=mS(o[m]);let{initial:s,animate:a}=t;const c=hI(t),l=Lz(t);e&&l&&!c&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const p=d?a:s;if(p&&typeof p!="boolean"&&!fI(p)){const m=Array.isArray(p)?p:[p];for(let g=0;g<m.length;g++){const C=x2(t,m[g]);if(C){const{transitionEnd:_,transition:S,...w}=C;for(const T in w){let I=w[T];if(Array.isArray(I)){const A=d?I.length-1:0;I=I[A]}I!==null&&(i[T]=I)}for(const T in _)i[T]=_[T]}}}return i}function A2(t,e,n){var r;const{style:i}=t,o={};for(const s in i)(ai(i[s])||e.style&&ai(e.style[s])||Bz(s,t)||((r=n==null?void 0:n.getValue(s))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(o[s]=i[s]);return o}const Cse={useVisualState:$z({scrapeMotionValuesFromProps:A2,createRenderState:S2})};function Wz(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function Kz(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const Gz=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qz(t,e,n,r){Kz(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Gz.has(i)?i:v2(i),e.attrs[i])}function Yz(t,e,n){const r=A2(t,e,n);for(const i in t)if(ai(t[i])||ai(e[i])){const o=pv.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}const O4=["x","y","width","height","cx","cy","r"],_se={useVisualState:$z({scrapeMotionValuesFromProps:Yz,createRenderState:zz,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let o=!!t.drag;if(!o){for(const a in i)if(ep.has(a)){o=!0;break}}if(!o)return;let s=!e;if(e)for(let a=0;a<O4.length;a++){const c=O4[a];t[c]!==e[c]&&(s=!0)}s&&vn.read(()=>{Wz(n,r),vn.render(()=>{T2(r,i,I2(n.tagName),t.transformTemplate),qz(n,r)})})}})};function wse(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...E2(r)?_se:Cse,preloadedFeatures:t,useRender:mse(i),createVisualElement:e,Component:r};return Koe(s)}}function c0(t,e,n){const r=t.getProps();return x2(r,e,n!==void 0?n:r.custom,t)}function k2(t,e){return t?t[e]||t.default||t:void 0}const Qz=new Set(["width","height","top","left","right","bottom",...pv]);let gS;function Sse(){gS=void 0}const mc={now:()=>(gS===void 0&&mc.set(ii.isProcessing||Ooe.useManualTiming?ii.timestamp:performance.now()),gS),set:t=>{gS=t,queueMicrotask(Sse)}};function R2(t,e){t.indexOf(e)===-1&&t.push(e)}function P2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class O2{constructor(){this.subscriptions=[]}add(e){return R2(this.subscriptions,e),()=>P2(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function N2(t,e){return e?t*(1e3/e):0}const N4=30,Ese=t=>!isNaN(parseFloat(t)),Rb={current:void 0};class Tse{constructor(e,n={}){this.version="12.4.7",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=mc.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=mc.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Ese(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new O2);const r=this.events[e].add(n);return e==="change"?()=>{r(),vn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Rb.current&&Rb.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=mc.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>N4)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,N4);return N2(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ba(t,e){return new Tse(t,e)}function Ise(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ba(n))}function xse(t,e){const n=c0(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o){const a=vse(o[s]);Ise(t,s,a)}}function Ase(t){return!!(ai(t)&&t.add)}function JP(t,e){const n=t.getValue("willChange");if(Ase(n))return n.add(e)}function Xz(t){return t.props[Dz]}function M2(t){let e;return()=>(e===void 0&&(e=t()),e)}const Zz=M2(()=>window.ScrollTimeline!==void 0);class kse{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(Zz()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,o)=>{i&&i(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Rse extends kse{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}const hl=t=>t*1e3,pl=t=>t/1e3;function L2(t){return typeof t=="function"}function M4(t,e){t.timeline=e,t.onfinish=null}const D2=t=>Array.isArray(t)&&typeof t[0]=="number",Pse={linearEasing:void 0};function Ose(t,e){const n=M2(t);return()=>{var r;return(r=Pse[e])!==null&&r!==void 0?r:n()}}const iE=Ose(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Jz=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=t(wh(0,i-1,o))+", ";return`linear(${r.substring(0,r.length-2)})`};function e$(t){return!!(typeof t=="function"&&iE()||!t||typeof t=="string"&&(t in eO||iE())||D2(t)||Array.isArray(t)&&t.every(e$))}const hb=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,eO={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hb([0,.65,.55,1]),circOut:hb([.55,0,1,.45]),backIn:hb([.31,.01,.66,-.59]),backOut:hb([.33,1.53,.69,.99])};function t$(t,e){if(t)return typeof t=="function"&&iE()?Jz(t,e):D2(t)?hb(t):Array.isArray(t)?t.map(n=>t$(n,e)||eO.easeOut):eO[t]}const n$=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Nse=1e-7,Mse=12;function Lse(t,e,n,r,i){let o,s,a=0;do s=e+(n-e)/2,o=n$(s,r,i)-t,o>0?n=s:e=s;while(Math.abs(o)>Nse&&++a<Mse);return s}function mC(t,e,n,r){if(t===e&&n===r)return Mi;const i=o=>Lse(o,0,1,t,n);return o=>o===0||o===1?o:n$(i(o),e,r)}const r$=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,i$=t=>e=>1-t(1-e),o$=mC(.33,1.53,.69,.99),j2=i$(o$),s$=r$(j2),a$=t=>(t*=2)<1?.5*j2(t):.5*(2-Math.pow(2,-10*(t-1))),F2=t=>1-Math.sin(Math.acos(t)),c$=i$(F2),l$=r$(F2),u$=t=>/^0[^.\s]+$/u.test(t);function Dse(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||u$(t):!0}const Pb=t=>Math.round(t*1e5)/1e5,U2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function jse(t){return t==null}const Fse=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,B2=(t,e)=>n=>!!(typeof n=="string"&&Fse.test(n)&&n.startsWith(t)||e&&!jse(n)&&Object.prototype.hasOwnProperty.call(n,e)),d$=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,s,a]=r.match(U2);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},Use=t=>Cc(0,255,t),nk={...mv,transform:t=>Math.round(Use(t))},Kf={test:B2("rgb","red"),parse:d$("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+nk.transform(t)+", "+nk.transform(e)+", "+nk.transform(n)+", "+Pb(a0.transform(r))+")"};function Bse(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const tO={test:B2("#"),parse:Bse,transform:Kf.transform},Tm={test:B2("hsl","hue"),parse:d$("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+pc.transform(Pb(e))+", "+pc.transform(Pb(n))+", "+Pb(a0.transform(r))+")"},Ai={test:t=>Kf.test(t)||tO.test(t)||Tm.test(t),parse:t=>Kf.test(t)?Kf.parse(t):Tm.test(t)?Tm.parse(t):tO.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Kf.transform(t):Tm.transform(t)},Vse=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Hse(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(U2))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Vse))===null||n===void 0?void 0:n.length)||0)>0}const f$="number",h$="color",zse="var",$se="var(",L4="${}",Wse=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function l0(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const a=e.replace(Wse,c=>(Ai.test(c)?(r.color.push(o),i.push(h$),n.push(Ai.parse(c))):c.startsWith($se)?(r.var.push(o),i.push(zse),n.push(c)):(r.number.push(o),i.push(f$),n.push(parseFloat(c))),++o,L4)).split(L4);return{values:n,split:a,indexes:r,types:i}}function p$(t){return l0(t).values}function m$(t){const{split:e,types:n}=l0(t),r=e.length;return i=>{let o="";for(let s=0;s<r;s++)if(o+=e[s],i[s]!==void 0){const a=n[s];a===f$?o+=Pb(i[s]):a===h$?o+=Ai.transform(i[s]):o+=i[s]}return o}}const Kse=t=>typeof t=="number"?0:t;function Gse(t){const e=p$(t);return m$(t)(e.map(Kse))}const ud={test:Hse,parse:p$,createTransformer:m$,getAnimatableNone:Gse},qse=new Set(["brightness","contrast","saturate","opacity"]);function Yse(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(U2)||[];if(!r)return t;const i=n.replace(r,"");let o=qse.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const Qse=/\b([a-z-]*)\(.*?\)/gu,nO={...ud,getAnimatableNone:t=>{const e=t.match(Qse);return e?e.map(Yse).join(" "):t}},Xse={..._2,color:Ai,backgroundColor:Ai,outlineColor:Ai,fill:Ai,stroke:Ai,borderColor:Ai,borderTopColor:Ai,borderRightColor:Ai,borderBottomColor:Ai,borderLeftColor:Ai,filter:nO,WebkitFilter:nO},V2=t=>Xse[t];function g$(t,e){let n=V2(t);return n!==nO&&(n=ud),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Zse=new Set(["auto","none","0"]);function Jse(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!Zse.has(o)&&l0(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=g$(n,i)}const D4=t=>t===mv||t===jt,j4=(t,e)=>parseFloat(t.split(", ")[e]),F4=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return j4(i[1],e);{const o=r.match(/^matrix\((.+)\)$/u);return o?j4(o[1],t):0}},eae=new Set(["x","y","z"]),tae=pv.filter(t=>!eae.has(t));function nae(t){const e=[];return tae.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Pg={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:F4(4,13),y:F4(5,14)};Pg.translateX=Pg.x;Pg.translateY=Pg.y;const ah=new Set;let rO=!1,iO=!1;function v$(){if(iO){const t=Array.from(ah).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=nae(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,s])=>{var a;(a=r.getValue(o))===null||a===void 0||a.set(s)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}iO=!1,rO=!1,ah.forEach(t=>t.complete()),ah.clear()}function y$(){ah.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(iO=!0)})}function rae(){y$(),v$()}class H2{constructor(e,n,r,i,o,s=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=s}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ah.add(this),rO||(rO=!0,vn.read(y$),vn.resolveKeyframes(v$))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const s=i==null?void 0:i.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const c=r.readValue(n,a);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ah.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ah.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const b$=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),iae=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function oae(t){const e=iae.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function C$(t,e,n=1){const[r,i]=oae(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const s=o.trim();return b$(s)?parseFloat(s):s}return C2(i)?C$(i,e,n+1):i}const _$=t=>e=>e.test(t),sae={test:t=>t==="auto",parse:t=>t},w$=[mv,jt,pc,Pu,ese,Joe,sae],U4=t=>w$.find(_$(t));class S$ extends H2{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let l=e[c];if(typeof l=="string"&&(l=l.trim(),C2(l))){const d=C$(l,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!Qz.has(r)||e.length!==2)return;const[i,o]=e,s=U4(i),a=U4(o);if(s!==a)if(D4(s)&&D4(a))for(let c=0;c<e.length;c++){const l=e[c];typeof l=="string"&&(e[c]=parseFloat(l))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)Dse(e[i])&&r.push(i);r.length&&Jse(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pg[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const o=n.getValue(r);o&&o.jump(this.measuredOrigin,!1);const s=i.length-1,a=i[s];i[s]=Pg[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,l])=>{n.getValue(c).set(l)}),this.resolveNoneKeyframes()}}const B4=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ud.test(t)||t==="0")&&!t.startsWith("url("));function aae(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function cae(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],s=B4(i,e),a=B4(o,e);return!s||!a?!1:aae(t)||(n==="spring"||L2(n))&&r}const lae=t=>t!==null;function pI(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(lae),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return!o||r===void 0?i[o]:r}const uae=40;class E${constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=mc.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>uae?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&rae(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=mc.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:o,delay:s,onComplete:a,onUpdate:c,isGenerator:l}=this.options;if(!l&&!cae(e,r,i,o))if(s)this.options.duration=0;else{c&&c(pI(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const oO=2e4;function T$(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<oO;)e+=n,r=t.next(e);return e>=oO?1/0:e}const lr=(t,e,n)=>t+(e-t)*n;function rk(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function dae({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,s=0;if(!e)i=o=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;i=rk(c,a,t+1/3),o=rk(c,a,t),s=rk(c,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}function oE(t,e){return n=>n>0?e:t}const ik=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},fae=[tO,Kf,Tm],hae=t=>fae.find(e=>e.test(t));function V4(t){const e=hae(t);if(!e)return!1;let n=e.parse(t);return e===Tm&&(n=dae(n)),n}const H4=(t,e)=>{const n=V4(t),r=V4(e);if(!n||!r)return oE(t,e);const i={...n};return o=>(i.red=ik(n.red,r.red,o),i.green=ik(n.green,r.green,o),i.blue=ik(n.blue,r.blue,o),i.alpha=lr(n.alpha,r.alpha,o),Kf.transform(i))},pae=(t,e)=>n=>e(t(n)),gC=(...t)=>t.reduce(pae),sO=new Set(["none","hidden"]);function mae(t,e){return sO.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function gae(t,e){return n=>lr(t,e,n)}function z2(t){return typeof t=="number"?gae:typeof t=="string"?C2(t)?oE:Ai.test(t)?H4:bae:Array.isArray(t)?I$:typeof t=="object"?Ai.test(t)?H4:vae:oE}function I$(t,e){const n=[...t],r=n.length,i=t.map((o,s)=>z2(o)(o,e[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}}function vae(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=z2(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function yae(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const s=e.types[o],a=t.indexes[s][i[s]],c=(n=t.values[a])!==null&&n!==void 0?n:0;r[o]=c,i[s]++}return r}const bae=(t,e)=>{const n=ud.createTransformer(e),r=l0(t),i=l0(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?sO.has(t)&&!i.values.length||sO.has(e)&&!r.values.length?mae(t,e):gC(I$(yae(r,i),i.values),n):oE(t,e)};function x$(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?lr(t,e,n):z2(t)(t,e)}const Cae=5;function A$(t,e,n){const r=Math.max(e-Cae,0);return N2(n-t(r),e-r)}const yr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},z4=.001;function _ae({duration:t=yr.duration,bounce:e=yr.bounce,velocity:n=yr.velocity,mass:r=yr.mass}){let i,o,s=1-e;s=Cc(yr.minDamping,yr.maxDamping,s),t=Cc(yr.minDuration,yr.maxDuration,pl(t)),s<1?(i=l=>{const d=l*s,p=d*t,m=d-n,g=aO(l,s),C=Math.exp(-p);return z4-m/g*C},o=l=>{const p=l*s*t,m=p*n+n,g=Math.pow(s,2)*Math.pow(l,2)*t,C=Math.exp(-p),_=aO(Math.pow(l,2),s);return(-i(l)+z4>0?-1:1)*((m-g)*C)/_}):(i=l=>{const d=Math.exp(-l*t),p=(l-n)*t+1;return-.001+d*p},o=l=>{const d=Math.exp(-l*t),p=(n-l)*(t*t);return d*p});const a=5/t,c=Sae(i,o,a);if(t=hl(t),isNaN(c))return{stiffness:yr.stiffness,damping:yr.damping,duration:t};{const l=Math.pow(c,2)*r;return{stiffness:l,damping:s*2*Math.sqrt(r*l),duration:t}}}const wae=12;function Sae(t,e,n){let r=n;for(let i=1;i<wae;i++)r=r-t(r)/e(r);return r}function aO(t,e){return t*Math.sqrt(1-e*e)}const Eae=["duration","bounce"],Tae=["stiffness","damping","mass"];function $4(t,e){return e.some(n=>t[n]!==void 0)}function Iae(t){let e={velocity:yr.velocity,stiffness:yr.stiffness,damping:yr.damping,mass:yr.mass,isResolvedFromDuration:!1,...t};if(!$4(t,Tae)&&$4(t,Eae))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*Cc(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:yr.mass,stiffness:i,damping:o}}else{const n=_ae(t);e={...e,...n,mass:yr.mass},e.isResolvedFromDuration=!0}return e}function k$(t=yr.visualDuration,e=yr.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:c,damping:l,mass:d,duration:p,velocity:m,isResolvedFromDuration:g}=Iae({...n,velocity:-pl(n.velocity||0)}),C=m||0,_=l/(2*Math.sqrt(c*d)),S=s-o,w=pl(Math.sqrt(c/d)),T=Math.abs(S)<5;r||(r=T?yr.restSpeed.granular:yr.restSpeed.default),i||(i=T?yr.restDelta.granular:yr.restDelta.default);let I;if(_<1){const k=aO(w,_);I=R=>{const M=Math.exp(-_*w*R);return s-M*((C+_*w*S)/k*Math.sin(k*R)+S*Math.cos(k*R))}}else if(_===1)I=k=>s-Math.exp(-w*k)*(S+(C+w*S)*k);else{const k=w*Math.sqrt(_*_-1);I=R=>{const M=Math.exp(-_*w*R),P=Math.min(k*R,300);return s-M*((C+_*w*S)*Math.sinh(P)+k*S*Math.cosh(P))/k}}const A={calculatedDuration:g&&p||null,next:k=>{const R=I(k);if(g)a.done=k>=p;else{let M=0;_<1&&(M=k===0?hl(C):A$(I,k,R));const P=Math.abs(M)<=r,N=Math.abs(s-R)<=i;a.done=P&&N}return a.value=a.done?s:R,a},toString:()=>{const k=Math.min(T$(A),oO),R=Jz(M=>A.next(k*M).value,k,30);return k+"ms "+R}};return A}function W4({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:c,restDelta:l=.5,restSpeed:d}){const p=t[0],m={done:!1,value:p},g=P=>a!==void 0&&P<a||c!==void 0&&P>c,C=P=>a===void 0?c:c===void 0||Math.abs(a-P)<Math.abs(c-P)?a:c;let _=n*e;const S=p+_,w=s===void 0?S:s(S);w!==S&&(_=w-p);const T=P=>-_*Math.exp(-P/r),I=P=>w+T(P),A=P=>{const N=T(P),D=I(P);m.done=Math.abs(N)<=l,m.value=m.done?w:D};let k,R;const M=P=>{g(m.value)&&(k=P,R=k$({keyframes:[m.value,C(m.value)],velocity:A$(I,P,m.value),damping:i,stiffness:o,restDelta:l,restSpeed:d}))};return M(0),{calculatedDuration:null,next:P=>{let N=!1;return!R&&k===void 0&&(N=!0,A(P),M(P)),k!==void 0&&P>=k?R.next(P-k):(!N&&A(P),m)}}}const xae=mC(.42,0,1,1),Aae=mC(0,0,.58,1),R$=mC(.42,0,.58,1),kae=t=>Array.isArray(t)&&typeof t[0]!="number",Rae={linear:Mi,easeIn:xae,easeInOut:R$,easeOut:Aae,circIn:F2,circInOut:l$,circOut:c$,backIn:j2,backInOut:s$,backOut:o$,anticipate:a$},K4=t=>{if(D2(t)){kz(t.length===4);const[e,n,r,i]=t;return mC(e,n,r,i)}else if(typeof t=="string")return Rae[t];return t};function Pae(t,e,n){const r=[],i=n||x$,o=t.length-1;for(let s=0;s<o;s++){let a=i(t[s],t[s+1]);if(e){const c=Array.isArray(e)?e[s]||Mi:e;a=gC(c,a)}r.push(a)}return r}function $2(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(kz(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const s=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=Pae(e,r,i),c=a.length,l=d=>{if(s&&d<t[0])return e[0];let p=0;if(c>1)for(;p<t.length-2&&!(d<t[p+1]);p++);const m=wh(t[p],t[p+1],d);return a[p](m)};return n?d=>l(Cc(t[0],t[o-1],d)):l}function Oae(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=wh(0,e,r);t.push(lr(n,1,i))}}function P$(t){const e=[0];return Oae(e,t.length-1),e}function Nae(t,e){return t.map(n=>n*e)}function Mae(t,e){return t.map(()=>e||R$).splice(0,t.length-1)}function sE({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=kae(r)?r.map(K4):K4(r),o={done:!1,value:e[0]},s=Nae(n&&n.length===e.length?n:P$(e),t),a=$2(s,e,{ease:Array.isArray(i)?i:Mae(e,i)});return{calculatedDuration:t,next:c=>(o.value=a(c),o.done=c>=t,o)}}const Lae=t=>{const e=({timestamp:n})=>t(n);return{start:()=>vn.update(e,!0),stop:()=>Ia(e),now:()=>ii.isProcessing?ii.timestamp:mc.now()}},Dae={decay:W4,inertia:W4,tween:sE,keyframes:sE,spring:k$},jae=t=>t/100;class mI extends E${constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:i,keyframes:o}=this.options,s=(i==null?void 0:i.KeyframeResolver)||H2,a=(c,l)=>this.onKeyframesResolved(c,l);this.resolver=new s(o,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:s=0}=this.options,a=L2(n)?n:Dae[n]||sE;let c,l;a!==sE&&typeof e[0]!="number"&&(c=gC(jae,x$(e[0],e[1])),e=[0,100]);const d=a({...this.options,keyframes:e});o==="mirror"&&(l=a({...this.options,keyframes:[...e].reverse(),velocity:-s})),d.calculatedDuration===null&&(d.calculatedDuration=T$(d));const{calculatedDuration:p}=d,m=p+i,g=m*(r+1)-i;return{generator:d,mirroredGenerator:l,mapPercentToKeyframes:c,calculatedDuration:p,resolvedDuration:m,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:i,generator:o,mirroredGenerator:s,mapPercentToKeyframes:a,keyframes:c,calculatedDuration:l,totalDuration:d,resolvedDuration:p}=r;if(this.startTime===null)return o.next(0);const{delay:m,repeat:g,repeatType:C,repeatDelay:_,onUpdate:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const w=this.currentTime-m*(this.speed>=0?1:-1),T=this.speed>=0?w<0:w>d;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let I=this.currentTime,A=o;if(g){const P=Math.min(this.currentTime,d)/p;let N=Math.floor(P),D=P%1;!D&&P>=1&&(D=1),D===1&&N--,N=Math.min(N,g+1),!!(N%2)&&(C==="reverse"?(D=1-D,_&&(D-=_/p)):C==="mirror"&&(A=s)),I=Cc(0,1,D)*p}const k=T?{done:!1,value:c[0]}:A.next(I);a&&(k.value=a(k.value));let{done:R}=k;!T&&l!==null&&(R=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return M&&i!==void 0&&(k.value=pI(c,this.options,i)),S&&S(k.value),M&&this.finish(),k}get duration(){const{resolved:e}=this;return e?pl(e.calculatedDuration):0}get time(){return pl(this.currentTime)}set time(e){e=hl(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=pl(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Lae,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}function Fae(t){return new mI(t)}const Uae=new Set(["opacity","clipPath","filter","transform"]);function Bae(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:a="easeInOut",times:c}={}){const l={[e]:n};c&&(l.offset=c);const d=t$(a,i);return Array.isArray(d)&&(l.easing=d),t.animate(l,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}const Vae=M2(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),aE=10,Hae=2e4;function zae(t){return L2(t.type)||t.type==="spring"||!e$(t.ease)}function $ae(t,e){const n=new mI({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let o=0;for(;!r.done&&o<Hae;)r=n.sample(o),i.push(r.value),o+=aE;return{times:void 0,keyframes:i,duration:o-aE,ease:"linear"}}const O$={anticipate:a$,backInOut:s$,circInOut:l$};function Wae(t){return t in O$}class G4 extends E${constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:o}=this.options;this.resolver=new S$(o,(s,a)=>this.onKeyframesResolved(s,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:o,type:s,motionValue:a,name:c,startTime:l}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof o=="string"&&iE()&&Wae(o)&&(o=O$[o]),zae(this.options)){const{onComplete:p,onUpdate:m,motionValue:g,element:C,..._}=this.options,S=$ae(e,_);e=S.keyframes,e.length===1&&(e[1]=e[0]),r=S.duration,i=S.times,o=S.ease,s="keyframes"}const d=Bae(a.owner.current,c,e,{...this.options,duration:r,times:i,ease:o});return d.startTime=l??this.calcStartTime(),this.pendingTimeline?(M4(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:p}=this.options;a.set(pI(e,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:i,type:s,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return pl(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return pl(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=hl(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Mi;const{animation:r}=n;M4(r,e)}return Mi}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:o,ease:s,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:l,onUpdate:d,onComplete:p,element:m,...g}=this.options,C=new mI({...g,keyframes:r,duration:i,type:o,ease:s,times:a,isGenerator:!0}),_=hl(this.time);l.setWithVelocity(C.sample(_-aE).value,C.sample(_).value,aE)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:o,damping:s,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:l}=n.owner.getProps();return Vae()&&r&&Uae.has(r)&&!c&&!l&&!i&&o!=="mirror"&&s!==0&&a!=="inertia"}}const Kae={type:"spring",stiffness:500,damping:25,restSpeed:10},Gae=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),qae={type:"keyframes",duration:.8},Yae={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Qae=(t,{keyframes:e})=>e.length>2?qae:ep.has(t)?t.startsWith("scale")?Gae(e[1]):Kae:Yae;function Xae({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:c,elapsed:l,...d}){return!!Object.keys(d).length}const W2=(t,e,n,r={},i,o)=>s=>{const a=k2(r,t)||{},c=a.delay||r.delay||0;let{elapsed:l=0}=r;l=l-hl(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-l,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:o?void 0:i};Xae(a)||(d={...d,...Qae(t,d)}),d.duration&&(d.duration=hl(d.duration)),d.repeatDelay&&(d.repeatDelay=hl(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(p=!0)),p&&!o&&e.get()!==void 0){const m=pI(d.keyframes,a);if(m!==void 0)return vn.update(()=>{d.onUpdate(m),d.onComplete()}),new Rse([])}return!o&&G4.supports(d)?new G4(d):new mI(d)};function Zae({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function N$(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var o;let{transition:s=t.getDefaultTransition(),transitionEnd:a,...c}=e;r&&(s=r);const l=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const p in c){const m=t.getValue(p,(o=t.latestValues[p])!==null&&o!==void 0?o:null),g=c[p];if(g===void 0||d&&Zae(d,p))continue;const C={delay:n,...k2(s||{},p)};let _=!1;if(window.MotionHandoffAnimation){const w=Xz(t);if(w){const T=window.MotionHandoffAnimation(w,p,vn);T!==null&&(C.startTime=T,_=!0)}}JP(t,p),m.start(W2(p,m,g,t.shouldReduceMotion&&Qz.has(p)?{type:!1}:C,t,_));const S=m.animation;S&&l.push(S)}return a&&Promise.all(l).then(()=>{vn.update(()=>{a&&xse(t,a)})}),l}function cO(t,e,n={}){var r;const i=c0(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const s=i?()=>Promise.all(N$(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:d=0,staggerChildren:p,staggerDirection:m}=o;return Jae(t,e,d+l,p,m,n)}:()=>Promise.resolve(),{when:c}=o;if(c){const[l,d]=c==="beforeChildren"?[s,a]:[a,s];return l().then(()=>d())}else return Promise.all([s(),a(n.delay)])}function Jae(t,e,n=0,r=0,i=1,o){const s=[],a=(t.variantChildren.size-1)*r,c=i===1?(l=0)=>l*r:(l=0)=>a-l*r;return Array.from(t.variantChildren).sort(ece).forEach((l,d)=>{l.notify("AnimationStart",e),s.push(cO(l,e,{...o,delay:n+c(d)}).then(()=>l.notify("AnimationComplete",e)))}),Promise.all(s)}function ece(t,e){return t.sortNodePosition(e)}function tce(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>cO(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=cO(t,e,n);else{const i=typeof e=="function"?c0(t,e,n.custom):e;r=Promise.all(N$(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function M$(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const nce=g2.length;function L$(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?L$(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<nce;n++){const r=g2[n],i=t.props[r];(o0(i)||i===!1)&&(e[r]=i)}return e}const rce=[...m2].reverse(),ice=m2.length;function oce(t){return e=>Promise.all(e.map(({animation:n,options:r})=>tce(t,n,r)))}function sce(t){let e=oce(t),n=q4(),r=!0;const i=c=>(l,d)=>{var p;const m=c0(t,d,c==="exit"?(p=t.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(m){const{transition:g,transitionEnd:C,..._}=m;l={...l,..._,...C}}return l};function o(c){e=c(t)}function s(c){const{props:l}=t,d=L$(t.parent)||{},p=[],m=new Set;let g={},C=1/0;for(let S=0;S<ice;S++){const w=rce[S],T=n[w],I=l[w]!==void 0?l[w]:d[w],A=o0(I),k=w===c?T.isActive:null;k===!1&&(C=S);let R=I===d[w]&&I!==l[w]&&A;if(R&&r&&t.manuallyAnimateOnMount&&(R=!1),T.protectedKeys={...g},!T.isActive&&k===null||!I&&!T.prevProp||fI(I)||typeof I=="boolean")continue;const M=ace(T.prevProp,I);let P=M||w===c&&T.isActive&&!R&&A||S>C&&A,N=!1;const D=Array.isArray(I)?I:[I];let G=D.reduce(i(w),{});k===!1&&(G={});const{prevResolvedValues:U={}}=T,W={...U,...G},$=j=>{P=!0,m.has(j)&&(N=!0,m.delete(j)),T.needsAnimating[j]=!0;const V=t.getValue(j);V&&(V.liveStyle=!1)};for(const j in W){const V=G[j],K=U[j];if(g.hasOwnProperty(j))continue;let z=!1;ZP(V)&&ZP(K)?z=!M$(V,K):z=V!==K,z?V!=null?$(j):m.add(j):V!==void 0&&m.has(j)?$(j):T.protectedKeys[j]=!0}T.prevProp=I,T.prevResolvedValues=G,T.isActive&&(g={...g,...G}),r&&t.blockInitialAnimation&&(P=!1),P&&(!(R&&M)||N)&&p.push(...D.map(j=>({animation:j,options:{type:w}})))}if(m.size){const S={};if(typeof l.initial!="boolean"){const w=c0(t,Array.isArray(l.initial)?l.initial[0]:l.initial);w&&w.transition&&(S.transition=w.transition)}m.forEach(w=>{const T=t.getBaseTarget(w),I=t.getValue(w);I&&(I.liveStyle=!0),S[w]=T??null}),p.push({animation:S})}let _=!!p.length;return r&&(l.initial===!1||l.initial===l.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(p):Promise.resolve()}function a(c,l){var d;if(n[c].isActive===l)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(c,l)}),n[c].isActive=l;const p=s(c);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=q4(),r=!0}}}function ace(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!M$(e,t):!1}function mf(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function q4(){return{animate:mf(!0),whileInView:mf(),whileHover:mf(),whileTap:mf(),whileDrag:mf(),whileFocus:mf(),exit:mf()}}class Ed{constructor(e){this.isMounted=!1,this.node=e}update(){}}class cce extends Ed{constructor(e){super(e),e.animationState||(e.animationState=sce(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();fI(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let lce=0;class uce extends Ed{constructor(){super(...arguments),this.id=lce++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const dce={animation:{Feature:cce},exit:{Feature:uce}},ca={x:!1,y:!1};function D$(){return ca.x||ca.y}function fce(t){return t==="x"||t==="y"?ca[t]?null:(ca[t]=!0,()=>{ca[t]=!1}):ca.x||ca.y?null:(ca.x=ca.y=!0,()=>{ca.x=ca.y=!1})}function u0(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const K2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function vC(t){return{point:{x:t.pageX,y:t.pageY}}}const hce=t=>e=>K2(e)&&t(e,vC(e));function Im(t,e,n,r){return u0(t,e,hce(n),r)}function j$({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function pce({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function mce(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const F$=1e-4,gce=1-F$,vce=1+F$,U$=.01,yce=0-U$,bce=0+U$;function Ji(t){return t.max-t.min}function Cce(t,e,n){return Math.abs(t-e)<=n}function Y4(t,e,n,r=.5){t.origin=r,t.originPoint=lr(e.min,e.max,t.origin),t.scale=Ji(n)/Ji(e),t.translate=lr(n.min,n.max,t.origin)-t.originPoint,(t.scale>=gce&&t.scale<=vce||isNaN(t.scale))&&(t.scale=1),(t.translate>=yce&&t.translate<=bce||isNaN(t.translate))&&(t.translate=0)}function Ob(t,e,n,r){Y4(t.x,e.x,n.x,r?r.originX:void 0),Y4(t.y,e.y,n.y,r?r.originY:void 0)}function Q4(t,e,n){t.min=n.min+e.min,t.max=t.min+Ji(e)}function _ce(t,e,n){Q4(t.x,e.x,n.x),Q4(t.y,e.y,n.y)}function X4(t,e,n){t.min=e.min-n.min,t.max=t.min+Ji(e)}function Nb(t,e,n){X4(t.x,e.x,n.x),X4(t.y,e.y,n.y)}const Z4=()=>({translate:0,scale:1,origin:0,originPoint:0}),xm=()=>({x:Z4(),y:Z4()}),J4=()=>({min:0,max:0}),Tr=()=>({x:J4(),y:J4()});function Ps(t){return[t("x"),t("y")]}function ok(t){return t===void 0||t===1}function lO({scale:t,scaleX:e,scaleY:n}){return!ok(t)||!ok(e)||!ok(n)}function xf(t){return lO(t)||B$(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function B$(t){return eU(t.x)||eU(t.y)}function eU(t){return t&&t!=="0%"}function cE(t,e,n){const r=t-n,i=e*r;return n+i}function tU(t,e,n,r,i){return i!==void 0&&(t=cE(t,i,r)),cE(t,n,r)+e}function uO(t,e=0,n=1,r,i){t.min=tU(t.min,e,n,r,i),t.max=tU(t.max,e,n,r,i)}function V$(t,{x:e,y:n}){uO(t.x,e.translate,e.scale,e.originPoint),uO(t.y,n.translate,n.scale,n.originPoint)}const nU=.999999999999,rU=1.0000000000001;function wce(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&km(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,V$(t,s)),r&&xf(o.latestValues)&&km(t,o.latestValues))}e.x<rU&&e.x>nU&&(e.x=1),e.y<rU&&e.y>nU&&(e.y=1)}function Am(t,e){t.min=t.min+e,t.max=t.max+e}function iU(t,e,n,r,i=.5){const o=lr(t.min,t.max,i);uO(t,e,n,o,r)}function km(t,e){iU(t.x,e.x,e.scaleX,e.scale,e.originX),iU(t.y,e.y,e.scaleY,e.scale,e.originY)}function H$(t,e){return j$(mce(t.getBoundingClientRect(),e))}function Sce(t,e,n){const r=H$(t,n),{scroll:i}=e;return i&&(Am(r.x,i.offset.x),Am(r.y,i.offset.y)),r}function lE(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const oU=(t,e)=>Math.abs(t-e);function Ece(t,e){const n=oU(t.x,e.x),r=oU(t.y,e.y);return Math.sqrt(n**2+r**2)}class z${constructor(e,n,{transformPagePoint:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=ak(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=Ece(d.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:g}=d,{timestamp:C}=ii;this.history.push({...g,timestamp:C});const{onStart:_,onMove:S}=this.handlers;p||(_&&_(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,d)},this.handlePointerMove=(d,p)=>{if(d.target instanceof Element&&d.target.hasPointerCapture&&d.pointerId!==void 0)try{if(!d.target.hasPointerCapture(d.pointerId))return}catch{}this.lastMoveEvent=d,this.lastMoveEventInfo=sk(p,this.transformPagePoint),vn.update(this.updatePoint,!0)},this.handlePointerUp=(d,p)=>{lE(d,"release"),this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=ak(d.type==="pointercancel"||d.type==="lostpointercapture"?this.lastMoveEventInfo:sk(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(d,_),g&&g(d,_)},!K2(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r;const o=vC(e),s=sk(o,this.transformPagePoint),{point:a}=s,{timestamp:c}=ii;this.history=[{...a,timestamp:c}];const{onSessionStart:l}=n;l&&l(e,ak(s,this.history)),lE(e,"set"),this.removeListeners=gC(Im(e.currentTarget,"pointermove",this.handlePointerMove),Im(e.currentTarget,"pointerup",this.handlePointerUp),Im(e.currentTarget,"pointercancel",this.handlePointerUp),Im(e.currentTarget,"lostpointercapture",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ia(this.updatePoint)}}function sk(t,e){return e?{point:e(t.point)}:t}function sU(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ak({point:t},e){return{point:t,delta:sU(t,$$(e)),offset:sU(t,Tce(e)),velocity:Ice(e,.1)}}function Tce(t){return t[0]}function $$(t){return t[t.length-1]}function Ice(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=$$(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>hl(e)));)n--;if(!r)return{x:0,y:0};const o=pl(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function xce(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?lr(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?lr(n,t,r.max):Math.min(t,n)),t}function aU(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Ace(t,{top:e,left:n,bottom:r,right:i}){return{x:aU(t.x,n,i),y:aU(t.y,e,r)}}function cU(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function kce(t,e){return{x:cU(t.x,e.x),y:cU(t.y,e.y)}}function Rce(t,e){let n=.5;const r=Ji(t),i=Ji(e);return i>r?n=wh(e.min,e.max-r,t.min):r>i&&(n=wh(t.min,t.max-i,e.min)),Cc(0,1,n)}function Pce(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const dO=.35;function Oce(t=dO){return t===!1?t=0:t===!0&&(t=dO),{x:lU(t,"left","right"),y:lU(t,"top","bottom")}}function lU(t,e,n){return{min:uU(t,e),max:uU(t,n)}}function uU(t,e){return typeof t=="number"?t:t[e]||0}const Nce=new WeakMap;class Mce{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tr(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(vC(d).point)},o=(d,p)=>{const{drag:m,dragPropagation:g,onDragStart:C}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fce(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ps(S=>{let w=this.getAxisMotionValue(S).get()||0;if(pc.test(w)){const{projection:T}=this.visualElement;if(T&&T.layout){const I=T.layout.layoutBox[S];I&&(w=Ji(I)*(parseFloat(w)/100))}}this.originPoint[S]=w}),C&&vn.postRender(()=>C(d,p)),JP(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},s=(d,p)=>{const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:C,onDrag:_}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:S}=p;if(g&&this.currentDirection===null){this.currentDirection=Lce(S),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",p.point,S),this.updateAxis("y",p.point,S),this.visualElement.render(),_&&_(d,p)},a=(d,p)=>this.stop(d,p),c=()=>Ps(d=>{var p;return this.getAnimationState(d)==="paused"&&((p=this.getAxisMotionValue(d).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:l}=this.getProps();this.panSession=new z$(e,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&vn.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!gw(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=xce(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&Em(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Ace(i.layoutBox,n):this.constraints=!1,this.elastic=Oce(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ps(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Pce(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Em(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Sce(r,i.root,this.visualElement.getTransformPagePoint());let s=kce(i.layout.layoutBox,o);if(n){const a=n(pce(s));this.hasMutatedConstraints=!!a,a&&(s=j$(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},l=Ps(d=>{if(!gw(d,n,this.currentDirection))return;let p=c&&c[d]||{};s&&(p={min:0,max:0});const m=i?200:1e6,g=i?40:1e7,C={type:"inertia",velocity:r?e[d]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...p};return this.startAxisValueAnimation(d,C)});return Promise.all(l).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return JP(this.visualElement,e),r.start(W2(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ps(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ps(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ps(n=>{const{drag:r}=this.getProps();if(!gw(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(e[n]-lr(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Em(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ps(s=>{const a=this.getAxisMotionValue(s);if(a&&this.constraints!==!1){const c=a.get();i[s]=Rce({min:c,max:c},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ps(s=>{if(!gw(s,e,null))return;const a=this.getAxisMotionValue(s),{min:c,max:l}=this.constraints[s];a.set(lr(c,l,i[s]))})}addListeners(){if(!this.visualElement.current)return;Nce.set(this.visualElement,this);const e=this.visualElement.current,n=Im(e,"pointerdown",c=>{const{drag:l,dragListener:d=!0}=this.getProps();l&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Em(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),vn.read(r);const s=u0(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:l})=>{this.isDragging&&l&&(Ps(d=>{const p=this.getAxisMotionValue(d);p&&(this.originPoint[d]+=c[d].translate,p.set(p.get()+c[d].translate))}),this.visualElement.render())});return()=>{s(),n(),o(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=dO,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function gw(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function Lce(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Dce extends Ed{constructor(e){super(e),this.removeGroupControls=Mi,this.removeListeners=Mi,this.controls=new Mce(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mi}unmount(){this.removeGroupControls(),this.removeListeners()}}const dU=t=>(e,n)=>{t&&vn.postRender(()=>t(e,n))};class jce extends Ed{constructor(){super(...arguments),this.removePointerDownListener=Mi}onPointerDown(e){this.session=new z$(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:dU(e),onStart:dU(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&vn.postRender(()=>i(o,s))}}}mount(){this.removePointerDownListener=Im(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const vS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function fU(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ly={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(jt.test(t))t=parseFloat(t);else return t;const n=fU(t,e.target.x),r=fU(t,e.target.y);return`${n}% ${r}%`}},Fce={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=ud.parse(t);if(i.length>5)return r;const o=ud.createTransformer(t),s=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,c=n.y.scale*e.y;i[0+s]/=a,i[1+s]/=c;const l=lr(a,c,.5);return typeof i[2+s]=="number"&&(i[2+s]/=l),typeof i[3+s]=="number"&&(i[3+s]/=l),o(i)}};class Uce extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;Zoe(Bce),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),vS.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||vn.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),y2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function W$(t){const[e,n]=Az(),r=b.useContext(h2);return y.jsx(Uce,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(jz),isPresent:e,safeToRemove:n})}const Bce={borderRadius:{...Ly,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ly,borderTopRightRadius:Ly,borderBottomLeftRadius:Ly,borderBottomRightRadius:Ly,boxShadow:Fce};function Vce(t,e,n){const r=ai(t)?t:ba(t);return r.start(W2("",r,e,n)),r.animation}function Hce(t){return t instanceof SVGElement&&t.tagName!=="svg"}const zce=(t,e)=>t.depth-e.depth;class $ce{constructor(){this.children=[],this.isDirty=!1}add(e){R2(this.children,e),this.isDirty=!0}remove(e){P2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(zce),this.isDirty=!1,this.children.forEach(e)}}function Wce(t,e){const n=mc.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(Ia(r),t(o-e))};return vn.read(r,!0),()=>Ia(r)}const K$=["TopLeft","TopRight","BottomLeft","BottomRight"],Kce=K$.length,hU=t=>typeof t=="string"?parseFloat(t):t,pU=t=>typeof t=="number"||jt.test(t);function Gce(t,e,n,r,i,o){i?(t.opacity=lr(0,n.opacity!==void 0?n.opacity:1,qce(r)),t.opacityExit=lr(e.opacity!==void 0?e.opacity:1,0,Yce(r))):o&&(t.opacity=lr(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<Kce;s++){const a=`border${K$[s]}Radius`;let c=mU(e,a),l=mU(n,a);if(c===void 0&&l===void 0)continue;c||(c=0),l||(l=0),c===0||l===0||pU(c)===pU(l)?(t[a]=Math.max(lr(hU(c),hU(l),r),0),(pc.test(l)||pc.test(c))&&(t[a]+="%")):t[a]=l}(e.rotate||n.rotate)&&(t.rotate=lr(e.rotate||0,n.rotate||0,r))}function mU(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const qce=G$(0,.5,c$),Yce=G$(.5,.95,Mi);function G$(t,e,n){return r=>r<t?0:r>e?1:n(wh(t,e,r))}function gU(t,e){t.min=e.min,t.max=e.max}function Ts(t,e){gU(t.x,e.x),gU(t.y,e.y)}function vU(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function yU(t,e,n,r,i){return t-=e,t=cE(t,1/n,r),i!==void 0&&(t=cE(t,1/i,r)),t}function Qce(t,e=0,n=1,r=.5,i,o=t,s=t){if(pc.test(e)&&(e=parseFloat(e),e=lr(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=lr(o.min,o.max,r);t===o&&(a-=e),t.min=yU(t.min,e,n,a,i),t.max=yU(t.max,e,n,a,i)}function bU(t,e,[n,r,i],o,s){Qce(t,e[n],e[r],e[i],e.scale,o,s)}const Xce=["x","scaleX","originX"],Zce=["y","scaleY","originY"];function CU(t,e,n,r){bU(t.x,e,Xce,n?n.x:void 0,r?r.x:void 0),bU(t.y,e,Zce,n?n.y:void 0,r?r.y:void 0)}function _U(t){return t.translate===0&&t.scale===1}function q$(t){return _U(t.x)&&_U(t.y)}function wU(t,e){return t.min===e.min&&t.max===e.max}function Jce(t,e){return wU(t.x,e.x)&&wU(t.y,e.y)}function SU(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Y$(t,e){return SU(t.x,e.x)&&SU(t.y,e.y)}function EU(t){return Ji(t.x)/Ji(t.y)}function TU(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class ele{constructor(){this.members=[]}add(e){R2(this.members,e),e.scheduleRender()}remove(e){if(P2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function tle(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,s=(n==null?void 0:n.z)||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:l,rotate:d,rotateX:p,rotateY:m,skewX:g,skewY:C}=n;l&&(r=`perspective(${l}px) ${r}`),d&&(r+=`rotate(${d}deg) `),p&&(r+=`rotateX(${p}deg) `),m&&(r+=`rotateY(${m}deg) `),g&&(r+=`skewX(${g}deg) `),C&&(r+=`skewY(${C}deg) `)}const a=t.x.scale*e.x,c=t.y.scale*e.y;return(a!==1||c!==1)&&(r+=`scale(${a}, ${c})`),r||"none"}const ck=["","X","Y","Z"],nle={visibility:"hidden"},IU=1e3;let rle=0;function lk(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Q$(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Xz(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",vn,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Q$(r)}function X$({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=e==null?void 0:e()){this.id=rle++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(sle),this.nodes.forEach(dle),this.nodes.forEach(fle),this.nodes.forEach(ale)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new $ce)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new O2),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const c=this.eventHandlers.get(s);c&&c.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Hce(s),this.instance=s;const{layoutId:c,layout:l,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(l||c)&&(this.isLayoutDirty=!0),t){let p;const m=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=Wce(m,250),vS.hasAnimatedSinceResize&&(vS.hasAnimatedSinceResize=!1,this.nodes.forEach(AU))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||l)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeLayoutChanged:g,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||d.getDefaultTransition()||vle,{onLayoutAnimationStart:S,onLayoutAnimationComplete:w}=d.getProps(),T=!this.targetLayout||!Y$(this.targetLayout,C),I=!m&&g;if(this.options.layoutRoot||this.resumeFrom||I||m&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,I);const A={...k2(_,"layout"),onPlay:S,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else m||AU(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ia(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(hle),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Q$(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(xU);return}this.isUpdating||this.nodes.forEach(lle),this.isUpdating=!1,this.nodes.forEach(ule),this.nodes.forEach(ile),this.nodes.forEach(ole),this.clearAllSnapshots();const a=mc.now();ii.delta=Cc(0,1e3/60,a-ii.timestamp),ii.timestamp=a,ii.isProcessing=!0,tk.update.process(ii),tk.preRender.process(ii),tk.render.process(ii),ii.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,y2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(cle),this.sharedNodes.forEach(ple)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,vn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){vn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ji(this.snapshot.measuredBox.x)&&!Ji(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!q$(this.projectionDelta),c=this.getTransformTemplate(),l=c?c(this.latestValues,""):void 0,d=l!==this.prevTransformTemplateValue;s&&(a||xf(this.latestValues)||d)&&(i(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return s&&(c=this.removeTransform(c)),yle(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var s;const{visualElement:a}=this.options;if(!a)return Tr();const c=a.measureViewportBox();if(!(((s=this.scroll)===null||s===void 0?void 0:s.wasRoot)||this.path.some(ble))){const{scroll:d}=this.root;d&&(Am(c.x,d.offset.x),Am(c.y,d.offset.y))}return c}removeElementScroll(s){var a;const c=Tr();if(Ts(c,s),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return c;for(let l=0;l<this.path.length;l++){const d=this.path[l],{scroll:p,options:m}=d;d!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&Ts(c,s),Am(c.x,p.offset.x),Am(c.y,p.offset.y))}return c}applyTransform(s,a=!1){const c=Tr();Ts(c,s);for(let l=0;l<this.path.length;l++){const d=this.path[l];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&km(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),xf(d.latestValues)&&km(c,d.latestValues)}return xf(this.latestValues)&&km(c,this.latestValues),c}removeTransform(s){const a=Tr();Ts(a,s);for(let c=0;c<this.path.length;c++){const l=this.path[c];if(!l.instance||!xf(l.latestValues))continue;lO(l.latestValues)&&l.updateSnapshot();const d=Tr(),p=l.measurePageBox();Ts(d,p),CU(a,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,d)}return xf(this.latestValues)&&CU(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ii.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==c;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!(!this.layout||!(p||m))){if(this.resolvedRelativeTargetAt=ii.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tr(),this.relativeTargetOrigin=Tr(),Nb(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Ts(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Tr(),this.targetWithTransforms=Tr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_ce(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ts(this.target,this.layout.layoutBox),V$(this.target,this.targetDelta)):Ts(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tr(),this.relativeTargetOrigin=Tr(),Nb(this.relativeTargetOrigin,this.target,g.target),Ts(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||lO(this.parent.latestValues)||B$(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(l=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ii.timestamp&&(l=!1),l)return;const{layout:d,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||p))return;Ts(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;wce(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Tr());const{target:C}=a;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(vU(this.prevProjectionDelta.x,this.projectionDelta.x),vU(this.prevProjectionDelta.y,this.projectionDelta.y)),Ob(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!TU(this.projectionDelta.x,this.prevProjectionDelta.x)||!TU(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),s){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=xm(),this.projectionDelta=xm(),this.projectionDeltaWithTransform=xm()}setAnimationOrigin(s,a=!1){const c=this.snapshot,l=c?c.latestValues:{},d={...this.latestValues},p=xm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=Tr(),g=c?c.source:void 0,C=this.layout?this.layout.source:void 0,_=g!==C,S=this.getStack(),w=!S||S.members.length<=1,T=!!(_&&!w&&this.options.crossfade===!0&&!this.path.some(gle));this.animationProgress=0;let I;this.mixTargetDelta=A=>{const k=A/1e3;kU(p.x,s.x,k),kU(p.y,s.y,k),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Nb(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mle(this.relativeTarget,this.relativeTargetOrigin,m,k),I&&Jce(this.relativeTarget,I)&&(this.isProjectionDirty=!1),I||(I=Tr()),Ts(I,this.relativeTarget)),_&&(this.animationValues=d,Gce(d,l,this.latestValues,k,T,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ia(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=vn.update(()=>{vS.hasAnimatedSinceResize=!0,this.currentAnimation=Vce(0,IU,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(IU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:c,layout:l,latestValues:d}=s;if(!(!a||!c||!l)){if(this!==s&&this.layout&&l&&Z$(this.options.animationType,this.layout.layoutBox,l.layoutBox)){c=this.target||Tr();const p=Ji(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+p;const m=Ji(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+m}Ts(a,c),km(a,d),Ob(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new ele),this.sharedNodes.get(s).add(a);const l=a.options.initialPromotionConfig;a.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:c}={}){const l=this.getStack();l&&l.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:c}=s;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const l={};c.z&&lk("z",s,l,this.animationValues);for(let d=0;d<ck.length;d++)lk(`rotate${ck[d]}`,s,l,this.animationValues),lk(`skew${ck[d]}`,s,l,this.animationValues);s.render();for(const d in l)s.setStaticValue(d,l[d]),this.animationValues&&(this.animationValues[d]=l[d]);s.scheduleRender()}getProjectionStyles(s){var a,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return nle;const l={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=mS(s==null?void 0:s.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none",l;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=mS(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!xf(this.latestValues)&&(_.transform=d?d({},""):"none",this.hasProjected=!1),_}const m=p.animationValues||p.latestValues;this.applyTransformsToTarget(),l.transform=tle(this.projectionDeltaWithTransform,this.treeScale,m),d&&(l.transform=d(m,l.transform));const{x:g,y:C}=this.projectionDelta;l.transformOrigin=`${g.origin*100}% ${C.origin*100}% 0`,p.animationValues?l.opacity=p===this?(c=(a=m.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const _ in s0){if(m[_]===void 0)continue;const{correct:S,applyTo:w,isCSSVariable:T}=s0[_],I=l.transform==="none"?m[_]:S(m[_],p);if(w){const A=w.length;for(let k=0;k<A;k++)l[w[k]]=I}else T?this.options.visualElement.renderState.vars[_]=I:l[_]=I}return this.options.layoutId&&(l.pointerEvents=p===this?mS(s==null?void 0:s.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(xU),this.root.sharedNodes.clear()}}}function ile(t){t.updateLayout()}function ole(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,s=n.source!==t.layout.source;o==="size"?Ps(p=>{const m=s?n.measuredBox[p]:n.layoutBox[p],g=Ji(m);m.min=r[p].min,m.max=m.min+g}):Z$(o,n.layoutBox,r)&&Ps(p=>{const m=s?n.measuredBox[p]:n.layoutBox[p],g=Ji(r[p]);m.max=m.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+g)});const a=xm();Ob(a,r,n.layoutBox);const c=xm();s?Ob(c,t.applyTransform(i,!0),n.measuredBox):Ob(c,r,n.layoutBox);const l=!q$(a);let d=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:g}=p;if(m&&g){const C=Tr();Nb(C,n.layoutBox,m.layoutBox);const _=Tr();Nb(_,r,g.layoutBox),Y$(C,_)||(d=!0),p.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=C,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function sle(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function ale(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function cle(t){t.clearSnapshot()}function xU(t){t.clearMeasurements()}function lle(t){t.isLayoutDirty=!1}function ule(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function AU(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function dle(t){t.resolveTargetDelta()}function fle(t){t.calcProjection()}function hle(t){t.resetSkewAndRotation()}function ple(t){t.removeLeadSnapshot()}function kU(t,e,n){t.translate=lr(e.translate,0,n),t.scale=lr(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function RU(t,e,n,r){t.min=lr(e.min,n.min,r),t.max=lr(e.max,n.max,r)}function mle(t,e,n,r){RU(t.x,e.x,n.x,r),RU(t.y,e.y,n.y,r)}function gle(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const vle={duration:.45,ease:[.4,0,.1,1]},PU=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),OU=PU("applewebkit/")&&!PU("chrome/")?Math.round:Mi;function NU(t){t.min=OU(t.min),t.max=OU(t.max)}function yle(t){NU(t.x),NU(t.y)}function Z$(t,e,n){return t==="position"||t==="preserve-aspect"&&!Cce(EU(e),EU(n),.2)}function ble(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Cle=X$({attachResizeListener:(t,e)=>u0(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),uk={current:void 0},J$=X$({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!uk.current){const t=new Cle({});t.mount(window),t.setOptions({layoutScroll:!0}),uk.current=t}return uk.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),_le={pan:{Feature:jce},drag:{Feature:Dce,ProjectionNode:J$,MeasureLayout:W$}};function G2(t,e,n){var r;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const o=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}function eW(t,e){const n=G2(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function MU(t){return!(t.pointerType==="touch"||D$())}function wle(t,e,n={}){const[r,i,o]=eW(t,n),s=a=>{if(!MU(a))return;const{target:c}=a,l=e(c,a);if(typeof l!="function"||!c)return;const d=p=>{MU(p)&&(l(p),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,i)};return r.forEach(a=>{a.addEventListener("pointerenter",s,i)}),o}function LU(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&vn.postRender(()=>o(e,vC(e)))}class Sle extends Ed{mount(){const{current:e}=this.node;e&&(this.unmount=wle(e,(n,r)=>(LU(this.node,r,"Start"),i=>LU(this.node,i,"End"))))}unmount(){}}class Ele extends Ed{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gC(u0(this.node.current,"focus",()=>this.onFocus()),u0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const tW=(t,e)=>e?t===e?!0:tW(t,e.parentElement):!1,Tle=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Ile(t){return Tle.has(t.tagName)||t.tabIndex!==-1}const pb=new WeakSet;function DU(t){return e=>{e.key==="Enter"&&t(e)}}function dk(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const xle=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=DU(()=>{if(pb.has(n))return;dk(n,"down");const i=DU(()=>{dk(n,"up")}),o=()=>dk(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function jU(t){return K2(t)&&!D$()}function Ale(t,e,n={}){const[r,i,o]=eW(t,n),s=a=>{const c=a.currentTarget;if(!c||!jU(a)||pb.has(c))return;pb.add(c),lE(a,"set");const l=e(c,a),d=(g,C)=>{c.removeEventListener("pointerup",p),c.removeEventListener("pointercancel",m),lE(g,"release"),!(!jU(g)||!pb.has(c))&&(pb.delete(c),typeof l=="function"&&l(g,{success:C}))},p=g=>{(g.isTrusted?kle(g,c instanceof Element?c.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?d(g,!1):d(g,!(c instanceof Element)||tW(c,g.target))},m=g=>{d(g,!1)};c.addEventListener("pointerup",p,i),c.addEventListener("pointercancel",m,i),c.addEventListener("lostpointercapture",m,i)};return r.forEach(a=>{a=n.useGlobalTarget?window:a;let c=!1;a instanceof HTMLElement&&(c=!0,!Ile(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0)),a.addEventListener("pointerdown",s,i),c&&a.addEventListener("focus",l=>xle(l,i),i)}),o}function kle(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}function FU(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&vn.postRender(()=>o(e,vC(e)))}class Rle extends Ed{mount(){const{current:e}=this.node;e&&(this.unmount=Ale(e,(n,r)=>(FU(this.node,r,"Start"),(i,{success:o})=>FU(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const fO=new WeakMap,fk=new WeakMap,Ple=t=>{const e=fO.get(t.target);e&&e(t)},Ole=t=>{t.forEach(Ple)};function Nle({root:t,...e}){const n=t||document;fk.has(n)||fk.set(n,{});const r=fk.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Ole,{root:t,...e})),r[i]}function Mle(t,e,n){const r=Nle(e);return fO.set(t,n),r.observe(t),()=>{fO.delete(t),r.unobserve(t)}}const Lle={some:0,all:1};class Dle extends Ed{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Lle[i]},a=c=>{const{isIntersecting:l}=c;if(this.isInView===l||(this.isInView=l,o&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),m=l?d:p;m&&m(c)};return Mle(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(jle(e,n))&&this.startObserver()}unmount(){}}function jle({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Fle={inView:{Feature:Dle},tap:{Feature:Rle},focus:{Feature:Ele},hover:{Feature:Sle}},Ule={layout:{ProjectionNode:J$,MeasureLayout:W$}},hO={current:null},nW={current:!1};function Ble(){if(nW.current=!0,!!p2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>hO.current=t.matches;t.addListener(e),e()}else hO.current=!1}const Vle=[...w$,Ai,ud],Hle=t=>Vle.find(_$(t)),zle=new WeakMap;function $le(t,e,n){for(const r in e){const i=e[r],o=n[r];if(ai(i))t.addValue(r,i);else if(ai(o))t.addValue(r,ba(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const s=t.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=t.getStaticValue(r);t.addValue(r,ba(s!==void 0?s:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const UU=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Wle{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=H2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=mc.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,vn.render(this.render,!1,!0))};const{latestValues:c,renderState:l,onUpdate:d}=s;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=hI(n),this.isVariantNode=Lz(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in m){const C=m[g];c[g]!==void 0&&ai(C)&&C.set(c[g],!1)}}mount(e){this.current=e,zle.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),nW.current||Ble(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:hO.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ia(this.notifyUpdate),Ia(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ep.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&vn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Rg){const n=Rg[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<UU.length;r++){const i=UU[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,s=e[o];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=$le(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ba(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(b$(i)||u$(i))?i=parseFloat(i):!Hle(i)&&ud.test(n)&&(i=g$(e,n)),this.setBaseTarget(e,ai(i)?i.get():i)),ai(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const s=x2(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);s&&(i=s[e])}if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!ai(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new O2),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class rW extends Wle{constructor(){super(...arguments),this.KeyframeResolver=S$}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ai(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Kle(t){return window.getComputedStyle(t)}class Gle extends rW{constructor(){super(...arguments),this.type="html",this.renderInstance=Kz}readValueFromInstance(e,n){if(ep.has(n)){const r=V2(n);return r&&r.default||0}else{const r=Kle(e),i=(b2(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return H$(e,n)}build(e,n,r){w2(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return A2(e,n,r)}}class qle extends rW{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tr,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&Wz(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ep.has(n)){const r=V2(n);return r&&r.default||0}return n=Gz.has(n)?n:v2(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Yz(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&vn.postRender(this.updateDimensions)}build(e,n,r){T2(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){qz(e,n,r,i)}mount(e){this.isSVGTag=I2(e.tagName),super.mount(e)}}const Yle=(t,e)=>E2(t)?new qle(e):new Gle(e,{allowProjection:t!==b.Fragment}),Qle=wse({...dce,...Fle,..._le,...Ule},Yle),ct=Foe(Qle);function iW(t,e){let n;const r=()=>{const{currentTime:i}=e,s=(i===null?0:i.value)/100;n!==s&&t(s),n=s};return vn.update(r,!0),()=>Ia(r)}const yS=new WeakMap;let Ou;function Xle(t,e){if(e){const{inlineSize:n,blockSize:r}=e[0];return{width:n,height:r}}else return t instanceof SVGElement&&"getBBox"in t?t.getBBox():{width:t.offsetWidth,height:t.offsetHeight}}function Zle({target:t,contentRect:e,borderBoxSize:n}){var r;(r=yS.get(t))===null||r===void 0||r.forEach(i=>{i({target:t,contentSize:e,get size(){return Xle(t,n)}})})}function Jle(t){t.forEach(Zle)}function eue(){typeof ResizeObserver>"u"||(Ou=new ResizeObserver(Jle))}function tue(t,e){Ou||eue();const n=G2(t);return n.forEach(r=>{let i=yS.get(r);i||(i=new Set,yS.set(r,i)),i.add(e),Ou==null||Ou.observe(r)}),()=>{n.forEach(r=>{const i=yS.get(r);i==null||i.delete(e),i!=null&&i.size||Ou==null||Ou.unobserve(r)})}}const bS=new Set;let Mb;function nue(){Mb=()=>{const t={width:window.innerWidth,height:window.innerHeight},e={target:window,size:t,contentSize:t};bS.forEach(n=>n(e))},window.addEventListener("resize",Mb)}function rue(t){return bS.add(t),Mb||nue(),()=>{bS.delete(t),!bS.size&&Mb&&(Mb=void 0)}}function iue(t,e){return typeof t=="function"?rue(t):tue(t,e)}const oue=50,BU=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),sue=()=>({time:0,x:BU(),y:BU()}),aue={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function VU(t,e,n,r){const i=n[e],{length:o,position:s}=aue[e],a=i.current,c=n.time;i.current=t[`scroll${s}`],i.scrollLength=t[`scroll${o}`]-t[`client${o}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=wh(0,i.scrollLength,i.current);const l=r-c;i.velocity=l>oue?0:N2(i.current-a,l)}function cue(t,e,n){VU(t,"x",e,n),VU(t,"y",e,n),e.time=n}function lue(t,e){const n={x:0,y:0};let r=t;for(;r&&r!==e;)if(r instanceof HTMLElement)n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const i=r.getBoundingClientRect();r=r.parentElement;const o=r.getBoundingClientRect();n.x+=i.left-o.left,n.y+=i.top-o.top}else if(r instanceof SVGGraphicsElement){const{x:i,y:o}=r.getBBox();n.x+=i,n.y+=o;let s=null,a=r.parentNode;for(;!s;)a.tagName==="svg"&&(s=a),a=r.parentNode;r=s}else break;return n}const pO={start:0,center:.5,end:1};function HU(t,e,n=0){let r=0;if(t in pO&&(t=pO[t]),typeof t=="string"){const i=parseFloat(t);t.endsWith("px")?r=i:t.endsWith("%")?t=i/100:t.endsWith("vw")?r=i/100*document.documentElement.clientWidth:t.endsWith("vh")?r=i/100*document.documentElement.clientHeight:t=i}return typeof t=="number"&&(r=e*t),n+r}const uue=[0,0];function due(t,e,n,r){let i=Array.isArray(t)?t:uue,o=0,s=0;return typeof t=="number"?i=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?i=t.split(" "):i=[t,pO[t]?t:"0"]),o=HU(i[0],n,r),s=HU(i[1],e),o-s}const fue={All:[[0,0],[1,1]]},hue={x:0,y:0};function pue(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function mue(t,e,n){const{offset:r=fue.All}=n,{target:i=t,axis:o="y"}=n,s=o==="y"?"height":"width",a=i!==t?lue(i,t):hue,c=i===t?{width:t.scrollWidth,height:t.scrollHeight}:pue(i),l={width:t.clientWidth,height:t.clientHeight};e[o].offset.length=0;let d=!e[o].interpolate;const p=r.length;for(let m=0;m<p;m++){const g=due(r[m],l[s],c[s],a[o]);!d&&g!==e[o].interpolatorOffsets[m]&&(d=!0),e[o].offset[m]=g}d&&(e[o].interpolate=$2(e[o].offset,P$(r),{clamp:!1}),e[o].interpolatorOffsets=[...e[o].offset]),e[o].progress=Cc(0,1,e[o].interpolate(e[o].current))}function gue(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function vue(t,e,n,r={}){return{measure:()=>gue(t,r.target,n),update:i=>{cue(t,n,i),(r.offset||r.target)&&mue(t,n,r)},notify:()=>e(n)}}const Dy=new WeakMap,zU=new WeakMap,hk=new WeakMap,$U=t=>t===document.documentElement?window:t;function q2(t,{container:e=document.documentElement,...n}={}){let r=hk.get(e);r||(r=new Set,hk.set(e,r));const i=sue(),o=vue(e,t,i,n);if(r.add(o),!Dy.has(e)){const a=()=>{for(const m of r)m.measure()},c=()=>{for(const m of r)m.update(ii.timestamp)},l=()=>{for(const m of r)m.notify()},d=()=>{vn.read(a,!1,!0),vn.read(c,!1,!0),vn.update(l,!1,!0)};Dy.set(e,d);const p=$U(e);window.addEventListener("resize",d,{passive:!0}),e!==document.documentElement&&zU.set(e,iue(e,d)),p.addEventListener("scroll",d,{passive:!0})}const s=Dy.get(e);return vn.read(s,!1,!0),()=>{var a;Ia(s);const c=hk.get(e);if(!c||(c.delete(o),c.size))return;const l=Dy.get(e);Dy.delete(e),l&&($U(e).removeEventListener("scroll",l),(a=zU.get(e))===null||a===void 0||a(),window.removeEventListener("resize",l))}}function yue({source:t,container:e,axis:n="y"}){t&&(e=t);const r={value:0},i=q2(o=>{r.value=o[n].progress*100},{container:e,axis:n});return{currentTime:r,cancel:i}}const pk=new Map;function oW({source:t,container:e=document.documentElement,axis:n="y"}={}){t&&(e=t),pk.has(e)||pk.set(e,{});const r=pk.get(e);return r[n]||(r[n]=Zz()?new ScrollTimeline({source:e,axis:n}):yue({source:e,axis:n})),r[n]}function bue(t){return t.length===2}function sW(t){return t&&(t.target||t.offset)}function Cue(t,e){return bue(t)||sW(e)?q2(n=>{t(n[e.axis].progress,n)},e):iW(t,oW(e))}function _ue(t,e){if(t.flatten(),sW(e))return t.pause(),q2(n=>{t.time=t.duration*n[e.axis].progress},e);{const n=oW(e);return t.attachTimeline?t.attachTimeline(n,r=>(r.pause(),iW(i=>{r.time=r.duration*i},n))):Mi}}function wue(t,{axis:e="y",...n}={}){const r={axis:e,...n};return typeof t=="function"?Cue(t,r):_ue(t,r)}function WU(t,e){Poe(!!(!e||e.current))}const Sue=()=>({scrollX:ba(0),scrollY:ba(0),scrollXProgress:ba(0),scrollYProgress:ba(0)});function Eue({container:t,target:e,layoutEffect:n=!0,...r}={}){const i=Sl(Sue);return(n?hC:b.useEffect)(()=>(WU("target",e),WU("container",t),wue((s,{x:a,y:c})=>{i.scrollX.set(a.current),i.scrollXProgress.set(a.progress),i.scrollY.set(c.current),i.scrollYProgress.set(c.progress)},{...r,container:(t==null?void 0:t.current)||void 0,target:(e==null?void 0:e.current)||void 0})),[t,e,JSON.stringify(r.offset)]),i}function Y2(t){const e=Sl(()=>ba(t)),{isStatic:n}=b.useContext(_h);if(n){const[,r]=b.useState(t);b.useEffect(()=>e.on("change",r),[])}return e}function aW(t,e){const n=Y2(e()),r=()=>n.set(e());return r(),hC(()=>{const i=()=>vn.preRender(r,!1,!0),o=t.map(s=>s.on("change",i));return()=>{o.forEach(s=>s()),Ia(r)}}),n}function cW(t,e={}){const{isStatic:n}=b.useContext(_h),r=b.useRef(null),i=Sl(()=>ai(t)?t.get():t),o=Sl(()=>typeof i=="string"?i.replace(/[\d.-]/g,""):void 0),s=Y2(i),a=b.useRef(i),c=b.useRef(Mi),l=()=>{d(),r.current=Fae({keyframes:[GU(s.get()),GU(a.current)],velocity:s.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...e,onUpdate:c.current})},d=()=>{r.current&&r.current.stop()};return b.useInsertionEffect(()=>s.attach((p,m)=>n?m(p):(a.current=p,c.current=g=>m(KU(g,o)),vn.postRender(l),s.get()),d),[JSON.stringify(e)]),hC(()=>{if(ai(t))return t.on("change",p=>s.set(KU(p,o)))},[s,o]),s}function KU(t,e){return e?t+e:t}function GU(t){return typeof t=="number"?t:parseFloat(t)}const Tue=t=>t&&typeof t=="object"&&t.mix,Iue=t=>Tue(t)?t.mix:void 0;function xue(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],o=t[2+n],s=t[3+n],a=$2(i,o,{mixer:Iue(o[0]),...s});return e?a(r):a}function Aue(t){Rb.current=[],t();const e=aW(Rb.current,t);return Rb.current=void 0,e}function Og(t,e,n,r){if(typeof t=="function")return Aue(t);const i=typeof e=="function"?e:xue(e,n,r);return Array.isArray(t)?qU(t,i):qU([t],([o])=>i(o))}function qU(t,e){const n=Sl(()=>[]);return aW(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}const kue={some:0,all:1};function Rue(t,e,{root:n,margin:r,amount:i="some"}={}){const o=G2(t),s=new WeakMap,a=l=>{l.forEach(d=>{const p=s.get(d.target);if(d.isIntersecting!==!!p)if(d.isIntersecting){const m=e(d.target,d);typeof m=="function"?s.set(d.target,m):c.unobserve(d.target)}else typeof p=="function"&&(p(d),s.delete(d.target))})},c=new IntersectionObserver(a,{root:n,rootMargin:r,threshold:typeof i=="number"?i:kue[i]});return o.forEach(l=>c.observe(l)),()=>c.disconnect()}function Q2(t,{root:e,margin:n,amount:r,once:i=!1,initial:o=!1}={}){const[s,a]=b.useState(o);return b.useEffect(()=>{if(!t.current||i&&s)return;const c=()=>(a(!0),i?void 0:()=>a(!1)),l={root:e&&e.current||void 0,margin:n,amount:r};return Rue(t.current,c,l)},[e,t,n,i,r]),s}const lW=b.createContext(null),mk={didCatch:!1,error:null};class uW extends b.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=mk}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var n,r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];(n=(r=this.props).onReset)===null||n===void 0||n.call(r,{args:o,reason:"imperative-api"}),this.setState(mk)}}componentDidCatch(e,n){var r,i;(r=(i=this.props).onError)===null||r===void 0||r.call(i,e,n)}componentDidUpdate(e,n){const{didCatch:r}=this.state,{resetKeys:i}=this.props;if(r&&n.error!==null&&Pue(e.resetKeys,i)){var o,s;(o=(s=this.props).onReset)===null||o===void 0||o.call(s,{next:i,prev:e.resetKeys,reason:"keys"}),this.setState(mk)}}render(){const{children:e,fallbackRender:n,FallbackComponent:r,fallback:i}=this.props,{didCatch:o,error:s}=this.state;let a=e;if(o){const c={error:s,resetErrorBoundary:this.resetErrorBoundary};if(typeof n=="function")a=n(c);else if(r)a=b.createElement(r,c);else if(i!==void 0)a=i;else throw s}return b.createElement(lW.Provider,{value:{didCatch:o,error:s,resetErrorBoundary:this.resetErrorBoundary}},a)}}function Pue(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t.length!==e.length||t.some((n,r)=>!Object.is(n,e[r]))}function Oue(t){if(t==null||typeof t.didCatch!="boolean"||typeof t.resetErrorBoundary!="function")throw new Error("ErrorBoundaryContext not found")}function dW(){const t=b.useContext(lW);Oue(t);const[e,n]=b.useState({error:null,hasError:!1}),r=b.useMemo(()=>({resetBoundary:()=>{t.resetErrorBoundary(),n({error:null,hasError:!1})},showBoundary:i=>n({error:i,hasError:!0})}),[t.resetErrorBoundary]);if(e.hasError)throw e.error;return r}var gk,YU;function Nue(){return YU||(YU=1,gk={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),gk}var Mue=Nue();const Lue=uC(Mue);var Due=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function QU(t){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=t.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(e.name=n[1],(Lue[n[1]]||t.charAt(t.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var r=t.indexOf("-->");return{type:"comment",comment:r!==-1?t.slice(4,r):""}}for(var i=new RegExp(Due),o=null;(o=i.exec(t))!==null;)if(o[0].trim())if(o[1]){var s=o[1].trim(),a=[s,""];s.indexOf("=")>-1&&(a=s.split("=")),e.attrs[a[0]]=a[1],i.lastIndex--}else o[2]&&(e.attrs[o[2]]=o[3].trim().substring(1,o[3].length-1));return e}var jue=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,Fue=/^\s*$/,Uue=Object.create(null);function fW(t,e){switch(e.type){case"text":return t+e.content;case"tag":return t+="<"+e.name+(e.attrs?function(n){var r=[];for(var i in n)r.push(i+'="'+n[i]+'"');return r.length?" "+r.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?t:t+e.children.reduce(fW,"")+"</"+e.name+">";case"comment":return t+"<!--"+e.comment+"-->"}}var Bue={parse:function(t,e){e||(e={}),e.components||(e.components=Uue);var n,r=[],i=[],o=-1,s=!1;if(t.indexOf("<")!==0){var a=t.indexOf("<");r.push({type:"text",content:a===-1?t:t.substring(0,a)})}return t.replace(jue,function(c,l){if(s){if(c!=="</"+n.name+">")return;s=!1}var d,p=c.charAt(1)!=="/",m=c.startsWith("<!--"),g=l+c.length,C=t.charAt(g);if(m){var _=QU(c);return o<0?(r.push(_),r):((d=i[o]).children.push(_),r)}if(p&&(o++,(n=QU(c)).type==="tag"&&e.components[n.name]&&(n.type="component",s=!0),n.voidElement||s||!C||C==="<"||n.children.push({type:"text",content:t.slice(g,t.indexOf("<",g))}),o===0&&r.push(n),(d=i[o-1])&&d.children.push(n),i[o]=n),(!p||n.voidElement)&&(o>-1&&(n.voidElement||n.name===c.slice(2,-1))&&(o--,n=o===-1?r:i[o]),!s&&C!=="<"&&C)){d=o===-1?r:i[o].children;var S=t.indexOf("<",g),w=t.slice(g,S===-1?void 0:S);Fue.test(w)&&(w=" "),(S>-1&&o+d.length>=0||w!==" ")&&d.push({type:"text",content:w})}}),r},stringify:function(t){return t.reduce(function(e,n){return e+fW("",n)},"")}};function CS(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Bs(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const XU={};function uE(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Bs(e[0])&&XU[e[0]]||(Bs(e[0])&&(XU[e[0]]=new Date),CS(...e))}const hW=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},ZU=(t,e,n)=>{t.loadNamespaces(e,hW(t,n))},JU=(t,e,n,r)=>{Bs(n)&&(n=[n]),n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,hW(t,r))},Vue=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=e.languages[0],i=e.options?e.options.fallbackLng:!1,o=e.languages[e.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(a,c)=>{const l=e.services.backendConnector.state[`${a}|${c}`];return l===-1||l===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!s(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(r,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||s(r,t)&&(!i||s(o,t)))},Hue=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(uE("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:n.lng,precheck:(i,o)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!o(i.isLanguageChangingTo,t))return!1}}):Vue(t,e,n)},Bs=t=>typeof t=="string",Rm=t=>typeof t=="object"&&t!==null,zue=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,$ue={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Wue=t=>$ue[t],Kue=t=>t.replace(zue,Wue);let mO={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Kue};const Gue=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};mO={...mO,...t}},pW=()=>mO;let mW;const que=t=>{mW=t},X2=()=>mW,vk=(t,e)=>{if(!t)return!1;const n=t.props?t.props.children:t.children;return e?n.length>0:!!n},yk=t=>{if(!t)return[];const e=t.props?t.props.children:t.children;return t.props&&t.props.i18nIsDynamicList?Pm(e):e},Yue=t=>Array.isArray(t)&&t.every(b.isValidElement),Pm=t=>Array.isArray(t)?t:[t],Que=(t,e)=>{const n={...e};return n.props=Object.assign(t.props,e.props),n},gW=(t,e)=>{if(!t)return"";let n="";const r=Pm(t),i=e.transSupportBasicHtmlNodes&&e.transKeepBasicHtmlNodesFor?e.transKeepBasicHtmlNodesFor:[];return r.forEach((o,s)=>{if(Bs(o))n+=`${o}`;else if(b.isValidElement(o)){const{props:a,type:c}=o,l=Object.keys(a).length,d=i.indexOf(c)>-1,p=a.children;if(!p&&d&&!l)n+=`<${c}/>`;else if(!p&&(!d||l)||a.i18nIsDynamicList)n+=`<${s}></${s}>`;else if(d&&l===1&&Bs(p))n+=`<${c}>${p}</${c}>`;else{const m=gW(p,e);n+=`<${s}>${m}</${s}>`}}else if(o===null)CS("Trans: the passed in value is invalid - seems you passed in a null child.");else if(Rm(o)){const{format:a,...c}=o,l=Object.keys(c);if(l.length===1){const d=a?`${l[0]}, ${a}`:l[0];n+=`{{${d}}}`}else CS("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",o)}else CS("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",o)}),n},Xue=(t,e,n,r,i,o)=>{if(e==="")return[];const s=r.transKeepBasicHtmlNodesFor||[],a=e&&new RegExp(s.map(S=>`<${S}`).join("|")).test(e);if(!t&&!a&&!o)return[e];const c={},l=S=>{Pm(S).forEach(T=>{Bs(T)||(vk(T)?l(yk(T)):Rm(T)&&!b.isValidElement(T)&&Object.assign(c,T))})};l(t);const d=Bue.parse(`<0>${e}</0>`),p={...c,...i},m=(S,w,T)=>{const I=yk(S),A=C(I,w.children,T);return Yue(I)&&A.length===0||S.props&&S.props.i18nIsDynamicList?I:A},g=(S,w,T,I,A)=>{S.dummy?(S.children=w,T.push(b.cloneElement(S,{key:I},A?void 0:w))):T.push(...b.Children.map([S],k=>{const R={...k.props};return delete R.i18nIsDynamicList,b.createElement(k.type,{...R,key:I,ref:k.ref},A?null:w)}))},C=(S,w,T)=>{const I=Pm(S);return Pm(w).reduce((k,R,M)=>{const P=R.children&&R.children[0]&&R.children[0].content&&n.services.interpolator.interpolate(R.children[0].content,p,n.language);if(R.type==="tag"){let N=I[parseInt(R.name,10)];T.length===1&&!N&&(N=T[0][R.name]),N||(N={});const D=Object.keys(R.attrs).length!==0?Que({props:R.attrs},N):N,G=b.isValidElement(D),U=G&&vk(R,!0)&&!R.voidElement,W=a&&Rm(D)&&D.dummy&&!G,$=Rm(t)&&Object.hasOwnProperty.call(t,R.name);if(Bs(D)){const L=n.services.interpolator.interpolate(D,p,n.language);k.push(L)}else if(vk(D)||U){const L=m(D,R,T);g(D,L,k,M)}else if(W){const L=C(I,R.children,T);g(D,L,k,M)}else if(Number.isNaN(parseFloat(R.name)))if($){const L=m(D,R,T);g(D,L,k,M,R.voidElement)}else if(r.transSupportBasicHtmlNodes&&s.indexOf(R.name)>-1)if(R.voidElement)k.push(b.createElement(R.name,{key:`${R.name}-${M}`}));else{const L=C(I,R.children,T);k.push(b.createElement(R.name,{key:`${R.name}-${M}`},L))}else if(R.voidElement)k.push(`<${R.name} />`);else{const L=C(I,R.children,T);k.push(`<${R.name}>${L}</${R.name}>`)}else if(Rm(D)&&!G){const L=R.children[0]?P:null;L&&k.push(L)}else g(D,P,k,M,R.children.length!==1||!P)}else if(R.type==="text"){const N=r.transWrapTextNodes,D=o?r.unescape(n.services.interpolator.interpolate(R.content,p,n.language)):n.services.interpolator.interpolate(R.content,p,n.language);N?k.push(b.createElement(N,{key:`${R.name}-${M}`},D)):k.push(D)}return k},[])},_=C([{dummy:!0,children:t||[]}],d,Pm(t||[]));return yk(_[0])};function Zue(t){let{children:e,count:n,parent:r,i18nKey:i,context:o,tOptions:s={},values:a,defaults:c,components:l,ns:d,i18n:p,t:m,shouldUnescape:g,...C}=t;const _=p||X2();if(!_)return uE("You will need to pass in an i18next instance by using i18nextReactModule"),e;const S=m||_.t.bind(_)||(U=>U),w={...pW(),..._.options&&_.options.react};let T=d||S.ns||_.options&&_.options.defaultNS;T=Bs(T)?[T]:T||["translation"];const I=gW(e,w),A=c||I||w.transEmptyNodeValue||i,{hashTransKey:k}=w,R=i||(k?k(I||A):I||A);_.options&&_.options.interpolation&&_.options.interpolation.defaultVariables&&(a=a&&Object.keys(a).length>0?{...a,..._.options.interpolation.defaultVariables}:{..._.options.interpolation.defaultVariables});const M=a||n!==void 0||!e?s.interpolation:{interpolation:{...s.interpolation,prefix:"#$?",suffix:"?$#"}},P={...s,context:o||s.context,count:n,...a,...M,defaultValue:A,ns:T},N=R?S(R,P):A;l&&Object.keys(l).forEach(U=>{const W=l[U];if(typeof W.type=="function"||!W.props||!W.props.children||N.indexOf(`${U}/>`)<0&&N.indexOf(`${U} />`)<0)return;function $(){return b.createElement(b.Fragment,null,W)}l[U]=b.createElement($)});const D=Xue(l||e,N,_,w,P,g),G=r!==void 0?r:w.defaultTransParent;return G?b.createElement(G,C,D):D}const e6={type:"3rdParty",init(t){Gue(t.options.react),que(t)}},vW=b.createContext();class Jue{constructor(){Se(this,"getUsedNamespaces",()=>Object.keys(this.usedNamespaces));this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}}function ma(t){let{children:e,count:n,parent:r,i18nKey:i,context:o,tOptions:s={},values:a,defaults:c,components:l,ns:d,i18n:p,t:m,shouldUnescape:g,...C}=t;const{i18n:_,defaultNS:S}=b.useContext(vW)||{},w=p||_||X2(),T=m||w&&w.t.bind(w);return Zue({children:e,count:n,parent:r,i18nKey:i,context:o,tOptions:s,values:a,defaults:c,components:l,ns:d||T&&T.ns||S||w&&w.options&&w.options.defaultNS,i18n:w,t:m,shouldUnescape:g,...C})}const ede=(t,e)=>{const n=b.useRef();return b.useEffect(()=>{n.current=t},[t,e]),n.current},yW=(t,e,n,r)=>t.getFixedT(e,n,r),tde=(t,e,n,r)=>b.useCallback(yW(t,e,n,r),[t,e,n,r]),pt=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:n}=e,{i18n:r,defaultNS:i}=b.useContext(vW)||{},o=n||r||X2();if(o&&!o.reportNamespaces&&(o.reportNamespaces=new Jue),!o){uE("You will need to pass in an i18next instance by using initReactI18next");const A=(R,M)=>Bs(M)?M:Rm(M)&&Bs(M.defaultValue)?M.defaultValue:Array.isArray(R)?R[R.length-1]:R,k=[A,{},!1];return k.t=A,k.i18n={},k.ready=!1,k}o.options.react&&o.options.react.wait!==void 0&&uE("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const s={...pW(),...o.options.react,...e},{useSuspense:a,keyPrefix:c}=s;let l=t||i||o.options&&o.options.defaultNS;l=Bs(l)?[l]:l||["translation"],o.reportNamespaces.addUsedNamespaces&&o.reportNamespaces.addUsedNamespaces(l);const d=(o.isInitialized||o.initializedStoreOnce)&&l.every(A=>Hue(A,o,s)),p=tde(o,e.lng||null,s.nsMode==="fallback"?l:l[0],c),m=()=>p,g=()=>yW(o,e.lng||null,s.nsMode==="fallback"?l:l[0],c),[C,_]=b.useState(m);let S=l.join();e.lng&&(S=`${e.lng}${S}`);const w=ede(S),T=b.useRef(!0);b.useEffect(()=>{const{bindI18n:A,bindI18nStore:k}=s;T.current=!0,!d&&!a&&(e.lng?JU(o,e.lng,l,()=>{T.current&&_(g)}):ZU(o,l,()=>{T.current&&_(g)})),d&&w&&w!==S&&T.current&&_(g);const R=()=>{T.current&&_(g)};return A&&o&&o.on(A,R),k&&o&&o.store.on(k,R),()=>{T.current=!1,A&&o&&A.split(" ").forEach(M=>o.off(M,R)),k&&o&&k.split(" ").forEach(M=>o.store.off(M,R))}},[o,S]),b.useEffect(()=>{T.current&&d&&_(m)},[o,c,d]);const I=[C,o,d];if(I.t=C,I.i18n=o,I.ready=d,d||!d&&!a)return I;throw new Promise(A=>{e.lng?JU(o,e.lng,l,()=>A()):ZU(o,l,()=>A())})},bW=se([]),t6=new Map,yC=t=>{let e=t6.get(t);return e||(e=se(n=>n(bW).includes(t)),t6.set(t,e),e)};function je(t){return oe(yC(t))}function Kt(t){return Ht().get(yC(t))}function Ra(t){return oe(yC(t))}function ch(t){return Ht().get(yC(t))}function Z2(t){const e=Ra("kill-domain-referrer");return t==="html"?e?"noopener noreferrer":"noopener":e?"noopener,noreferrer":"noopener"}function lh(t){const e=t.split("://");return e.length===1?`https://${t}`:e[0]==="http"?`https://${e[1]}`:t}function nde(t){return t==="."||t==="!"||t==="?"}function rde(t){return t===" "||t===`
`||t==="	"}function ide(t){let e=t.length-1;for(;e>=0&&rde(t[e]);)e-=1;return[t.slice(0,e+1),t.slice(e+1)]}function ode(t,e,n){return t.slice(0,n)+e+t.slice(n)}const sde="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/copilot-qr-dark-aggressive-banner-Dtr5ysxQ.webp",ade="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/copilot-qr-dark-aggressive-copied-popup-BRVm_KWU.webp",cde="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/copilot-qr-dark-aggressive-engaging-popup-YSBImXns.webp",lde="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/copilot-qr-dark-aggressive-secondday-popup--nxha975.webp",ude="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/copilot-qr-dark-aggressive-setting-TTFEOcbN.webp",dde="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/copilot-qr-dark-aggressive-think-deeper-popup-FHodYGgC.webp",fde="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/copilot-qr-dark-aggressive-thumbsup-card-DH3zTT3T.webp",hde="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/copilot-qr-dark-aggressive-thumbsup-popup-D7hBD_1Q.webp",pde="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/copilot-qr-dark-desktop-discover-strip-DnlsnV3g.webp",mde="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/copilot-qr-dark-desktop-setting-banner-CqsoJ8gk.webp",gde="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/copilot-qr-dark-desktop-setting-menu-item-C25mGU_p.webp",vde="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/copilot-qr-light-aggressive-banner-CKv2a8_f.webp",yde="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/copilot-qr-light-aggressive-copied-popup-M4nhJM3H.webp",bde="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/copilot-qr-light-aggressive-engaging-popup-B-vXLUhP.webp",Cde="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/copilot-qr-light-aggressive-secondday-popup-DBikSjcg.webp",_de="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/copilot-qr-light-aggressive-setting-D2OBsvlS.webp",wde="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/copilot-qr-light-aggressive-think-deeper-popup-D5tA7N2r.webp",Sde="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/copilot-qr-light-aggressive-thumbsup-card-CwLVOvcv.webp",Ede="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/copilot-qr-light-aggressive-thumbsup-popup-DM6aMFdv.webp",Tde="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/copilot-qr-light-desktop-discover-strip-flsYDh7H.webp",Ide="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/copilot-qr-light-desktop-setting-banner-C2lNCEe_.webp",xde="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/copilot-qr-light-desktop-setting-menu-item-BzBe-XWV.webp",n6="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/copilot-qr-light-shopping-Dm2se5Rq.png",Ade={surfaceQueryParam:null,showScrollbarOnHover:!1,dailyBriefingOcid:"cp_web_daily",persistThemeChoice:!0,entraRedirectModalBehaviour:"replace",redirectBackEnabled:!0,crossPromotion:{discoverStrip:{dark:pde,light:Tde,fontSize:"m"},settingMenuItem:{dark:gde,light:xde},settingBanner:{dark:mde,light:Ide},aggressive:{banner:{dark:sde,light:vde},setting:{dark:ude,light:_de},card:{thumbsUp:{dark:fde,light:Sde}},popup:{secondDay:{dark:lde,light:Cde},thumbsUp:{dark:hde,light:Ede},copied:{dark:ade,light:yde},engaging:{dark:cde,light:bde},thinkDeeper:{dark:dde,light:wde}}}},proSubscription:{enabled:!0,manageRefId:"cmc",urlParams:{client:"cmc",ocids:{ActionsLimit:{freeTrial:"cmmmcpyae96",buy:"cmm46gj0qnu"},VoiceLimit:{freeTrial:"cmm0ghcr8ka",buy:"cmmxki6wg02"},Settings:{freeTrial:"cmma4vbm2dq",buy:"cmmugsiwg58"},ChatReasoningLimit:{freeTrial:"cmmtjssvrv9",buy:"cmmzn5kdy9p"},MarketSelect:{freeTrial:"cmmxe0nad8b",buy:"cmmtbwi4652",market:"none"},RedirectFromAuth0Account:{freeTrial:"cmmxe0nad8b",buy:"cmmtbwi4652"}}},upsellFromAuth0:{navigateToProSubPageAfterLogin:!0}},referralEnabled:!0,adsEnabled:!0,adsShowroomEnabled:!0,thinkDeeperFreemiumEnabled:!0,monitorAccountChangesAcrossTabs:!0,shopping:{upsell:{banner:{light:n6,dark:n6}}},sidebarNavigation:!0,showChatDetail:!0,enableAuth0:!0,settingsOverrides:{shouldShowActivityHistory:!0,shouldShowMemoryDelete:!0},enableCustom1DS:!0,actions:{enableActions:()=>Promise.resolve(!0)},landingPage:{enableLandingRoute:!0,enableCentralComposer:!0,enableStarterPrompts:!0,enableAutoSuggest:!0,enableWidgets:!0,enablePromptedGreetings:!0,shouldFetchWidgetsData:!0,regexForAutoSuggest:/\S+\s+/},supportsYouTubeVideos:!0},Vf=class Vf{constructor(){Se(this,"cfg",Ade)}static instance(){return Vf.singleton||(Vf.singleton=new Vf),Vf.singleton}config(){return this.cfg}setConfig(e){this.cfg=e}};Se(Vf,"singleton",null);let Qe=Vf;const kde=/^(?:(?:https?):\/\/)?(?:(?:[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?\.))+[a-z]{2,}(?:\/[\w.-]*)*\/?(?:\?[^\s#]*)?(?:#[^\s]*)?$/,Rde=/\b((https?:\/\/|www\.)?([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,})([/?#][\w\-._~:/?#@!$&'()*+,;=%]*)?(?=[\s<>()"'.,!?)}\]“”‘’《》「」『』【】]|$)/gi;function Pde(t){return kde.test(t)}function H$e(t){const[e,n]=ide(t),r=nde(e[e.length-1]),i=r?e.slice(0,-1):e;if(Pde(i)){const o=r?e[e.length-1]:"";return{url:lh(i),word:i,suffix:`${o}${n}`}}return{word:t}}function gO(t){let e="";try{e=new URL(t).hostname}catch{}return e}function Ode(t,e,n){const{overwrite:r}=n??{};try{const i=new URL(t);for(const[o,s]of Object.entries(e))r&&i.searchParams.delete(o),i.searchParams.append(o,s);return i.toString()}catch{}return t}function J2(t){const{formCodeParamOnLinks:e}=Qe.instance().config();return e?Ode(t,{form:e}):t}function Nde(t){return t.replace(/[.,!?]+$/,"")}function Mde(t,e){return!t||e<=0?!1:t[e-1]==="@"||/[\w.-]+@/.test(t.slice(Math.max(0,e-20),e+1))}function z$e(t){const e=[];if(!t)return e;for(const n of t.matchAll(Rde)){const r=n[0],{index:i}=n;if(i<0||Mde(t,i))continue;const o=Nde(r),s=lh(o),a=i+o.length;e.push({url:s,from:i,to:a})}return e}const Ju=b.forwardRef((t,e)=>{const{children:n,href:r,className:i,title:o,"aria-controls":s,"aria-expanded":a,"aria-haspopup":c,"aria-label":l,id:d,target:p,onClick:m,onPointerDown:g,onFocus:C}=t,_=Z2("html");return y.jsx("a",{id:d,ref:e,"aria-controls":s,"aria-expanded":a,"aria-haspopup":c,"aria-label":l,className:i,title:o,href:r&&J2(r),target:p??"_blank",rel:_,onClick:m,onPointerDown:g,onFocus:C,children:n})});Ju.displayName="Link";const Lde="SN:ROOT",Dde=b.createContext(null);function jde(){return b.useContext(Dde)}const eL=b.createContext(Lde);eL.displayName="FocusContext";function Fde(){return b.useContext(eL)}function jy(){}function Ude({focusable:t=!0,saveLastFocusedChild:e=!0,trackChildren:n=!1,autoRestoreFocus:r=!0,forceFocus:i=!1,isFocusBoundary:o=!1,focusBoundaryDirections:s,focusKey:a,preferredChildFocusKey:c,onEnterPress:l=jy,onEnterRelease:d=jy,onArrowPress:p=()=>!0,onArrowRelease:m=jy,onFocus:g=jy,onBlur:C=jy}){const _=jde(),S=b.useCallback($=>{$&&l($)},[l]),w=b.useCallback(()=>{d()},[d]),T=b.useCallback(($,L)=>p($,L),[p]),I=b.useCallback($=>{m($)},[m]),A=b.useCallback(($,L)=>{g($,L)},[g]),k=b.useCallback(($,L)=>{C($,L)},[C]),R=b.useRef(null),[M,P]=b.useState(!1),[N,D]=b.useState(!1),G=Fde(),U=b.useMemo(()=>_?a??crypto.randomUUID():void 0,[a,_]),W=b.useCallback(($={})=>{U&&(_==null||_.setFocus(U,$))},[U,_]);return b.useEffect(()=>{const $=R.current;return $&&U&&(_==null||_.addFocusable({focusKey:U,node:$,parentFocusKey:G,preferredChildFocusKey:c,onEnterPress:S,onEnterRelease:w,onArrowPress:T,onArrowRelease:I,onFocus:A,onBlur:k,onUpdateFocus:(L=!1)=>P(L),onUpdateHasFocusedChild:(L=!1)=>D(L),saveLastFocusedChild:e,trackChildren:n,isFocusBoundary:o,focusBoundaryDirections:s,autoRestoreFocus:r,forceFocus:i,focusable:t})),()=>{U&&(_==null||_.removeFocusable({focusKey:U}))}},[]),b.useEffect(()=>{const $=R.current;$&&U&&(_==null||_.updateFocusable(U,{node:$,preferredChildFocusKey:c,focusable:t,isFocusBoundary:o,focusBoundaryDirections:s,onEnterPress:S,onEnterRelease:w,onArrowPress:T,onArrowRelease:I,onFocus:A,onBlur:k}))},[U,c,t,o,s,S,w,T,I,A,k,_]),{ref:R,focusSelf:W,focused:M,hasFocusedChild:N,focusKey:U}}function gv(t,...e){const n=Ude({onEnterPress:()=>{var i;(i=n.ref.current)==null||i.click()},onFocus:()=>{var i,o;(i=n.ref.current)==null||i.focus(),t.scrollIntoViewOnFocus&&((o=n.ref.current)==null||o.scrollIntoView({block:"nearest"}))},onBlur:()=>{var i;(i=n.ref.current)==null||i.blur()},...t}),r=Bde(...e,n.ref);return{focusable:n,refCallback:r}}function Bde(...t){return e=>{for(const n of t)n&&(typeof n=="function"?n(e):n.current=e)}}function CW(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=CW(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function fe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=CW(t))&&(r&&(r+=" "),r+=e);return r}const tL="-",Vde=t=>{const e=zde(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const a=s.split(tL);return a[0]===""&&a.length!==1&&a.shift(),_W(a,e)||Hde(s)},getConflictingClassGroupIds:(s,a)=>{const c=n[s]||[];return a&&r[s]?[...c,...r[s]]:c}}},_W=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?_W(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(tL);return(s=e.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},r6=/^\[(.+)\]$/,Hde=t=>{if(r6.test(t)){const e=r6.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},zde=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Wde(Object.entries(t.classGroups),n).forEach(([o,s])=>{vO(s,r,o,e)}),r},vO=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:i6(e,i);o.classGroupId=n;return}if(typeof i=="function"){if($de(i)){vO(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{vO(s,i6(e,o),n,r)})})},i6=(t,e)=>{let n=t;return e.split(tL).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},$de=t=>t.isThemeGetter,Wde=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,a])=>[e+s,a])):o);return[n,i]}):t,Kde=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},wW="!",Gde=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,s=a=>{const c=[];let l=0,d=0,p;for(let S=0;S<a.length;S++){let w=a[S];if(l===0){if(w===i&&(r||a.slice(S,S+o)===e)){c.push(a.slice(d,S)),d=S+o;continue}if(w==="/"){p=S;continue}}w==="["?l++:w==="]"&&l--}const m=c.length===0?a:a.substring(d),g=m.startsWith(wW),C=g?m.substring(1):m,_=p&&p>d?p-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:C,maybePostfixModifierPosition:_}};return n?a=>n({className:a,parseClassName:s}):s},qde=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},Yde=t=>({cache:Kde(t.cacheSize),parseClassName:Gde(t),...Vde(t)}),Qde=/\s+/,Xde=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],s=t.trim().split(Qde);let a="";for(let c=s.length-1;c>=0;c-=1){const l=s[c],{modifiers:d,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}=n(l);let C=!!g,_=r(C?m.substring(0,g):m);if(!_){if(!C){a=l+(a.length>0?" "+a:a);continue}if(_=r(m),!_){a=l+(a.length>0?" "+a:a);continue}C=!1}const S=qde(d).join(":"),w=p?S+wW:S,T=w+_;if(o.includes(T))continue;o.push(T);const I=i(_,C);for(let A=0;A<I.length;++A){const k=I[A];o.push(w+k)}a=l+(a.length>0?" "+a:a)}return a};function Zde(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=SW(e))&&(r&&(r+=" "),r+=n);return r}const SW=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=SW(t[r]))&&(n&&(n+=" "),n+=e);return n};function Jde(t,...e){let n,r,i,o=s;function s(c){const l=e.reduce((d,p)=>p(d),t());return n=Yde(l),r=n.cache.get,i=n.cache.set,o=a,a(c)}function a(c){const l=r(c);if(l)return l;const d=Xde(c,n);return i(c,d),d}return function(){return o(Zde.apply(null,arguments))}}const Yn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},EW=/^\[(?:([a-z-]+):)?(.+)\]$/i,efe=/^\d+\/\d+$/,tfe=new Set(["px","full","screen"]),nfe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rfe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ife=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ofe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sfe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Gc=t=>Qm(t)||tfe.has(t)||efe.test(t),bu=t=>vv(t,"length",pfe),Qm=t=>!!t&&!Number.isNaN(Number(t)),bk=t=>vv(t,"number",Qm),Fy=t=>!!t&&Number.isInteger(Number(t)),afe=t=>t.endsWith("%")&&Qm(t.slice(0,-1)),Zt=t=>EW.test(t),Cu=t=>nfe.test(t),cfe=new Set(["length","size","percentage"]),lfe=t=>vv(t,cfe,TW),ufe=t=>vv(t,"position",TW),dfe=new Set(["image","url"]),ffe=t=>vv(t,dfe,gfe),hfe=t=>vv(t,"",mfe),Uy=()=>!0,vv=(t,e,n)=>{const r=EW.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},pfe=t=>rfe.test(t)&&!ife.test(t),TW=()=>!1,mfe=t=>ofe.test(t),gfe=t=>sfe.test(t),vfe=()=>{const t=Yn("colors"),e=Yn("spacing"),n=Yn("blur"),r=Yn("brightness"),i=Yn("borderColor"),o=Yn("borderRadius"),s=Yn("borderSpacing"),a=Yn("borderWidth"),c=Yn("contrast"),l=Yn("grayscale"),d=Yn("hueRotate"),p=Yn("invert"),m=Yn("gap"),g=Yn("gradientColorStops"),C=Yn("gradientColorStopPositions"),_=Yn("inset"),S=Yn("margin"),w=Yn("opacity"),T=Yn("padding"),I=Yn("saturate"),A=Yn("scale"),k=Yn("sepia"),R=Yn("skew"),M=Yn("space"),P=Yn("translate"),N=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],G=()=>["auto",Zt,e],U=()=>[Zt,e],W=()=>["",Gc,bu],$=()=>["auto",Qm,Zt],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],j=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",Zt],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[Qm,Zt];return{cacheSize:500,separator:":",theme:{colors:[Uy],spacing:[Gc,bu],blur:["none","",Cu,Zt],brightness:H(),borderColor:[t],borderRadius:["none","","full",Cu,Zt],borderSpacing:U(),borderWidth:W(),contrast:H(),grayscale:K(),hueRotate:H(),invert:K(),gap:U(),gradientColorStops:[t],gradientColorStopPositions:[afe,bu],inset:G(),margin:G(),opacity:H(),padding:U(),saturate:H(),scale:H(),sepia:K(),skew:H(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",Zt]}],container:["container"],columns:[{columns:[Cu]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),Zt]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fy,Zt]}],basis:[{basis:G()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Zt]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",Fy,Zt]}],"grid-cols":[{"grid-cols":[Uy]}],"col-start-end":[{col:["auto",{span:["full",Fy,Zt]},Zt]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Uy]}],"row-start-end":[{row:["auto",{span:[Fy,Zt]},Zt]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Zt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Zt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Zt,e]}],"min-w":[{"min-w":[Zt,e,"min","max","fit"]}],"max-w":[{"max-w":[Zt,e,"none","full","min","max","fit","prose",{screen:[Cu]},Cu]}],h:[{h:[Zt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Zt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Zt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Zt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Cu,bu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bk]}],"font-family":[{font:[Uy]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Zt]}],"line-clamp":[{"line-clamp":["none",Qm,bk]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Gc,Zt]}],"list-image":[{"list-image":["none",Zt]}],"list-style-type":[{list:["none","disc","decimal",Zt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Gc,bu]}],"underline-offset":[{"underline-offset":["auto",Gc,Zt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Zt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Zt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),ufe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",lfe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ffe]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:B()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[Gc,Zt]}],"outline-w":[{outline:[Gc,bu]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Gc,bu]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Cu,hfe]}],"shadow-color":[{shadow:[Uy]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...j(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":j()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Cu,Zt]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[p]}],saturate:[{saturate:[I]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Zt]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",Zt]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",Zt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Fy,Zt]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Zt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Zt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Zt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Gc,bu,bk]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},yfe=Jde(vfe);function En(...t){return yfe(fe(t))}const gI="overflow-hidden",Td="backdrop-blur-2xl backdrop-saturate-200",nL="bg-white/70  dark:bg-slate-800/70",kc=fe(gI,Td,nL),bfe=fe(Td,nL),Cfe="bg-acrylic-default-fallback-light/[98] dark:bg-acrylic-default-fallback-dark/[98]",_fe="dark:bg-white/70  bg-slate-800/70",wfe=fe(gI,Td,_fe);fe(Td,nL);const IW="bg-spot-peach-100/60 dark:bg-slate-800/50",Sfe=fe(Td,IW),qu=fe(gI,Td,IW),Efe="bg-acrylic-thin-fallback-light/95 dark:bg-acrylic-thin-fallback-dark/[92]",xW="dark:bg-spot-peach-100/60 bg-slate-800/50";fe(Td,xW);const Tfe=fe(gI,Td,xW),d0="relative flex items-center",Is="text-foreground-800 fill-foreground-800 active:text-foreground-600 active:fill-foreground-600 dark:active:text-foreground-650 dark:active:fill-foreground-650",o6="text-saddle-200 fill-saddle-200 active:text-saddle-300 active:fill-saddle-300 dark:text-stone-800 dark:fill-stone-800 dark:active:text-stone-600 dark:active:fill-stone-600",Ife="text-foreground-250 fill-foreground-250 active:text-foreground-350 active:fill-foreground-350 dark:text-foreground-750 dark:fill-foreground-750 dark:active:text-foreground-650 dark:active:fill-foreground-650",vw="shadow-button-light dark:shadow-button-dark",s6="dark:shadow-button-light shadow-button-dark",xfe="shadow-button-strong-light dark:shadow-button-dark",Afe="text-saddle-550 safe-hover:text-salmon-450 dark:text-slate-300 dark:active:text-slate-200",kfe="bg-white/70 safe-hover:bg-salmon-200 active:bg-salmon-200/20 dark:bg-slate-450/30 dark:safe-hover:bg-midnight-800 dark:active:bg-midnight-800/20",Rfe="border-[0.5px] border-transparent safe-hover:border-salmon-400 dark:safe-hover:border-midnight-350",Pfe="text-salmon-600 fill-salmon-600 active:text-salmon-400 active:fill-salmon-400 dark:text-slate-200 dark:fill-text-slate-200 dark:active:text-slate-100 dark:active:fill-slate-100",Ofe="bg-salmon-200 safe-hover:bg-salmon-300 active:bg-salmon-300 dark:bg-slate-650 dark:safe-hover:bg-slate-400 dark:active:bg-slate-400",Ck="bg-transparent safe-hover:bg-white/50 active:bg-white/35 dark:safe-hover:bg-black/30 dark:active:bg-black/20",Sh={default:`${Is} ${vw} bg-white/70 safe-hover:bg-white active:bg-white/60 dark:bg-slate-450/30 dark:safe-hover:bg-slate-450/40 dark:active:bg-slate-450/20`,strong:`${Ife} ${xfe} bg-stone-800 safe-hover:bg-black active:bg-stone-750 dark:bg-slate-600 dark:safe-hover:bg-slate-550 dark:active:bg-slate-600/80`,accent:`${Is} bg-spot-peach-300 safe-hover:bg-spot-peach-350 active:bg-spot-peach-250 dark:bg-slate-600 dark:safe-hover:bg-slate-550 dark:active:bg-slate-600/80`,"overlay-bright":`${Is} bg-white/40 safe-hover:bg-white/70 active:bg-white/30 dark:bg-white/8 dark:safe-hover:bg-white/10 dark:active:bg-white/5`,"overlay-bright-inverted":`${Is} bg-white/40 safe-hover:bg-white/70 active:bg-white/30 dark:bg-black/35 dark:safe-hover:bg-black/60 dark:active:bg-black/25`,"overlay-dimmed":`${Is} bg-black/8 safe-hover:bg-black/10 active:bg-black/5 dark:bg-black/35 dark:safe-hover:bg-black/60 dark:active:bg-black/25`,"overlay-dimmed-inverted":`${Is} bg-black/8 safe-hover:bg-black/10 active:bg-black/5 dark:bg-white/8 dark:safe-hover:bg-white/10 dark:active:bg-white/5`,"subtle-bright":`${Is} bg-transparent safe-hover:bg-white/50 active:bg-white/35 dark:safe-hover:bg-white/8 dark:active:bg-white/5`,"subtle-bright-inverted":`${Is} ${Ck}`,"subtle-dimmed":`${Is} bg-transparent safe-hover:bg-black/5 active:bg-black/3 dark:safe-hover:bg-black/30 dark:active:bg-black/20`,"subtle-dimmed-inverted":`${Is} bg-transparent safe-hover:bg-black/5 active:bg-black/3 dark:safe-hover:bg-white/8 dark:active:bg-white/5`,acrylic:`${Is} ${vw} ${Ck}`,"acrylic-inverted":`${o6} ${s6} bg-transparent dark:safe-hover:bg-white/50 dark:active:bg-white/35 safe-hover:bg-black/30 active:bg-black/20`,"acrylic-thin":`${Is} ${vw} ${Ck}`,"acrylic-thin-inverted":`${o6} ${s6} bg-transparent dark:safe-hover:bg-white/50 dark:active:bg-white/35 safe-hover:bg-black/30 active:bg-black/20`,chip:`${Afe} ${kfe} ${vw} ${Rfe}`,alert:"bg-system-red-600 safe-hover:bg-system-red-650 active:bg-system-red-550","composer-selected":`${Pfe} ${Ofe}`},AW={acrylic:`${kc}`,"acrylic-inverted":`${wfe}`,"acrylic-thin":`${qu}`,"acrylic-thin-inverted":`${Tfe}`};function Nfe(t){return t in AW}const Mfe={start:"justify-start",center:"justify-center",end:"justify-end"},rL={"28-xxs":"text-xs","32-xs":"text-xs","36-sm":"text-xs","40-base":"text-sm","48-lg":"text-base","56-xl":"text-base","64-xxl":"text-base"},Nu={"28-xxs":"gap-x-1.5","32-xs":"gap-x-1.5","36-sm":"gap-x-1.5","40-base":"gap-x-2","48-lg":"gap-x-3","56-xl":"gap-x-3","64-xxl":"gap-x-3"},iL={"28-xxs":`min-h-7 min-w-8 px-3 py-1 ${Nu["28-xxs"]}`,"32-xs":`min-h-8 min-w-8 px-2.5 py-1 ${Nu["32-xs"]}`,"36-sm":`min-h-9 min-w-9 px-2.5 py-1 ${Nu["36-sm"]}`,"40-base":`min-h-10 min-w-10 px-3 py-2 ${Nu["40-base"]}`,"48-lg":`min-h-12 min-w-12 px-3 py-2.5 ${Nu["48-lg"]}`,"56-xl":`min-h-14 min-w-14 px-4 py-3.5 ${Nu["56-xl"]}`,"64-xxl":`min-h-16 min-w-16 p-4 ${Nu["64-xxl"]}`},Lfe={"28-xxs":"size-7","32-xs":"size-8","36-sm":"size-9","40-base":"size-10","48-lg":"size-12","56-xl":"size-14","64-xxl":"size-16"},yO={"28-xxs":"rounded-lg before:rounded-lg","32-xs":"rounded-lg before:rounded-lg","36-sm":"rounded-xl before:rounded-xl","40-base":"rounded-xl before:rounded-xl","48-lg":"rounded-3xl before:rounded-3xl","56-xl":"rounded-4xl before:rounded-4xl","64-xxl":"rounded-4xl before:rounded-4xl"},Dfe={none:"",regular:"border border-solid border-stone-350 dark:border-slate-600",strong:"border border-solid border-2 border-stroke-750"},a6="rounded-full before:rounded-full",jfe="opacity-40 pointer-events-none",vI="before:absolute before:inset-0 before:pointer-events-none before:border before:border-transparent before:contrast-more:border-2 outline-2 outline-offset-1 focus-visible:z-[1] focus-visible:outline focus-visible:outline-stroke-900",lt=b.forwardRef((t,e)=>{const{children:n,onClick:r,onFocus:i,onKeyDown:o,onKeyUp:s,href:a,className:c,title:l,variant:d="rect",alignment:p="center",color:m="default",outline:g="none",size:C="40-base",disabled:_,id:S,role:w,testId:T,spatialNavigationAutofocus:I=!1,"aria-controls":A,"aria-expanded":k,"aria-haspopup":R,"aria-pressed":M,"aria-label":P,"aria-selected":N,onPointerDown:D}=t,G=d==="circle"||d==="square",U=d==="circle"||d==="pill",W=En(d0,Sh[m],rL[C],Mfe[p],G?Lfe[C]:iL[C],U?a6:yO[C],vI,_&&jfe,Dfe[g],c);let $=n;if(Nfe(m)){const j=En(AW[m],U?a6:yO[C]);$=y.jsxs(y.Fragment,{children:[y.jsx("div",{className:En("absolute inset-0",j)}),y.jsx("div",{className:`relative ${d0} ${Nu[C]}`,children:n})]})}const{refCallback:L,focusable:B}=gv({autoRestoreFocus:!0,forceFocus:!0},e);return a!==void 0?y.jsx(Ju,{id:S,onPointerDown:D,"aria-controls":A,"aria-expanded":k,"aria-haspopup":R,href:a,ref:B.ref,onClick:r,title:l,className:W,"data-testid":T,"aria-label":P,"aria-selected":N,children:$}):y.jsx("button",{onPointerDown:D,ref:L,id:S,"aria-controls":A,"aria-expanded":k,"aria-haspopup":R,"aria-pressed":M,"aria-selected":N,type:"button",className:W,title:l,role:w,disabled:_,onClick:r,onFocus:i,onKeyDown:o,onKeyUp:s,"data-testid":T,"data-spatial-navigation-autofocus":I,"aria-label":P,"data-spatial-focus-key":B.focusKey,children:$})});lt.displayName="Button";function Ffe({reason:t,onReload:e}){const{t:n}=pt();return y.jsxs(y.Fragment,{children:[y.jsx("h1",{className:"pb-3 text-lg",children:n("authentication.accountChanged")}),y.jsx("p",{className:"pb-7",children:n(t==="login"?"authentication.signedInOtherTab":"authentication.signedOutOtherTab")}),y.jsx(lt,{onClick:e,title:n("authentication.reloadToContinue"),variant:"pill",size:"48-lg",className:"w-full",children:n("authentication.reloadToContinue")})]})}const oL=t=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",...t},b.createElement("path",{fill:"currentColor",d:"M15.144 5.885c.62-.777 1.042-1.82.931-2.885-.909.045-2.018.6-2.66 1.377-.576.665-1.087 1.752-.954 2.772 1.02.089 2.04-.51 2.683-1.264ZM16.064 7.349c-1.482-.089-2.742.84-3.45.84-.707 0-1.79-.796-2.963-.774-1.525.022-2.94.884-3.714 2.256-1.592 2.744-.42 6.814 1.128 9.049.752 1.105 1.658 2.323 2.852 2.279 1.128-.044 1.57-.73 2.94-.73 1.371 0 1.77.73 2.963.708 1.238-.022 2.013-1.106 2.764-2.213.863-1.26 1.216-2.477 1.238-2.544-.022-.022-2.388-.93-2.41-3.65-.022-2.28 1.858-3.363 1.946-3.43-1.061-1.57-2.72-1.747-3.294-1.791Z"})),$$e=Object.freeze(Object.defineProperty({__proto__:null,default:oL},Symbol.toStringTag,{value:"Module"})),sL=t=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 25 24",...t},b.createElement("g",{clipPath:"url(#a)"},b.createElement("path",{fill:"#4285F4",d:"M20.5 12.2a8 8 0 0 0-.2-1.8h-8.1v3.3H17c-.1.8-.7 2-1.8 3l2.5 2 .2.1a9 9 0 0 0 2.6-6.6Z"}),b.createElement("path",{fill:"#34A853",d:"M12.2 21c2.3 0 4.3-.8 5.7-2.2l-2.7-2.2a5.2 5.2 0 0 1-8-2.8l-2.7 2.1v.1c1.4 3 4.3 5 7.7 5Z"}),b.createElement("path",{fill:"#FBBC05",d:"M7.2 13.8a5.7 5.7 0 0 1 0-3.6L4.5 7.8a9.2 9.2 0 0 0 0 8.1l2.7-2.2Z"}),b.createElement("path",{fill:"#EB4335",d:"M12.2 6.5c1.6 0 2.7.7 3.3 1.3L18 5.4A8.2 8.2 0 0 0 12.2 3C8.8 3 5.9 5 4.4 8l2.8 2.2a5.3 5.3 0 0 1 5-3.7Z"})),b.createElement("defs",null,b.createElement("clipPath",{id:"a"},b.createElement("path",{fill:"#fff",d:"M3.5 3h17v18h-17z"})))),W$e=Object.freeze(Object.defineProperty({__proto__:null,default:sL},Symbol.toStringTag,{value:"Module"})),yI=t=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 25 24",...t},b.createElement("path",{fill:"#F25022",d:"M12.05 3H3.5v8.55h8.55V3Z"}),b.createElement("path",{fill:"#7FBA00",d:"M21.5 3h-8.55v8.55h8.55V3Z"}),b.createElement("path",{fill:"#00A4EF",d:"M12.05 12.45H3.5V21h8.55v-8.55Z"}),b.createElement("path",{fill:"#FFB900",d:"M21.5 12.45h-8.55V21h8.55v-8.55Z"})),K$e=Object.freeze(Object.defineProperty({__proto__:null,default:yI},Symbol.toStringTag,{value:"Module"})),kW="140e65af-45d1-4427-bf08-3e7295db6836/ChatAI.ReadWrite",Ufe={auth:{clientId:"14638111-3389-403d-b206-a6a71d9f8f16",authority:"https://login.microsoftonline.com/common",navigateToLoginRequestUrl:!1},system:{allowNativeBroker:!1},cache:{cacheLocation:"localStorage"}},aL={scopes:[kW],extraQueryParameters:{lw:"1",coa:"1",nopa:"2",fl:"easi2_nowld",cobrandid:"8c0b039e-5a73-4399-9b56-7e237be2cd06"},prompt:"select_account",redirectUri:typeof window<"u"?window.location.origin:void 0},c6={scopes:["User.Read"]},Bfe={scopes:["OneDrive.ReadWrite"],authority:"https://login.microsoftonline.com/consumers"},cL={graphMeApiSuffix:"/me",graphMeImageApiSuffix:"/me/photo/$value",graphMeLicenseDetails:"/me/licenseDetails"},Vfe={appName:"copilot_studio",enableMATS:!0,appVersion:"0.0.0"},Hfe="IalDS3vRtEI5X0zvsmGG7zJP9UrHTcei",zfe="auth.copilot.microsoft.com",RW="https://copilot.microsoft.com",$fe={clientId:Hfe,domain:zfe,cacheLocation:"localstorage",useRefreshTokens:!0,useRefreshTokensFallback:!0},PW="openid profile email offline_access ChatAI.ReadWrite",OW=typeof window<"u"?window.location.origin:void 0,f0={authorizationParams:{audience:RW,scope:PW,redirect_uri:OW}},Wfe={authorizationParams:{audience:RW,scope:PW,redirect_uri:OW,prompt:"select_account"}},bO="cp-pro";function Kfe(t){switch(t){case"login":return aL;case"graph":return c6;case"oneDrive":return Bfe;default:return c6}}function tp(){return!!Qe.instance().config().enableAuth0}var bI=lz();const Yu=()=>{},Zn=Yu(),_k=Object,st=t=>t===Zn,Qi=t=>typeof t=="function",ns=(t,e)=>({...t,...e}),Gfe=t=>Qi(t.then),yw=new WeakMap;let qfe=0;const h0=t=>{const e=typeof t,n=t&&t.constructor,r=n==Date;let i,o;if(_k(t)===t&&!r&&n!=RegExp){if(i=yw.get(t),i)return i;if(i=++qfe+"~",yw.set(t,i),n==Array){for(i="@",o=0;o<t.length;o++)i+=h0(t[o])+",";yw.set(t,i)}if(n==_k){i="#";const s=_k.keys(t).sort();for(;!st(o=s.pop());)st(t[o])||(i+=o+":"+h0(t[o])+",");yw.set(t,i)}}else i=r?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return i},js=new WeakMap,wk={},bw={},lL="undefined",CI=typeof window!=lL,CO=typeof document!=lL,Yfe=()=>CI&&typeof window.requestAnimationFrame!=lL,tc=(t,e)=>{const n=js.get(t);return[()=>!st(e)&&t.get(e)||wk,r=>{if(!st(e)){const i=t.get(e);e in bw||(bw[e]=i),n[5](e,ns(i,r),i||wk)}},n[6],()=>!st(e)&&e in bw?bw[e]:!st(e)&&t.get(e)||wk]};let _O=!0;const Qfe=()=>_O,[wO,SO]=CI&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Yu,Yu],Xfe=()=>{const t=CO&&document.visibilityState;return st(t)||t!=="hidden"},Zfe=t=>(CO&&document.addEventListener("visibilitychange",t),wO("focus",t),()=>{CO&&document.removeEventListener("visibilitychange",t),SO("focus",t)}),Jfe=t=>{const e=()=>{_O=!0,t()},n=()=>{_O=!1};return wO("online",e),wO("offline",n),()=>{SO("online",e),SO("offline",n)}},ehe={isOnline:Qfe,isVisible:Xfe},the={initFocus:Zfe,initReconnect:Jfe},Eh=!Dl.useId,El=!CI||"Deno"in window,uL=t=>Yfe()?window.requestAnimationFrame(t):setTimeout(t,1),Vs=El?b.useEffect:b.useLayoutEffect,Sk=typeof navigator<"u"&&navigator.connection,l6=!El&&Sk&&(["slow-2g","2g"].includes(Sk.effectiveType)||Sk.saveData),Tl=t=>{if(Qi(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?h0(t):"",[t,e]};let nhe=0;const Th=()=>++nhe,NW=0,MW=1,LW=2,rhe=3;var Xi={__proto__:null,ERROR_REVALIDATE_EVENT:rhe,FOCUS_EVENT:NW,MUTATE_EVENT:LW,RECONNECT_EVENT:MW};async function _I(...t){const[e,n,r,i]=t,o=ns({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let s=o.populateCache;const a=o.rollbackOnError;let c=o.optimisticData;const l=m=>typeof a=="function"?a(m):a!==!1,d=o.throwOnError;if(Qi(n)){const m=n,g=[],C=e.keys();for(const _ of C)!/^\$(inf|sub)\$/.test(_)&&m(e.get(_)._k)&&g.push(_);return Promise.all(g.map(p))}return p(n);async function p(m){const[g]=Tl(m);if(!g)return;const[C,_]=tc(e,g),[S,w,T,I]=js.get(e),A=()=>{const W=S[g];return(Qi(o.revalidate)?o.revalidate(C().data,m):o.revalidate!==!1)&&(delete T[g],delete I[g],W&&W[0])?W[0](LW).then(()=>C().data):C().data};if(t.length<3)return A();let k=r,R;const M=Th();w[g]=[M,0];const P=!st(c),N=C(),D=N.data,G=N._c,U=st(G)?D:G;if(P&&(c=Qi(c)?c(U,D):c,_({data:c,_c:U})),Qi(k))try{k=k(U)}catch(W){R=W}if(k&&Gfe(k))if(k=await k.catch(W=>{R=W}),M!==w[g][0]){if(R)throw R;return k}else R&&P&&l(R)&&(s=!0,_({data:U,_c:Zn}));if(s&&!R)if(Qi(s)){const W=s(k,U);_({data:W,error:Zn,_c:Zn})}else _({data:k,error:Zn,_c:Zn});if(w[g][1]=Th(),Promise.resolve(A()).then(()=>{_({_c:Zn})}),R){if(d)throw R;return}return k}}const u6=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},ihe=(t,e)=>{if(!js.has(t)){const n=ns(the,e),r={},i=_I.bind(Zn,t);let o=Yu;const s={},a=(d,p)=>{const m=s[d]||[];return s[d]=m,m.push(p),()=>m.splice(m.indexOf(p),1)},c=(d,p,m)=>{t.set(d,p);const g=s[d];if(g)for(const C of g)C(p,m)},l=()=>{if(!js.has(t)&&(js.set(t,[r,{},{},{},i,c,a]),!El)){const d=n.initFocus(setTimeout.bind(Zn,u6.bind(Zn,r,NW))),p=n.initReconnect(setTimeout.bind(Zn,u6.bind(Zn,r,MW)));o=()=>{d&&d(),p&&p(),js.delete(t)}}};return l(),[t,i,l,o]}return[t,js.get(t)[4]]},ohe=(t,e,n,r,i)=>{const o=n.errorRetryCount,s=i.retryCount,a=~~((Math.random()+.5)*(1<<(s<8?s:8)))*n.errorRetryInterval;!st(o)&&s>o||setTimeout(r,a,i)},she=(t,e)=>h0(t)==h0(e),[dL,ahe]=ihe(new Map),che=ns({onLoadingSlow:Yu,onSuccess:Yu,onError:Yu,onErrorRetry:ohe,onDiscarded:Yu,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:l6?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:l6?5e3:3e3,compare:she,isPaused:()=>!1,cache:dL,mutate:ahe,fallback:{}},ehe),lhe=(t,e)=>{const n=ns(t,e);if(e){const{use:r,fallback:i}=t,{use:o,fallback:s}=e;r&&o&&(n.use=r.concat(o)),i&&s&&(n.fallback=ns(i,s))}return n},uhe=b.createContext({}),DW="$inf$",jW=CI&&window.__SWR_DEVTOOLS_USE__,dhe=jW?window.__SWR_DEVTOOLS_USE__:[],fhe=()=>{jW&&(window.__SWR_DEVTOOLS_REACT__=Dl)},FW=t=>Qi(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],fL=()=>ns(che,b.useContext(uhe)),hhe=t=>(e,n,r)=>t(e,n&&((...o)=>{const[s]=Tl(e),[,,,a]=js.get(dL);if(s.startsWith(DW))return n(...o);const c=a[s];return st(c)?n(...o):(delete a[s],c)}),r),phe=dhe.concat(hhe),hL=t=>function(...n){const r=fL(),[i,o,s]=FW(n),a=lhe(r,s);let c=t;const{use:l}=a,d=(l||[]).concat(phe);for(let p=d.length;p--;)c=d[p](c);return c(i,o||a.fetcher||null,a)},pL=(t,e,n)=>{const r=e[t]||(e[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i>=0&&(r[i]=r[r.length-1],r.pop())}},UW=(t,e)=>(...n)=>{const[r,i,o]=FW(n),s=(o.use||[]).concat(e);return t(r,i,{...o,use:s})};fhe();const d6=Dl.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t)}),Ek={dedupe:!0},mhe=(t,e,n)=>{const{cache:r,compare:i,suspense:o,fallbackData:s,revalidateOnMount:a,revalidateIfStale:c,refreshInterval:l,refreshWhenHidden:d,refreshWhenOffline:p,keepPreviousData:m}=n,[g,C,_,S]=js.get(r),[w,T]=Tl(t),I=b.useRef(!1),A=b.useRef(!1),k=b.useRef(w),R=b.useRef(e),M=b.useRef(n),P=()=>M.current,N=()=>P().isVisible()&&P().isOnline(),[D,G,U,W]=tc(r,w),$=b.useRef({}).current,L=st(s)?n.fallback[w]:s,B=(re,ue)=>{for(const xe in $){const Y=xe;if(Y==="data"){if(!i(re[Y],ue[Y])&&(!st(re[Y])||!i(_e,ue[Y])))return!1}else if(ue[Y]!==re[Y])return!1}return!0},j=b.useMemo(()=>{const re=!w||!e?!1:st(a)?P().isPaused()||o?!1:st(c)?!0:c:a,ue=pe=>{const Le=ns(pe);return delete Le._k,re?{isValidating:!0,isLoading:!0,...Le}:Le},xe=D(),Y=W(),ge=ue(xe),Ee=xe===Y?ge:ue(Y);let ye=ge;return[()=>{const pe=ue(D());return B(pe,ye)?(ye.data=pe.data,ye.isLoading=pe.isLoading,ye.isValidating=pe.isValidating,ye.error=pe.error,ye):(ye=pe,pe)},()=>Ee]},[r,w]),V=bI.useSyncExternalStore(b.useCallback(re=>U(w,(ue,xe)=>{B(xe,ue)||re()}),[r,w]),j[0],j[1]),K=!I.current,z=g[w]&&g[w].length>0,H=V.data,q=st(H)?L:H,le=V.error,Ce=b.useRef(q),_e=m?st(H)?Ce.current:H:q,be=z&&!st(le)?!1:K&&!st(a)?a:P().isPaused()?!1:o?st(q)?!1:c:st(q)||c,Pe=!!(w&&e&&K&&be),Oe=st(V.isValidating)?Pe:V.isValidating,Q=st(V.isLoading)?Pe:V.isLoading,ee=b.useCallback(async re=>{const ue=R.current;if(!w||!ue||A.current||P().isPaused())return!1;let xe,Y,ge=!0;const Ee=re||{},ye=!_[w]||!Ee.dedupe,pe=()=>Eh?!A.current&&w===k.current&&I.current:w===k.current,Le={isValidating:!1,isLoading:!1},De=()=>{G(Le)},Xe=()=>{const qe=_[w];qe&&qe[1]===Y&&delete _[w]},mt={isValidating:!0};st(D().data)&&(mt.isLoading=!0);try{if(ye&&(G(mt),n.loadingTimeout&&st(D().data)&&setTimeout(()=>{ge&&pe()&&P().onLoadingSlow(w,n)},n.loadingTimeout),_[w]=[ue(T),Th()]),[xe,Y]=_[w],xe=await xe,ye&&setTimeout(Xe,n.dedupingInterval),!_[w]||_[w][1]!==Y)return ye&&pe()&&P().onDiscarded(w),!1;Le.error=Zn;const qe=C[w];if(!st(qe)&&(Y<=qe[0]||Y<=qe[1]||qe[1]===0))return De(),ye&&pe()&&P().onDiscarded(w),!1;const dt=D().data;Le.data=i(dt,xe)?dt:xe,ye&&pe()&&P().onSuccess(xe,w,n)}catch(qe){Xe();const dt=P(),{shouldRetryOnError:$t}=dt;dt.isPaused()||(Le.error=qe,ye&&pe()&&(dt.onError(qe,w,dt),($t===!0||Qi($t)&&$t(qe))&&(!P().revalidateOnFocus||!P().revalidateOnReconnect||N())&&dt.onErrorRetry(qe,w,dt,nn=>{const Wt=g[w];Wt&&Wt[0]&&Wt[0](Xi.ERROR_REVALIDATE_EVENT,nn)},{retryCount:(Ee.retryCount||0)+1,dedupe:!0})))}return ge=!1,De(),!0},[w,r]),Ie=b.useCallback((...re)=>_I(r,k.current,...re),[]);if(Vs(()=>{R.current=e,M.current=n,st(H)||(Ce.current=H)}),Vs(()=>{if(!w)return;const re=ee.bind(Zn,Ek);let ue=0;const Y=pL(w,g,(ge,Ee={})=>{if(ge==Xi.FOCUS_EVENT){const ye=Date.now();P().revalidateOnFocus&&ye>ue&&N()&&(ue=ye+P().focusThrottleInterval,re())}else if(ge==Xi.RECONNECT_EVENT)P().revalidateOnReconnect&&N()&&re();else{if(ge==Xi.MUTATE_EVENT)return ee();if(ge==Xi.ERROR_REVALIDATE_EVENT)return ee(Ee)}});return A.current=!1,k.current=w,I.current=!0,G({_k:T}),be&&(st(q)||El?re():uL(re)),()=>{A.current=!0,Y()}},[w]),Vs(()=>{let re;function ue(){const Y=Qi(l)?l(D().data):l;Y&&re!==-1&&(re=setTimeout(xe,Y))}function xe(){!D().error&&(d||P().isVisible())&&(p||P().isOnline())?ee(Ek).then(ue):ue()}return ue(),()=>{re&&(clearTimeout(re),re=-1)}},[l,d,p,w]),b.useDebugValue(_e),o&&st(q)&&w){if(!Eh&&El)throw new Error("Fallback data is required when using suspense in SSR.");R.current=e,M.current=n,A.current=!1;const re=S[w];if(!st(re)){const ue=Ie(re);d6(ue)}if(st(le)){const ue=ee(Ek);st(_e)||(ue.status="fulfilled",ue.value=!0),d6(ue)}else throw le}return{mutate:Ie,get data(){return $.data=!0,_e},get error(){return $.error=!0,le},get isValidating(){return $.isValidating=!0,Oe},get isLoading(){return $.isLoading=!0,Q}}},ghe=hL(mhe),f6=Eh?t=>{t()}:Dl.startTransition,vhe=t=>{const[,e]=b.useState({}),n=b.useRef(!1),r=b.useRef(t),i=b.useRef({data:!1,error:!1,isValidating:!1}),o=b.useCallback(s=>{let a=!1;const c=r.current;for(const l in s){const d=l;c[d]!==s[d]&&(c[d]=s[d],i.current[d]&&(a=!0))}a&&!n.current&&e({})},[]);return Vs(()=>(n.current=!1,()=>{n.current=!0})),[r,i.current,o]},yhe=()=>(t,e,n={})=>{const{mutate:r}=fL(),i=b.useRef(t),o=b.useRef(e),s=b.useRef(n),a=b.useRef(0),[c,l,d]=vhe({data:Zn,error:Zn,isMutating:!1}),p=c.current,m=b.useCallback(async(C,_)=>{const[S,w]=Tl(i.current);if(!o.current)throw new Error("Can’t trigger the mutation: missing fetcher.");if(!S)throw new Error("Can’t trigger the mutation: missing key.");const T=ns(ns({populateCache:!1,throwOnError:!0},s.current),_),I=Th();a.current=I,d({isMutating:!0});try{const A=await r(S,o.current(w,{arg:C}),ns(T,{throwOnError:!0}));return a.current<=I&&(f6(()=>d({data:A,isMutating:!1,error:void 0})),T.onSuccess==null||T.onSuccess.call(T,A,S,T)),A}catch(A){if(a.current<=I&&(f6(()=>d({error:A,isMutating:!1})),T.onError==null||T.onError.call(T,A,S,T),T.throwOnError))throw A}},[]),g=b.useCallback(()=>{a.current=Th(),d({data:Zn,error:Zn,isMutating:!1})},[]);return Vs(()=>{i.current=t,o.current=e,s.current=n}),{trigger:m,reset:g,get data(){return l.data=!0,p.data},get error(){return l.error=!0,p.error},get isMutating(){return l.isMutating=!0,p.isMutating}}},mL=UW(ghe,yhe);var hn;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const o={};for(const s of i)o[s]=s;return o},t.getValidEnumValues=i=>{const o=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),s={};for(const a of o)s[a]=i[a];return t.objectValues(s)},t.objectValues=i=>t.objectKeys(i).map(function(o){return i[o]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},t.find=(i,o)=>{for(const s of i)if(o(s))return s},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}t.joinValues=r,t.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(hn||(hn={}));var EO;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(EO||(EO={}));const vt=hn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Fu=t=>{switch(typeof t){case"undefined":return vt.undefined;case"string":return vt.string;case"number":return isNaN(t)?vt.nan:vt.number;case"boolean":return vt.boolean;case"function":return vt.function;case"bigint":return vt.bigint;case"symbol":return vt.symbol;case"object":return Array.isArray(t)?vt.array:t===null?vt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?vt.promise:typeof Map<"u"&&t instanceof Map?vt.map:typeof Set<"u"&&t instanceof Set?vt.set:typeof Date<"u"&&t instanceof Date?vt.date:vt.object;default:return vt.unknown}},Ze=hn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),bhe=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class pi extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(o){return o.message},r={_errors:[]},i=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let a=r,c=0;for(;c<s.path.length;){const l=s.path[c];c===s.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(s))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return i(this),r}static assert(e){if(!(e instanceof pi))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,hn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}pi.create=t=>new pi(t);const Ng=(t,e)=>{let n;switch(t.code){case Ze.invalid_type:t.received===vt.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case Ze.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,hn.jsonStringifyReplacer)}`;break;case Ze.unrecognized_keys:n=`Unrecognized key(s) in object: ${hn.joinValues(t.keys,", ")}`;break;case Ze.invalid_union:n="Invalid input";break;case Ze.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${hn.joinValues(t.options)}`;break;case Ze.invalid_enum_value:n=`Invalid enum value. Expected ${hn.joinValues(t.options)}, received '${t.received}'`;break;case Ze.invalid_arguments:n="Invalid function arguments";break;case Ze.invalid_return_type:n="Invalid function return type";break;case Ze.invalid_date:n="Invalid date";break;case Ze.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:hn.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case Ze.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case Ze.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case Ze.custom:n="Invalid input";break;case Ze.invalid_intersection_types:n="Intersection results could not be merged";break;case Ze.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Ze.not_finite:n="Number must be finite";break;default:n=e.defaultError,hn.assertNever(t)}return{message:n}};let BW=Ng;function Che(t){BW=t}function dE(){return BW}const fE=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,o=[...n,...i.path||[]],s={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let a="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)a=l(s,{data:e,defaultError:a}).message;return{...i,path:o,message:a}},_he=[];function ft(t,e){const n=dE(),r=fE({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Ng?void 0:Ng].filter(i=>!!i)});t.common.issues.push(r)}class Li{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Bt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const o=await i.key,s=await i.value;r.push({key:o,value:s})}return Li.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return Bt;o.status==="dirty"&&e.dirty(),s.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[o.value]=s.value)}return{status:e.value,value:r}}}const Bt=Object.freeze({status:"aborted"}),Om=t=>({status:"dirty",value:t}),to=t=>({status:"valid",value:t}),TO=t=>t.status==="aborted",IO=t=>t.status==="dirty",p0=t=>t.status==="valid",m0=t=>typeof Promise<"u"&&t instanceof Promise;function hE(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function VW(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var kt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(kt||(kt={}));var mb,gb;class _c{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const h6=(t,e)=>{if(p0(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new pi(t.common.issues);return this._error=n,this._error}}};function Qt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(s,a)=>{var c,l;const{message:d}=t;return s.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:(c=d??r)!==null&&c!==void 0?c:a.defaultError}:s.code!=="invalid_type"?{message:a.defaultError}:{message:(l=d??n)!==null&&l!==void 0?l:a.defaultError}},description:i}}class tn{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Fu(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Fu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Li,ctx:{common:e.parent.common,data:e.data,parsedType:Fu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(m0(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fu(e)},o=this._parseSync({data:e,path:i.path,parent:i});return h6(i,o)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Fu(e)},i=this._parse({data:e,path:r.path,parent:r}),o=await(m0(i)?i:Promise.resolve(i));return h6(r,o)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const s=e(i),a=()=>o.addIssue({code:Ze.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(c=>c?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new xa({schema:this,typeName:Ut.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return gc.create(this,this._def)}nullable(){return pd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Sa.create(this,this._def)}promise(){return Lg.create(this,this._def)}or(e){return b0.create([this,e],this._def)}and(e){return C0.create(this,e,this._def)}transform(e){return new xa({...Qt(this._def),schema:this,typeName:Ut.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new T0({...Qt(this._def),innerType:this,defaultValue:n,typeName:Ut.ZodDefault})}brand(){return new gL({typeName:Ut.ZodBranded,type:this,...Qt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new I0({...Qt(this._def),innerType:this,catchValue:n,typeName:Ut.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return bC.create(this,e)}readonly(){return x0.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const whe=/^c[^\s-]{8,}$/i,She=/^[0-9a-z]+$/,Ehe=/^[0-9A-HJKMNP-TV-Z]{26}$/,The=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ihe=/^[a-z0-9_-]{21}$/i,xhe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ahe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,khe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Tk;const Rhe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Phe=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Ohe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,HW="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Nhe=new RegExp(`^${HW}$`);function zW(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Mhe(t){return new RegExp(`^${zW(t)}$`)}function $W(t){let e=`${HW}T${zW(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Lhe(t,e){return!!((e==="v4"||!e)&&Rhe.test(t)||(e==="v6"||!e)&&Phe.test(t))}class Ca extends tn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==vt.string){const o=this._getOrReturnCtx(e);return ft(o,{code:Ze.invalid_type,expected:vt.string,received:o.parsedType}),Bt}const r=new Li;let i;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),ft(i,{code:Ze.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),ft(i,{code:Ze.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const s=e.data.length>o.value,a=e.data.length<o.value;(s||a)&&(i=this._getOrReturnCtx(e,i),s?ft(i,{code:Ze.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&ft(i,{code:Ze.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")Ahe.test(e.data)||(i=this._getOrReturnCtx(e,i),ft(i,{validation:"email",code:Ze.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")Tk||(Tk=new RegExp(khe,"u")),Tk.test(e.data)||(i=this._getOrReturnCtx(e,i),ft(i,{validation:"emoji",code:Ze.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")The.test(e.data)||(i=this._getOrReturnCtx(e,i),ft(i,{validation:"uuid",code:Ze.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")Ihe.test(e.data)||(i=this._getOrReturnCtx(e,i),ft(i,{validation:"nanoid",code:Ze.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")whe.test(e.data)||(i=this._getOrReturnCtx(e,i),ft(i,{validation:"cuid",code:Ze.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")She.test(e.data)||(i=this._getOrReturnCtx(e,i),ft(i,{validation:"cuid2",code:Ze.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")Ehe.test(e.data)||(i=this._getOrReturnCtx(e,i),ft(i,{validation:"ulid",code:Ze.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ft(i,{validation:"url",code:Ze.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ft(i,{validation:"regex",code:Ze.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),ft(i,{code:Ze.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),ft(i,{code:Ze.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),ft(i,{code:Ze.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?$W(o).test(e.data)||(i=this._getOrReturnCtx(e,i),ft(i,{code:Ze.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?Nhe.test(e.data)||(i=this._getOrReturnCtx(e,i),ft(i,{code:Ze.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?Mhe(o).test(e.data)||(i=this._getOrReturnCtx(e,i),ft(i,{code:Ze.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?xhe.test(e.data)||(i=this._getOrReturnCtx(e,i),ft(i,{validation:"duration",code:Ze.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?Lhe(e.data,o.version)||(i=this._getOrReturnCtx(e,i),ft(i,{validation:"ip",code:Ze.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?Ohe.test(e.data)||(i=this._getOrReturnCtx(e,i),ft(i,{validation:"base64",code:Ze.invalid_string,message:o.message}),r.dirty()):hn.assertNever(o);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Ze.invalid_string,...kt.errToObj(r)})}_addCheck(e){return new Ca({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...kt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...kt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...kt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...kt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...kt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...kt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...kt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...kt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...kt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...kt.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...kt.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...kt.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...kt.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...kt.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...kt.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...kt.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...kt.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...kt.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...kt.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...kt.errToObj(n)})}nonempty(e){return this.min(1,kt.errToObj(e))}trim(){return new Ca({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ca({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ca({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ca.create=t=>{var e;return new Ca({checks:[],typeName:Ut.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Qt(t)})};function Dhe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,o=parseInt(t.toFixed(i).replace(".","")),s=parseInt(e.toFixed(i).replace(".",""));return o%s/Math.pow(10,i)}class dd extends tn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==vt.number){const o=this._getOrReturnCtx(e);return ft(o,{code:Ze.invalid_type,expected:vt.number,received:o.parsedType}),Bt}let r;const i=new Li;for(const o of this._def.checks)o.kind==="int"?hn.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ft(r,{code:Ze.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),ft(r,{code:Ze.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),ft(r,{code:Ze.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?Dhe(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),ft(r,{code:Ze.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ft(r,{code:Ze.not_finite,message:o.message}),i.dirty()):hn.assertNever(o);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,kt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,kt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,kt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,kt.toString(n))}setLimit(e,n,r,i){return new dd({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:kt.toString(i)}]})}_addCheck(e){return new dd({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:kt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:kt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:kt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:kt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:kt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:kt.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:kt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:kt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:kt.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&hn.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}dd.create=t=>new dd({checks:[],typeName:Ut.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Qt(t)});class fd extends tn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==vt.bigint){const o=this._getOrReturnCtx(e);return ft(o,{code:Ze.invalid_type,expected:vt.bigint,received:o.parsedType}),Bt}let r;const i=new Li;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),ft(r,{code:Ze.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),ft(r,{code:Ze.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ft(r,{code:Ze.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):hn.assertNever(o);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,kt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,kt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,kt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,kt.toString(n))}setLimit(e,n,r,i){return new fd({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:kt.toString(i)}]})}_addCheck(e){return new fd({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:kt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:kt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:kt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:kt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:kt.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}fd.create=t=>{var e;return new fd({checks:[],typeName:Ut.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Qt(t)})};class g0 extends tn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==vt.boolean){const r=this._getOrReturnCtx(e);return ft(r,{code:Ze.invalid_type,expected:vt.boolean,received:r.parsedType}),Bt}return to(e.data)}}g0.create=t=>new g0({typeName:Ut.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Qt(t)});class Ih extends tn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==vt.date){const o=this._getOrReturnCtx(e);return ft(o,{code:Ze.invalid_type,expected:vt.date,received:o.parsedType}),Bt}if(isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return ft(o,{code:Ze.invalid_date}),Bt}const r=new Li;let i;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),ft(i,{code:Ze.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),ft(i,{code:Ze.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):hn.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ih({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:kt.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:kt.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Ih.create=t=>new Ih({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ut.ZodDate,...Qt(t)});class pE extends tn{_parse(e){if(this._getType(e)!==vt.symbol){const r=this._getOrReturnCtx(e);return ft(r,{code:Ze.invalid_type,expected:vt.symbol,received:r.parsedType}),Bt}return to(e.data)}}pE.create=t=>new pE({typeName:Ut.ZodSymbol,...Qt(t)});class v0 extends tn{_parse(e){if(this._getType(e)!==vt.undefined){const r=this._getOrReturnCtx(e);return ft(r,{code:Ze.invalid_type,expected:vt.undefined,received:r.parsedType}),Bt}return to(e.data)}}v0.create=t=>new v0({typeName:Ut.ZodUndefined,...Qt(t)});class y0 extends tn{_parse(e){if(this._getType(e)!==vt.null){const r=this._getOrReturnCtx(e);return ft(r,{code:Ze.invalid_type,expected:vt.null,received:r.parsedType}),Bt}return to(e.data)}}y0.create=t=>new y0({typeName:Ut.ZodNull,...Qt(t)});class Mg extends tn{constructor(){super(...arguments),this._any=!0}_parse(e){return to(e.data)}}Mg.create=t=>new Mg({typeName:Ut.ZodAny,...Qt(t)});class uh extends tn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return to(e.data)}}uh.create=t=>new uh({typeName:Ut.ZodUnknown,...Qt(t)});class Il extends tn{_parse(e){const n=this._getOrReturnCtx(e);return ft(n,{code:Ze.invalid_type,expected:vt.never,received:n.parsedType}),Bt}}Il.create=t=>new Il({typeName:Ut.ZodNever,...Qt(t)});class mE extends tn{_parse(e){if(this._getType(e)!==vt.undefined){const r=this._getOrReturnCtx(e);return ft(r,{code:Ze.invalid_type,expected:vt.void,received:r.parsedType}),Bt}return to(e.data)}}mE.create=t=>new mE({typeName:Ut.ZodVoid,...Qt(t)});class Sa extends tn{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==vt.array)return ft(n,{code:Ze.invalid_type,expected:vt.array,received:n.parsedType}),Bt;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(s||a)&&(ft(n,{code:s?Ze.too_big:Ze.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(ft(n,{code:Ze.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(ft(n,{code:Ze.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,a)=>i.type._parseAsync(new _c(n,s,n.path,a)))).then(s=>Li.mergeArray(r,s));const o=[...n.data].map((s,a)=>i.type._parseSync(new _c(n,s,n.path,a)));return Li.mergeArray(r,o)}get element(){return this._def.type}min(e,n){return new Sa({...this._def,minLength:{value:e,message:kt.toString(n)}})}max(e,n){return new Sa({...this._def,maxLength:{value:e,message:kt.toString(n)}})}length(e,n){return new Sa({...this._def,exactLength:{value:e,message:kt.toString(n)}})}nonempty(e){return this.min(1,e)}}Sa.create=(t,e)=>new Sa({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ut.ZodArray,...Qt(e)});function um(t){if(t instanceof cr){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=gc.create(um(r))}return new cr({...t._def,shape:()=>e})}else return t instanceof Sa?new Sa({...t._def,type:um(t.element)}):t instanceof gc?gc.create(um(t.unwrap())):t instanceof pd?pd.create(um(t.unwrap())):t instanceof wc?wc.create(t.items.map(e=>um(e))):t}class cr extends tn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=hn.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==vt.object){const l=this._getOrReturnCtx(e);return ft(l,{code:Ze.invalid_type,expected:vt.object,received:l.parsedType}),Bt}const{status:r,ctx:i}=this._processInputParams(e),{shape:o,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof Il&&this._def.unknownKeys==="strip"))for(const l in i.data)s.includes(l)||a.push(l);const c=[];for(const l of s){const d=o[l],p=i.data[l];c.push({key:{status:"valid",value:l},value:d._parse(new _c(i,p,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof Il){const l=this._def.unknownKeys;if(l==="passthrough")for(const d of a)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(l==="strict")a.length>0&&(ft(i,{code:Ze.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const d of a){const p=i.data[d];c.push({key:{status:"valid",value:d},value:l._parse(new _c(i,p,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const d of c){const p=await d.key,m=await d.value;l.push({key:p,value:m,alwaysSet:d.alwaysSet})}return l}).then(l=>Li.mergeObjectSync(r,l)):Li.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return kt.errToObj,new cr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,o,s,a;const c=(s=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,n,r).message)!==null&&s!==void 0?s:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=kt.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new cr({...this._def,unknownKeys:"strip"})}passthrough(){return new cr({...this._def,unknownKeys:"passthrough"})}extend(e){return new cr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new cr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ut.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new cr({...this._def,catchall:e})}pick(e){const n={};return hn.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new cr({...this._def,shape:()=>n})}omit(e){const n={};return hn.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new cr({...this._def,shape:()=>n})}deepPartial(){return um(this)}partial(e){const n={};return hn.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new cr({...this._def,shape:()=>n})}required(e){const n={};return hn.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof gc;)o=o._def.innerType;n[r]=o}}),new cr({...this._def,shape:()=>n})}keyof(){return WW(hn.objectKeys(this.shape))}}cr.create=(t,e)=>new cr({shape:()=>t,unknownKeys:"strip",catchall:Il.create(),typeName:Ut.ZodObject,...Qt(e)});cr.strictCreate=(t,e)=>new cr({shape:()=>t,unknownKeys:"strict",catchall:Il.create(),typeName:Ut.ZodObject,...Qt(e)});cr.lazycreate=(t,e)=>new cr({shape:t,unknownKeys:"strip",catchall:Il.create(),typeName:Ut.ZodObject,...Qt(e)});class b0 extends tn{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(o){for(const a of o)if(a.result.status==="valid")return a.result;for(const a of o)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const s=o.map(a=>new pi(a.ctx.common.issues));return ft(n,{code:Ze.invalid_union,unionErrors:s}),Bt}if(n.common.async)return Promise.all(r.map(async o=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let o;const s=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:l});if(d.status==="valid")return d;d.status==="dirty"&&!o&&(o={result:d,ctx:l}),l.common.issues.length&&s.push(l.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(c=>new pi(c));return ft(n,{code:Ze.invalid_union,unionErrors:a}),Bt}}get options(){return this._def.options}}b0.create=(t,e)=>new b0({options:t,typeName:Ut.ZodUnion,...Qt(e)});const Zc=t=>t instanceof w0?Zc(t.schema):t instanceof xa?Zc(t.innerType()):t instanceof S0?[t.value]:t instanceof hd?t.options:t instanceof E0?hn.objectValues(t.enum):t instanceof T0?Zc(t._def.innerType):t instanceof v0?[void 0]:t instanceof y0?[null]:t instanceof gc?[void 0,...Zc(t.unwrap())]:t instanceof pd?[null,...Zc(t.unwrap())]:t instanceof gL||t instanceof x0?Zc(t.unwrap()):t instanceof I0?Zc(t._def.innerType):[];class wI extends tn{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==vt.object)return ft(n,{code:Ze.invalid_type,expected:vt.object,received:n.parsedType}),Bt;const r=this.discriminator,i=n.data[r],o=this.optionsMap.get(i);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(ft(n,{code:Ze.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Bt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const o of n){const s=Zc(o.shape[e]);if(!s.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of s){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,o)}}return new wI({typeName:Ut.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Qt(r)})}}function xO(t,e){const n=Fu(t),r=Fu(e);if(t===e)return{valid:!0,data:t};if(n===vt.object&&r===vt.object){const i=hn.objectKeys(e),o=hn.objectKeys(t).filter(a=>i.indexOf(a)!==-1),s={...t,...e};for(const a of o){const c=xO(t[a],e[a]);if(!c.valid)return{valid:!1};s[a]=c.data}return{valid:!0,data:s}}else if(n===vt.array&&r===vt.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let o=0;o<t.length;o++){const s=t[o],a=e[o],c=xO(s,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===vt.date&&r===vt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class C0 extends tn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(o,s)=>{if(TO(o)||TO(s))return Bt;const a=xO(o.value,s.value);return a.valid?((IO(o)||IO(s))&&n.dirty(),{status:n.value,value:a.data}):(ft(r,{code:Ze.invalid_intersection_types}),Bt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}C0.create=(t,e,n)=>new C0({left:t,right:e,typeName:Ut.ZodIntersection,...Qt(n)});class wc extends tn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==vt.array)return ft(r,{code:Ze.invalid_type,expected:vt.array,received:r.parsedType}),Bt;if(r.data.length<this._def.items.length)return ft(r,{code:Ze.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Bt;!this._def.rest&&r.data.length>this._def.items.length&&(ft(r,{code:Ze.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((s,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new _c(r,s,r.path,a)):null}).filter(s=>!!s);return r.common.async?Promise.all(o).then(s=>Li.mergeArray(n,s)):Li.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new wc({...this._def,rest:e})}}wc.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new wc({items:t,typeName:Ut.ZodTuple,rest:null,...Qt(e)})};class _0 extends tn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==vt.object)return ft(r,{code:Ze.invalid_type,expected:vt.object,received:r.parsedType}),Bt;const i=[],o=this._def.keyType,s=this._def.valueType;for(const a in r.data)i.push({key:o._parse(new _c(r,a,r.path,a)),value:s._parse(new _c(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Li.mergeObjectAsync(n,i):Li.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof tn?new _0({keyType:e,valueType:n,typeName:Ut.ZodRecord,...Qt(r)}):new _0({keyType:Ca.create(),valueType:e,typeName:Ut.ZodRecord,...Qt(n)})}}class gE extends tn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==vt.map)return ft(r,{code:Ze.invalid_type,expected:vt.map,received:r.parsedType}),Bt;const i=this._def.keyType,o=this._def.valueType,s=[...r.data.entries()].map(([a,c],l)=>({key:i._parse(new _c(r,a,r.path,[l,"key"])),value:o._parse(new _c(r,c,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of s){const l=await c.key,d=await c.value;if(l.status==="aborted"||d.status==="aborted")return Bt;(l.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(l.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of s){const l=c.key,d=c.value;if(l.status==="aborted"||d.status==="aborted")return Bt;(l.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(l.value,d.value)}return{status:n.value,value:a}}}}gE.create=(t,e,n)=>new gE({valueType:e,keyType:t,typeName:Ut.ZodMap,...Qt(n)});class xh extends tn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==vt.set)return ft(r,{code:Ze.invalid_type,expected:vt.set,received:r.parsedType}),Bt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(ft(r,{code:Ze.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(ft(r,{code:Ze.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function s(c){const l=new Set;for(const d of c){if(d.status==="aborted")return Bt;d.status==="dirty"&&n.dirty(),l.add(d.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((c,l)=>o._parse(new _c(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>s(c)):s(a)}min(e,n){return new xh({...this._def,minSize:{value:e,message:kt.toString(n)}})}max(e,n){return new xh({...this._def,maxSize:{value:e,message:kt.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}xh.create=(t,e)=>new xh({valueType:t,minSize:null,maxSize:null,typeName:Ut.ZodSet,...Qt(e)});class Xm extends tn{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==vt.function)return ft(n,{code:Ze.invalid_type,expected:vt.function,received:n.parsedType}),Bt;function r(a,c){return fE({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,dE(),Ng].filter(l=>!!l),issueData:{code:Ze.invalid_arguments,argumentsError:c}})}function i(a,c){return fE({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,dE(),Ng].filter(l=>!!l),issueData:{code:Ze.invalid_return_type,returnTypeError:c}})}const o={errorMap:n.common.contextualErrorMap},s=n.data;if(this._def.returns instanceof Lg){const a=this;return to(async function(...c){const l=new pi([]),d=await a._def.args.parseAsync(c,o).catch(g=>{throw l.addIssue(r(c,g)),l}),p=await Reflect.apply(s,this,d);return await a._def.returns._def.type.parseAsync(p,o).catch(g=>{throw l.addIssue(i(p,g)),l})})}else{const a=this;return to(function(...c){const l=a._def.args.safeParse(c,o);if(!l.success)throw new pi([r(c,l.error)]);const d=Reflect.apply(s,this,l.data),p=a._def.returns.safeParse(d,o);if(!p.success)throw new pi([i(d,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Xm({...this._def,args:wc.create(e).rest(uh.create())})}returns(e){return new Xm({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Xm({args:e||wc.create([]).rest(uh.create()),returns:n||uh.create(),typeName:Ut.ZodFunction,...Qt(r)})}}class w0 extends tn{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}w0.create=(t,e)=>new w0({getter:t,typeName:Ut.ZodLazy,...Qt(e)});class S0 extends tn{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ft(n,{received:n.data,code:Ze.invalid_literal,expected:this._def.value}),Bt}return{status:"valid",value:e.data}}get value(){return this._def.value}}S0.create=(t,e)=>new S0({value:t,typeName:Ut.ZodLiteral,...Qt(e)});function WW(t,e){return new hd({values:t,typeName:Ut.ZodEnum,...Qt(e)})}class hd extends tn{constructor(){super(...arguments),mb.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ft(n,{expected:hn.joinValues(r),received:n.parsedType,code:Ze.invalid_type}),Bt}if(hE(this,mb)||VW(this,mb,new Set(this._def.values)),!hE(this,mb).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ft(n,{received:n.data,code:Ze.invalid_enum_value,options:r}),Bt}return to(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return hd.create(e,{...this._def,...n})}exclude(e,n=this._def){return hd.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}mb=new WeakMap;hd.create=WW;class E0 extends tn{constructor(){super(...arguments),gb.set(this,void 0)}_parse(e){const n=hn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==vt.string&&r.parsedType!==vt.number){const i=hn.objectValues(n);return ft(r,{expected:hn.joinValues(i),received:r.parsedType,code:Ze.invalid_type}),Bt}if(hE(this,gb)||VW(this,gb,new Set(hn.getValidEnumValues(this._def.values))),!hE(this,gb).has(e.data)){const i=hn.objectValues(n);return ft(r,{received:r.data,code:Ze.invalid_enum_value,options:i}),Bt}return to(e.data)}get enum(){return this._def.values}}gb=new WeakMap;E0.create=(t,e)=>new E0({values:t,typeName:Ut.ZodNativeEnum,...Qt(e)});class Lg extends tn{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==vt.promise&&n.common.async===!1)return ft(n,{code:Ze.invalid_type,expected:vt.promise,received:n.parsedType}),Bt;const r=n.parsedType===vt.promise?n.data:Promise.resolve(n.data);return to(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Lg.create=(t,e)=>new Lg({type:t,typeName:Ut.ZodPromise,...Qt(e)});class xa extends tn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ut.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:s=>{ft(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const s=i.transform(r.data,o);if(r.common.async)return Promise.resolve(s).then(async a=>{if(n.value==="aborted")return Bt;const c=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return c.status==="aborted"?Bt:c.status==="dirty"||n.value==="dirty"?Om(c.value):c});{if(n.value==="aborted")return Bt;const a=this._def.schema._parseSync({data:s,path:r.path,parent:r});return a.status==="aborted"?Bt:a.status==="dirty"||n.value==="dirty"?Om(a.value):a}}if(i.type==="refinement"){const s=a=>{const c=i.refinement(a,o);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Bt:(a.status==="dirty"&&n.dirty(),s(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Bt:(a.status==="dirty"&&n.dirty(),s(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!p0(s))return s;const a=i.transform(s.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>p0(s)?Promise.resolve(i.transform(s.value,o)).then(a=>({status:n.value,value:a})):s);hn.assertNever(i)}}xa.create=(t,e,n)=>new xa({schema:t,typeName:Ut.ZodEffects,effect:e,...Qt(n)});xa.createWithPreprocess=(t,e,n)=>new xa({schema:e,effect:{type:"preprocess",transform:t},typeName:Ut.ZodEffects,...Qt(n)});class gc extends tn{_parse(e){return this._getType(e)===vt.undefined?to(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}gc.create=(t,e)=>new gc({innerType:t,typeName:Ut.ZodOptional,...Qt(e)});class pd extends tn{_parse(e){return this._getType(e)===vt.null?to(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}pd.create=(t,e)=>new pd({innerType:t,typeName:Ut.ZodNullable,...Qt(e)});class T0 extends tn{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===vt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}T0.create=(t,e)=>new T0({innerType:t,typeName:Ut.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Qt(e)});class I0 extends tn{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return m0(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new pi(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new pi(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}I0.create=(t,e)=>new I0({innerType:t,typeName:Ut.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Qt(e)});class vE extends tn{_parse(e){if(this._getType(e)!==vt.nan){const r=this._getOrReturnCtx(e);return ft(r,{code:Ze.invalid_type,expected:vt.nan,received:r.parsedType}),Bt}return{status:"valid",value:e.data}}}vE.create=t=>new vE({typeName:Ut.ZodNaN,...Qt(t)});const jhe=Symbol("zod_brand");class gL extends tn{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class bC extends tn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Bt:o.status==="dirty"?(n.dirty(),Om(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Bt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new bC({in:e,out:n,typeName:Ut.ZodPipeline})}}class x0 extends tn{_parse(e){const n=this._def.innerType._parse(e),r=i=>(p0(i)&&(i.value=Object.freeze(i.value)),i);return m0(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}x0.create=(t,e)=>new x0({innerType:t,typeName:Ut.ZodReadonly,...Qt(e)});function KW(t,e={},n){return t?Mg.create().superRefine((r,i)=>{var o,s;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(s=(o=a.fatal)!==null&&o!==void 0?o:n)!==null&&s!==void 0?s:!0,l=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...l,fatal:c})}}):Mg.create()}const Fhe={object:cr.lazycreate};var Ut;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ut||(Ut={}));const Uhe=(t,e={message:`Input not instance of ${t.name}`})=>KW(n=>n instanceof t,e),GW=Ca.create,qW=dd.create,Bhe=vE.create,Vhe=fd.create,YW=g0.create,Hhe=Ih.create,zhe=pE.create,$he=v0.create,Whe=y0.create,Khe=Mg.create,Ghe=uh.create,qhe=Il.create,Yhe=mE.create,Qhe=Sa.create,Xhe=cr.create,Zhe=cr.strictCreate,Jhe=b0.create,epe=wI.create,tpe=C0.create,npe=wc.create,rpe=_0.create,ipe=gE.create,ope=xh.create,spe=Xm.create,ape=w0.create,cpe=S0.create,lpe=hd.create,upe=E0.create,dpe=Lg.create,p6=xa.create,fpe=gc.create,hpe=pd.create,ppe=xa.createWithPreprocess,mpe=bC.create,gpe=()=>GW().optional(),vpe=()=>qW().optional(),ype=()=>YW().optional(),bpe={string:t=>Ca.create({...t,coerce:!0}),number:t=>dd.create({...t,coerce:!0}),boolean:t=>g0.create({...t,coerce:!0}),bigint:t=>fd.create({...t,coerce:!0}),date:t=>Ih.create({...t,coerce:!0})},Cpe=Bt;var h=Object.freeze({__proto__:null,defaultErrorMap:Ng,setErrorMap:Che,getErrorMap:dE,makeIssue:fE,EMPTY_PATH:_he,addIssueToContext:ft,ParseStatus:Li,INVALID:Bt,DIRTY:Om,OK:to,isAborted:TO,isDirty:IO,isValid:p0,isAsync:m0,get util(){return hn},get objectUtil(){return EO},ZodParsedType:vt,getParsedType:Fu,ZodType:tn,datetimeRegex:$W,ZodString:Ca,ZodNumber:dd,ZodBigInt:fd,ZodBoolean:g0,ZodDate:Ih,ZodSymbol:pE,ZodUndefined:v0,ZodNull:y0,ZodAny:Mg,ZodUnknown:uh,ZodNever:Il,ZodVoid:mE,ZodArray:Sa,ZodObject:cr,ZodUnion:b0,ZodDiscriminatedUnion:wI,ZodIntersection:C0,ZodTuple:wc,ZodRecord:_0,ZodMap:gE,ZodSet:xh,ZodFunction:Xm,ZodLazy:w0,ZodLiteral:S0,ZodEnum:hd,ZodNativeEnum:E0,ZodPromise:Lg,ZodEffects:xa,ZodTransformer:xa,ZodOptional:gc,ZodNullable:pd,ZodDefault:T0,ZodCatch:I0,ZodNaN:vE,BRAND:jhe,ZodBranded:gL,ZodPipeline:bC,ZodReadonly:x0,custom:KW,Schema:tn,ZodSchema:tn,late:Fhe,get ZodFirstPartyTypeKind(){return Ut},coerce:bpe,any:Khe,array:Qhe,bigint:Vhe,boolean:YW,date:Hhe,discriminatedUnion:epe,effect:p6,enum:lpe,function:spe,instanceof:Uhe,intersection:tpe,lazy:ape,literal:cpe,map:ipe,nan:Bhe,nativeEnum:upe,never:qhe,null:Whe,nullable:hpe,number:qW,object:Xhe,oboolean:ype,onumber:vpe,optional:fpe,ostring:gpe,pipeline:mpe,preprocess:ppe,promise:dpe,record:rpe,set:ope,strictObject:Zhe,string:GW,symbol:zhe,transformer:p6,tuple:npe,undefined:$he,union:Jhe,unknown:Ghe,void:Yhe,NEVER:Cpe,ZodIssueCode:Ze,quotelessJson:bhe,ZodError:pi}),QW=Symbol.for("immer-nothing"),m6=Symbol.for("immer-draftable"),Tn=Symbol.for("immer-state");function Fs(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Dg=Object.getPrototypeOf;function jg(t){return!!t&&!!t[Tn]}function xl(t){var e;return t?XW(t)||Array.isArray(t)||!!t[m6]||!!((e=t.constructor)!=null&&e[m6])||EI(t)||TI(t):!1}var _pe=Object.prototype.constructor.toString();function XW(t){if(!t||typeof t!="object")return!1;const e=Dg(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===_pe}function A0(t,e){SI(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function SI(t){const e=t[Tn];return e?e.type_:Array.isArray(t)?1:EI(t)?2:TI(t)?3:0}function AO(t,e){return SI(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function ZW(t,e,n){const r=SI(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function wpe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function EI(t){return t instanceof Map}function TI(t){return t instanceof Set}function oi(t){return t.copy_||t.base_}function kO(t,e){if(EI(t))return new Map(t);if(TI(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=XW(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Tn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[s]})}return Object.create(Dg(t),r)}else{const r=Dg(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function vL(t,e=!1){return II(t)||jg(t)||!xl(t)||(SI(t)>1&&(t.set=t.add=t.clear=t.delete=Spe),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>vL(r,!0))),t}function Spe(){Fs(2)}function II(t){return Object.isFrozen(t)}var RO={};function Ah(t){const e=RO[t];return e||Fs(0,t),e}function Epe(t,e){RO[t]||(RO[t]=e)}var k0;function yE(){return k0}function Tpe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function g6(t,e){e&&(Ah("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function PO(t){OO(t),t.drafts_.forEach(Ipe),t.drafts_=null}function OO(t){t===k0&&(k0=t.parent_)}function v6(t){return k0=Tpe(k0,t)}function Ipe(t){const e=t[Tn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function y6(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Tn].modified_&&(PO(e),Fs(4)),xl(t)&&(t=bE(e,t),e.parent_||CE(e,t)),e.patches_&&Ah("Patches").generateReplacementPatches_(n[Tn].base_,t,e.patches_,e.inversePatches_)):t=bE(e,n,[]),PO(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==QW?t:void 0}function bE(t,e,n){if(II(e))return e;const r=e[Tn];if(!r)return A0(e,(i,o)=>b6(t,r,e,i,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return CE(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),A0(o,(a,c)=>b6(t,r,i,a,c,n,s)),CE(t,i,!1),n&&t.patches_&&Ah("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function b6(t,e,n,r,i,o,s){if(jg(i)){const a=o&&e&&e.type_!==3&&!AO(e.assigned_,r)?o.concat(r):void 0,c=bE(t,i,a);if(ZW(n,r,c),jg(c))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(xl(i)&&!II(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;bE(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&CE(t,i)}}function CE(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&vL(e,n)}function xpe(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:yE(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=yL;n&&(i=[r],o=R0);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var yL={get(t,e){if(e===Tn)return t;const n=oi(t);if(!AO(n,e))return Ape(t,n,e);const r=n[e];return t.finalized_||!xl(r)?r:r===Ik(t.base_,e)?(xk(t),t.copy_[e]=P0(r,t)):r},has(t,e){return e in oi(t)},ownKeys(t){return Reflect.ownKeys(oi(t))},set(t,e,n){const r=JW(oi(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Ik(oi(t),e),o=i==null?void 0:i[Tn];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(wpe(n,i)&&(n!==void 0||AO(t.base_,e)))return!0;xk(t),el(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Ik(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,xk(t),el(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=oi(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Fs(11)},getPrototypeOf(t){return Dg(t.base_)},setPrototypeOf(){Fs(12)}},R0={};A0(yL,(t,e)=>{R0[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});R0.deleteProperty=function(t,e){return R0.set.call(this,t,e,void 0)};R0.set=function(t,e,n){return yL.set.call(this,t[0],e,n,t[0])};function Ik(t,e){const n=t[Tn];return(n?oi(n):t)[e]}function Ape(t,e,n){var i;const r=JW(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function JW(t,e){if(!(e in t))return;let n=Dg(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Dg(n)}}function el(t){t.modified_||(t.modified_=!0,t.parent_&&el(t.parent_))}function xk(t){t.copy_||(t.copy_=kO(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var kpe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const s=this;return function(c=o,...l){return s.produce(c,d=>n.call(this,d,...l))}}typeof n!="function"&&Fs(6),r!==void 0&&typeof r!="function"&&Fs(7);let i;if(xl(e)){const o=v6(this),s=P0(e,void 0);let a=!0;try{i=n(s),a=!1}finally{a?PO(o):OO(o)}return g6(o,r),y6(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===QW&&(i=void 0),this.autoFreeze_&&vL(i,!0),r){const o=[],s=[];Ah("Patches").generateReplacementPatches_(e,i,o,s),r(o,s)}return i}else Fs(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...a)=>this.produceWithPatches(s,c=>e(c,...a));let r,i;return[this.produce(e,n,(s,a)=>{r=s,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){xl(t)||Fs(8),jg(t)&&(t=Rpe(t));const e=v6(this),n=P0(t,void 0);return n[Tn].isManual_=!0,OO(e),n}finishDraft(t,e){const n=t&&t[Tn];(!n||!n.isManual_)&&Fs(9);const{scope_:r}=n;return g6(r,e),y6(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Ah("Patches").applyPatches_;return jg(t)?r(t,e):this.produce(t,i=>r(i,e))}};function P0(t,e){const n=EI(t)?Ah("MapSet").proxyMap_(t,e):TI(t)?Ah("MapSet").proxySet_(t,e):xpe(t,e);return(e?e.scope_:yE()).drafts_.push(n),n}function Rpe(t){return jg(t)||Fs(10,t),eK(t)}function eK(t){if(!xl(t)||II(t))return t;const e=t[Tn];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=kO(t,e.scope_.immer_.useStrictShallowCopy_)}else n=kO(t,!0);return A0(n,(r,i)=>{ZW(n,r,eK(i))}),e&&(e.finalized_=!1),n}function Ppe(){class t extends Map{constructor(c,l){super(),this[Tn]={type_:2,parent_:l,scope_:l?l.scope_:yE(),modified_:!1,finalized_:!1,copy_:void 0,assigned_:void 0,base_:c,draft_:this,isManual_:!1,revoked_:!1}}get size(){return oi(this[Tn]).size}has(c){return oi(this[Tn]).has(c)}set(c,l){const d=this[Tn];return s(d),(!oi(d).has(c)||oi(d).get(c)!==l)&&(n(d),el(d),d.assigned_.set(c,!0),d.copy_.set(c,l),d.assigned_.set(c,!0)),this}delete(c){if(!this.has(c))return!1;const l=this[Tn];return s(l),n(l),el(l),l.base_.has(c)?l.assigned_.set(c,!1):l.assigned_.delete(c),l.copy_.delete(c),!0}clear(){const c=this[Tn];s(c),oi(c).size&&(n(c),el(c),c.assigned_=new Map,A0(c.base_,l=>{c.assigned_.set(l,!1)}),c.copy_.clear())}forEach(c,l){const d=this[Tn];oi(d).forEach((p,m,g)=>{c.call(l,this.get(m),m,this)})}get(c){const l=this[Tn];s(l);const d=oi(l).get(c);if(l.finalized_||!xl(d)||d!==l.base_.get(c))return d;const p=P0(d,l);return n(l),l.copy_.set(c,p),p}keys(){return oi(this[Tn]).keys()}values(){const c=this.keys();return{[Symbol.iterator]:()=>this.values(),next:()=>{const l=c.next();return l.done?l:{done:!1,value:this.get(l.value)}}}}entries(){const c=this.keys();return{[Symbol.iterator]:()=>this.entries(),next:()=>{const l=c.next();if(l.done)return l;const d=this.get(l.value);return{done:!1,value:[l.value,d]}}}}[Symbol.iterator](){return this.entries()}}function e(a,c){return new t(a,c)}function n(a){a.copy_||(a.assigned_=new Map,a.copy_=new Map(a.base_))}class r extends Set{constructor(c,l){super(),this[Tn]={type_:3,parent_:l,scope_:l?l.scope_:yE(),modified_:!1,finalized_:!1,copy_:void 0,base_:c,draft_:this,drafts_:new Map,revoked_:!1,isManual_:!1}}get size(){return oi(this[Tn]).size}has(c){const l=this[Tn];return s(l),l.copy_?!!(l.copy_.has(c)||l.drafts_.has(c)&&l.copy_.has(l.drafts_.get(c))):l.base_.has(c)}add(c){const l=this[Tn];return s(l),this.has(c)||(o(l),el(l),l.copy_.add(c)),this}delete(c){if(!this.has(c))return!1;const l=this[Tn];return s(l),o(l),el(l),l.copy_.delete(c)||(l.drafts_.has(c)?l.copy_.delete(l.drafts_.get(c)):!1)}clear(){const c=this[Tn];s(c),oi(c).size&&(o(c),el(c),c.copy_.clear())}values(){const c=this[Tn];return s(c),o(c),c.copy_.values()}entries(){const c=this[Tn];return s(c),o(c),c.copy_.entries()}keys(){return this.values()}[Symbol.iterator](){return this.values()}forEach(c,l){const d=this.values();let p=d.next();for(;!p.done;)c.call(l,p.value,p.value,this),p=d.next()}}function i(a,c){return new r(a,c)}function o(a){a.copy_||(a.copy_=new Set,a.base_.forEach(c=>{if(xl(c)){const l=P0(c,a);a.drafts_.set(c,l),a.copy_.add(l)}else a.copy_.add(c)}))}function s(a){a.revoked_&&Fs(3,JSON.stringify(oi(a)))}Epe("MapSet",{proxyMap_:e,proxySet_:i})}var ss=new kpe,Id=ss.produce;ss.produceWithPatches.bind(ss);ss.setAutoFreeze.bind(ss);ss.setUseStrictShallowCopy.bind(ss);ss.applyPatches.bind(ss);ss.createDraft.bind(ss);ss.finishDraft.bind(ss);function bL(t){const e=se(t,(n,r,i)=>r(e,Id(n(e),typeof i=="function"?i:()=>i)));return e}function xd(t,e){const n=We(t);return b.useCallback(r=>n(Id(r)),[n])}function Ope(t,e){return[oe(t),xd(t)]}const xI={},Npe=Symbol((xI?"production":void 0)!=="production"?"RESET":"");function G$e(t,e){let n=null;const r=new Map,i=new Set,o=a=>{let c;if(e===void 0)c=r.get(a);else for(const[d,p]of r)if(e(d,a)){c=p;break}if(c!==void 0)if(n!=null&&n(c[1],a))o.remove(a);else return c[0];const l=t(a);return r.set(a,[l,Date.now()]),s("CREATE",a,l),l};function s(a,c,l){for(const d of i)d({type:a,param:c,atom:l})}return o.unstable_listen=a=>(i.add(a),()=>{i.delete(a)}),o.getParams=()=>r.keys(),o.remove=a=>{{if(!r.has(a))return;const[c]=r.get(a);r.delete(a),s("REMOVE",a,c)}},o.setShouldRemove=a=>{if(n=a,!!n)for(const[c,[l,d]]of r)n(d,c)&&(r.delete(c),s("REMOVE",c,l))},o}const Ak=(t,e,n)=>(e.has(n)?e:e.set(n,t())).get(n),Mpe=new WeakMap,Lpe=(t,e,n,r)=>{const i=Ak(()=>new WeakMap,Mpe,e),o=Ak(()=>new WeakMap,i,n);return Ak(t,o,r)};function tK(t,e,n=Object.is){return Lpe(()=>{const r=Symbol(),i=([s,a])=>{if(a===r)return e(s);const c=e(s,a);return n(a,c)?a:c},o=se(s=>{const a=s(o),c=s(t);return i([c,a])});return o.init=r,o},t,e,n)}const C6=(t,e,n)=>(e.has(n)?e:e.set(n,t())).get(n),Dpe=new WeakMap,jpe=(t,e,n)=>{const r=C6(()=>new WeakMap,Dpe,e);return C6(t,r,n)},Fpe={},_6=t=>!!t.write,Upe=t=>typeof t=="function";function q$e(t,e){return jpe(()=>{const n=new WeakMap,r=(s,a)=>{let c=n.get(s);if(c)return c;const l=a&&n.get(a),d=[],p=[];return s.forEach((m,g)=>{const C=g;p[g]=C;const _=l&&l.atomList[l.keyList.indexOf(C)];if(_){d[g]=_;return}const S=T=>{const I=T(i),A=T(t),R=r(A,I==null?void 0:I.arr).keyList.indexOf(C);if(R<0||R>=A.length){const M=s[r(s).keyList.indexOf(C)];if(M)return M;throw new Error("splitAtom: index out of bounds for read")}return A[R]},w=(T,I,A)=>{const k=T(i),R=T(t),P=r(R,k==null?void 0:k.arr).keyList.indexOf(C);if(P<0||P>=R.length)throw new Error("splitAtom: index out of bounds for write");const N=Upe(A)?A(R[P]):A;Object.is(R[P],N)||I(t,[...R.slice(0,P),N,...R.slice(P+1)])};d[g]=_6(t)?se(S,w):se(S)}),l&&l.keyList.length===p.length&&l.keyList.every((m,g)=>m===p[g])?c=l:c={arr:s,atomList:d,keyList:p},n.set(s,c),c},i=se(s=>{const a=s(i),c=s(t);return r(c,a==null?void 0:a.arr)});(xI?"production":void 0)!=="production"&&(i.debugPrivate=!0),i.init=void 0;const o=_6(t)?se(s=>s(i).atomList,(s,a,c)=>{switch(c.type){case"remove":{const l=s(o).indexOf(c.atom);if(l>=0){const d=s(t);a(t,[...d.slice(0,l),...d.slice(l+1)])}break}case"insert":{const l=c.before?s(o).indexOf(c.before):s(o).length;if(l>=0){const d=s(t);a(t,[...d.slice(0,l),c.value,...d.slice(l)])}break}case"move":{const l=s(o).indexOf(c.atom),d=c.before?s(o).indexOf(c.before):s(o).length;if(l>=0&&d>=0){const p=s(t);l<d?a(t,[...p.slice(0,l),...p.slice(l+1,d),p[l],...p.slice(d)]):a(t,[...p.slice(0,d),p[l],...p.slice(d,l),...p.slice(l+1)])}break}}}):se(s=>s(i).atomList);return o},t,Fpe)}const Bpe=t=>typeof(t==null?void 0:t.then)=="function";function Vpe(t=()=>{try{return window.localStorage}catch(n){(xI?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(n);return}},e){var n;let r,i;const o={getItem:(c,l)=>{var d,p;const m=C=>{if(C=C||"",r!==C){try{i=JSON.parse(C,e==null?void 0:e.reviver)}catch{return l}r=C}return i},g=(p=(d=t())==null?void 0:d.getItem(c))!=null?p:null;return Bpe(g)?g.then(m):m(g)},setItem:(c,l)=>{var d;return(d=t())==null?void 0:d.setItem(c,JSON.stringify(l,void 0))},removeItem:c=>{var l;return(l=t())==null?void 0:l.removeItem(c)}},s=c=>(l,d,p)=>c(l,m=>{let g;try{g=JSON.parse(m||"")}catch{g=p}d(g)});let a;try{a=(n=t())==null?void 0:n.subscribe}catch{}return!a&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(a=(c,l)=>{if(!(t()instanceof window.Storage))return()=>{};const d=p=>{p.storageArea===t()&&p.key===c&&l(p.newValue)};return window.addEventListener("storage",d),()=>{window.removeEventListener("storage",d)}}),a&&(o.subscribe=s(a)),o}const Hpe=Vpe();function zpe(t,e,n=Hpe,r){const i=r==null?void 0:r.getOnInit,o=se(i?n.getItem(t,e):e);return(xI?"production":void 0)!=="production"&&(o.debugPrivate=!0),o.onMount=a=>{a(n.getItem(t,e));let c;return n.subscribe&&(c=n.subscribe(t,a,e)),c},se(a=>a(o),(a,c,l)=>{const d=typeof l=="function"?l(a(o)):l;return d===Npe?(c(o,e),n.removeItem(t)):d instanceof Promise?d.then(p=>(c(o,p),n.setItem(t,p))):(c(o,d),n.setItem(t,d))})}const CC={Namibia:"NA","South Africa":"ZA",Cameroon:"CM",Japan:"JP",Ghana:"GH",Ethiopia:"ET","United States":"US","United Arab Emirates":"AE",Bahrain:"BH",Djibouti:"DJ",Algeria:"DZ",Egypt:"EG","Western Sahara":"EH",Eritrea:"ER",Israel:"IL",Iraq:"IQ",Jordan:"JO",Comoros:"KM",Kuwait:"KW",Lebanon:"LB",Libya:"LY",Morocco:"MA",Mauritania:"MR",Oman:"OM","Palestinian Territories":"PS",Qatar:"QA","Saudi Arabia":"SA",Sudan:"SD",Somalia:"SO","South Sudan":"SS",Syria:"SY",Chad:"TD",Tunisia:"TN",Yemen:"YE",Chile:"CL",India:"IN",Tanzania:"TZ",Spain:"ES",Azerbaijan:"AZ",Russia:"RU",Belarus:"BY",Zambia:"ZM",Bulgaria:"BG",Mali:"ML",Bangladesh:"BD","China mainland":"CN",France:"FR","Bosnia & Herzegovina":"BA",Andorra:"AD",Italy:"IT",Philippines:"PH",Uganda:"UG",Iran:"IR",Czechia:"CZ","United Kingdom":"GB",Denmark:"DK",Greenland:"GL",Kenya:"KE",Austria:"AT",Belgium:"BE",Switzerland:"CH",Germany:"DE",Liechtenstein:"LI",Luxembourg:"LU",Niger:"NE",Maldives:"MV",Senegal:"SN",Bhutan:"BT",Togo:"TG",Cyprus:"CY",Greece:"GR","Antigua & Barbuda":"AG",Anguilla:"AI",Albania:"AL",Argentina:"AR","American Samoa":"AS",Australia:"AU",Barbados:"BB",Burundi:"BI",Bermuda:"BM",Brunei:"BN",Brazil:"BR",Bahamas:"BS",Botswana:"BW",Belize:"BZ",Canada:"CA","Cocos (Keeling) Islands":"CC","Cook Islands":"CK",Colombia:"CO","Cape Verde":"CV","Christmas Island":"CX","Diego Garcia":"DG",Dominica:"DM",Estonia:"EE",Finland:"FI",Fiji:"FJ","Falkland Islands":"FK",Micronesia:"FM",Grenada:"GD",Guernsey:"GG",Gibraltar:"GI",Gambia:"GM",Guam:"GU",Guyana:"GY","Hong Kong":"HK",Hungary:"HU",Indonesia:"ID",Ireland:"IE","Isle of Man":"IM","Chagos Archipelago":"IO",Jersey:"JE",Jamaica:"JM",Kiribati:"KI","St. Kitts & Nevis":"KN","South Korea":"KR","Cayman Islands":"KY","St. Lucia":"LC",Liberia:"LR",Lesotho:"LS",Lithuania:"LT",Latvia:"LV",Madagascar:"MG","Marshall Islands":"MH","Myanmar (Burma)":"MM",Macao:"MO","Northern Mariana Islands":"MP",Montserrat:"MS",Malta:"MT",Mauritius:"MU",Malawi:"MW",Mexico:"MX",Malaysia:"MY","Norfolk Island":"NF",Nigeria:"NG",Netherlands:"NL",Norway:"NO",Nauru:"NR",Niue:"NU","New Zealand":"NZ","Papua New Guinea":"PG",Pakistan:"PK",Poland:"PL","Pitcairn Islands":"PN","Puerto Rico":"PR",Portugal:"PT",Palau:"PW",Rwanda:"RW","Solomon Islands":"SB",Seychelles:"SC",Sweden:"SE",Singapore:"SG","St. Helena":"SH",Slovenia:"SI",Slovakia:"SK","Sierra Leone":"SL","Sint Maarten":"SX",Eswatini:"SZ","Turks & Caicos Islands":"TC",Thailand:"TH",Tokelau:"TK",Tonga:"TO",Türkiye:"TR","Trinidad & Tobago":"TT",Tuvalu:"TV",Taiwan:"TW",Ukraine:"UA","U.S. Outlying Islands":"UM","St. Vincent & Grenadines":"VC","British Virgin Islands":"VG","U.S. Virgin Islands":"VI",Vanuatu:"VU",Samoa:"WS",Zimbabwe:"ZW",Bolivia:"BO","Caribbean Netherlands":"BQ","Costa Rica":"CR",Cuba:"CU",Curaçao:"CW","Dominican Republic":"DO","Ceuta & Melilla":"EA",Ecuador:"EC","Equatorial Guinea":"GQ",Guatemala:"GT",Honduras:"HN",Haiti:"HT","Canary Islands":"IC",Nicaragua:"NI",Panama:"PA",Peru:"PE",Paraguay:"PY","El Salvador":"SV",Uruguay:"UY",Venezuela:"VE",Afghanistan:"AF","Burkina Faso":"BF",Guinea:"GN","Guinea-Bissau":"GW","Faroe Islands":"FO",Benin:"BJ","St. Barthélemy":"BL","Congo - Kinshasa":"CD","Central African Republic":"CF","Congo - Brazzaville":"CG","Côte d'Ivoire":"CI",Gabon:"GA","French Guiana":"GF",Guadeloupe:"GP",Monaco:"MC","St. Martin":"MF",Martinique:"MQ","New Caledonia":"NC","French Polynesia":"PF","St. Pierre & Miquelon":"PM",Réunion:"RE","Wallis & Futuna":"WF",Mayotte:"YT",Croatia:"HR",Armenia:"AM",Iceland:"IS","San Marino":"SM","Vatican City":"VA",Georgia:"GE",Kazakhstan:"KZ",Cambodia:"KH","North Korea":"KP",Kyrgyzstan:"KG",Angola:"AO",Laos:"LA",Mozambique:"MZ","North Macedonia":"MK",Mongolia:"MN","Svalbard & Jan Mayen":"SJ",Nepal:"NP",Aruba:"AW",Suriname:"SR","São Tomé & Príncipe":"ST","Timor-Leste":"TL",Moldova:"MD",Romania:"RO","Sri Lanka":"LK",Kosovo:"XK",Montenegro:"ME",Serbia:"RS","Åland Islands":"AX",Tajikistan:"TJ",Turkmenistan:"TM",Uzbekistan:"UZ",Vietnam:"VN"},nK=["blowing-dust","blowing-sand","blowing-snow","clear","clear-occasional-rain-or-thunderstorms","clear-then-cloudy","clear-then-occasional-rain","clear-then-occasional-snow","clear-then-rain","clear-then-rain-or-snow","clear-then-rain-or-thunderstorms","clear-then-snow","clear-then-snow-or-rain","clear-then-thunderstorms","clear-with-isolated-snow","clear-with-isolated-thunderstorms","clear-with-occasional-clouds","clear-with-occasional-rain","clear-with-occasional-rain-or-snow","clear-with-occasional-snow","clear-with-occasional-snow-or-rain","cloudy","cloudy-and-occasionally-clear","cloudy-occasional-rain-or-thunderstorms","cloudy-then-clear","cloudy-then-occasional-rain","cloudy-then-occasional-snow","cloudy-then-occasionally-clear","cloudy-then-rain","cloudy-then-rain-or-snow","cloudy-then-rain-or-thunderstorms","cloudy-then-snow","cloudy-then-snow-or-rain","cloudy-with-isolated-rain","cloudy-with-occasional-rain","cloudy-with-occasional-rain-or-snow","cloudy-with-occasional-snow","cloudy-with-occasional-snow-or-rain","cloudy-with-thundersnow-at-times","drifting-sand","drifting-snow","drizzle","duststorm","fair","fog","freezing-drizzle","freezing-fog","freezing-rain","hail","haze","heavy-drizzle","heavy-rain","heavy-snow","heavy-thunderstorms","ice-pellets","light-drizzle","light-fog","light-freezing-drizzle","light-freezing-rain","light-hail","light-rain","light-rain-and-snow","light-rain-and-snow-shower","light-rain-shower","light-snow","light-snow-shower","mostly-clear","mostly-cloudy","mostly-sunny","partly-cloudy","partly-sunny","patchy-fog","rain","rain-and-occasionally-clear","rain-and-occasionally-cloudy","rain-and-snow","rain-and-snow-shower","rain-or-snow","rain-or-snow-then-clear","rain-or-snow-then-cloudy","rain-showers","rain-then-clear","rain-then-cloudy","rain-then-occasional-snow","rain-turning-to-snow","rain-with-occasional-snow","severe-duststorm","sleet","smoke","snow","snow-and-occasionally-clear","snow-and-occasionally-cloudy","snow-or-rain","snow-or-rain-then-clear","snow-or-rain-then-cloudy","snow-showers","snow-then-clear","snow-then-cloudy","snow-then-rain","squalls","sunny","thundersnow","thunderstorms","unknown","windy-rainstorm","windy-with-heavy-snow"],$pe=["adult","teen"],Wpe=["twenty-four-hours","one-day","five-days","one-week","one-month","one-year","five-years","max"],Kpe=["pro","m365-basic","m365-personal-classic","m365-family-classic","m365-personal","m365-family-admin","m365-family-guest","m365-premium-admin","m365-premium-guest"],Gpe=["direct","apple","google","retail"],qpe=["guest","free","m365-personal","pro","m365-premium"],Ype=["python"],Qpe=5,Xpe=10240,Y$e=100,Zpe=15e3,Ka=8,Un={mediaViewer:"z-10",composer:"z-10",composerBottomSlot:"z-20",composerCoachmark:"z-30",chatScrollToBottomButton:"z-10",babylonCharacter:"z-10",citations:"z-20",settings:"z-30",modalBackground:"z-30",modal:"z-40",sidebar:"z-40",toastNotification:"z-50",dropdownMenuOverModal:"z-50",pages:{warning:"z-10",chat:"z-20"},shopping:{navigation:"z-10"},headerIcon:"z-30",default:"z-0"},zs={default:.15,slow:.5,composerButton:.2,settings:.1,audio:{available:.5,unavailable:2,deepLinkLanding:.5},suggestions:.2,dailyBriefing:{background:.5,sourcePopoverScale:.2,sourcePopoverOpacity:.15}},Q$e=.25,X$e=2,Z$e=0,Jpe=1.5,J$e=2e3,eme=.25,Vt={opacity:0},Rn={opacity:1},tme=.2,nme=.025,eWe={initial:Vt,animate:{...Rn,transition:{delayChildren:tme,staggerChildren:nme}}},tWe={initial:Vt,animate:Rn},rK={willChange:"auto"},_E="9188040d-6c67-4c5b-b112-36a304b66dad",kk="copilot.cloud.microsoft",nWe=fe("mt-px text-end uppercase text-foreground-450 text-2xs dark:text-foreground-600"),rWe="flex items-center justify-between text-start",rme=["Austria","Belgium","Brazil","Bulgaria","Canada","Croatia","Cyprus","Czechia","Denmark","Estonia","Finland","France","Germany","Greece","Hungary","Iceland","Ireland","Italy","Latvia","Liechtenstein","Lithuania","Luxembourg","Malta","Netherlands","Norway","China mainland","Poland","Portugal","Romania","Slovakia","Slovenia","Spain","Sweden","Switzerland","Türkiye","United Kingdom"],AI=rme.map(t=>CC[t]),ime=["Austria","Belgium","Bulgaria","Croatia","Cyprus","Czechia","Denmark","Estonia","Finland","France","Germany","Greece","Hungary","Ireland","Italy","Latvia","Lithuania","Luxembourg","Malta","Netherlands","Poland","Portugal","Romania","Slovakia","Slovenia","Spain","Sweden"],ome=ime.map(t=>CC[t]),sme=["Belarus","China mainland","Lebanon","Macao","Russia","Venezuela","North Korea","Cuba","Syria","Iran"],ame=sme.map(t=>CC[t]),cme="https://account.live.com/ep",lme="Think Deeper",iWe=1500,wE=24*60*60*1e3,ume=5,iK=451,dme="Not allowed child account",CL="LEGALLY_UNAVAILABLE_STATUS",NO=3,Rk=[80,100,110,125,150],kI=100,fme=1e3,hme=!1;async function pme(t){return new Promise(e=>{let n=!1;t.catch(r=>{r instanceof Error?(n=!0,e(`Type: ${r.name}, Message: ${r.message}, Stack: ${r.stack}`)):(n=!0,e(`Type: ${typeof r}, Value: ${JSON.stringify(r)}`))}),setTimeout(()=>{n||e("Promise.catch wasn't called. The Promise is not rejected.")},1e3)})}var mme="function",_L="object",wL="undefined",Lb="prototype",SL=Object,gme=SL[Lb];/*! https://github.com/nevware21/ts-utils v0.11.5 */function jl(t,e){return t||e}function oo(t,e){return t[e]}var Qo=void 0,qr=null,EL="",RI="function",_C="object",ml="prototype",MO="__proto__",Gf="undefined",SE="constructor",TL="Symbol",vme="_polyfill",dh="length",EE="name",vi="call",PI="toString",Ys=jl(Object),IL=oo(Ys,ml),oK=jl(String),np=oo(oK,ml),yme=jl(Math),sK=jl(Array),aK=oo(sK,ml),Al=oo(aK,"slice");function yi(t,e){try{return{v:t.apply(this,e)}}catch(n){return{e:n}}}function bme(t,e){var n=yi(t);return n.e?e:n.v}var Pk;function OI(t){return function(e){return typeof e===t}}function cK(t){var e="[object "+t+"]";return function(n){return!!(n&&Cme(n)===e)}}function Cme(t){return IL[PI].call(t)}function $n(t){return typeof t===Gf||t===Gf}function _me(t){return!xL(t)}function Mn(t){return t===qr||$n(t)}function wme(t){return t===qr||!xL(t)}function xL(t){return!!t||t!==Qo}function Sme(t){return!Pk&&(Pk=["string","number","boolean",Gf,"symbol","bigint"]),t!==_C&&Pk.indexOf(t)!==-1}var Di=OI("string"),Bn=OI(RI);function Fg(t){return!t&&Mn(t)?!1:!!t&&typeof t===_C}var un=oo(sK,"isArray"),Eme=cK("Date"),md=OI("number"),kh=OI("boolean"),Tme=cK("Error");function Ug(t){return!!(t&&t.then&&Bn(t.then))}function w6(t){return!(!t||bme(function(){return!(t&&0+t)},!t))}var AL=oo(Ys,"getOwnPropertyDescriptor");function $s(t,e){return!!t&&IL.hasOwnProperty[vi](t,e)}var Zm=jl(oo(Ys,"hasOwn"),Ime);function Ime(t,e){return $s(t,e)||!!AL(t,e)}function Hn(t,e,n){if(t&&Fg(t)){for(var r in t)if(Zm(t,r)&&e[vi](t,r,t[r])===-1)break}}var Cw={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function lK(t){var e={};if(e[Cw.c]=!0,e[Cw.e]=!0,t.l){e.get=function(){return t.l.v};var n=AL(t.l,"v");n&&n.set&&(e.set=function(r){t.l.v=r})}return Hn(t,function(r,i){e[Cw[r]]=_me(i)?e[Cw[r]]:i}),e}var kl=oo(Ys,"defineProperty"),xme=oo(Ys,"defineProperties");function rr(t,e,n){return kl(t,e,lK(n))}function uK(t,e){var n={};return Hn(e,function(r,i){n[r]=lK(i)}),xme(t,n)}function dK(t,e,n,r,i){var o={};return Hn(t,function(s,a){TE(o,s,e?a:s),TE(o,a,s)}),r?r(o):o}function TE(t,e,n,r){kl(t,e,{value:n,enumerable:!0,writable:!1})}var _a=jl(oK),Ame="[object Error]";function wn(t,e){var n=EL,r=IL[PI][vi](t);r===Ame&&(t={stack:_a(t.stack),message:_a(t.message),name:_a(t.name)});try{n=JSON.stringify(t,qr,e?typeof e=="number"?e:4:Qo),n=(n?n.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):qr)||_a(t)}catch(i){n=" - "+wn(i,e)}return r+": "+n}function Os(t){throw new Error(t)}function Qs(t){throw new TypeError(t)}var fK=oo(Ys,"freeze");function kme(t){return t}function Rme(t){return t[MO]||qr}var S6=oo(Ys,"assign"),gl=oo(Ys,"keys");function yv(t){return fK&&Hn(t,function(e,n){(un(n)||Fg(n))&&yv(n)}),Rh(t)}var Rh=jl(fK,kme),LO=jl(oo(Ys,"getPrototypeOf"),Rme);function Pme(t){return dK(t,1,0,Rh)}function Ome(t){return dK(t,0,0,Rh)}function Nme(t){var e={};return Hn(t,function(n,r){TE(e,n,r[1]),TE(e,r[0],r[1])}),Rh(e)}function Mme(t){return Nme(t)}var hK=Ome({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),E6="__tsUtils$gblCfg",Ok;function pK(){var t;return typeof globalThis!==Gf&&(t=globalThis),!t&&typeof self!==Gf&&(t=self),!t&&typeof window!==Gf&&(t=window),!t&&typeof global!==Gf&&(t=global),t}function mK(){if(!Ok){var t=yi(pK).v||{};Ok=t[E6]=t[E6]||{}}return Ok}var NI=wC;function wC(t,e,n){var r=e?e[t]:qr;return function(i){var o=(i?i[t]:qr)||r;if(o||n){var s=arguments;return(o||n).apply(i,o?Al[vi](s,1):s)}Qs('"'+_a(t)+'" not defined for '+wn(i))}}function Lme(t){return function(e){return e[t]}}var Dme=oo(yme,"max"),T6=NI("slice",np),ic=NI("substring",np),dm=wC("substr",np,jme);function jme(t,e,n){return Mn(t)&&Qs("Invalid "+wn(t)),n<0?EL:(e=e||0,e<0&&(e=Dme(e+t[dh],0)),$n(n)?T6(t,e):T6(t,e,e+n))}function kL(t,e){return ic(t,0,e)}var I6="_urid",Nk;function Fme(){if(!Nk){var t=mK();Nk=t.gblSym=t.gblSym||{k:{},s:{}}}return Nk}var _w;function RL(t){var e={description:_a(t),toString:function(){return TL+"("+t+")"}};return e[vme]=!0,e}function Ume(t){var e=Fme();if(!Zm(e.k,t)){var n=RL(t),r=gl(e.s).length;n[I6]=function(){return r+"_"+n[PI]()},e.k[t]=n,e.s[n[I6]()]=_a(t)}return e.k[t]}function Bme(t){!_w&&(_w={});var e,n=hK[t];return n&&(e=_w[n]=_w[n]||RL(TL+"."+n)),e}var jr;function Ad(){jr=mK()}function Vme(t){var e={};return!jr&&Ad(),e.b=jr.lzy,kl(e,"v",{configurable:!0,get:function(){var n=t();return jr.lzy||kl(e,"v",{value:n}),e.b=jr.lzy,n}}),e}function Xs(t){return kl({toJSON:function(){return t}},"v",{value:t})}var gK="window",Db;function MI(t,e){var n;return function(){return!jr&&Ad(),(!n||jr.lzy)&&(n=Xs(yi(t,e).v)),n.v}}function bv(t){return!jr&&Ad(),(!Db||t===!1||jr.lzy)&&(Db=Xs(yi(pK).v||qr)),Db.v}function Fr(t,e){var n;if(!Db||e===!1?n=bv(e):n=Db.v,n&&n[t])return n[t];if(t===gK)try{return window}catch{}return qr}function vK(){return!!Rl()}var Rl=MI(Fr,["document"]);function Hme(){return!!kd()}var kd=MI(Fr,[gK]);function zme(){return!!Fl()}var Fl=MI(Fr,["navigator"]),$me=MI(function(){return!!yi(function(){return process&&(process.versions||{}).node}).v}),Bg,Mk;function LI(){return Bg=Xs(yi(Fr,[TL]).v),Bg}function Wme(t){var e=(jr.lzy?0:Bg)||LI();return e.v?e.v[t]:Qo}function Kme(){return!!Gme()}function Gme(){return!jr&&Ad(),((jr.lzy?0:Bg)||LI()).v}function PL(t,e){var n=hK[t];!jr&&Ad();var r=(jr.lzy?0:Bg)||LI();return r.v?r.v[n||t]:Bme(t)}function By(t,e){!jr&&Ad();var n=(jr.lzy?0:Bg)||LI();return n.v?n.v(t):RL(t)}function OL(t){return!jr&&Ad(),Mk=(jr.lzy?0:Mk)||Xs(yi(Wme,["for"]).v),(Mk.v||Ume)(t)}function DO(t){return!!t&&Bn(t.next)}function yK(t){return!wme(t)&&Bn(t[PL(3)])}var ww;function NL(t,e,n){if(t&&(DO(t)||(!ww&&(ww=Xs(PL(3))),t=t[ww.v]?t[ww.v]():qr),DO(t))){var r=Qo,i=Qo;try{for(var o=0;!(i=t.next()).done&&e[vi](n||t,i.value,o,t)!==-1;)o++}catch(s){r={e:s},t.throw&&(i=qr,t.throw(r))}finally{try{i&&!i.done&&t.return&&t.return(i)}finally{if(r)throw r.e}}}}function Nm(t,e,n){return t.apply(e,n)}function Qu(t,e){return!$n(e)&&t&&(un(e)?Nm(t.push,t,e):DO(e)||yK(e)?NL(e,function(n){t.push(n)}):t.push(e)),t}function xt(t,e,n){if(t)for(var r=t[dh]>>>0,i=0;i<r&&!(i in t&&e[vi](t,t[i],i,t)===-1);i++);}var Ws=NI("indexOf",aK);function DI(t,e,n){return((t?t.slice:qr)||Al).apply(t,Al[vi](arguments,1))}var gd=jl(oo(Ys,"create"),qme);function qme(t){if(!t)return{};var e=typeof t;e!==_C&&e!==RI&&Qs("Prototype must be an Object or function: "+wn(t));function n(){}return n[ml]=t,new n}var Lk;function bK(t,e){var n=Ys.setPrototypeOf||function(r,i){var o;!Lk&&(Lk=Xs((o={},o[MO]=[],o instanceof Array))),Lk.v?r[MO]=i:Hn(i,function(s,a){return r[s]=a})};return n(t,e)}function Yme(t,e,n){yi(rr,[e,EE,{v:t,c:!0,e:!1}]),e=bK(e,n);function r(){this[SE]=e,yi(rr,[this,EE,{v:t,c:!0,e:!1}])}return e[ml]=n===qr?gd(n):(r[ml]=n[ml],new r),e}function x6(t,e){e&&(t[EE]=e)}function Qme(t,e,n){var r=Error,i=r[ml][EE],o=Error.captureStackTrace;return Yme(t,function(){var s=this,a=arguments;try{yi(x6,[r,t]);var c=Nm(r,s,Al[vi](a))||s;if(c!==s){var l=LO(s);l!==LO(c)&&bK(c,l)}return o&&o(c,s[SE]),e&&e(c,a),c}finally{yi(x6,[r,i])}},r)}function vd(){return(Date.now||Xme)()}function Xme(){return new Date().getTime()}function Zme(t){return function(n){return Mn(n)&&Qs("strTrim called ["+wn(n)+"]"),n&&n.replace&&(n=n.replace(t,EL)),n}}var Jme=Zme(/^\s+|(?=\s)\s+$/g),Io=wC("trim",np,Jme),Dk,jk,Fk;function wa(t){if(!t||typeof t!==_C)return!1;Fk||(Fk=Hme()?kd():!0);var e=!1;if(t!==Fk){jk||(Dk=Function[ml][PI],jk=Dk[vi](Ys));try{var n=LO(t);e=!n,e||($s(n,SE)&&(n=n[SE]),e=!!(n&&typeof n===RI&&Dk[vi](n)===jk))}catch{}}return e}function ege(t){return t.value&&_K(t),!0}var A6=[ige,_K,sge,oge];function tge(t,e,n,r){var i;return xt(t,function(o){if(o.k===e)return i=o,-1}),i||(i={k:e,v:e},t.push(i),r(i)),i.v}function ML(t,e,n,r){var i=n.handler,o=n.path?r?n.path.concat(r):n.path:[],s={handler:n.handler,src:n.src,path:o},a=typeof e,c=!1,l=e===qr;l||(e&&a===_C?c=wa(e):l=Sme(a));var d={type:a,isPrim:l,isPlain:c,value:e,result:e,path:o,origin:n.src,copy:function(p,m){return ML(t,p,m?s:n,m)},copyTo:function(p,m){return CK(t,p,m,s)}};return d.isPrim?i&&i[vi](n,d)?d.result:e:tge(t,e,o,function(p){rr(d,"result",{g:function(){return p.v},s:function(C){p.v=C}});for(var m=0,g=i;!(g||(m<A6.length?A6[m++]:ege))[vi](n,d);)g=qr})}function CK(t,e,n,r){if(!Mn(n))for(var i in n)e[i]=ML(t,n[i],r,i);return e}function nge(t,e,n){var r={handler:n,src:e,path:[]};return CK([],t,e,r)}function rge(t,e){var n={handler:e,src:t};return ML([],t,n)}function ige(t){var e=t.value;if(un(e)){var n=t.result=[];return n.length=e.length,t.copyTo(n,e),!0}return!1}function oge(t){var e=t.value;return Eme(e)?(t.result=new Date(e.getTime()),!0):!1}function sge(t){return t.type===RI}function _K(t){var e=t.value;if(e&&t.isPlain){var n=t.result={};return t.copyTo(n,e),!0}return!1}function age(t,e){return xt(e,function(n){nge(t,n)}),t}function k6(t,e,n,r,i,o,s){return age(rge(t)||{},Al[vi](arguments))}var cge=Lme(dh),Uk;function lge(){return!jr&&Ad(),(!Uk||jr.lzy)&&(Uk=Xs(yi(Fr,["performance"]).v)),Uk.v}function uge(){var t=lge();return t&&t.now?t.now():vd()}var dge=wC("endsWith",np,fge);function fge(t,e,n){Di(t)||Qs("'"+wn(t)+"' is not a string");var r=Di(e)?e:_a(e),i=!$n(n)&&n<t[dh]?n:t[dh];return ic(t,i-r[dh],i)===r}var jI=NI("indexOf",np),R6=wC("startsWith",np,hge);function hge(t,e,n){Di(t)||Qs("'"+wn(t)+"' is not a string");var r=Di(e)?e:_a(e),i=n>0?n:0;return ic(t,i,i+r[dh])===r}var Bk="ref",Vk="unref",Hk="hasRef",pge="enabled";function mge(t,e,n){var r=!0,i=t?e(qr):qr,o;function s(){return r=!1,i&&i[Vk]&&i[Vk](),o}function a(){i&&n(i),i=qr}function c(){return i=e(i),r||s(),o}function l(d){!d&&i&&a(),d&&!i&&c()}return o={cancel:a,refresh:c},o[Hk]=function(){return i&&i[Hk]?i[Hk]():r},o[Bk]=function(){return r=!0,i&&i[Bk]&&i[Bk](),o},o[Vk]=s,o=kl(o,pge,{get:function(){return!!i},set:l}),{h:o,dn:function(){i=qr}}}function LL(t,e,n){var r=un(e),i=r?e.length:0,o=(i>0?e[0]:r?Qo:e)||setTimeout,s=(i>1?e[1]:Qo)||clearTimeout,a=n[0];n[0]=function(){c.dn(),Nm(a,Qo,Al[vi](arguments))};var c=mge(t,function(l){if(l){if(l.refresh)return l.refresh(),l;Nm(s,Qo,[l])}return Nm(o,Qo,n)},function(l){Nm(s,Qo,[l])});return c.h}function Ph(t,e){return LL(!0,Qo,Al[vi](arguments))}function gge(t,e,n){return LL(!0,t,Al[vi](arguments,1))}function vge(t,e){return LL(!1,Qo,Al[vi](arguments))}(bv()||{}).Symbol;(bv()||{}).Reflect;var yge="hasOwnProperty",jO=function(t,e){return jO=SL.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r[yge](i)&&(n[i]=r[i])},jO(t,e)};function SC(t,e){typeof e!==mme&&e!==null&&Qs("Class extends value "+String(e)+" is not a constructor or null"),jO(t,e);function n(){this.constructor=t}t[Lb]=e===null?gd(e):(n[Lb]=e[Lb],new n)}function P6(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}var Sw,IE="constructor",Pl="prototype",xE="function",AE="_dynInstFuncs",FO="_isDynProxy",Jm="_dynClass",bge="_dynCls$",UO="_dynInstChk",O0=UO,wK="_dfOpts",O6="_unknown_",DL="__proto__",Ew="_dyn"+DL,N6="__dynProto$Gbl",zk="_dynInstProto",_S="useBaseInst",BO="setInstFuncs",jL=Object,N0=jL.getPrototypeOf,M6=jL.getOwnPropertyNames,L6=bv(),VO=L6[N6]||(L6[N6]={o:(Sw={},Sw[BO]=!0,Sw[_S]=!0,Sw),n:1e3});function wS(t){return t&&(t===jL[Pl]||t===Array[Pl])}function FL(t){return wS(t)||t===Function[Pl]}function Oh(t){var e;if(t){if(N0)return N0(t);var n=t[DL]||t[Pl]||(t[IE]?t[IE][Pl]:null);e=t[Ew]||n,$s(t,Ew)||(delete t[zk],e=t[Ew]=t[zk]||t[Ew],t[zk]=n)}return e}function kE(t,e){var n=[];if(M6)n=M6(t);else for(var r in t)typeof r=="string"&&$s(t,r)&&n.push(r);if(n&&n.length>0)for(var i=0;i<n.length;i++)e(n[i])}function UL(t,e,n){return e!==IE&&typeof t[e]===xE&&(n||$s(t,e))&&e!==DL&&e!==Pl}function RE(t){Qs("DynamicProto: "+t)}function Cge(t){var e=gd(null);return kE(t,function(n){!e[n]&&UL(t,n,!1)&&(e[n]=t[n])}),e}function BL(t,e){for(var n=t.length-1;n>=0;n--)if(t[n]===e)return!0;return!1}function _ge(t,e,n,r){function i(c,l,d){var p=l[d];if(p[FO]&&r){var m=c[AE]||{};m[O0]!==!1&&(p=(m[l[Jm]]||{})[d]||p)}return function(){return p.apply(c,arguments)}}var o=gd(null);kE(n,function(c){o[c]=i(e,n,c)});for(var s=Oh(t),a=[];s&&!FL(s)&&!BL(a,s);)kE(s,function(c){!o[c]&&UL(s,c,!N0)&&(o[c]=i(e,s,c))}),a.push(s),s=Oh(s);return o}function wge(t,e,n,r){var i=null;if(t&&$s(n,Jm)){var o=t[AE]||gd(null);if(i=(o[n[Jm]]||gd(null))[e],i||RE("Missing ["+e+"] "+xE),!i[UO]&&o[O0]!==!1){for(var s=!$s(t,e),a=Oh(t),c=[];s&&a&&!FL(a)&&!BL(c,a);){var l=a[e];if(l){s=l===r;break}c.push(a),a=Oh(a)}try{s&&(t[e]=i),i[UO]=1}catch{o[O0]=!1}}}return i}function Sge(t,e,n){var r=e[t];return r===n&&(r=Oh(e)[t]),typeof r!==xE&&RE("["+t+"] is not a "+xE),r}function Ege(t,e,n,r,i){function o(c,l){var d=function(){var p=wge(this,l,c,d)||Sge(l,c,d);return p.apply(this,arguments)};return d[FO]=1,d}if(!wS(t)){var s=n[AE]=n[AE]||gd(null);if(!wS(s)){var a=s[e]=s[e]||gd(null);s[O0]!==!1&&(s[O0]=!!i),wS(a)||kE(n,function(c){UL(n,c,!1)&&n[c]!==r[c]&&(a[c]=n[c],delete n[c],(!$s(t,c)||t[c]&&!t[c][FO])&&(t[c]=o(t,c)))})}}}function Tge(t,e){if(N0){for(var n=[],r=Oh(e);r&&!FL(r)&&!BL(n,r);){if(r===t)return!0;n.push(r),r=Oh(r)}return!1}return!0}function $k(t,e){return $s(t,Pl)?t.name||e||O6:((t||{})[IE]||{}).name||e||O6}function Jn(t,e,n,r){$s(t,Pl)||RE("theClass is an invalid class definition.");var i=t[Pl];Tge(i,e)||RE("["+$k(t)+"] not in hierarchy of ["+$k(e)+"]");var o=null;$s(i,Jm)?o=i[Jm]:(o=bge+$k(t,"_")+"$"+VO.n,VO.n++,i[Jm]=o);var s=Jn[wK],a=!!s[_S];a&&r&&r[_S]!==void 0&&(a=!!r[_S]);var c=Cge(e),l=_ge(i,e,c,a);n(e,l);var d=!!N0&&!!s[BO];d&&r&&(d=!!r[BO]),Ege(i,o,e,c,d!==!1)}Jn[wK]=VO.o;var SK=Pme,Ro=Mme,gf=SK({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}),Yp=SK({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2}),VL="toLowerCase",PE="blkVal",qt="length",OE="rdOnly",NE="notify",ME="warnToConsole",EC="throwInternal",Cv="setDf",ed="watch",Ir="logger",FI="apply",In="push",TC="splice",EK="hdlr",Mm="cancel",IC="initialize",Uu="identifier",LE="removeNotificationListener",DE="addNotificationListener",uc="isInitialized",D6="instrumentationKey",Wk="INACTIVE",jb="value",Tw="getNotifyMgr",M0="getPlugin",fh="name",Vy="iKey",eg="time",Zi="processNext",TK="getProcessTelContext",j6="pollInternalLogs",Lm="enabled",F6="stopPollingInternalLogs",yd="unload",Iw="onComplete",U6="version",IK="loggingLevelConsole",Nh="createNew",tl="teardown",jE="messageId",hh="message",Vg="isAsync",vl="diagLog",FE="_doTeardown",L0="update",vc="getNext",D0="setNextPlugin",xK="protocol",HO="userAgent",UI="split",Kk="nodeType",ph="replace",Ige="logInternalMessage",yl="type",HL="handler",vb="status",B6="getResponseHeader",V6="getAllResponseHeaders",zO="isChildEvt",fm="data",tg="getCtx",qa="setCtx",$O="complete",Hy="urlString",H6="sendPOST",Gk="headers",Qp="timeout",z6="setRequestHeader",$6="traceId",W6="spanId",K6="traceFlags",qk;function xge(t,e){qk||(qk=Qme("AggregationError",function(r,i){i[qt]>1&&(r.errors=i[1])}));var n=t;throw xt(e,function(r,i){n+=`
`.concat(i," > ").concat(wn(r))}),new qk(n,e||[])}/*!
 * NevWare21 Solutions LLC - ts-async, 0.5.2
 * https://github.com/nevware21/ts-async
 * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
 * Licensed under the MIT license.
 */var UE="Promise",zL="rejected";function Hg(t,e){return AK(t,function(n){return e?e({status:"fulfilled",rejected:!1,value:n}):n},function(n){return e?e({status:zL,rejected:!0,reason:n}):n})}function AK(t,e,n,r){var i=t;try{if(Ug(t))(e||n)&&(i=t.then(e,n));else try{e&&(i=e(t))}catch(o){if(n)i=n(o);else throw o}}finally{}return i}var kK=["pending","resolving","resolved",zL],G6="dispatchEvent",xw;function Age(t){var e;return t&&t.createEvent&&(e=t.createEvent("Event")),!!e&&e.initEvent}function kge(t,e,n,r){var i=Rl();!xw&&(xw=Xs(!!yi(Age,[i]).v));var o=xw.v?i.createEvent("Event"):r?new Event(e):{};if(n&&n(o),xw.v&&o.initEvent(e,!1,!0),o&&t[G6])t[G6](o);else{var s=t["on"+e];if(s)s(o);else{var a=Fr("console");a&&(a.error||a.log)(e,wn(o))}}}var RK="unhandledRejection",Rge=RK.toLowerCase(),q6=[],Pge=0,Oge=10,Yk;function Y6(t){return Bn(t)?t.toString():wn(t)}function PK(t,e,n){var r=DI(arguments,3),i=0,o=!1,s,a=[],c=Pge++,l=!1,d=null,p;function m(A,k){try{q6.push(c),l=!0,d&&d.cancel(),d=null;var R=t(function(M,P){a.push(function(){try{var N=i===2?A:k,D=$n(N)?s:Bn(N)?N(s):N;Ug(D)?D.then(M,P):N?M(D):i===3?P(D):M(D)}catch(G){P(G)}}),o&&S()},r);return R}finally{q6.pop()}}function g(A){return m(void 0,A)}function C(A){var k=A,R=A;return Bn(A)&&(k=function(M){return A&&A(),M},R=function(M){throw A&&A(),M}),m(k,R)}function _(){return kK[i]}function S(){if(a.length>0){var A=a.slice();a=[],l=!0,d&&d.cancel(),d=null,e(A)}}function w(A,k){return function(R){if(i===k){if(A===2&&Ug(R)){i=1,R.then(w(2,1),w(3,1));return}i=A,o=!0,s=R,S(),!l&&A===3&&!d&&(d=Ph(T,Oge))}}}function T(){if(!l)if(l=!0,$me())process.emit(RK,s,p);else{var A=kd()||bv();!Yk&&(Yk=Xs(yi(Fr,[UE+"RejectionEvent"]).v)),kge(A,Rge,function(k){return rr(k,"promise",{g:function(){return p}}),k.reason=s,k},!!Yk.v)}}p={then:m,catch:g,finally:C},kl(p,"state",{get:_}),Kme()&&(p[PL(11)]="IPromise");function I(){return"IPromise "+_()+(o?" - "+Y6(s):"")}return p.toString=I,function(){Bn(n)||Qs(UE+": executor is not a function - "+Y6(n));var k=w(3,0);try{n.call(p,w(2,0),k)}catch(R){k(R)}}(),p}function Nge(t){return function(e){var n=DI(arguments,1);return t(function(r,i){try{var o=[],s=1;NL(e,function(a,c){a&&(s++,AK(a,function(l){o[c]=l,--s===0&&r(o)},i))}),s--,s===0&&r(o)}catch(a){i(a)}},n)}}function Mge(t){return Xs(function(e){var n=DI(arguments,1);return t(function(r,i){var o=[],s=1;function a(c,l){s++,Hg(c,function(d){d.rejected?o[l]={status:zL,reason:d.reason}:o[l]={status:"fulfilled",value:d.value},--s===0&&r(o)})}try{un(e)?xt(e,a):yK(e)?NL(e,a):Qs("Input is not an iterable"),s--,s===0&&r(o)}catch(c){i(c)}},n)})}function OK(t){xt(t,function(e){try{e()}catch{}})}function Lge(t){var e=md(t)?t:0;return function(n){Ph(function(){OK(n)},e)}}function NK(t,e){return PK(NK,Lge(e),t,e)}var Qk;function Dge(t,e){!Qk&&(Qk=Xs(yi(Fr,[UE]).v||null));var n=Qk.v;if(!n)return NK(t);Bn(t)||Qs(UE+": executor is not a function - "+wn(t));var r=0;function i(){return kK[r]}var o=new n(function(s,a){function c(d){r=2,s(d)}function l(d){r=3,a(d)}t(c,l)});return kl(o,"state",{get:i}),o}var Xk;function MK(t){return PK(MK,OK,t)}function jge(t,e){return!Xk&&(Xk=Mge(MK)),Xk.v(t,e)}var Zk;function Mh(t,e){return!Zk&&(Zk=Xs(Dge)),Zk.v.call(this,t,e)}var Fge=Nge(Mh),nc=void 0,_n="",jf="channels",Kr="core",WO="createPerfMgr",KO="disabled",ng="extensionConfig",hm="extensions",Sc="processTelemetry",BE="priority",SS="eventsSent",Fb="eventsDiscarded",ES="eventsSendRequest",qf="perfEvent",Jk="offlineEventsStored",eR="offlineBatchSent",tR="offlineBatchDrop",VE="getPerfMgr",GO="domain",nR="path",Uge="Not dynamic - ",Bge=/-([a-z])/g,Vge=/([^\w\d_$])/g,Hge=/^(\d+[\w\d_$])/;function HE(t){return!Mn(t)}function qO(t){var e=t;return e&&Di(e)&&(e=e[ph](Bge,function(n,r){return r.toUpperCase()}),e=e[ph](Vge,"_"),e=e[ph](Hge,function(n,r){return"_"+r})),e}function _o(t,e){return t&&e?jI(t,e)!==-1:!1}function YO(t){return t&&t.toISOString()||""}function LK(t){return Tme(t)?t[fh]:_n}function Xp(t,e,n,r,i){var o=n;return t&&(o=t[e],o!==n&&(!i||i(o))&&(!r||r(n))&&(o=n,t[e]=o)),o}function zge(t,e,n){var r;return t?(r=t[e],!r&&Mn(r)&&(r=$n(n)?{}:n,t[e]=r)):r=$n(n)?{}:n,r}function $ge(t,e){var n=null,r=null;return Bn(t)?n=t:r=t,function(){var i=arguments;if(n&&(r=n()),r)return r[e][FI](r,i)}}function zE(t,e,n,r,i){t&&e&&n&&(t[e]=$ge(n,r))}function DK(t,e,n,r){return t&&e&&Fg(t)&&un(n)&&xt(n,function(i){Di(i)&&zE(t,i,e,i)}),t}function pm(t){return t&&S6&&(t=SL(S6({},t))),t}function zg(t){try{return t.responseText}catch{}return null}function Wge(t,e){return t?"XDomainRequest,Response:"+zg(t)||"":e}function Q6(t,e){return t?"XMLHttpRequest,Status:"+t[vb]+",Response:"+zg(t)||t.response||"":e}function X6(t,e){return e&&(md(e)?t=[e].concat(t):un(e)&&(t=e.concat(t))),t}var Kge="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Z6="withCredentials",Gge="timeout";function qge(t,e,n,r,i,o){i===void 0&&(i=!1);function s(c,l,d){try{c[l]=d}catch{}}var a=new XMLHttpRequest;return s(a,Kge,r),n&&s(a,Z6,n),a.open(t,e,!i),n&&s(a,Z6,n),!i&&o&&s(a,Gge,o),a}function Yge(t){var e={};if(Di(t)){var n=Io(t)[UI](/[\r\n]+/);xt(n,function(r){if(r){var i=r.indexOf(": ");if(i!==-1){var o=Io(r.substring(0,i))[VL](),s=Io(r.substring(i+1));e[o]=s}else e[Io(r)]=1}})}return e}function rR(t,e,n){if(!t[n]&&e&&e[B6]){var r=e[B6](n);r&&(t[n]=Io(r))}return t}var Qge="kill-duration",Xge="kill-duration-seconds",Zge="time-delta-millis";function TS(t,e){var n={};return t[V6]?n=Yge(t[V6]()):e&&(n=rR(n,t,Zge),n=rR(n,t,Qge),n=rR(n,t,Xge)),n}var Jge="location",eve="console",jK="JSON",tve="crypto",nve="msCrypto",rve="ReactNative",ive="msie",ove="trident/",FK="XMLHttpRequest",iR=null,oR=null,Zp=null,sR=null;function UK(t,e){var n=!1;if(t){try{if(n=e in t,!n){var r=t[Lb];r&&(n=e in r)}}catch{}if(!n)try{var i=new t;n=!$n(i[e])}catch{}}return n}function BI(t){return typeof location===_L&&location?location:Fr(Jge)}function sve(){return typeof console!==wL?console:Fr(eve)}function BK(){return!!(typeof JSON===_L&&JSON||Fr(jK)!==null)}function ave(){return BK()?JSON||Fr(jK):null}function cve(){return Fr(tve)}function lve(){return Fr(nve)}function J6(){var t=Fl();return t&&t.product?t.product===rve:!1}function QO(){var t=Fl();if(t&&(t[HO]!==oR||iR===null)){oR=t[HO];var e=(oR||_n)[VL]();iR=_o(e,ive)||_o(e,ove)}return iR}function VK(t){return(sR===null||t===!1)&&(sR=zme()&&!!Fl().sendBeacon),sR}function HK(t){var e=!1;try{e=!!Fr("fetch");var n=Fr("Request");e&&t&&n&&(e=UK(n,"keepalive"))}catch{}return e}function uve(){return Zp===null&&(Zp=typeof XDomainRequest!==wL,Zp&&zK()&&(Zp=Zp&&!UK(Fr(FK),"withCredentials"))),Zp}function zK(){var t=!1;try{var e=Fr(FK);t=!!e}catch{}return t}var $K=4294967296,mh=4294967295,WK=123456789,KK=987654321,GK=!1,yb=WK,bb=KK;function dve(t){t<0&&(t>>>=0),yb=WK+t&mh,bb=KK-t&mh,GK=!0}function fve(){try{var t=vd()&2147483647;dve((Math.random()*$K^t)+t)}catch{}}function j0(t){var e=0,n=cve()||lve();return n&&n.getRandomValues&&(e=n.getRandomValues(new Uint32Array(1))[0]&mh),e===0&&QO()&&(GK||fve(),e=hve()&mh),e===0&&(e=Math.floor($K*Math.random()|0)),t||(e>>>=0),e}function hve(t){bb=36969*(bb&65535)+(bb>>16)&mh,yb=18e3*(yb&65535)+(yb>>16)&mh;var e=(bb<<16)+(yb&65535)>>>0&mh|0;return e>>>=0,e}function $L(t){t===void 0&&(t=22);for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=j0()>>>0,r=0,i=_n;i[qt]<t;)r++,i+=e.charAt(n&63),n>>>=6,r===5&&(n=(j0()<<2&4294967295|n&3)>>>0,r=0);return i}var qK="3.3.3",pve="."+$L(6),mve=0;function YK(t){return t[Kk]===1||t[Kk]===9||!+t[Kk]}function gve(t,e){var n=e[t.id];if(!n){n={};try{YK(e)&&rr(e,t.id,{e:!1,v:n})}catch{}}return n}function _v(t,e){return e===void 0&&(e=!1),qO(t+mve+++(e?"."+qK:_n)+pve)}function QK(t){var e={id:_v("_aiData-"+(t||_n)+"."+qK),accept:function(n){return YK(n)},get:function(n,r,i,o){var s=n[e.id];return s?s[qO(r)]:(o&&(s=gve(e,n),s[qO(r)]=i),i)},kill:function(n,r){if(n&&n[r])try{delete n[r]}catch{}}};return e}function IS(t){return t&&Fg(t)&&(t.isVal||t.fb||Zm(t,"v")||Zm(t,"mrg")||Zm(t,"ref")||t.set)}function XK(t,e,n){var r,i=n.dfVal||xL;if(e&&n.fb){var o=n.fb;un(o)||(o=[o]);for(var s=0;s<o[qt];s++){var a=o[s],c=e[a];if(i(c)?r=c:t&&(c=t.cfg[a],i(c)&&(r=c),t.set(t.cfg,_a(a),c)),i(r))break}}return!i(r)&&i(n.v)&&(r=n.v),r}function XO(t,e,n){var r=n;if(n&&IS(n)&&(r=XK(t,e,n)),r){IS(r)&&(r=XO(t,e,r));var i;un(r)?(i=[],i[qt]=r[qt]):wa(r)&&(i={}),i&&(Hn(r,function(o,s){s&&IS(s)&&(s=XO(t,e,s)),i[o]=s}),r=i)}return r}function WL(t,e,n,r){var i,o,s,a=r,c,l,d,p;IS(a)?(i=a.isVal,o=a.set,d=a[OE],p=a[PE],c=a.mrg,l=a.ref,!l&&$n(l)&&(l=!!c),s=XK(t,e,a)):s=r,p&&t[PE](e,n);var m,g=!0,C=e[n];(C||!Mn(C))&&(m=C,g=!1,i&&m!==s&&!i(m)&&(m=s,g=!0),o&&(m=o(m,s,e),g=m===s)),g?s?m=XO(t,e,s):m=s:(wa(m)||un(s))&&c&&s&&(wa(s)||un(s))&&Hn(s,function(_,S){WL(t,m,_,S)}),t.set(e,n,m),l&&t.ref(e,n),d&&t[OE](e,n)}var bd=OL("[[ai_dynCfg_1]]"),ZK=OL("[[ai_blkDynCfg_1]]"),vve=OL("[[ai_frcDynCfg_1]]");function JK(t){if(t){var e;if(un(t)?(e=[],e[qt]=t[qt]):wa(t)&&(e={}),e)return Hn(t,function(n,r){e[n]=JK(r)}),e}return t}function yve(t){if(t){var e=t[bd]||t;if(e.cfg&&(e.cfg===t||e.cfg[bd]===e))return e}return null}function bve(t){if(t&&(wa(t)||un(t)))try{t[ZK]=!0}catch{}return t}function aR(t,e,n){var r=!1;return n&&!t[e.blkVal]&&(r=n[vve],!r&&!n[ZK]&&(r=wa(n)||un(n))),r}function eG(t){Qs("InvalidAccess:"+t)}var Cve=["push","pop","shift","unshift","splice"],F0=function(t,e,n,r){t&&t[EC](3,108,"".concat(n," [").concat(e,"] failed - ")+wn(r))};function _ve(t,e,n){un(e)&&xt(Cve,function(r){var i=e[r];e[r]=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=i[FI](this,o);return WE(t,e,n,"Patching"),a}})}function $E(t,e){var n=AL(t,e);return n&&n.get}function wve(t,e,n,r){var i={n,h:[],trk:function(l){l&&l.fn&&(Ws(i.h,l)===-1&&i.h[In](l),t.trk(l,i))},clr:function(l){var d=Ws(i.h,l);d!==-1&&i.h[TC](d,1)}},o=!0,s=!1;function a(){o&&(s=s||aR(a,t,r),r&&!r[bd]&&s&&(r=WE(t,r,n,"Converting")),o=!1);var l=t.act;return l&&i.trk(l),r}a[t.prop]={chng:function(){t.add(i)}};function c(l){if(r!==l){a[t.ro]&&!t.upd&&eG("["+n+"] is read-only:"+wn(e)),o&&(s=s||aR(a,t,r),o=!1);var d=s&&a[t.rf];if(s)if(d){Hn(r,function(m){r[m]=l?l[m]:nc});try{Hn(l,function(m,g){VI(t,r,m,g)}),l=r}catch(m){F0((t.hdlr||{})[Ir],n,"Assigning",m),s=!1}}else r&&r[bd]&&Hn(r,function(m){var g=$E(r,m);if(g){var C=g[t.prop];C&&C.chng()}});if(l!==r){var p=l&&aR(a,t,l);!d&&p&&(l=WE(t,l,n,"Converting")),r=l,s=p}t.add(i)}}rr(e,i.n,{g:a,s:c})}function VI(t,e,n,r){if(e){var i=$E(e,n),o=i&&!!i[t.prop];o?e[n]=r:wve(t,e,n,r)}return e}function cR(t,e,n,r){if(e){var i=$E(e,n),o=i&&!!i[t.prop],s=r&&r[0],a=r&&r[1],c=r&&r[2];if(!o){if(c)try{bve(e)}catch(l){F0((t.hdlr||{})[Ir],n,"Blocking",l)}try{VI(t,e,n,e[n]),i=$E(e,n)}catch(l){F0((t.hdlr||{})[Ir],n,"State",l)}}s&&(i[t.rf]=s),a&&(i[t.ro]=a),c&&(i[t.blkVal]=!0)}return e}function WE(t,e,n,r){try{Hn(e,function(i,o){VI(t,e,i,o)}),e[bd]||(kl(e,bd,{get:function(){return t[EK]}}),_ve(t,e,n))}catch(i){F0((t.hdlr||{})[Ir],n,r,i)}return e}var zy="[[ai_",$y="]]";function Sve(t){var e,n=By(zy+"get"+t.uid+$y),r=By(zy+"ro"+t.uid+$y),i=By(zy+"rf"+t.uid+$y),o=By(zy+"blkVal"+t.uid+$y),s=By(zy+"dtl"+t.uid+$y),a=null,c=null,l;function d(C,_){var S=l.act;try{l.act=C,C&&C[s]&&(xt(C[s],function(T){T.clr(C)}),C[s]=[]),_({cfg:t.cfg,set:t.set.bind(t),setDf:t[Cv].bind(t),ref:t.ref.bind(t),rdOnly:t[OE].bind(t)})}catch(T){var w=t[Ir];throw w&&w[EC](1,107,wn(T)),T}finally{l.act=S||null}}function p(){if(a){var C=a;a=null,c&&c[Mm](),c=null;var _=[];if(xt(C,function(S){if(S&&(S[s]&&(xt(S[s],function(w){w.clr(S)}),S[s]=null),S.fn))try{d(S,S.fn)}catch(w){_[In](w)}}),a)try{p()}catch(S){_[In](S)}_[qt]>0&&xge("Watcher error(s): ",_)}}function m(C){if(C&&C.h[qt]>0){a||(a=[]),c||(c=Ph(function(){c=null,p()},0));for(var _=0;_<C.h[qt];_++){var S=C.h[_];S&&Ws(a,S)===-1&&a[In](S)}}}function g(C,_){if(C){var S=C[s]=C[s]||[];Ws(S,_)===-1&&S[In](_)}}return l=(e={prop:n,ro:r,rf:i},e[PE]=o,e[EK]=t,e.add=m,e[NE]=p,e.use=d,e.trk=g,e),l}function Eve(t,e){var n={fn:e,rm:function(){n.fn=null,t=null,e=null}};return rr(n,"toJSON",{v:function(){return"WatcherHandler"+(n.fn?"":"[X]")}}),t.use(n,e),n}function Tve(t,e,n){var r,i=yve(e);if(i)return i;var o=_v("dyncfg",!0),s=e&&n!==!1?e:JK(e),a;function c(){a[NE]()}function l(w,T,I){try{w=VI(a,w,T,I)}catch(A){F0(t,T,"Setting value",A)}return w[T]}function d(w){return Eve(a,w)}function p(w,T){a.use(null,function(I){var A=a.upd;try{$n(T)||(a.upd=T),w(I)}finally{a.upd=A}})}function m(w,T){var I;return cR(a,w,T,(I={},I[0]=!0,I))[T]}function g(w,T){var I;return cR(a,w,T,(I={},I[1]=!0,I))[T]}function C(w,T){var I;return cR(a,w,T,(I={},I[2]=!0,I))[T]}function _(w,T){return T&&Hn(T,function(I,A){WL(S,w,I,A)}),w}var S=(r={uid:null,cfg:s},r[Ir]=t,r[NE]=c,r.set=l,r[Cv]=_,r[ed]=d,r.ref=m,r[OE]=g,r[PE]=C,r._block=p,r);return rr(S,"uid",{c:!1,e:!1,w:!1,v:o}),a=Sve(S),WE(a,s,"config","Creating"),S}function Ive(t,e){t?(t[ME](e),t[EC](2,108,e)):eG(e)}function as(t,e,n,r){var i=Tve(n,t||{},r);return e&&i[Cv](i.cfg,e),i}function ji(t,e,n){var r=t[bd]||t;return r.cfg&&(r.cfg===t||r.cfg[bd]===r)?r[ed](e):(Ive(n,Uge+wn(t)),as(t,null,n)[ed](e))}function Cb(t,e){if(t&&t[yd])return t[yd](e)}function tG(t,e,n){var r;return n||(r=Mh(function(i){n=i})),t&&cge(t)>0?Hg(Cb(t[0],e),function(){tG(DI(t,1),e,n)}):n(),r}var xve=500,eB="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function ZO(t){return{mrg:!0,v:t}}function vf(t){return{isVal:Di,v:_a(_n)}}var lR=[SS,Fb,ES,qf],KE=null,Aw;function Ave(t,e){return function(){var n=arguments,r=nG(e);if(r){var i=r.listener;i&&i[t]&&i[t][FI](i,n)}}}function kve(){var t=Fr("Microsoft");return t&&(KE=t.ApplicationInsights),KE}function nG(t){var e=KE;return!e&&t.disableDbgExt!==!0&&(e=KE||kve()),e?e.ChromeDbgExt:null}function Rve(t){if(!Aw){Aw={};for(var e=0;e<lR[qt];e++)Aw[lR[e]]=Ave(lR[e],t)}return Aw}var Jp,rG="warnToConsole",Pve="AI (Internal): ",Ove="AI: ",Nve="AITR_",Mve={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Lve=(Jp={},Jp[0]=null,Jp[1]="errorToConsole",Jp[2]=rG,Jp[3]="debugToConsole",Jp);function tB(t){return t?'"'+t[ph](/\"/g,_n)+'"':_n}function uR(t,e){var n=sve();if(n){var r="log";n[t]&&(r=t),Bn(n[r])&&n[r](e)}}var JO=function(){function t(e,n,r,i){r===void 0&&(r=!1);var o=this;o[jE]=e,o[hh]=(r?Ove:Pve)+e;var s=_n;BK()&&(s=ave().stringify(i));var a=(n?" message:"+tB(n):_n)+(i?" props:"+tB(s):_n);o[hh]+=a}return t.dataType="MessageData",t}();function KL(t,e){return(t||{})[Ir]||new GE(e)}var GE=function(){function t(e){this.identifier="DiagnosticLogger",this.queue=[];var n=0,r={},i,o,s,a,c;Jn(t,this,function(l){c=p(e||{}),l.consoleLoggingLevel=function(){return i},l[EC]=function(C,_,S,w,T){T===void 0&&(T=!1);var I=new JO(_,S,T,w);if(a)throw wn(I);var A=Lve[C]||rG;if($n(I[hh]))g("throw"+(C===1?"Critical":"Warning"),I);else{if(T){var k=+I[jE];!r[k]&&i>=C&&(l[A](I[hh]),r[k]=!0)}else i>=C&&l[A](I[hh]);d(C,I)}},l.debugToConsole=function(C){uR("debug",C),g("warning",C)},l[ME]=function(C){uR("warn",C),g("warning",C)},l.errorToConsole=function(C){uR("error",C),g("error",C)},l.resetInternalMessageCount=function(){n=0,r={}},l[Ige]=d,l[yd]=function(C){c&&c.rm(),c=null};function d(C,_){if(!m()){var S=!0,w=Nve+_[jE];if(r[w]?S=!1:r[w]=!0,S&&(C<=o&&(l.queue[In](_),n++,g(C===1?"error":"warn",_)),n===s)){var T="Internal events throttle limit per PageView reached for this app.",I=new JO(23,T,!1);l.queue[In](I),C===1?l.errorToConsole(T):l[ME](T)}}}function p(C){return ji(as(C,Mve,l).cfg,function(_){var S=_.cfg;i=S[IK],o=S.loggingLevelTelemetry,s=S.maxMessageLimit,a=S.enableDebug})}function m(){return n>=s}function g(C,_){var S=nG(e||{});S&&S[vl]&&S[vl](C,_)}})}return t.__ieDyn=1,t}();function iG(t){return t||new GE}function Fn(t,e,n,r,i,o){o===void 0&&(o=!1),iG(t)[EC](e,n,r,i,o)}function Ub(t,e){iG(t)[ME](e)}var dR,yf,nB="toGMTString",rB="toUTCString",GL="cookie",fR="expires",iB="isCookieUseDisabled",eN="disableCookiesUsage",Dm="_ckMgr",kw=null,hR=null,oB=null,yc,sB={},qE={},Dve=(dR={cookieCfg:ZO((yf={},yf[GO]={fb:"cookieDomain",dfVal:HE},yf.path={fb:"cookiePath",dfVal:HE},yf.enabled=nc,yf.ignoreCookies=nc,yf.blockedCookies=nc,yf)),cookieDomain:nc,cookiePath:nc},dR[eN]=nc,dR);function qL(){!yc&&(yc=Vme(function(){return Rl()}))}function jve(t,e){var n=xS[Dm]||qE[Dm];return n||(n=xS[Dm]=xS(t,e),qE[Dm]=n),n}function Rw(t){return t?t.isEnabled():!0}function oG(t,e){return e&&t&&un(t.ignoreCookies)?Ws(t.ignoreCookies,e)!==-1:!1}function Fve(t,e){return e&&t&&un(t.blockedCookies)&&Ws(t.blockedCookies,e)!==-1?!0:oG(t,e)}function aB(t,e){var n=e[Lm];if(Mn(n)){var r=void 0;$n(t[iB])||(r=!t[iB]),$n(t[eN])||(r=!t[eN]),n=r}return n}function sG(t,e){var n;return t&&(n=t.getCookieMgr()),n||(n=jve(e,(t||{})[Ir])),n}function xS(t,e){var n,r,i,o,s,a,c,l,d;t=as(t||qE,null,e).cfg,s=ji(t,function(m){m[Cv](m.cfg,Dve),r=m.ref(m.cfg,"cookieCfg"),i=r[nR]||"/",o=r[GO],a=aB(t,r)!==!1,c=r.getCookie||Uve,l=r.setCookie||dB,d=r.delCookie||dB},e);var p=(n={isEnabled:function(){var m=aB(t,r)!==!1&&a&&cB(e),g=qE[Dm];return m&&g&&p!==g&&(m=Rw(g)),m},setEnabled:function(m){a=m!==!1,r[Lm]=m},set:function(m,g,C,_,S){var w=!1;if(Rw(p)&&!Fve(r,m)){var T={},I=Io(g||_n),A=jI(I,";");if(A!==-1&&(I=Io(kL(g,A)),T=aG(ic(g,A+1))),Xp(T,GO,_||o,w6,$n),!Mn(C)){var k=QO();if($n(T[fR])){var R=vd(),M=R+C*1e3;if(M>0){var P=new Date;P.setTime(M),Xp(T,fR,lB(P,k?nB:rB)||lB(P,k?nB:rB)||_n,w6)}}k||Xp(T,"max-age",_n+C,null,$n)}var N=BI();N&&N[xK]==="https:"&&(Xp(T,"secure",null,null,$n),hR===null&&(hR=!Bve((Fl()||{})[HO])),hR&&Xp(T,"SameSite","None",null,$n)),Xp(T,nR,S||i,null,$n),l(m,uB(I,T)),w=!0}return w},get:function(m){var g=_n;return Rw(p)&&!oG(r,m)&&(g=c(m)),g},del:function(m,g){var C=!1;return Rw(p)&&(C=p.purge(m,g)),C},purge:function(m,g){var C,_=!1;if(cB(e)){var S=(C={},C[nR]=g||"/",C[fR]="Thu, 01 Jan 1970 00:00:01 GMT",C);QO()||(S["max-age"]="0"),d(m,uB(_n,S)),_=!0}return _}},n[yd]=function(m){s&&s.rm(),s=null},n);return p[Dm]=p,p}function cB(t){if(kw===null){kw=!1,!yc&&qL();try{var e=yc.v||{};kw=e[GL]!==void 0}catch(n){Fn(t,2,68,"Cannot access document.cookie - "+LK(n),{exception:wn(n)})}}return kw}function aG(t){var e={};if(t&&t[qt]){var n=Io(t)[UI](";");xt(n,function(r){if(r=Io(r||_n),r){var i=jI(r,"=");i===-1?e[r]=null:e[Io(kL(r,i))]=Io(ic(r,i+1))}})}return e}function lB(t,e){return Bn(t[e])?t[e]():null}function uB(t,e){var n=t||_n;return Hn(e,function(r,i){n+="; "+r+(Mn(i)?_n:"="+i)}),n}function Uve(t){var e=_n;if(!yc&&qL(),yc.v){var n=yc.v[GL]||_n;oB!==n&&(sB=aG(n),oB=n),e=Io(sB[t]||_n)}return e}function dB(t,e){!yc&&qL(),yc.v&&(yc.v[GL]=t+"="+e)}function Bve(t){return Di(t)?!!(_o(t,"CPU iPhone OS 12")||_o(t,"iPad; CPU OS 12")||_o(t,"Macintosh; Intel Mac OS X 10_14")&&_o(t,"Version/")&&_o(t,"Safari")||_o(t,"Macintosh; Intel Mac OS X 10_14")&&dge(t,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||_o(t,"Chrome/5")||_o(t,"Chrome/6")||_o(t,"UnrealEngine")&&!_o(t,"Chrome")||_o(t,"UCBrowser/12")||_o(t,"UCBrowser/11")):!1}var Vve={perfEvtsSendAll:!1};function Hve(t){t.h=null;var e=t.cb;t.cb=[],xt(e,function(n){yi(n.fn,[n.arg])})}function _u(t,e,n,r){xt(t,function(i){i&&i[e]&&(n?(n.cb[In]({fn:r,arg:i}),n.h=n.h||Ph(Hve,0,n)):yi(r,[i]))})}var zve=function(){function t(e){this.listeners=[];var n,r,i=[],o={h:null,cb:[]},s=as(e,Vve);r=s[ed](function(a){n=!!a.cfg.perfEvtsSendAll}),Jn(t,this,function(a){rr(a,"listeners",{g:function(){return i}}),a[DE]=function(c){i[In](c)},a[LE]=function(c){for(var l=Ws(i,c);l>-1;)i[TC](l,1),l=Ws(i,c)},a[SS]=function(c){_u(i,SS,o,function(l){l[SS](c)})},a[Fb]=function(c,l){_u(i,Fb,o,function(d){d[Fb](c,l)})},a[ES]=function(c,l){_u(i,ES,l?o:null,function(d){d[ES](c,l)})},a[qf]=function(c){c&&(n||!c[zO]())&&_u(i,qf,null,function(l){c[Vg]?Ph(function(){return l[qf](c)},0):l[qf](c)})},a[Jk]=function(c){c&&c[qt]&&_u(i,Jk,o,function(l){l[Jk](c)})},a[eR]=function(c){c&&c[fm]&&_u(i,eR,o,function(l){l[eR](c)})},a[tR]=function(c,l){if(c>0){var d=l||0;_u(i,tR,o,function(p){p[tR](c,d)})}},a[yd]=function(c){var l=function(){r&&r.rm(),r=null,i=[],o.h&&o.h[Mm](),o.h=null,o.cb=[]},d;if(_u(i,"unload",null,function(p){var m=p[yd](c);m&&(d||(d=[]),d[In](m))}),d)return Mh(function(p){return Hg(Fge(d),function(){l(),p()})});l()}})}return t.__ieDyn=1,t}(),rg="ctx",tN="ParentContextKey",Bb="ChildrenContextKey",$ve=null,AS=function(){function t(e,n,r){var i=this;if(i.start=vd(),i[fh]=e,i[Vg]=r,i[zO]=function(){return!1},Bn(n)){var o;rr(i,"payload",{g:function(){return!o&&Bn(n)&&(o=n(),n=null),o}})}i[tg]=function(s){return s?s===t[tN]||s===t[Bb]?i[s]:(i[rg]||{})[s]:null},i[qa]=function(s,a){if(s)if(s===t[tN])i[s]||(i[zO]=function(){return!0}),i[s]=a;else if(s===t[Bb])i[s]=a;else{var c=i[rg]=i[rg]||{};c[s]=a}},i[$O]=function(){var s=0,a=i[tg](t[Bb]);if(un(a))for(var c=0;c<a[qt];c++){var l=a[c];l&&(s+=l[eg])}i[eg]=vd()-i.start,i.exTime=i[eg]-s,i[$O]=function(){}}}return t.ParentContextKey="parent",t.ChildrenContextKey="childEvts",t}(),Wve=function(){function t(e){this.ctx={},Jn(t,this,function(n){n.create=function(r,i,o){return new AS(r,i,o)},n.fire=function(r){r&&(r[$O](),e&&Bn(e[qf])&&e[qf](r))},n[qa]=function(r,i){if(r){var o=n[rg]=n[rg]||{};o[r]=i}},n[tg]=function(r){return(n[rg]||{})[r]}})}return t.__ieDyn=1,t}(),pR="CoreUtils.doPerf";function To(t,e,n,r,i){if(t){var o=t;if(o[VE]&&(o=o[VE]()),o){var s=void 0,a=o[tg](pR);try{if(s=o.create(e(),r,i),s){if(a&&s[qa]&&(s[qa](AS[tN],a),a[tg]&&a[qa])){var c=a[tg](AS[Bb]);c||(c=[],a[qa](AS[Bb],c)),c[In](s)}return o[qa](pR,s),n(s)}}catch(l){s&&s[qa]&&s[qa]("exception",l)}finally{s&&o.fire(s),o[qa](pR,a)}}}return n()}function Kve(){return $ve}function cG(){var t=nN();return ic(t,0,8)+"-"+ic(t,8,12)+"-"+ic(t,12,16)+"-"+ic(t,16,20)+"-"+ic(t,20)}function nN(){for(var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],e=_n,n,r=0;r<4;r++)n=j0(),e+=t[n&15]+t[n>>4&15]+t[n>>8&15]+t[n>>12&15]+t[n>>16&15]+t[n>>20&15]+t[n>>24&15]+t[n>>28&15];var i=t[8+(j0()&3)|0];return dm(e,0,8)+dm(e,9,4)+"4"+dm(e,13,3)+i+dm(e,16,3)+dm(e,19,12)}var Gve="00000000000000000000000000000000",qve="0000000000000000";function lG(t,e,n){return t&&t[qt]===e&&t!==n?!!t.match(/^[\da-f]*$/i):!1}function uG(t){return lG(t,32,Gve)}function dG(t){return lG(t,16,qve)}var Yve=QK("plugin");function gh(t){return Yve.get(t,"state",{},!0)}function fB(t,e){for(var n=[],r=null,i=t[vc](),o;i;){var s=i[M0]();if(s){r&&r[D0]&&s[Sc]&&r[D0](s),o=gh(s);var a=!!o[uc];s[uc]&&(a=s[uc]()),a||n[In](s),r=s,i=i[vc]()}}xt(n,function(c){var l=t[Kr]();c[IC](t.getCfg(),l,e,t[vc]()),o=gh(c),!c[Kr]&&!o[Kr]&&(o[Kr]=l),o[uc]=!0,delete o[tl]})}function mR(t){return t.sort(function(e,n){var r=0;if(n){var i=n[Sc];e[Sc]?r=i?e[BE]-n[BE]:1:i&&(r=-1)}else r=e?1:-1;return r})}function Qve(t){var e={};return{getName:function(){return e[fh]},setName:function(n){e[fh]=n},getTraceId:function(){return e[$6]},setTraceId:function(n){uG(n)&&(e[$6]=n)},getSpanId:function(){return e[W6]},setSpanId:function(n){dG(n)&&(e[W6]=n)},getTraceFlags:function(){return e[K6]},setTraceFlags:function(n){e[K6]=n}}}var Xve="TelemetryPluginChain",hB="_hasRun",pB="_getTelCtx",mB=0;function Zve(t,e,n){for(;t;){if(t[M0]()===n)return t;t=t[vc]()}return Dh([n],e.config||{},e)}function YL(t,e,n,r){var i=null,o=[];e||(e=as({},null,n[Ir])),r!==null&&(i=r?Zve(t,n,r):t);var s={_next:c,ctx:{core:function(){return n},diagLog:function(){return KL(n,e.cfg)},getCfg:function(){return e.cfg},getExtCfg:d,getConfig:p,hasNext:function(){return!!i},getNext:function(){return i},setNext:function(g){i=g},iterate:m,onComplete:a}};function a(g,C){for(var _=[],S=2;S<arguments.length;S++)_[S-2]=arguments[S];g&&o[In]({func:g,self:$n(C)?s.ctx:C,args:_})}function c(){var g=i;if(i=g?g[vc]():null,!g){var C=o;C&&C[qt]>0&&(xt(C,function(_){try{_.func.call(_.self,_.args)}catch(S){Fn(n[Ir],2,73,"Unexpected Exception during onComplete - "+wn(S))}}),o=[])}return g}function l(g,C){var _=null,S=e.cfg;if(S&&g){var w=S[ng];!w&&C&&(w={}),S[ng]=w,w=e.ref(S,ng),w&&(_=w[g],!_&&C&&(_={}),w[g]=_,_=e.ref(w,g))}return _}function d(g,C){var _=l(g,!0);return C&&Hn(C,function(S,w){if(Mn(_[S])){var T=e.cfg[S];(T||!Mn(T))&&(_[S]=T)}WL(e,_,S,w)}),e[Cv](_,C)}function p(g,C,_){_===void 0&&(_=!1);var S,w=l(g,!1),T=e.cfg;return w&&(w[C]||!Mn(w[C]))?S=w[C]:(T[C]||!Mn(T[C]))&&(S=T[C]),S||!Mn(S)?S:_}function m(g){for(var C;C=s._next();){var _=C[M0]();_&&g(_)}}return s}function Lh(t,e,n,r){var i=as(e),o=YL(t,i,n,r),s=o.ctx;function a(l){var d=o._next();return d&&d[Sc](l,s),!d}function c(l,d){return l===void 0&&(l=null),un(l)&&(l=Dh(l,i.cfg,n,d)),Lh(l||s[vc](),i.cfg,n,d)}return s[Zi]=a,s[Nh]=c,s}function YE(t,e,n){var r=as(e.config),i=YL(t,r,e,n),o=i.ctx;function s(c){var l=i._next();return l&&l[yd](o,c),!l}function a(c,l){return c===void 0&&(c=null),un(c)&&(c=Dh(c,r.cfg,e,l)),YE(c||o[vc](),e,l)}return o[Zi]=s,o[Nh]=a,o}function QL(t,e,n){var r=as(e.config),i=YL(t,r,e,n),o=i.ctx;function s(c){return o.iterate(function(l){Bn(l[L0])&&l[L0](o,c)})}function a(c,l){return c===void 0&&(c=null),un(c)&&(c=Dh(c,r.cfg,e,l)),QL(c||o[vc](),e,l)}return o[Zi]=s,o[Nh]=a,o}function Dh(t,e,n,r){var i=null,o=!r;if(un(t)&&t[qt]>0){var s=null;xt(t,function(a){if(!o&&r===a&&(o=!0),o&&a&&Bn(a[Sc])){var c=Jve(a,e,n);i||(i=c),s&&s._setNext(c),s=c}})}return r&&!i?Dh([r],e,n):i}function Jve(t,e,n){var r=null,i=Bn(t[Sc]),o=Bn(t[D0]),s;t?s=t[Uu]+"-"+t[BE]+"-"+mB++:s="Unknown-0-"+mB++;var a={getPlugin:function(){return t},getNext:function(){return r},processTelemetry:d,unload:p,update:m,_id:s,_setNext:function(g){r=g}};function c(){var g;return t&&Bn(t[pB])&&(g=t[pB]()),g||(g=Lh(a,e,n)),g}function l(g,C,_,S,w){var T=!1,I=t?t[Uu]:Xve,A=g[hB];return A||(A=g[hB]={}),g.setNext(r),t&&To(g[Kr](),function(){return I+":"+_},function(){A[s]=!0;try{var k=r?r._id:_n;k&&(A[k]=!1),T=C(g)}catch(M){var R=r?A[r._id]:!0;R&&(T=!0),(!r||!R)&&Fn(g[vl](),1,73,"Plugin ["+I+"] failed during "+_+" - "+wn(M)+", run flags: "+wn(A))}},S,w),T}function d(g,C){C=C||c();function _(S){if(!t||!i)return!1;var w=gh(t);return w[tl]||w[KO]?!1:(o&&t[D0](r),t[Sc](g,S),!0)}l(C,_,"processTelemetry",function(){return{item:g}},!g.sync)||C[Zi](g)}function p(g,C){function _(){var S=!1;if(t){var w=gh(t),T=t[Kr]||w[Kr];t&&(!T||T===g.core())&&!w[tl]&&(w[Kr]=null,w[tl]=!0,w[uc]=!1,t[tl]&&t[tl](g,C)===!0&&(S=!0))}return S}l(g,_,"unload",function(){},C[Vg])||g[Zi](C)}function m(g,C){function _(){var S=!1;if(t){var w=gh(t),T=t[Kr]||w[Kr];t&&(!T||T===g.core())&&!w[tl]&&t[L0]&&t[L0](g,C)===!0&&(S=!0)}return S}l(g,_,"update",function(){},!1)||g[Zi](C)}return Rh(a)}function fG(){var t=[];function e(r){r&&t[In](r)}function n(r,i){xt(t,function(o){try{o(r,i)}catch(s){Fn(r[vl](),2,73,"Unexpected error calling unload handler - "+wn(s))}}),t=[]}return{add:e,run:n}}function hG(){var t=[];function e(r){var i=t;t=[],xt(i,function(o){try{(o.rm||o.remove).call(o)}catch(s){Fn(r,2,73,"Unloading:"+wn(s))}})}function n(r){r&&Qu(t,r)}return{run:e,add:n}}var gR,wu="getPlugin",eye=(gR={},gR[ng]={isVal:HE,v:{}},gR),XL=function(){function t(){var e=this,n,r,i,o,s;l(),Jn(t,e,function(d){d[IC]=function(p,m,g,C){c(p,m,C),n=!0},d[tl]=function(p,m){var g,C=d[Kr];if(!C||p&&C!==p[Kr]())return;var _,S=!1,w=p||YE(null,C,i&&i[wu]?i[wu]():i),T=m||(g={reason:0},g[Vg]=!1,g);function I(){S||(S=!0,o.run(w,m),s.run(w[vl]()),_===!0&&w[Zi](T),l())}return!d[FE]||d[FE](w,T,I)!==!0?I():_=!0,_},d[L0]=function(p,m){var g=d[Kr];if(!g||p&&g!==p[Kr]())return;var C,_=!1,S=p||QL(null,g,i&&i[wu]?i[wu]():i),w=m||{reason:0};function T(){_||(_=!0,c(S.getCfg(),S.core(),S[vc]()))}return!d._doUpdate||d._doUpdate(S,w,T)!==!0?T():C=!0,C},zE(d,"_addUnloadCb",function(){return o},"add"),zE(d,"_addHook",function(){return s},"add"),rr(d,"_unloadHooks",{g:function(){return s}})}),e[vl]=function(d){return a(d)[vl]()},e[uc]=function(){return n},e.setInitialized=function(d){n=d},e[D0]=function(d){i=d},e[Zi]=function(d,p){p?p[Zi](d):i&&Bn(i[Sc])&&i[Sc](d,null)},e._getTelCtx=a;function a(d){d===void 0&&(d=null);var p=d;if(!p){var m=r||Lh(null,{},e[Kr]);i&&i[wu]?p=m[Nh](null,i[wu]):p=m[Nh](null,i)}return p}function c(d,p,m){as(d,eye,KL(p)),!m&&p&&(m=p[TK]()[vc]());var g=i;i&&i[wu]&&(g=i[wu]()),e[Kr]=p,r=Lh(m,d,p,g)}function l(){n=!1,e[Kr]=null,r=null,i=null,s=hG(),o=fG()}}return t.__ieDyn=1,t}();function tye(t,e,n){var r={id:e,fn:n};Qu(t,r);var i={remove:function(){xt(t,function(o,s){if(o.id===r.id)return t[TC](s,1),-1})}};return i}function nye(t,e,n){for(var r=!1,i=t[qt],o=0;o<i;++o){var s=t[o];if(s)try{if(s.fn[FI](null,[e])===!1){r=!0;break}}catch(a){Fn(n,2,64,"Telemetry initializer failed: "+LK(a),{exception:wn(a)},!0)}}return!r}var rye=function(t){SC(e,t);function e(){var n=t.call(this)||this;n.identifier="TelemetryInitializerPlugin",n.priority=199;var r,i;o(),Jn(e,n,function(s,a){s.addTelemetryInitializer=function(c){return tye(i,r++,c)},s[Sc]=function(c,l){nye(i,c,l?l[vl]():s[vl]())&&s[Zi](c,l)},s[FE]=function(){o()}});function o(){r=0,i=[]}return n}return e.__ieDyn=1,e}(XL),Su,pG="Plugins must provide initialize method",iye="_notificationManager",gB="SDK is still unloading...",oye="SDK is not initialized",sye=100,aye=5e4,vR=yv((Su={cookieCfg:{}},Su[hm]={rdOnly:!0,ref:!0,v:[]},Su[jf]={rdOnly:!0,ref:!0,v:[]},Su[ng]={ref:!0,v:{}},Su[WO]=nc,Su.loggingLevelConsole=0,Su.diagnosticLogInterval=nc,Su));function cye(t,e){return new Wve(e)}function lye(t,e,n){var r,i=[],o=[],s={};return xt(n,function(a){(Mn(a)||Mn(a[IC]))&&Os(pG);var c=a[BE],l=a[Uu];a&&c&&(Mn(s[c])?s[c]=l:Ub(t,"Two extensions have same priority #"+c+" - "+s[c]+", "+l)),!c||c<e?i[In](a):o[In](a)}),r={},r[Kr]=i,r[jf]=o,r}function vB(t,e){var n=!1;return xt(e,function(r){if(r===t)return n=!0,-1}),n}function rN(t,e,n,r){n&&Hn(n,function(i,o){r&&wa(o)&&wa(e[i])&&rN(t,e[i],o,r),r&&wa(o)&&wa(e[i])?rN(t,e[i],o,r):t.set(e,i,o)})}function yB(t,e){var n=null,r=-1;return xt(t,function(i,o){if(i.w===e)return n=i,r=o,-1}),{i:r,l:n}}function uye(t,e){var n=yB(t,e).l;return n||(n={w:e,rm:function(){var r=yB(t,e);r.i!==-1&&t[TC](r.i,1)}},t[In](n)),n}function dye(t,e,n){xt(e,function(r){var i=ji(t,r.w,n);delete r.w,r.rm=function(){i.rm()}})}function fye(t,e,n,r){return e.add(t[ed](function(i){var o=i.cfg.disableDbgExt;o===!0&&r&&(n[LE](r),r=null),n&&!r&&o!==!0&&(r=Rve(i.cfg),n[DE](r))})),r}function hye(t){return rr({rm:function(){t.rm()}},"toJSON",{v:function(){return"aicore::onCfgChange<"+JSON.stringify(t)+">"}})}var pye=function(){function t(){var e,n,r,i,o,s,a,c,l,d,p,m,g,C,_,S,w,T,I,A,k,R,M,P,N,D,G,U,W,$,L,B;Jn(t,this,function(j){q(),j._getDbgPlgTargets=function(){return[M,i]},j[uc]=function(){return n},j.activeStatus=function(){return D},j._setPendingStatus=function(){D=3},j[IC]=function(Y,ge,Ee,ye){g&&Os(gB),j[uc]()&&Os("Core cannot be initialized more than once"),e=as(Y,vR,Ee||j[Ir],!1),Y=e.cfg,xe(e[ed](function(De){var Xe=De.cfg,mt=D===3;if(!mt){U=Xe.initInMemoMaxSize||sye;var qe=Xe[D6],dt=Xe.endpointUrl;if(Mn(qe)){k=null,D=Yp[Wk];var $t="Please provide instrumentation key";n?(Fn(r,1,100,$t),K()):Os($t);return}var nn=[];if(Ug(qe)?(nn[In](qe),k=null):k=qe,Ug(dt)?(nn[In](dt),G=null):G=dt,nn[qt]){W=!1,D=3;var Wt=HE(Xe.initTimeOut)?Xe.initTimeOut:aye,Ye=jge(nn);Ph(function(){W||V()},Wt),Hg(Ye,function(te){try{if(W)return;if(!te.rejected){var Re=te[jb];if(Re&&Re[qt]){var Me=Re[0];if(k=Me&&Me[jb],Re[qt]>1){var Fe=Re[1];G=Fe&&Fe[jb]}}k&&(Y[D6]=k,Y.endpointUrl=G)}V()}catch{W||V()}})}else V();var et=De.ref(De.cfg,ng);Hn(et,function(te){De.ref(et,te)})}})),o=ye,I=fye(e,T,o&&j[Tw](),I),ee(),j[Ir]=Ee;var pe=Y[hm];if(d=[],d[In].apply(d,P6(P6([],ge,!1),pe)),p=Y[jf],Ce(null),(!m||m[qt]===0)&&Os("No "+jf+" available"),p&&p[qt]>1){var Le=j[M0]("TeeChannelController");(!Le||!Le.plugin)&&Fn(r,1,28,"TeeChannel required")}dye(Y,R,r),R=null,n=!0,D===Yp.ACTIVE&&K()},j.getChannels=function(){var Y=[];return m&&xt(m,function(ge){Y[In](ge)}),Rh(Y)},j.track=function(Y){To(j[VE](),function(){return"AppInsightsCore:track"},function(){Y===null&&(ue(Y),Os("Invalid telemetry item")),!Y[fh]&&Mn(Y[fh])&&(ue(Y),Os("telemetry name required")),Y[Vy]=Y[Vy]||k,Y[eg]=Y[eg]||YO(new Date),Y.ver=Y.ver||"4.0",!g&&j[uc]()&&D===Yp.ACTIVE?le()[Zi](Y):D!==Yp[Wk]&&i[qt]<=U&&i[In](Y)},function(){return{item:Y}},!Y.sync)},j[TK]=le,j[Tw]=function(){return o||(o=new zve(e.cfg),j[iye]=o),o},j[DE]=function(Y){j.getNotifyMgr()[DE](Y)},j[LE]=function(Y){o&&o[LE](Y)},j.getCookieMgr=function(){return c||(c=xS(e.cfg,j[Ir])),c},j.setCookieMgr=function(Y){c!==Y&&(Cb(c,!1),c=Y)},j[VE]=function(){return s||a||Kve()},j.setPerfMgr=function(Y){s=Y},j.eventCnt=function(){return i[qt]},j.releaseQueue=function(){if(n&&i[qt]>0){var Y=i;i=[],D===2?xt(Y,function(ge){ge[Vy]=ge[Vy]||k,le()[Zi](ge)}):Fn(r,2,20,"core init status is not active")}},j[j6]=function(Y){return _=Y||null,B=!1,$&&$[Mm](),z(!0)};function V(){W=!0,Mn(k)?(D=Yp[Wk],Fn(r,1,112,"ikey can't be resolved from promises")):D=Yp.ACTIVE,K()}function K(){n&&(j.releaseQueue(),j[j6]())}function z(Y){if((!$||!$[Lm])&&!B){var ge=Y||r&&r.queue[qt]>0;ge&&(L||(L=!0,xe(e[ed](function(Ee){var ye=Ee.cfg.diagnosticLogInterval;(!ye||!(ye>0))&&(ye=1e4);var pe=!1;$&&(pe=$[Lm],$[Mm]()),$=vge(Oe,ye),$.unref(),$[Lm]=pe}))),$[Lm]=!0)}return $}j[F6]=function(){B=!0,$&&$[Mm](),Oe()},DK(j,function(){return C},["addTelemetryInitializer"]),j[yd]=function(Y,ge,Ee){var ye;Y===void 0&&(Y=!0),n||Os(oye),g&&Os(gB);var pe=(ye={reason:50},ye[Vg]=Y,ye.flushComplete=!1,ye),Le;Y&&!ge&&(Le=Mh(function(mt){ge=mt}));var De=YE(be(),j);De[Iw](function(){T.run(j[Ir]),tG([c,o,r],Y,function(){q(),ge&&ge(pe)})},j);function Xe(mt){pe.flushComplete=mt,g=!0,w.run(De,pe),j[F6](),De[Zi](pe)}return Oe(),Q(Y,Xe,6,Ee),Le},j[M0]=_e,j.addPlugin=function(Y,ge,Ee,ye){if(!Y){ye&&ye(!1),re(pG);return}var pe=_e(Y[Uu]);if(pe&&!ge){ye&&ye(!1),re("Plugin ["+Y[Uu]+"] is already loaded!");return}var Le={reason:16};function De(qe){d[In](Y),Le.added=[Y],Ce(Le),ye&&ye(!0)}if(pe){var Xe=[pe.plugin],mt={reason:2,isAsync:!!Ee};Pe(Xe,mt,function(qe){qe?(Le.removed=Xe,Le.reason|=32,De()):ye&&ye(!1)})}else De()},j.updateCfg=function(Y,ge){ge===void 0&&(ge=!0);var Ee;if(j[uc]()){Ee={reason:1,cfg:e.cfg,oldCfg:k6({},e.cfg),newConfig:k6({},Y),merge:ge},Y=Ee.newConfig;var ye=e.cfg;Y[hm]=ye[hm],Y[jf]=ye[jf]}e._block(function(pe){var Le=pe.cfg;rN(pe,Le,Y,ge),ge||Hn(Le,function(De){Zm(Y,De)||pe.set(Le,De,nc)}),pe[Cv](Le,vR)},!0),e[NE](),Ee&&Ie(Ee)},j.evtNamespace=function(){return S},j.flush=Q,j.getTraceCtx=function(Y){return A||(A=Qve()),A},j.setTraceCtx=function(Y){A=Y||null},j.addUnloadHook=xe,zE(j,"addUnloadCb",function(){return w},"add"),j.onCfgChange=function(Y){var ge;return n?ge=ji(e.cfg,Y,j[Ir]):ge=uye(R,Y),hye(ge)},j.getWParam=function(){return vK()||e.cfg.enableWParam?0:-1};function H(){var Y={};P=[];var ge=function(Ee){Ee&&xt(Ee,function(ye){if(ye[Uu]&&ye[U6]&&!Y[ye.identifier]){var pe=ye[Uu]+"="+ye[U6];P[In](pe),Y[ye.identifier]=ye}})};ge(m),p&&xt(p,function(Ee){ge(Ee)}),ge(d)}function q(){n=!1,e=as({},vR,j[Ir]),e.cfg[IK]=1,rr(j,"config",{g:function(){return e.cfg},s:function(ge){j.updateCfg(ge,!1)}}),rr(j,"pluginVersionStringArr",{g:function(){return P||H(),P}}),rr(j,"pluginVersionString",{g:function(){return N||(P||H(),N=P.join(";")),N||_n}}),rr(j,"logger",{g:function(){return r||(r=new GE(e.cfg),e[Ir]=r),r},s:function(ge){e[Ir]=ge,r!==ge&&(Cb(r,!1),r=ge)}}),j[Ir]=new GE(e.cfg),M=[];var Y=j.config[hm]||[];Y.splice(0,Y[qt]),Qu(Y,M),C=new rye,i=[],Cb(o,!1),o=null,s=null,a=null,Cb(c,!1),c=null,l=null,d=[],p=null,m=null,g=!1,_=null,S=_v("AIBaseCore",!0),w=fG(),A=null,k=null,T=hG(),R=[],N=null,P=null,B=!1,$=null,L=!1,D=0,G=null,U=null,W=!1}function le(){var Y=Lh(be(),e.cfg,j);return Y[Iw](z),Y}function Ce(Y){var ge=lye(j[Ir],xve,d);l=null,N=null,P=null,m=(p||[])[0]||[],m=mR(Qu(m,ge[jf]));var Ee=Qu(mR(ge[Kr]),m);M=Rh(Ee);var ye=j.config[hm]||[];ye.splice(0,ye[qt]),Qu(ye,M);var pe=le();m&&m[qt]>0&&fB(pe[Nh](m),Ee),fB(pe,Ee),Y&&Ie(Y)}function _e(Y){var ge=null,Ee=null,ye=[];return xt(M,function(pe){if(pe[Uu]===Y&&pe!==C)return Ee=pe,-1;pe.getChannel&&ye[In](pe)}),!Ee&&ye[qt]>0&&xt(ye,function(pe){if(Ee=pe.getChannel(Y),!Ee)return-1}),Ee&&(ge={plugin:Ee,setEnabled:function(pe){gh(Ee)[KO]=!pe},isEnabled:function(){var pe=gh(Ee);return!pe[tl]&&!pe[KO]},remove:function(pe,Le){var De;pe===void 0&&(pe=!0);var Xe=[Ee],mt=(De={reason:1},De[Vg]=pe,De);Pe(Xe,mt,function(qe){qe&&Ce({reason:32,removed:Xe}),Le&&Le(qe)})}}),ge}function be(){if(!l){var Y=(M||[]).slice();Ws(Y,C)===-1&&Y[In](C),l=Dh(mR(Y),e.cfg,j)}return l}function Pe(Y,ge,Ee){if(Y&&Y[qt]>0){var ye=Dh(Y,e.cfg,j),pe=YE(ye,j);pe[Iw](function(){var Le=!1,De=[];xt(d,function(mt,qe){vB(mt,Y)?Le=!0:De[In](mt)}),d=De,N=null,P=null;var Xe=[];p&&(xt(p,function(mt,qe){var dt=[];xt(mt,function($t){vB($t,Y)?Le=!0:dt[In]($t)}),Xe[In](dt)}),p=Xe),Ee&&Ee(Le),z()}),pe[Zi](ge)}else Ee(!1)}function Oe(){if(r&&r.queue){var Y=r.queue.slice(0);r.queue[qt]=0,xt(Y,function(ge){var Ee,ye=(Ee={},Ee[fh]=_||"InternalMessageId: "+ge[jE],Ee[Vy]=k,Ee[eg]=YO(new Date),Ee.baseType=JO.dataType,Ee.baseData={message:ge[hh]},Ee);j.track(ye)})}}function Q(Y,ge,Ee,ye){var pe=1,Le=!1,De=null;ye=ye||5e3;function Xe(){pe--,Le&&pe===0&&(De&&De[Mm](),De=null,ge&&ge(Le),ge=null)}if(m&&m[qt]>0){var mt=le()[Nh](m);mt.iterate(function(qe){if(qe.flush){pe++;var dt=!1;qe.flush(Y,function(){dt=!0,Xe()},Ee)||dt||(Y&&De==null?De=Ph(function(){De=null,Xe()},ye):Xe())}})}return Le=!0,Xe(),!0}function ee(){var Y;xe(e[ed](function(ge){var Ee=ge.cfg.enablePerfMgr;if(Ee){var ye=ge.cfg[WO];Y!==ye&&(ye||(ye=cye),zge(ge.cfg,WO,ye),Y=ye,a=null),!s&&!a&&Bn(ye)&&(a=ye(j,j[Tw]()))}else a=null,Y=null}))}function Ie(Y){var ge=QL(be(),j);ge[Iw](z),(!j._updateHook||j._updateHook(ge,Y)!==!0)&&ge[Zi](Y)}function re(Y){var ge=j[Ir];ge?(Fn(ge,2,73,Y),z()):Os(Y)}function ue(Y){var ge=j[Tw]();ge&&ge[Fb]([Y],2)}function xe(Y){T.add(Y)}})}return t.__ieDyn=1,t}(),za="",mye="NoResponseBody",bB="&"+mye+"=true",yR="POST",gye=function(){function t(){var e=0,n,r,i,o,s,a,c,l,d,p,m,g,C,_;Jn(t,this,function(S,w){var T=!0;W(),S[IC]=function($,L){i=L,r&&Fn(i,1,28,"Sender is already initialized"),S.SetConfig($),r=!0},S._getDbgPlgTargets=function(){return[r,o,a,n]},S.SetConfig=function($){try{if(s=$.senderOnCompleteCallBack||{},a=!!$.disableCredentials,c=$.fetchCredentials,o=!!$.isOneDs,n=!!$.enableSendPromise,d=!!$.disableXhr,p=!!$.disableBeacon,m=!!$.disableBeaconSync,_=$.timeWrapper,C=!!$.addNoResponse,g=!!$.disableFetchKeepAlive,l={sendPOST:D},o||(T=!1),a){var L=BI();L&&L.protocol&&L.protocol[VL]()==="file:"&&(T=!1)}return!0}catch{}return!1},S.getSyncFetchPayload=function(){return e},S.getSenderInst=function($,L){return $&&$[qt]?R($,L):null},S.getFallbackInst=function(){return l},S[FE]=function($,L){W()};function I($,L){M(L,200,{},$)}function A($,L){Fn(i,2,26,"Failed to send telemetry.",{message:$}),M(L,400,{})}function k($){A("No endpoint url is provided for the batch",$)}function R($,L){for(var B,j=0,V=null,K=0;V==null&&K<$[qt];)j=$[K],!d&&j===1?uve()?V=U:zK()&&(V=D):j===2&&HK(L)&&(!L||!g)?V=G:j===3&&VK()&&(L?!m:!p)&&(V=N),K++;return V?(B={_transport:j,_isSync:L},B[H6]=V,B):null}function M($,L,B,j){try{$&&$(L,B,j)}catch{}}function P($,L){var B=Fl(),j=$[Hy];if(!j)return k(L),!0;j=$[Hy]+(C?bB:za);var V=$[fm],K=o?V:new Blob([V],{type:"text/plain;charset=UTF-8"}),z=B.sendBeacon(j,K);return z}function N($,L,B){var j=$[fm];try{if(j)if(P($,L))I(za,L);else{var V=s&&s.beaconOnRetry;V&&Bn(V)?V($,L,P):(l&&l[H6]($,L,!0),Fn(i,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(K){o&&Ub(i,"Failed to send telemetry using sendBeacon API. Ex:"+wn(K)),M(L,o?0:400,{},za)}}function D($,L,B){var j,V,K,z=$[Gk]||{};!B&&n&&(j=Mh(function(Ce,_e){V=Ce,K=_e})),o&&B&&$.disableXhrSync&&(B=!1);var H=$[Hy];if(!H){k(L),V&&V(!1);return}var q=qge(yR,H,T,!0,B,$[Qp]);o||q[z6]("Content-type","application/json"),xt(gl(z),function(Ce){q[z6](Ce,z[Ce])}),q.onreadystatechange=function(){o||(le(q),q.readyState===4&&V&&V(!0))},q.onload=function(){o&&le(q)};function le(Ce){var _e=s&&s.xhrOnComplete,be=_e&&Bn(_e);if(be)_e(Ce,L,$);else{var Pe=zg(Ce);M(L,Ce[vb],TS(Ce,o),Pe)}}return q.onerror=function(Ce){M(L,o?q[vb]:400,TS(q,o),o?za:Q6(q)),K&&K(Ce)},q.ontimeout=function(){M(L,o?q[vb]:500,TS(q,o),o?za:Q6(q)),V&&V(!1)},q.send($[fm]),j}function G($,L,B){var j,V=$[Hy],K=$[fm],z=o?K:new Blob([K],{type:"application/json"}),H,q,le,Ce=new Headers,_e=K[qt],be=!1,Pe=!1,Oe=$[Gk]||{},Q=(j={method:yR,body:z},j[eB]=!0,j);$.headers&&gl($.headers)[qt]>0&&(xt(gl(Oe),function(ue){Ce.append(ue,Oe[ue])}),Q[Gk]=Ce),c?Q.credentials=c:T&&o&&(Q.credentials="include"),B&&(Q.keepalive=!0,e+=_e,o?$._sendReason===2&&(be=!0,C&&(V+=bB)):be=!0);var ee=new Request(V,Q);try{ee[eB]=!0}catch{}if(!B&&n&&(H=Mh(function(ue,xe){q=ue,le=xe})),!V){k(L),q&&q(!1);return}function Ie(ue){M(L,o?0:400,{},o?za:ue)}function re(ue,xe,Y){var ge=ue[vb],Ee=s.fetchOnComplete;Ee&&Bn(Ee)?Ee(ue,L,Y||za,xe):M(L,ge,{},Y||za)}try{Hg(fetch(o?V:ee,o?Q:null),function(ue){if(B&&(e-=_e,_e=0),!Pe)if(Pe=!0,ue.rejected)Ie(ue.reason&&ue.reason[hh]),le&&le(ue.reason);else{var xe=ue[jb];try{!o&&!xe.ok?(Ie(xe.statusText),q&&q(!1)):o&&!xe.body?(re(xe,null,za),q&&q(!0)):Hg(xe.text(),function(Y){re(xe,$,Y[jb]),q&&q(!0)})}catch(Y){Ie(wn(Y)),le&&le(Y)}}})}catch(ue){Pe||(Ie(wn(ue)),le&&le(ue))}return be&&!Pe&&(Pe=!0,M(L,200,{}),q&&q(!0)),o&&!Pe&&$[Qp]>0&&_&&_.set(function(){Pe||(Pe=!0,M(L,500,{}),q&&q(!0))},$[Qp]),H}function U($,L,B){var j=kd(),V=new XDomainRequest,K=$[fm];V.onload=function(){var Ce=zg(V),_e=s&&s.xdrOnComplete;_e&&Bn(_e)?_e(V,L,$):M(L,200,{},Ce)},V.onerror=function(){M(L,400,{},o?za:Wge(V))},V.ontimeout=function(){M(L,500,{})},V.onprogress=function(){};var z=j&&j.location&&j.location[xK]||"",H=$[Hy];if(!H){k(L);return}if(!o&&H.lastIndexOf(z,0)!==0){var q="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";Fn(i,2,40,". "+q),A(q,L);return}var le=o?H:H[ph](/^(https?:)/,"");V.open(yR,le),$[Qp]&&(V[Qp]=$[Qp]),V.send(K),o&&B?_&&_.set(function(){V.send(K)},0):V.send(K)}function W(){e=0,r=!1,n=!1,i=null,o=null,s=null,a=null,c=null,l=null,d=!1,p=!1,m=!1,g=!1,C=!1,_=null}})}return t.__ieDyn=1,t}(),mG="on",CB="attachEvent",_B="addEventListener",wB="detachEvent",SB="removeEventListener",iN="events",U0="visibilitychange",HI="pagehide",gG="pageshow",vG="unload",yG="beforeunload",bG=_v("aiEvtPageHide"),CG=_v("aiEvtPageShow"),vye=/\.[\.]+/g,yye=/[\.]+$/,bye=1,QE=QK("events"),Cye=/^([^.]*)(?:\.(.+)|)/;function EB(t){return t&&t[ph]?t[ph](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,_n):t}function ZL(t,e){var n;if(e){var r=_n;un(e)?(r=_n,xt(e,function(o){o=EB(o),o&&(o[0]!=="."&&(o="."+o),r+=o)})):r=EB(e),r&&(r[0]!=="."&&(r="."+r),t=(t||_n)+r)}var i=Cye.exec(t||_n)||[];return n={},n[yl]=i[1],n.ns=(i[2]||_n).replace(vye,".").replace(yye,_n)[UI](".").sort().join("."),n}function _G(t,e,n){n===void 0&&(n=!0);var r=QE.get(t,iN,{},n),i=r[e];return i||(i=r[e]=[]),i}function wG(t,e,n,r){t&&e&&e[yl]&&(t[SB]?t[SB](e[yl],n,r):t[wB]&&t[wB](mG+e[yl],n))}function _ye(t,e,n,r){var i=!1;return t&&e&&e[yl]&&n&&(t[_B]?(t[_B](e[yl],n,r),i=!0):t[CB]&&(t[CB](mG+e[yl],n),i=!0)),i}function TB(t,e,n,r){for(var i=e[qt];i--;){var o=e[i];o&&(!n.ns||n.ns===o.evtName.ns)&&(!r||r(o))&&(wG(t,o.evtName,o[HL],o.capture),e[TC](i,1))}}function wye(t,e,n){if(e[yl])TB(t,_G(t,e[yl]),e,n);else{var r=QE.get(t,iN,{});Hn(r,function(i,o){TB(t,o,e,n)}),gl(r)[qt]===0&&QE.kill(t,iN)}}function xC(t,e){var n;return e?(un(e)?n=[t].concat(e):n=[t,e],n=ZL("xx",n).ns[UI](".")):n=t,n}function bR(t,e,n,r,i){var o;i===void 0&&(i=!1);var s=!1;if(t)try{var a=ZL(e,r);if(s=_ye(t,a,n,i),s&&QE.accept(t)){var c=(o={guid:bye++,evtName:a},o[HL]=n,o.capture=i,o);_G(t,a.type)[In](c)}}catch{}return s}function CR(t,e,n,r,i){if(i===void 0&&(i=!1),t)try{var o=ZL(e,r),s=!1;wye(t,o,function(a){return o.ns&&!n||a[HL]===n?(s=!0,!0):!1}),s||wG(t,o,n,i)}catch{}}function Sye(t,e,n){var r=!1,i=kd();i&&(r=bR(i,t,e,n),r=bR(i.body,t,e,n)||r);var o=Rl();return o&&(r=bR(o,t,e,n)||r),r}function Eye(t,e,n){var r=kd();r&&(CR(r,t,e,n),CR(r.body,t,e,n));var i=Rl();i&&CR(i,t,e,n)}function $g(t,e,n,r){var i=!1;return e&&t&&t[qt]>0&&xt(t,function(o){o&&(!n||Ws(n,o)===-1)&&(i=Sye(o,e,r)||i)}),i}function Tye(t,e,n,r){var i=!1;return e&&t&&un(t)&&(i=$g(t,e,n,r),!i&&n&&n[qt]>0&&(i=$g(t,e,null,r))),i}function B0(t,e,n){t&&un(t)&&xt(t,function(r){r&&Eye(r,e,n)})}function Iye(t,e,n){return Tye([yG,vG,HI],t,e,n)}function xye(t,e){B0([yG,vG,HI],t,e)}function SG(t,e,n){function r(s){var a=Rl();t&&a&&a.visibilityState==="hidden"&&t(s)}var i=xC(bG,n),o=$g([HI],t,e,i);return(!e||Ws(e,U0)===-1)&&(o=$g([U0],r,e,i)||o),!o&&e&&(o=SG(t,null,n)),o}function Aye(t,e){var n=xC(bG,e);B0([HI],t,n),B0([U0],null,n)}function EG(t,e,n){function r(s){var a=Rl();t&&a&&a.visibilityState==="visible"&&t(s)}var i=xC(CG,n),o=$g([gG],t,e,i);return o=$g([U0],r,e,i)||o,!o&&e&&(o=EG(t,null,n)),o}function kye(t,e){var n=xC(CG,e);B0([gG],t,n),B0([U0],null,n)}var wv="",Rye="https://browser.events.data.microsoft.com/OneCollector/1.0/",IB="version",_R="properties",xB="initialize",AB="logger",Pye="indexOf",Bu="timings",kB="pollInternalLogs",xs="value",RB="kind",JL="length",wR="processTelemetryStart",qc,Oye="4.3.3",TG="1DS-Web-JS-"+Oye,IG=gme.hasOwnProperty,Nye=(qc={},qc[0]=0,qc[2]=6,qc[1]=1,qc[3]=7,qc[4098]=6,qc[4097]=1,qc[4099]=7,qc);function Vu(t){return!(t===wv||Mn(t))}function Mye(t){if(t){var e=jI(t,"-");if(e>-1)return kL(t,e)}return wv}function Lye(t){return!!(t&&md(t)&&t>=1&&t<=4)}function Dye(t,e,n){if(!e&&!Vu(e)||typeof t!="string")return null;var r=typeof e;if(r==="string"||r==="number"||r==="boolean"||un(e))e={value:e};else if(r==="object"&&!IG.call(e,"value"))e={value:n?JSON.stringify(e):e};else if(Mn(e[xs])||e[xs]===wv||!Di(e[xs])&&!md(e[xs])&&!kh(e[xs])&&!un(e[xs]))return null;if(un(e[xs])&&!Uye(e[xs]))return null;if(!Mn(e[RB])){if(un(e[xs])||!jye(e[RB]))return null;e[xs]=e[xs].toString()}return e}function xG(t,e,n){var r=-1;if(!$n(t))if(e>0&&(e===32?r=8192:e<=13&&(r=e<<5)),Fye(n))r===-1&&(r=0),r|=n;else{var i=Nye[sN(t)]||-1;r!==-1&&i!==-1?r|=i:i===6&&(r=i)}return r}function Wg(t,e,n){n===void 0&&(n=!0);var r;return t&&(r=t.get(e),n&&r&&decodeURIComponent&&(r=decodeURIComponent(r))),r||wv}function PB(t){t===void 0&&(t="D");var e=cG();return t==="B"?e="{"+e+"}":t==="P"?e="("+e+")":t==="N"&&(e=e.replace(/-/g,wv)),e}function XE(t,e,n,r,i){var o={},s=!1,a=0,c=arguments[JL],l=arguments;for(kh(l[0])&&(s=l[0],a++);a<c;a++){var t=l[a];Hn(t,function(p,m){s&&m&&Fg(m)?un(m)?(o[p]=o[p]||[],xt(m,function(g,C){g&&Fg(g)?o[p][C]=XE(!0,o[p][C],g):o[p][C]=g})):o[p]=XE(!0,o[p],m):o[p]=m})}return o}var Ya=uge;function jye(t){return t===0||t>0&&t<=13||t===32}function Fye(t){return t>=0&&t<=9}function Uye(t){return t[JL]>0}function oN(t,e){var n=t;n[Bu]=n[Bu]||{},n[Bu][wR]=n[Bu][wR]||{},n[Bu][wR][e]=Ya()}function sN(t){var e=0;if(t!=null){var n=typeof t;n==="string"?e=1:n==="number"?e=2:n==="boolean"?e=3:n===_L&&(e=4,un(t)?(e=4096,t[JL]>0&&(e|=sN(t[0]))):IG.call(t,"value")&&(e=8192|sN(t[xs])))}return e}function Bye(){return!!Fr("chrome")}function Vb(t){return t>0}var Vye=yv({endpointUrl:Rye,propertyStorageOverride:{isVal:Hye}});function Hye(t){return t&&(!t.getProperty||!t.setProperty)&&Os("Invalid property storage override passed."),!0}var zye=function(t){SC(e,t);function e(){var n=t.call(this)||this;return Jn(e,n,function(r,i){r[xB]=function(o,s,a,c){To(r,function(){return"AppInsightsCore.initialize"},function(){try{i[xB](as(o,Vye,a||r[AB],!1).cfg,s,a,c)}catch(p){var l=r[AB],d=wn(p);d[Pye]("channels")!==-1&&(d+=`
 - Channels must be provided through config.channels only!`),Fn(l,1,514,"SDK Initialization Failed - no telemetry will be sent: "+d)}},function(){return{config:o,extensions:s,logger:a,notificationManager:c}})},r.track=function(o){To(r,function(){return"AppInsightsCore.track"},function(){var s=o;if(s){s[Bu]=s[Bu]||{},s[Bu].trackStart=Ya(),Lye(s.latency)||(s.latency=1);var a=s.ext=s.ext||{};a.sdk=a.sdk||{},a.sdk.ver=TG;var c=s.baseData=s.baseData||{};c[_R]=c[_R]||{};var l=c[_R];l[IB]=l[IB]||r.pluginVersionString||wv}i.track(s)},function(){return{item:o}},!o.sync)},r[kB]=function(o){return i[kB](o||"InternalLog")}}),n}return e.__ieDyn=1,e}(pye),$ye="device",AG="locale",eD="ver",Wye="browser",Kye="browserVer",Gye="popSample",qye="eventFlags",tD="name",Yye="serviceName",$o=Ro({UserExt:[0,"user"],DeviceExt:[1,$ye],TraceExt:[2,"trace"],WebExt:[3,"web"],AppExt:[4,"app"],OSExt:[5,"os"],SdkExt:[6,"sdk"],IntWebExt:[7,"intweb"],UtcExt:[8,"utc"],LocExt:[9,"loc"],CloudExt:[10,"cloud"],DtExt:[11,"dt"]}),Qye=Ro({id:[0,"id"],ver:[1,eD],appName:[2,tD],locale:[3,AG],expId:[4,"expId"],env:[5,"env"]}),Xye=Ro({domain:[0,"domain"],browser:[1,Wye],browserVer:[2,Kye],screenRes:[3,"screenRes"],userConsent:[4,"userConsent"],consentDetails:[5,"consentDetails"]}),Zye=Ro({locale:[0,AG],localId:[1,"localId"],id:[2,"id"]}),Jye=Ro({osName:[0,tD],ver:[1,eD]}),ebe=Ro({ver:[0,eD],seq:[1,"seq"],installId:[2,"installId"],epoch:[3,"epoch"]}),tbe=Ro({msfpc:[0,"msfpc"],anid:[1,"anid"],serviceName:[2,Yye]}),nbe=Ro({popSample:[0,Gye],eventFlags:[1,qye]}),rbe=Ro({tz:[0,"tz"]}),ibe=Ro({sessionId:[0,"sesId"]}),obe=Ro({localId:[0,"localId"],deviceClass:[1,"deviceClass"],make:[2,"make"],model:[3,"model"]}),sbe=Ro({role:[0,"role"],roleInstance:[1,"roleInstance"],roleVer:[2,"roleVer"]}),abe=Ro({traceId:[0,"traceID"],traceName:[1,tD],parentId:[2,"parentID"]}),cbe=Ro({traceId:[0,"traceId"],spanId:[1,"spanId"],traceFlags:[2,"traceFlags"]}),Hb;function kG(){return Hb===void 0&&(Hb=!!PG(0)),Hb}function RG(){return kG()?PG(0):null}function PG(t){var e=null,n,r;try{var i=bv();if(!i)return null;r=new Date,e=t===0?i.localStorage:i.sessionStorage,e&&Bn(e.setItem)&&(e.setItem(r,r),n=e.getItem(r)!==r,e.removeItem(r),n&&(e=null))}catch{e=null}return e}function lbe(t,e,n){var r=RG();if(r!==null)try{return r.setItem(e,n),!0}catch(i){Hb=!1,Fn(t,1,504,"Browser failed write to local storage. "+i)}return!1}function ube(t,e){var n=RG();if(n!==null)try{return n.getItem(e)}catch(r){Hb=!1,Fn(t,1,503,"Browser failed read of local storage. "+r)}return null}function dbe(){return this.getId()}function fbe(t){this.setId(t)}var OG=function(){function t(){Jn(t,this,function(e){e.setId=function(n){e.customId=n},e.getId=function(){return Di(e.customId)?e.customId:e.automaticId}})}return t._staticInit=function(){rr(t.prototype,"id",{g:dbe,s:fbe})}(),t}(),OB="ai_session",hbe=function(){function t(e,n,r){var i,o=KL(e),s=sG(e),a,c;Jn(t,this,function(l){var d=ji(n,function(){c=n,l.config=c});r&&r.add(d),a=function(){return l.config.namePrefix?OB+l.config.namePrefix:OB},l.automaticSession=new OG,l.update=function(){l.automaticSession.getId()||p();var S=l.automaticSession,w=l.config,T=new Date().getTime(),I=T-S.acquisitionDate>w.sessionExpirationMs,A=T-S.renewalDate>w.sessionRenewalMs;if(I||A)g();else{var k=i;(!k||T-k>t.cookieUpdateInterval)&&(S.renewalDate=T,C(S.getId(),S.acquisitionDate,S.renewalDate))}},l.backup=function(){var S=l.automaticSession;_(S.getId(),S.acquisitionDate,S.renewalDate)};function p(){var S=s.get(a());if(S&&Bn(S.split))m(S);else{var w=ube(o,a());w&&m(w)}l.automaticSession.getId()||g()}function m(S){var w=l.automaticSession,T=S.split("|");T.length>0&&w.setId(T[0]);try{if(T.length>1){var I=+T[1];w.acquisitionDate=+new Date(I),w.acquisitionDate=w.acquisitionDate>0?w.acquisitionDate:0}if(T.length>2){var A=+T[2];w.renewalDate=+new Date(A),w.renewalDate=w.renewalDate>0?w.renewalDate:0}}catch(k){Fn(o,1,510,"Error parsing ai_session cookie, session will be reset: "+k)}w.renewalDate===0&&Fn(o,2,517,"AI session renewal date is 0, session will be reset.")}function g(){var S=l.automaticSession,w=new Date().getTime(),T=l.config.sessionAsGuid;!$n(T)&&T?kh(T)?S.setId(PB()):S.setId(PB(T)):S.setId($L(c.idLength||22)),S.acquisitionDate=w,S.renewalDate=w,C(S.getId(),S.acquisitionDate,S.renewalDate),kG()||Fn(o,2,505,"Browser does not support local storage. Session durations will be inaccurate.")}function C(S,w,T){var I=w+l.config.sessionExpirationMs,A=T+l.config.sessionRenewalMs,k=new Date,R=[S,w,T];I<A?k.setTime(I):k.setTime(A);var M=l.config.cookieDomain||null;s.set(a(),R.join("|")+";expires="+k.toUTCString(),null,M),i=new Date().getTime()}function _(S,w,T){lbe(o,a(),[S,w,T].join("|"))}})}return t.cookieUpdateInterval=6e4,t}(),nD=["AX","EX","SF","CS","CF","CT","CU","DC","DF","H5","HL","WS","WP"];function NB(t,e){e===void 0&&(e=nD);var n=null;if(t)for(var r=t.split(","),i=0;i<r.length;i++)pbe(r[i],e)&&(n?n+=","+r[i]:n=r[i]);return n}function pbe(t,e){if(e===void 0&&(e=nD),!t||t.length<4)return!1;for(var n=!1,r=256,i=t.substring(0,3).toString().toUpperCase(),o=0;o<e.length;o++)if(e[o]+":"===i&&t.length<=r){n=!0;break}return n}function mbe(){return this.getExpId()}var gbe=function(){function t(e,n,r){var i=null,o=nD.slice(0),s="Treatments",a,c=null;Jn(t,this,function(l){if(_(e),vK()){var d=Rl().documentElement;d&&(l.locale=d.lang)}l.getExpId=function(){return c.expId?C(c.expId):g()};function p(S){var w,T={},I=Rl();if(I){w=I&&I.querySelectorAll("meta");for(var A=0;A<w.length;A++){var k=w[A];if(k.name){var R=k.name.toLowerCase();if(R.indexOf(S)===0){var M=k.name.replace(S,"");T[M]=k.content}}}}return T}function m(S){S!==i&&(i=NB(S,o))}function g(){var S=Wg(a,s);return m(S),i}function C(S){return m(S),i}function _(S){var w=ji(S,function(){a=n&&n.getCookieMgr(),c=S||{},l.env=c.env||p("awa-").env});r&&r.add(w)}})}return t.validateAppExpId=NB,t._staticInit=function(){rr(t.prototype,"expId",{g:mbe})}(),t}(),vbe=function(){function t(){}return t}(),ybe=function(){function t(){}return t}();function bbe(){return this.getMsfpc()}function Cbe(){return this.getAnid()}var _be=function(){function t(e,n,r){var i;Jn(t,this,function(o){s(e),o.getMsfpc=function(){return Wg(i,"MSFPC")},o.getAnid=function(){return Wg(i,"ANON").slice(0,34)};function s(a){var c=ji(a,function(){i=n&&n.getCookieMgr();var l=a||{};l.serviceName&&(o.serviceName=l.serviceName)});r&&r.add(c)}})}return t._staticInit=function(){var e=t.prototype;rr(e,"msfpc",{g:bbe}),rr(e,"anid",{g:Cbe})}(),t}(),wbe=function(){function t(){var e=new Date().getTimezoneOffset(),n=e%60,r=(e-n)/60,i="+";r>0&&(i="-"),r=Math.abs(r),n=Math.abs(n),this.tz=i+(r<10?"0"+r:r.toString())+":"+(n<10?"0"+n:n.toString())}return t}(),Eu={WIN:/(windows|win32)/i,WINRT:/ arm;/i,WINPHONE:/windows\sphone\s\d+\.\d+/i,OSX:/(macintosh|mac os x)/i,IOS:/(ipad|iphone|ipod)(?=.*like mac os x)/i,LINUX:/(linux|joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)/i,ANDROID:/android/i,CROS:/CrOS/i},MB={"5.1":"XP","6.0":"Vista","6.1":"7","6.2":"8","6.3":"8.1","10.0":"10"},Sbe="([\\d,.]+)",NG="([\\d,_,.]+)",Sv="Unknown",LB=[{r:Eu.WINPHONE,os:"Windows Phone"},{r:Eu.WINRT,os:"Windows RT"},{r:Eu.WIN,os:"Windows"},{r:Eu.IOS,os:"iOS"},{r:Eu.ANDROID,os:"Android"},{r:Eu.LINUX,os:"Linux"},{r:Eu.CROS,os:"Chrome OS"},{s:"x11",os:"Unix"},{s:"blackberry",os:"BlackBerry"},{s:"symbian",os:"Symbian"},{s:"nokia",os:"Nokia"},{r:Eu.OSX,os:"Mac OS X"}];function Ebe(t){for(var e=0;e<LB.length;e++){var n=LB[e];if(n.r&&t.match(n.r))return n.os;if(n.s&&t.indexOf(n.s)!==-1)return n.os}return Sv}function Tbe(t,e){return e==="Windows"?DB(t,"Windows NT"):e==="Android"?DB(t,e):e==="Mac OS X"?Ibe(t):e==="iOS"?xbe(t):Sv}function DB(t,e){var n=t.match(new RegExp(e+" "+Sbe));return n?MB[n[1]]?MB[n[1]]:n[1]:Sv}function Ibe(t){var e=t.match(new RegExp("Mac OS X "+NG));if(e){var n=e[1].replace(/_/g,".");if(n){var r=MG(n);if(r){var i=n.split(r);return i[0]}else return n}}return Sv}function xbe(t){var e=t.match(new RegExp("OS "+NG));if(e){var n=e[1].replace(/_/g,".");if(n){var r=MG(n);if(r){var i=n.split(r);return i[0]}else return n}}return Sv}function MG(t){return t.indexOf(".")>-1?".":t.indexOf("_")>-1?"_":null}var Abe=function(){function t(e,n){var r=this,i,o=null,s=null,a=null,c=null,l=function(C){a=C},d=function(C){c=C},p=function(){return a||o},m=function(){return c||s},g=ji(e,function(){if(i=e||{},i.populateOperatingSystemInfo){var C=Fl()||{},_=e.userAgent||C.userAgent||"",S=(e.userAgentData||{}).platform||(C.userAgentData||{}).platform;if(_){var w=Ebe(_.toLowerCase());o=w,s=Tbe(_,w)}(!o||o===Sv)&&Di(S)&&(o=S)}});n&&n.add(g),rr(r,"name",{s:l,g:p}),rr(r,"ver",{s:d,g:m})}return t}(),SR="MicrosoftApplicationsTelemetryDeviceId";function kbe(t,e,n,r){e?e.setProperty(n,r):t.set(n,r,31536e3)}function Rbe(t,e,n){return e?e.getProperty(n)||"":Wg(t,n)}var Pbe=function(){function t(e,n,r){var i=0,o;Jn(t,this,function(s){s.seq=i,s.epoch=j0(!1).toString(),s.getSequenceId=function(){return++i};var a=ji(e,function(c){o=n&&n.getCookieMgr();var l=c.cfg,d=l.propertyStorageOverride,p=o.isEnabled();if(p||d){var m=Rbe(o,d,SR);m||(m=cG()),kbe(o,d,SR,m),s.installId=m}else o.purge(SR)});r&&r.add(a)})}return t.__ieDyn=1,t}(),Obe=function(){function t(e,n,r,i,o){var s=this;s.traceId=n||nN();var a=ji(e,function(){var c=e;if(c.enableDistributedTracing&&!r&&(r=nN().substring(0,16)),s.parentId=s.parentId||r,c.enableApplicationInsightsTrace&&!i){var l=BI();l&&l.pathname&&(i=l.pathname)}s.name=s.name||i});o&&o.add(a)}return t}(),LG="setLocalId";function Nbe(){return this.getLocalId()}function Mbe(t){this[LG](t)}var Lbe=function(){function t(e,n,r,i){var o,s,a;Jn(t,this,function(c){if(p(n),typeof navigator<"u"){var l=navigator;c.locale=l.userLanguage||l.language}c.getLocalId=function(){return s||d()},c[LG]=function(m){s=m};function d(){if(!o.hashIdentifiers&&!o.dropIdentifiers){var m=Wg(a,"MUID");m&&(s="t:"+m)}return s}function p(m){var g=ji(m,function(){if(a=r&&r.getCookieMgr(),o=m,s=null,a&&a.isEnabled()&&(d(),o.enableApplicationInsightsUser)){var C=Wg(a,t.userCookieName);if(C){var _=C.split(t.cookieSeparator);_.length>0&&(c.id=_[0])}if(!c.id){c.id=$L(e&&!$n(e.idLength)?e.idLength:22);var S=YO(new Date);c.accountAcquisitionDate=S;var w=[c.id,S],T=o.cookieDomain?o.cookieDomain:void 0;a.set(t.userCookieName,w.join(t.cookieSeparator),31536e3,T)}}});i&&i.add(g)}})}return t.cookieSeparator="|",t.userCookieName="ai_user",t._staticInit=function(){rr(t.prototype,"localId",{g:Nbe,s:Mbe})}(),t}(),Dbe=1048576,jbe=2097152,Fbe=4194304,Ube=function(){function t(e,n){var r=this;r.popSample=100;var i=ji(e,function(){r.eventFlags=0,e.hashIdentifiers&&(r.eventFlags=r.eventFlags|Dbe),e.dropIdentifiers&&(r.eventFlags=r.eventFlags|jbe),e.scrubIpOnly&&(r.eventFlags=r.eventFlags|Fbe)});n&&n.add(i)}return t}(),jB=["Required","Analytics","SocialMedia","Advertising"],ZE="([\\d,.]+)",DG="Unknown",jG="Edg/",FG="EdgiOS/",ER=[{ua:"OPR/",b:"Opera"},{ua:"PhantomJS",b:"PhantomJS"},{ua:"Edge",b:"Edge"},{ua:jG,b:"Edge"},{ua:FG,b:"Edge"},{ua:"Electron",b:"Electron"},{ua:"Chrome",b:"Chrome"},{ua:"Trident",b:"MSIE"},{ua:"MSIE ",b:"MSIE"},{ua:"Firefox",b:"Firefox"},{ua:"Safari",b:"Safari"},{ua:"SkypeShell",b:"SkypeShell"}],TR=[{br:"Microsoft Edge",b:"Edge"},{br:"Google Chrome",b:"Chrome"},{br:"Opera",b:"Opera"}];function aN(t,e){return e.indexOf(t)>-1}function Bbe(t,e){for(var n=0;n<e.length;n++)if(t==e[n].brand)return e[n].version;return null}function Vbe(t){if(t)for(var e=0;e<ER.length;e++){var n=ER[e].ua;if(aN(n,t))return ER[e].b}return DG}function Hbe(t,e){return e==="MSIE"?zbe(t):$be(e,t)}function zbe(t){var e=t.match(new RegExp("MSIE "+ZE));if(e)return e[1];var n=t.match(new RegExp("rv:"+ZE));if(n)return n[1]}function $be(t,e){t==="Safari"?t="Version":t==="Edge"&&(aN(jG,e)?t="Edg":aN(FG,e)&&(t="EdgiOS"));var n=e.match(new RegExp(t+"/"+ZE));return n||t==="Opera"&&(n=e.match(new RegExp("OPR/"+ZE)),n)?n[1]:DG}function Wbe(){var t={h:0,w:0},e=kd();return e&&e.screen&&(t.h=screen.height,t.w=screen.width),t}function Kbe(){return this.getUserConsent()}var Gbe=function(){function t(e,n,r){sG(n);var i=e||{},o=null,s=null,a=null,c=null,l=null,d=null,p=null;Jn(t,this,function(m){M(e);var g=BI();if(g){var C=g.hostname;C&&(m.domain=g.protocol==="file:"?"local":C)}var _=Wbe();m.screenRes=_.w+"X"+_.h,m.getUserConsent=function(){return!1},m.getUserConsentDetails=function(){var P=null;try{var N=i.callback;if(N&&N.userConsentDetails){var D=N.userConsentDetails();if(D){i.disableConsentDetailsSanitize?P=D:P={};for(var G=0;G<jB.length;G++){var U=jB[G];P[U]=D[U]||!1}}}return p!==null&&(P=P||{},P.GPC_DataSharingOptIn=!!p),P?JSON.stringify(P):null}catch{}};function S(P,N){if(un(N))try{for(var D=0;D<TR.length;D++){var G=Bbe(TR[D].br,N);if(G){l=TR[D].b,d=G;return}}}catch{}if(P){var U=Vbe(P);l=U,d=Hbe(P,U)}}function w(P){a=P}function T(P){c=P}function I(){return a||l}function A(){return c||d}var k=function(){return p},R=function(P){p=kh(P)?P:null,i.gpcDataSharingOptIn=p};function M(P){var N=ji(P,function(){if(i=P,i.populateBrowserInfo){var D=i.userAgent,G=(i.userAgentData||{}).brands;if(D!==o||G!==s){if(!D||!G||G.length===0){var U=Fl();U&&(D=D||U.userAgent||"",G=G||(U.userAgentData||{}).brands)}S(D,G),o=D,s=G}}p=kh(i.gpcDataSharingOptIn)?i.gpcDataSharingOptIn:null});r&&r.add(N)}uK(m,{userConsent:{g:m.getUserConsent},browser:{s:w,g:I},browserVer:{s:T,g:A},gpcDataSharingOptIn:{g:k,s:R}})})}return t._staticInit=function(){rr(t.prototype,"userConsent",{g:Kbe})}(),t}();function Ho(t,e,n,r,i){var o=e.ext[$o[t]];if(o)try{Hn(r,function(s,a){if(Di(a)||md(a)||kh(a)){var c=o[n[s]];!i&&(c||Di(c)||md(c)||kh(c))&&(a=c),o[n[s]]=a}})}catch{}return o}var qbe=function(){function t(e,n,r,i){Jn(t,this,function(o){o.app=new gbe(n,r,i),o.cloud=new vbe,o.user=new Lbe(e,n,r,i),o.os=new Abe(n,i),o.web=new Gbe(n,r,i);var s=new Pbe(e,r,i),a=new _be(n,r,i),c=new Ube(n,i);o.loc=new wbe,o.device=new ybe;var l=new hbe(r,n,i);o.session=new OG;var d=void 0,p=Ybe(new Obe(n,d,d,d,i),C()),m=!(n||{}).eventContainExtFields;function g(){var _=o.session;if(_&&Di(_.customId))return _.customId;l.update();var S=l.automaticSession;if(S){var w=S.getId();w&&Di(w)&&(_.automaticId=w)}return _.automaticId}o.getTraceCtx=function(){return p},o.getSessionId=g,o.applyApplicationContext=function(_){var S,w=o.app;Ho(4,_,Qye,(S={},S[0]=w.id,S[1]=w.ver,S[2]=w.name,S[3]=w.locale,S[4]=w.getExpId(),S[5]=w.env,S),m)},o.applyUserContext=function(_){var S,w=o.user;Ho(0,_,Zye,(S={},S[1]=w.getLocalId(),S[0]=w.locale,S[2]=w.id,S),m)},o.applyWebContext=function(_){var S,w=o.web;Ho(3,_,Xye,(S={},S[0]=w.domain,S[1]=w.browser,S[2]=w.browserVer,S[3]=w.screenRes,S[5]=w.getUserConsentDetails(),S[4]=!1,S),m)},o.applyOsContext=function(_){var S,w=o.os;Ho(5,_,Jye,(S={},S[0]=w.name,S[1]=w.ver,S),m)},o.applySdkContext=function(_){var S;Ho(6,_,ebe,(S={},S[2]=s.installId,S[1]=s.getSequenceId(),S[3]=s.epoch,S),m)},o.applyIntWebContext=function(_){var S;Ho(7,_,tbe,(S={},S[0]=a.getMsfpc(),S[1]=a.getAnid(),S[2]=a.serviceName,S),m)},o.applyUtcContext=function(_){var S,w=(S={},S[0]=c.popSample,S);c.eventFlags>0&&(w[1]=c.eventFlags),Ho(8,_,nbe,w,m)},o.applyLocContext=function(_){var S;Ho(9,_,rbe,(S={},S[0]=o.loc.tz,S),m)},o.applySessionContext=function(_){var S;Ho(4,_,ibe,(S={},S[0]=g(),S),m)},o.applyDeviceContext=function(_){var S,w=o.device;Ho(1,_,obe,(S={},S[0]=w.localId,S[2]=w.make,S[3]=w.model,S[1]=w.deviceClass,S),m)},o.applyCloudContext=function(_){var S,w=o.cloud;Ho(10,_,sbe,(S={},S[0]=w.role,S[1]=w.roleInstance,S[2]=w.roleVer,S),m)},o.applyAITraceContext=function(_){var S;if(n.enableApplicationInsightsTrace){var w=C();w&&Ho(2,_,abe,(S={},S[0]=w.getTraceId(),S[1]=w.getName(),S[2]=w.getSpanId(),S),!1)}},o.applyDistributedTraceContext=function(_){var S,w=C();if(w){var T=(S={},S[0]=w.getTraceId(),S[1]=w.getSpanId(),S),I=w.getTraceFlags();Mn(I)||(T[2]=I),Ho(11,_,cbe,T,!1)}};function C(){var _=p;return r&&r.getTraceCtx&&(_=r.getTraceCtx(!1)||p),_}})}return t.__ieDyn=1,t}();function Ybe(t,e){var n=t||{};return{getName:function(){return n.name},setName:function(r){e&&e.setName(r),n.name=r},getTraceId:function(){return n.traceId},setTraceId:function(r){e&&e.setTraceId(r),uG(r)&&(n.traceId=r)},getSpanId:function(){return n.parentId},setSpanId:function(r){e&&e.setSpanId(r),dG(r)&&(n.parentId=r)},getTraceFlags:function(){return n.traceFlags},setTraceFlags:function(r){e&&e.setTraceFlags(r),n.traceFlags=r}}}var Pw,Qbe=[$o[4],$o[0],$o[3],$o[5],$o[6],$o[7],$o[8],$o[9],$o[1],$o[2],$o[11],$o[10]],Xbe=yv({populateBrowserInfo:!1,populateOperatingSystemInfo:!1,userAgent:vf(),userAgentData:ZO({brands:Pw,mobile:Pw,platform:Pw}),userConsentCookieName:vf(),userConsented:!1,serviceName:vf(),env:vf(),expId:vf(),sessionRenewalMs:18e5,sessionExpirationMs:864e5,sessionAsGuid:null,cookieDomain:vf(),namePrefix:vf(),enableApplicationInsightsTrace:!1,enableApplicationInsightsUser:!1,hashIdentifiers:!1,dropIdentifiers:!1,scrubIpOnly:!1,callback:ZO({userConsentDetails:null}),gpcDataSharingOptIn:Pw,idLength:22,enableDistributedTracing:!1,eventContainExtFields:!1}),Zbe=function(t){SC(e,t);function e(){var n=t.call(this)||this;n.identifier="SystemPropertiesCollector",n.priority=3,n.version="4.3.3";var r,i,o;return Jn(e,n,function(s,a){c(),s.initialize=function(p,m,g){a.initialize(p,m,g),l(p)},s.processTelemetry=function(p,m){oN(p,s.identifier),m=s._getTelCtx(m);var g=p.ext=p.ext?p.ext:{};p.data=p.data?p.data:{},xt(Qbe,function(C){g[C]=g[C]||{}}),r&&(r.applyUtcContext(p),r.applyApplicationContext(p),r.applyUserContext(p),r.applyWebContext(p),r.applyOsContext(p),r.applySdkContext(p),r.applyIntWebContext(p),r.applyLocContext(p),r.applySessionContext(p),r.applyDeviceContext(p),o.enableApplicationInsightsTrace&&r.applyAITraceContext(p),o.enableDistributedTracing&&r.applyDistributedTraceContext(p),r.applyCloudContext(p)),xt(gl(g),function(C){gl(g[C]).length===0&&delete g[C]}),d(i,p.data),s.processNext(p,m)},s.getPropertiesContext=function(){return r},s.setProperty=function(p,m){i[p]=m},s._doTeardown=function(p,m){var g=(p||{}).core();if(g&&g.getTraceCtx&&r){var C=g.getTraceCtx(!1);C&&C===r.getTraceCtx()&&g.setTraceCtx(null)}c()},s._getDbgPlgTargets=function(){return[o]};function c(){r=null,i={}}function l(p){var m=s.identifier,g=s.core;s._addHook(ji(p,function(){var C=Lh(null,p,g);o=C.getExtCfg(m,Xbe)})),r=new qbe(p,o,g,s._unloadHooks),g&&g.setTraceCtx&&g.setTraceCtx(r.getTraceCtx())}function d(p,m){p&&Hn(p,function(g,C){m[g]||(m[g]=C)})}}),n}return e.__ieDyn=1,e}(XL),Ow="REAL_TIME",Jbe="NEAR_REAL_TIME",e0e="BEST_EFFORT",Du="",cN="drop",t0e="send",FB="requeue",n0e="rspFail",r0e="oth",UB="no-cache, no-store",lN="application/x-json-stream",Nw="cache-control",_b="content-type",i0e="kill-tokens",o0e="kill-duration",s0e="time-delta-millis",uN="client-version",UG="client-id",dN="time-delta-to-apply-millis",fN="upload-time",hN="apikey",pN="AuthMsaDeviceTicket",BB="WebAuthToken",VB="AuthXToken",a0e="NoResponseBody",JE="msfpc",HB="trace",IR="user",mN="allowRequestSending",BG="firstRequestSent",VG="shouldAddClockSkewHeaders",HG="getClockSkewHeaderValue",gN="setClockSkew",on="length",vh="concat",oc="iKey",Wr="count",Yf="events",qi="push",ig="split",zI="splice",vN="toLowerCase",mm="hdrs",yN="useHdrs",zb="initialize",zG="setTimeoutOverride",$G="clearTimeoutOverride",c0e="payloadPreprocessor",zB="overrideEndpointUrl",$B="avoidOptions",l0e="disableEventTimings",u0e="stringifyObjects",xR="enableCompoundKey",WB="disableXhrSync",KB="disableFetchKeepAlive",d0e="addNoResponse",f0e="excludeCsMetaData",GB="useSendBeacon",qB="fetchCredentials",YB="alwaysUseXhrOverride",h0e="unloadTransports",WG="serializeOfflineEvt",KG="getOfflineRequestDetails",AR="createPayload",bN="createOneDSPayload",QB="payloadBlob",$a="headers",Wy="_thePayload",XB="urlString",So="batches",zo="sendType",CN="addHeader",_N="canSendRequest",eT="sendQueuedRequests",GG="isCompletelyIdle",wN="setUnloading",p0e="isTenantKilled",kS="resume",qG="sendSynchronousBatch",kR="_transport",tT="getWParam",ZB="isBeacon",Mw="timings",RR="isTeardown",PR="isSync",RS="data",m0e="timeout",OR="_sendReason",YG="setKillSwitchTenants",QG="_backOffTransmission",Lw="identifier",g0e="disableOptimizeObj",v0e="ignoreMc1Ms0CookieProcessing",JB="eventsLimitInMem",e8="autoFlushEventsLimit",y0e="disableAutoBatchFlushLimit",b0e="overrideInstrumentationKey",C0e="disableTelemetry",NR="baseData",Dw="sendAttempt",bf="latency",em="sync";function XG(t){var e=(t.ext||{}).intweb;return e&&Vu(e[JE])?e[JE]:null}function t8(t){for(var e=null,n=0;e===null&&n<t[on];n++)e=XG(t[n]);return e}var V0=function(){function t(e,n){var r=n?[][vh](n):[],i=this,o=t8(r);i[oc]=function(){return e},i.Msfpc=function(){return o||Du},i[Wr]=function(){return r[on]},i[Yf]=function(){return r},i.addEvent=function(s){return s?(r[qi](s),o||(o=XG(s)),!0):!1},i[ig]=function(s,a){var c;if(s<r[on]){var l=r[on]-s;Mn(a)||(l=a<l?a:l),c=r[zI](s,l),o=t8(r)}return new t(e,c)}}return t.create=function(e,n){return new t(e,n)},t}(),_0e=function(){function t(){var e=!0,n=!0,r=!0,i="use-collector-delta",o=!1;Jn(t,this,function(s){s[mN]=function(){return e},s[BG]=function(){r&&(r=!1,o||(e=!1))},s[VG]=function(){return n},s[HG]=function(){return i},s[gN]=function(a){o||(a?(i=a,n=!0,o=!0):n=!1,e=!0)}})}return t.__ieDyn=1,t}(),w0e=1e3,S0e=function(){function t(){var e={};function n(r){var i=[];return r&&xt(r,function(o){i[qi](Io(o))}),i}Jn(t,this,function(r){r[YG]=function(i,o){if(i&&o)try{var s=n(i[ig](","));if(o==="this-request-only")return s;for(var a=parseInt(o,10)*w0e,c=0;c<s[on];++c)e[s[c]]=vd()+a}catch{return[]}return[]},r[p0e]=function(i){var o=e,s=Io(i);return o[s]!==void 0&&o[s]>vd()?!0:(delete o[s],!1)}})}return t.__ieDyn=1,t}(),E0e=.8,T0e=1.2,n8=3e3,I0e=6e5;function x0e(t){return!(t>=300&&t<500&&t!=429||t==501||t==505)}function ZG(t){var e=0,n=n8*E0e,r=n8*T0e,i=Math.floor(Math.random()*(r-n))+n;return e=Math.pow(2,t)*i,Math.min(e,I0e)}var A0e=20,k0e=3984588,JG=65e3,eq=2e6,R0e=Math.min(eq,JG),r8="metadata",jw="f",P0e=/\./,O0e=function(){function t(e,n,r,i,o,s){var a="data",c="baseData",l="ext",d=!!i,p=!0,m=n,g={},C=!!s,_=o||xG;Jn(t,this,function(S){S.createPayload=function(I,A,k,R,M,P){return{apiKeys:[],payloadBlob:Du,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:I,isTeardown:A,isSync:k,isBeacon:R,sendType:P,sendReason:M}},S.appendPayload=function(I,A,k){var R=I&&A&&!I.overflow;return R&&To(e,function(){return"Serializer:appendPayload"},function(){for(var M=A.events(),P=I.payloadBlob,N=I.numEvents,D=!1,G=[],U=[],W=I.isBeacon,$=W?JG:k0e,L=W?R0e:eq,B=0,j=0;B<M.length;){var V=M[B];if(V){if(N>=k){I.overflow=A.split(B);break}var K=S.getEventBlob(V);if(K&&K.length<=L){var z=K.length,H=P.length;if(H+z>$){I.overflow=A.split(B);break}P&&(P+=`
`),P+=K,j++,j>A0e&&(dm(P,0,1),j=0),D=!0,N++}else K?G.push(V):U.push(V),M.splice(B,1),B--}B++}if(G.length>0&&I.sizeExceed.push(V0.create(A.iKey(),G)),U.length>0&&I.failedEvts.push(V0.create(A.iKey(),U)),D){I.batches.push(A),I.payloadBlob=P,I.numEvents=N;var q=A.iKey();Ws(I.apiKeys,q)===-1&&I.apiKeys.push(q)}},function(){return{payload:I,theBatch:{iKey:A.iKey(),evts:A.events()},max:k}}),R},S.getEventBlob=function(I){try{return To(e,function(){return"Serializer.getEventBlob"},function(){var A={};A.name=I.name,A.time=I.time,A.ver=I.ver,A.iKey="o:"+Mye(I.iKey);var k={},R;C||(R=function(D,G,U){N0e(_,k,D,G,U)});var M=I[l];M&&(A[l]=k,Hn(M,function(D,G){var U=k[D]={};T(G,U,"ext."+D,!0,null,null,!0)}));var P=A[a]={};P.baseType=I.baseType;var N=P[c]={};return T(I.baseData,N,c,!1,[c],R,p),T(I.data,P,a,!1,[],R,p),JSON.stringify(A)},function(){return{item:I}})}catch{return null}};function w(I,A){var k=g[I];return k===void 0&&(I.length>=7&&(k=R6(I,"ext.metadata")||R6(I,"ext.web")),g[I]=k),k}function T(I,A,k,R,M,P,N){Hn(I,function(D,G){var U=null;if(G||Vu(G)){var W=k,$=D,L=M,B=A;if(d&&!R&&P0e.test(D)){var j=D.split("."),V=j.length;if(V>1){L&&(L=L.slice());for(var K=0;K<V-1;K++){var z=j[K];B=B[z]=B[z]||{},W+="."+z,L&&L.push(z)}$=j[V-1]}}var H=R&&w(W);if(!H&&m&&m.handleField(W,$)?U=m.value(W,$,G,r):U=Dye($,G,r),U){var q=U.value;if(B[$]=q,P&&P(L,$,U),typeof q=="object"&&!un(q)){var le=L;le&&(le=le.slice(),le.push($)),T(G,q,W+"."+$,R,le,P)}}}})}})}return t.__ieDyn=1,t}();function N0e(t,e,n,r,i){if(i&&e){var o=t(i.value,i.kind,i.propertyType);if(o>-1){var s=e[r8];s||(s=e[r8]={f:{}});var a=s[jw];if(a||(a=s[jw]={}),n)for(var c=0;c<n.length;c++){var l=n[c];a[l]||(a[l]={f:{}});var d=a[l][jw];d||(d=a[l][jw]={}),a=d}a=a[r]={},un(i.value)?a.a={t:o}:a.t=o}}}function nT(t,e){return{set:function(n,r){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];return gge([t,e],n,r,i)}}}var Cf,MR="sendAttempt",M0e="&"+a0e+"=true",L0e="?cors=true&"+_b[vN]()+"="+lN,D0e=(Cf={},Cf[1]=FB,Cf[100]=FB,Cf[200]="sent",Cf[8004]=cN,Cf[8003]=cN,Cf),SN={},EN={};function rp(t,e,n){SN[t]=e,n!==!1&&(EN[e]=t)}rp(pN,pN,!1);rp(uN,uN);rp(UG,"Client-Id");rp(hN,hN);rp(dN,dN);rp(fN,fN);rp(VB,VB);function Fw(t,e){var n=!1;if(t&&e){var r=gl(t);if(r&&r[on]>0)for(var i=e[vN](),o=0;o<r[on];o++){var s=r[o];if(s&&$s(e,s)&&s[vN]()===i){n=!0;break}}}return n}function tm(t,e,n,r){e&&n&&n[on]>0&&(r&&SN[e]?(t[mm][SN[e]]=n,t[yN]=!0):t.url+="&"+e+"="+n)}function j0e(t,e,n){for(var r=0;r<t[on];r++)if(t[r].name===e){t[r].value=n;return}t[qi]({name:e,value:n})}function F0e(t,e){for(var n=0;n<t[on];n++)if(t[n].name===e){t[zI](n,1);return}}var U0e=function(){function t(e,n,r,i){var o,s,a,c,l=!1,d,p,m,g,C,_,S,w,T,I,A,k,R,M,P,N,D,G,U,W,$,L,B,j,V,K,z,H;Jn(t,this,function(q){Pe();var le=!0;q[zb]=function(te,Re,Me){j||(C=Re,k=Re.getCookieMgr(),p=Me,m=p.diagLog(),Qu(W,ji(te,function(Fe){var ut,_t=Fe.cfg,it=Fe.cfg.extensionConfig[Me.identifier];V=nT(it[zG],it[$G]),Vu(_t.anonCookieName)?j0e(S,"anoncknm",_t.anonCookieName):F0e(S,"anoncknm"),$=it[c0e],L=it.payloadListener;var ne=it.httpXHROverride,Te=it[zB]?it[zB]:_t.endpointUrl;o=Te+L0e,M=$n(it[$B])?!0:!it[$B],A=!it[l0e];var Ne=it.valueSanitizer,rt=it[u0e],tt=!!_t[xR];$n(it[xR])||(tt=!!it[xR]),P=it.xhrTimeout,N=!!it[WB],D=!!it[KB],U=it[d0e]!==!1,K=!!it[f0e],Re.getPlugin("LocalStorage")&&(D=!0),l=!J6(),I=new O0e(C,Ne,rt,tt,xG,K),Mn(it[GB])||(l=!!it[GB]),it[qB]&&(H=it[qB]);var Et=_e();z?z.SetConfig(Et):(z=new gye,z[zb](Et,m));var Dt=ne,Mt=it[YB]?ne:null,Jt=it[YB]?ne:null,ur=[3,2];if(!ne){_=!1;var Sn=[];J6()?(Sn=[2,1],ur=[2,1,3]):Sn=[1,2,3],Sn=X6(Sn,it.transports),ne=Ce(Sn,!1),ne||Ub(m,"No available transport to send events"),Dt=Ce(Sn,!0)}Mt||(ur=X6(ur,it[h0e]),Mt=Ce(ur,!0)),G=!_&&(l&&VK()||!D&&HK(!0)),g=(ut={},ut[0]=ne,ut[1]=Dt||Ce([1,2,3],!0),ut[2]=Mt||Dt||Ce([1],!0),ut[3]=Jt||Ce([2,3],!0)||Dt||Ce([1],!0),ut)})),j=!0)},q.addResponseHandler=function(te){return B[qi](te),{rm:function(){var Re=B.indexOf(te);Re>=0&&B[zI](Re,1)}}},q[WG]=function(te){try{if(I)return I.getEventBlob(te)}catch{}return Du},q[KG]=function(){try{var te=I&&I[AR](0,!1,!1,!1,1,0);return pe(te,M)}catch{}return null},q[bN]=function(te,Re){try{var Me=[];xt(te,function(ne){Re&&(ne=pm(ne));var Te=V0.create(ne[oc],[ne]);Me[qi](Te)});for(var Fe=null;Me[on]>0&&I;){var ut=Me.shift();ut&&ut[Wr]()>0&&(Fe=Fe||I[AR](0,!1,!1,!1,1,0),I.appendPayload(Fe,ut,e))}var _t=pe(Fe,M),it={data:Fe[QB],urlString:_t.url,headers:_t[mm],timeout:P,disableXhrSync:N,disableFetchKeepAlive:D};return M&&(Fw(it[$a],Nw)||(it[$a][Nw]=UB),Fw(it[$a],_b)||(it[$a][_b]=lN)),it}catch{}return null};function Ce(te,Re){try{return z&&z.getSenderInst(te,Re)}catch{}return null}q._getDbgPlgTargets=function(){return[g[0],s,I,g,_e(),o]};function _e(){try{var te={xdrOnComplete:be,fetchOnComplete:Oe,xhrOnComplete:Q,beaconOnRetry:Ie},Re={enableSendPromise:!1,isOneDs:!0,disableCredentials:!le,fetchCredentials:H,disableXhr:!1,disableBeacon:!l,disableBeaconSync:!l,disableFetchKeepAlive:D,timeWrapper:V,addNoResponse:U,senderOnCompleteCallBack:te};return Re}catch{}return null}function be(te,Re,Me){var Fe=zg(te);ee(Re,200,{},Fe),Wt(Fe)}function Pe(){var te;o=null,s=new S0e,a=!1,c=new _0e,l=!1,d=0,p=null,m=null,g=null,C=null,_=!0,S=[],w={},T=[],I=null,A=!1,k=null,R=!1,M=!1,P=te,N=te,D=te,G=te,U=te,W=[],$=te,L=te,B=[],j=!1,V=nT(),K=!1,z=null}function Oe(te,Re,Me,Fe){var ut=function(ne,Te,Ne){ee(Re,ne,Te,Ne),Wt(Ne)},_t={},it=te[$a];it&&it.forEach(function(ne,Te){_t[Te]=ne}),ut(te.status,_t,Me||Du)}function Q(te,Re,Me){var Fe=zg(te);ee(Re,te.status,TS(te,!0),Fe),Wt(Fe)}function ee(te,Re,Me,Fe){try{te(Re,Me,Fe)}catch(ut){Fn(m,2,518,wn(ut))}}function Ie(te,Re,Me){var Fe=te,ut=200,_t=Fe[Wy],it=te[XB]+(U?M0e:Du);try{var ne=Fl();if(_t){var Te=!!C.getPlugin("LocalStorage"),Ne=[],rt=[];xt(_t[So],function(tt){if(Ne&&tt&&tt[Wr]()>0)for(var Et=tt[Yf](),Dt=0;Dt<Et[on];Dt++)if(ne.sendBeacon(it,I.getEventBlob(Et[Dt])))rt[qi](tt[Dt]);else{Ne[qi](tt[ig](Dt));break}else Ne[qi](tt[ig](0))}),rt[on]>0&&(_t.sentEvts=rt),Te||Ye(Ne,8003,_t[zo],!0)}else ut=0}catch(tt){Ub(m,"Failed to send telemetry using sendBeacon API. Ex:"+wn(tt)),ut=0}finally{ee(Re,ut,{},Du)}}function re(te){return te===2||te===3}function ue(te){return R&&re(te)&&(te=2),te}q[CN]=function(te,Re){w[te]=Re},q.removeHeader=function(te){delete w[te]},q[_N]=function(){return xe()&&c[mN]()},q[eT]=function(te,Re){$n(te)&&(te=0),R&&(te=ue(te),Re=2),ge(T,te,0)&&ye(Y(),0,!1,te,Re||0)},q[GG]=function(){return!a&&d===0&&T[on]===0},q[wN]=function(te){R=te},q.addBatch=function(te){if(te&&te[Wr]()>0){if(s.isTenantKilled(te[oc]()))return!1;T[qi](te)}return!0},q.teardown=function(){T[on]>0&&ye(Y(),0,!0,2,2),xt(W,function(te){te&&te.rm&&te.rm()}),W=[]},q.pause=function(){a=!0},q[kS]=function(){a=!1,q[eT](0,4)},q[qG]=function(te,Re,Me){te&&te[Wr]()>0&&(Mn(Re)&&(Re=1),R&&(Re=ue(Re),Me=2),ye([te],0,!1,Re,Me||0))};function xe(){return!a&&d<n}function Y(){var te=T;return T=[],te}function ge(te,Re,Me){var Fe=!1;return te&&te[on]>0&&!a&&g[Re]&&I&&(Fe=Re!==0||xe()&&(Me>0||c[mN]())),Fe}function Ee(te){var Re={};return te&&xt(te,function(Me,Fe){Re[Fe]={iKey:Me[oc](),evts:Me[Yf]()}}),Re}function ye(te,Re,Me,Fe,ut){if(!(!te||te[on]===0)){if(a){Ye(te,1,Fe);return}Fe=ue(Fe);try{var _t=te,it=Fe!==0;To(C,function(){return"HttpManager:_sendBatches"},function(ne){ne&&(te=te.slice(0));for(var Te=[],Ne=null,rt=Ya(),tt=g[Fe]||(it?g[1]:g[0]),Et=tt&&tt[kR],Dt=G&&(R||re(Fe)||Et===3||tt._isSync&&Et===2);ge(te,Fe,Re);){var Mt=te.shift();Mt&&Mt[Wr]()>0&&(s.isTenantKilled(Mt[oc]())?Te[qi](Mt):(Ne=Ne||I[AR](Re,Me,it,Dt,ut,Fe),I.appendPayload(Ne,Mt,e)?Ne.overflow!==null&&(te=[Ne.overflow][vh](te),Ne.overflow=null,De(Ne,rt,Ya(),ut),rt=Ya(),Ne=null):(De(Ne,rt,Ya(),ut),rt=Ya(),te=[Mt][vh](te),Ne=null)))}Ne&&De(Ne,rt,Ya(),ut),te[on]>0&&(T=te[vh](T)),Ye(Te,8004,Fe)},function(){return{batches:Ee(_t),retryCount:Re,isTeardown:Me,isSynchronous:it,sendReason:ut,useSendBeacon:re(Fe),sendType:Fe}},!it)}catch(ne){Fn(m,2,48,"Unexpected Exception sending batch: "+wn(ne))}}}function pe(te,Re){var Me={url:o,hdrs:{},useHdrs:!1};Re?(Me[mm]=XE(Me[mm],w),Me.useHdrs=gl(Me.hdrs)[on]>0):Hn(w,function(ne,Te){EN[ne]?tm(Me,EN[ne],Te,!1):(Me[mm][ne]=Te,Me[yN]=!0)}),tm(Me,UG,"NO_AUTH",Re),tm(Me,uN,TG,Re);var Fe=Du;xt(te.apiKeys,function(ne){Fe[on]>0&&(Fe+=","),Fe+=ne}),tm(Me,hN,Fe,Re),tm(Me,fN,vd().toString(),Re);var ut=nn(te);if(Vu(ut)&&(Me.url+="&ext.intweb.msfpc="+ut),c[VG]()&&tm(Me,dN,c[HG](),Re),C[tT]){var _t=C[tT]();_t>=0&&(Me.url+="&w="+_t)}for(var it=0;it<S[on];it++)Me.url+="&"+S[it].name+"="+S[it].value;return Me}function Le(te,Re,Me){te[Re]=te[Re]||{},te[Re][p.identifier]=Me}function De(te,Re,Me,Fe){if(te&&te.payloadBlob&&te.payloadBlob[on]>0){var ut=!!$,_t=g[te.sendType];!re(te[zo])&&te[ZB]&&te.sendReason===2&&(_t=g[2]||g[3]||_t);var it=M;(te.isBeacon||_t[kR]===3)&&(it=!1);var ne=pe(te,it);it=it||ne[yN];var Te=Ya();To(C,function(){return"HttpManager:_doPayloadSend"},function(){for(var Ne=0;Ne<te.batches[on];Ne++)for(var rt=te[So][Ne],tt=rt[Yf](),Et=0;Et<tt[on];Et++){var Dt=tt[Et];if(A){var Mt=Dt[Mw]=Dt[Mw]||{};Le(Mt,"sendEventStart",Te),Le(Mt,"serializationStart",Re),Le(Mt,"serializationCompleted",Me)}Dt[MR]>0?Dt[MR]++:Dt[MR]=1}Ye(te[So],1e3+(Fe||0),te[zo],!0);var Jt={data:te[QB],urlString:ne.url,headers:ne[mm],_thePayload:te,_sendReason:Fe,timeout:P,disableXhrSync:N,disableFetchKeepAlive:D};it&&(Fw(Jt[$a],Nw)||(Jt[$a][Nw]=UB),Fw(Jt[$a],_b)||(Jt[$a][_b]=lN));var ur=null;_t&&(ur=function(Sn){c[BG]();var Ln=function(wr,ps){mt(wr,ps,te,Fe)},dr=te[RR]||te[PR];try{_t.sendPOST(Sn,Ln,dr),L&&L(Jt,Sn,dr,te[ZB])}catch(wr){Ub(m,"Unexpected exception sending payload. Ex:"+wn(wr)),ee(Ln,0,{})}}),To(C,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(ur)if(te[zo]===0&&d++,ut&&!te.isBeacon&&_t[kR]!==3){var Sn={data:Jt[RS],urlString:Jt[XB],headers:XE({},Jt[$a]),timeout:Jt[m0e],disableXhrSync:Jt[WB],disableFetchKeepAlive:Jt[KB]},Ln=!1;To(C,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{$(Sn,function(dr){Ln=!0,!_&&!dr[Wy]&&(dr[Wy]=dr[Wy]||Jt[Wy],dr[OR]=dr[OR]||Jt[OR]),ur(dr)},te.isSync||te[RR])}catch{Ln||ur(Jt)}})}else ur(Jt)})},function(){return{thePayload:te,serializationStart:Re,serializationCompleted:Me,sendReason:Fe}},te[PR])}te.sizeExceed&&te.sizeExceed[on]>0&&Ye(te.sizeExceed,8003,te[zo]),te.failedEvts&&te.failedEvts[on]>0&&Ye(te.failedEvts,8002,te[zo])}function Xe(te,Re){A&&xt(te,function(Me){var Fe=Me[Mw]=Me[Mw]||{};Le(Fe,"sendEventCompleted",Re)})}function mt(te,Re,Me,Fe){var ut=9e3,_t=null,it=!1,ne=!1;try{var Te=!0;if(typeof te!==wL){if(Re){c[gN](Re[s0e]);var Ne=Re[o0e]||Re["kill-duration-seconds"];xt(s[YG](Re[i0e],Ne),function(tt){xt(Me[So],function(Et){if(Et[oc]()===tt){_t=_t||[];var Dt=Et[ig](0);Me.numEvents-=Dt[Wr](),_t[qi](Dt)}})})}if(te==200||te==204){ut=200;return}(!x0e(te)||Me.numEvents<=0)&&(Te=!1),ut=9e3+te%1e3}if(Te){ut=100;var rt=Me.retryCnt;Me[zo]===0&&(rt<r?(it=!0,$t(function(){Me[zo]===0&&d--,ye(Me[So],rt+1,Me[RR],R?2:Me[zo],5)},R,ZG(rt))):(ne=!0,R&&(ut=8001)))}}finally{it||(c[gN](),qe(Me,ut,Fe,ne)),Ye(_t,8004,Me[zo])}}function qe(te,Re,Me,Fe){try{Fe&&p[QG]();var ut=te[So];Re===200&&(ut=te.sentEvts||te[So],!Fe&&!te[PR]&&p._clearBackOff(),dt(ut)),Ye(ut,Re,te[zo],!0)}finally{te[zo]===0&&(d--,Me!==5&&q.sendQueuedRequests(te[zo],Me))}}function dt(te){if(A){var Re=Ya();xt(te,function(Me){Me&&Me[Wr]()>0&&Xe(Me[Yf](),Re)})}}function $t(te,Re,Me){Re?te():V.set(te,Me)}function nn(te){for(var Re=0;Re<te.batches[on];Re++){var Me=te[So][Re].Msfpc();if(Me)return encodeURIComponent(Me)}return Du}function Wt(te){var Re=B;try{for(var Me=0;Me<Re[on];Me++)try{Re[Me](te)}catch(ut){Fn(m,1,519,"Response handler failed: "+ut)}if(te){var Fe=JSON.parse(te);Vu(Fe.webResult)&&Vu(Fe.webResult[JE])&&k.set("MSFPC",Fe.webResult[JE],365*86400)}}catch{}}function Ye(te,Re,Me,Fe){if(te&&te[on]>0&&i){var ut=i[et(Re)];if(ut){var _t=Me!==0;To(C,function(){return"HttpManager:_sendBatchesNotification"},function(){$t(function(){try{ut.call(i,te,Re,_t,Me)}catch(it){Fn(m,1,74,"send request notification failed: "+it)}},Fe||_t,0)},function(){return{batches:Ee(te),reason:Re,isSync:_t,sendSync:Fe,sendType:Me}},!_t)}}}function et(te){var Re=D0e[te];return Vu(Re)||(Re=r0e,te>=9e3&&te<=9999?Re=n0e:te>=8e3&&te<=8999?Re=cN:te>=1e3&&te<=1999&&(Re=t0e)),Re}})}return t.__ieDyn=1,t}(),B0e=.25,i8=500,V0e=20,tq=6,nq=2,H0e=4,o8=2,z0e=1,TN=1e4,_f="eventsDiscarded",s8="",Dr=void 0,$0e=yv({eventsLimitInMem:{isVal:Vb,v:TN},immediateEventLimit:{isVal:Vb,v:500},autoFlushEventsLimit:{isVal:Vb,v:0},disableAutoBatchFlushLimit:!1,httpXHROverride:{isVal:W0e,v:Dr},overrideInstrumentationKey:Dr,overrideEndpointUrl:Dr,disableTelemetry:!1,ignoreMc1Ms0CookieProcessing:!1,setTimeoutOverride:Dr,clearTimeoutOverride:Dr,payloadPreprocessor:Dr,payloadListener:Dr,disableEventTimings:Dr,valueSanitizer:Dr,stringifyObjects:Dr,enableCompoundKey:Dr,disableOptimizeObj:!1,fetchCredentials:Dr,transports:Dr,unloadTransports:Dr,useSendBeacon:Dr,disableFetchKeepAlive:Dr,avoidOptions:!1,xhrTimeout:Dr,disableXhrSync:Dr,alwaysUseXhrOverride:!1,maxEventRetryAttempts:{isVal:md,v:tq},maxUnloadEventRetryAttempts:{isVal:md,v:nq},addNoResponse:Dr,excludeCsMetaData:Dr});function W0e(t){return t&&t.sendPOST}var K0e=function(t){SC(e,t);function e(){var n=t.call(this)||this;n.identifier="PostChannel",n.priority=1011,n.version="4.3.3";var r,i=!1,o=[],s,a=!1,c=0,l,d=0,p,m={},g=Ow,C,_,S,w,T,I,A,k,R,M,P,N,D,G,U,W,$,L,B,j,V,K;return Jn(e,n,function(z,H){ue(),z._getDbgPlgTargets=function(){return[T,r]},z[zb]=function(ne,Te,Ne){To(Te,function(){return"PostChannel:initialize"},function(){H[zb](ne,Te,Ne),B=Te.getNotifyMgr();try{U=xC(_v(z[Lw]),Te.evtNamespace&&Te.evtNamespace()),z._addHook(ji(ne,function(rt){var tt=rt.cfg,Et=Lh(null,tt,Te);r=Et.getExtCfg(z[Lw],$0e),W=nT(r[zG],r[$G]),P=!r[g0e]&&Bye(),$=r[v0e],le(Te),p=r[JB],l=r.immediateEventLimit,A=r[e8],D=r.maxEventRetryAttempts,G=r.maxUnloadEventRetryAttempts,L=r[y0e],Ug(tt.endpointUrl)?z.pause():a&&z[kS](),it(),V=r[b0e],K=!!r[C0e],j&&q();var Dt=tt.disablePageUnloadEvents||[];j=Iye(be,Dt,U),j=SG(be,Dt,U)||j,j=EG(Pe,tt.disablePageShowEvents,U)||j})),T[zb](ne,z.core,z)}catch(rt){throw z.setInitialized(!1),rt}},function(){return{theConfig:ne,core:Te,extensions:Ne}})},z.processTelemetry=function(ne,Te){oN(ne,z[Lw]),Te=Te||z._getTelCtx(Te);var Ne=ne;!K&&!i&&(V&&(Ne[oc]=V),Q(Ne,!0),N?ge(2,2):re()),z.processNext(Ne,Te)},z.getOfflineSupport=function(){try{var ne=T&&T[KG]();if(T)return{getUrl:function(){return ne?ne.url:null},serialize:_e,batch:Ce,shouldProcess:function(Te){return!K},createPayload:function(Te){return null},createOneDSPayload:function(Te){if(T[bN])return T[bN](Te,P)}}}catch{}return null},z._doTeardown=function(ne,Te){ge(2,2),i=!0,T.teardown(),q(),ue()};function q(){xye(null,U),Aye(null,U),kye(null,U)}function le(ne){var Te=ne[tT];ne[tT]=function(){var Ne=0;return $&&(Ne=Ne|2),Ne|Te.call(ne)}}function Ce(ne){var Te=s8;return ne&&ne[on]&&xt(ne,function(Ne){Te&&(Te+=`
`),Te+=Ne}),Te}function _e(ne){var Te=s8;try{Oe(ne),Te=T[WG](ne)}catch{}return Te}function be(ne){var Te=ne||kd().event;Te.type!=="beforeunload"&&(N=!0,T[wN](N)),ge(2,2)}function Pe(ne){N=!1,T[wN](N)}function Oe(ne){ne.ext&&ne.ext[HB]&&delete ne.ext[HB],ne.ext&&ne.ext[IR]&&ne.ext[IR].id&&delete ne.ext[IR].id,P&&(ne.ext=pm(ne.ext),ne[NR]&&(ne[NR]=pm(ne[NR])),ne[RS]&&(ne[RS]=pm(ne[RS])))}function Q(ne,Te){if(ne[Dw]||(ne[Dw]=0),ne[bf]||(ne[bf]=1),Oe(ne),ne[em]){if(S||a)ne[bf]=3,ne[em]=!1;else if(T){P&&(ne=pm(ne)),T[qG](V0.create(ne[oc],[ne]),ne[em]===!0?1:ne[em],3);return}}var Ne=ne[bf],rt=d,tt=p;Ne===4&&(rt=c,tt=l);var Et=!1;if(rt<tt)Et=!Le(ne,Te);else{var Dt=1,Mt=V0e;Ne===4&&(Dt=4,Mt=1),Et=!0,De(ne[oc],ne[bf],Dt,Mt)&&(Et=!Le(ne,Te))}Et&&et(_f,[ne],gf.QueueFull)}z.setEventQueueLimits=function(ne,Te){r[JB]=p=Vb(ne)?ne:TN,r[e8]=A=Vb(Te)?Te:0,it();var Ne=d>ne;if(!Ne&&k>0)for(var rt=1;!Ne&&rt<=3;rt++){var tt=I[rt];tt&&tt[So]&&xt(tt[So],function(Et){Et&&Et[Wr]()>=k&&(Ne=!0)})}pe(!0,Ne)},z.pause=function(){Y(),a=!0,T&&T.pause()},z[kS]=function(){a=!1,T&&T[kS](),re()},z._loadTransmitProfiles=function(ne){$t(),Hn(ne,function(Te,Ne){var rt=Ne[on];if(rt>=2){var tt=rt>2?Ne[2]:0;if(Ne[zI](0,rt-2),Ne[1]<0&&(Ne[0]=-1),Ne[1]>0&&Ne[0]>0){var Et=Ne[0]/Ne[1];Ne[0]=Math.ceil(Et)*Ne[1]}tt>=0&&Ne[1]>=0&&tt>Ne[1]&&(tt=Ne[1]),Ne[qi](tt),m[Te]=Ne}})},z.flush=function(ne,Te,Ne){ne===void 0&&(ne=!0);var rt;if(!a)if(Ne=Ne||1,ne)Te||(rt=Mh(function(Et){Te=Et})),s==null?(Y(),mt(1,0,Ne),s=xe(function(){s=null,qe(Te,Ne)},0)):o[qi](Te);else{var tt=Y();ee(1,1,Ne),Te&&Te(),tt&&re()}return rt},z.setMsaAuthTicket=function(ne){T[CN](pN,ne)},z.setAuthPluginHeader=function(ne){T[CN](BB,ne)},z.removeAuthPluginHeader=function(){T.removeHeader(BB)},z.hasEvents=Ie,z._setTransmitProfile=function(ne){g!==ne&&m[ne]!==void 0&&(Y(),g=ne,re())},DK(z,function(){return T},["addResponseHandler"]);function ee(ne,Te,Ne){var rt=mt(ne,Te,Ne);return T[eT](Te,Ne),rt}function Ie(){return d>0}function re(){if(R>=0&&mt(R,0,M)&&T[eT](0,M),c>0&&!_&&!a){var ne=m[g][2];ne>=0&&(_=xe(function(){_=null,ee(4,0,1),re()},ne))}var Te=m[g][1];!C&&!s&&Te>=0&&!a&&(Ie()?C=xe(function(){C=null,ee(w===0?3:1,0,1),w++,w%=2,re()},Te):w=0)}z[QG]=function(){S<H0e&&(S++,Y(),re())},z._clearBackOff=function(){S&&(S=0,Y(),re())};function ue(){r=null,i=!1,o=[],s=null,a=!1,c=0,l=500,d=0,p=TN,m={},g=Ow,C=null,_=null,S=0,w=0,I={},A=0,j=!1,k=0,R=-1,M=null,P=!0,N=!1,D=tq,G=nq,U=null,V=null,K=!1,W=nT(),T=new U0e(i8,o8,z0e,{requeue:Wt,send:Re,sent:Me,drop:Fe,rspFail:ut,oth:_t}),nn(),Ee(),it()}function xe(ne,Te){Te===0&&S&&(Te=1);var Ne=1e3;return S&&(Ne=ZG(S-1)),W.set(ne,Te*Ne)}function Y(){return C!==null?(C.cancel(),C=null,w=0,!0):!1}function ge(ne,Te){Y(),s&&(s.cancel(),s=null),a||ee(1,ne,Te)}function Ee(){I[4]={batches:[],iKeyMap:{}},I[3]={batches:[],iKeyMap:{}},I[2]={batches:[],iKeyMap:{}},I[1]={batches:[],iKeyMap:{}}}function ye(ne,Te,Ne){var rt=I[Te];rt||(Te=1,rt=I[Te]);var tt=rt.iKeyMap[ne];return!tt&&Ne&&(tt=V0.create(ne),rt.batches[qi](tt),rt.iKeyMap[ne]=tt),tt}function pe(ne,Te){T[_N]()&&!S&&(A>0&&d>A&&(Te=!0),Te&&s==null&&z.flush(ne,function(){},20))}function Le(ne,Te){P&&(ne=pm(ne));var Ne=ne[bf],rt=ye(ne[oc],Ne,!0);return rt.addEvent(ne)?(Ne!==4?(d++,Te&&ne[Dw]===0&&pe(!ne.sync,k>0&&rt[Wr]()>=k)):c++,!0):!1}function De(ne,Te,Ne,rt){for(;Ne<=Te;){var tt=ye(ne,Te,!0);if(tt&&tt[Wr]()>0){var Et=tt[ig](0,rt),Dt=Et[Wr]();if(Dt>0)return Ne===4?c-=Dt:d-=Dt,te(_f,[Et],gf.QueueFull),!0}Ne++}return Xe(),!1}function Xe(){for(var ne=0,Te=0,Ne=function(tt){var Et=I[tt];Et&&Et[So]&&xt(Et[So],function(Dt){tt===4?ne+=Dt[Wr]():Te+=Dt[Wr]()})},rt=1;rt<=4;rt++)Ne(rt);d=Te,c=ne}function mt(ne,Te,Ne){var rt=!1,tt=Te===0;return!tt||T[_N]()?To(z.core,function(){return"PostChannel._queueBatches"},function(){for(var Et=[],Dt=4;Dt>=ne;){var Mt=I[Dt];Mt&&Mt.batches&&Mt.batches[on]>0&&(xt(Mt[So],function(Jt){T.addBatch(Jt)?rt=rt||Jt&&Jt[Wr]()>0:Et=Et[vh](Jt[Yf]()),Dt===4?c-=Jt[Wr]():d-=Jt[Wr]()}),Mt[So]=[],Mt.iKeyMap={}),Dt--}Et[on]>0&&et(_f,Et,gf.KillSwitch),rt&&R>=ne&&(R=-1,M=0)},function(){return{latency:ne,sendType:Te,sendReason:Ne}},!tt):(R=R>=0?Math.min(R,ne):ne,M=Math.max(M,Ne)),rt}function qe(ne,Te){ee(1,0,Te),Xe(),dt(function(){ne&&ne(),o[on]>0?s=xe(function(){s=null,qe(o.shift(),Te)},0):(s=null,re())})}function dt(ne){T[GG]()?ne():s=xe(function(){s=null,dt(ne)},B0e)}function $t(){Y(),nn(),g=Ow,re()}function nn(){m={},m[Ow]=[2,1,0],m[Jbe]=[6,3,0],m[e0e]=[18,9,0]}function Wt(ne,Te){var Ne=[],rt=D;N&&(rt=G),xt(ne,function(tt){tt&&tt[Wr]()>0&&xt(tt[Yf](),function(Et){Et&&(Et[em]&&(Et[bf]=4,Et[em]=!1),Et[Dw]<rt?(oN(Et,z[Lw]),Q(Et,!1)):Ne[qi](Et))})}),Ne[on]>0&&et(_f,Ne,gf.NonRetryableStatus),N&&ge(2,2)}function Ye(ne,Te){var Ne=B||{},rt=Ne[ne];if(rt)try{rt.apply(Ne,Te)}catch(tt){Fn(z.diagLog(),1,74,ne+" notification failed: "+tt)}}function et(ne,Te){for(var Ne=[],rt=2;rt<arguments.length;rt++)Ne[rt-2]=arguments[rt];Te&&Te[on]>0&&Ye(ne,[Te][vh](Ne))}function te(ne,Te){for(var Ne=[],rt=2;rt<arguments.length;rt++)Ne[rt-2]=arguments[rt];Te&&Te[on]>0&&xt(Te,function(tt){tt&&tt[Wr]()>0&&Ye(ne,[tt.events()][vh](Ne))})}function Re(ne,Te,Ne){ne&&ne[on]>0&&Ye("eventsSendRequest",[Te>=1e3&&Te<=1999?Te-1e3:0,Ne!==!0])}function Me(ne,Te){te("eventsSent",ne,Te),re()}function Fe(ne,Te){te(_f,ne,Te>=8e3&&Te<=8999?Te-8e3:gf.Unknown)}function ut(ne){te(_f,ne,gf.NonRetryableStatus),re()}function _t(ne,Te){te(_f,ne,gf.Unknown),re()}function it(){L?k=0:k=Math.max(i8*(o8+1),p/6)}}),n}return e.__ieDyn=1,e}(XL),G0e=yv({cookieCfg:{ref:!0,v:{}},extensions:{rdOnly:!0,ref:!0,v:[]},channels:{rdOnly:!0,ref:!0,v:[]},extensionConfig:{ref:!0,v:{}}}),rD=function(t){SC(e,t);function e(){var n=t.call(this)||this,r,i;return Jn(e,n,function(o,s){o.initialize=function(a,c){var l=n;To(n,function(){return"ApplicationInsights:initialize"},function(){a=as(a,G0e,l.logger,!1).cfg,r=new K0e,i=new Zbe;var d=[i];c&&(d=d.concat(c)),a||Os("You must provide a config object!");var p=a.channels;if(p&&p.length>0){for(var m=!1,g=0;g<p[0].length;g++)if(p[0][g].identifier===r.identifier){m=!0;break}m||Qu(p[0],r)}else a.channels.push([r]);var C=a.extensionConfig;C[r.identifier]=C[r.identifier]||a&&a.channelConfiguration||{},C[i.identifier]=C[i.identifier]||a&&a.propertyConfiguration||{};try{s.initialize(a,d),l.isInitialized()&&uK(a,{channelConfiguration:{g:function(){return a.extensionConfig[r.identifier]}},propertyConfiguration:{g:function(){return a.extensionConfig[i.identifier]}}})}catch(_){Fn(l.logger,1,514,"Failed to initialize SDK."+wn(_))}},function(){return{config:a,extensions:c}})},o.getPropertyManager=function(){return i},o.getPostChannel=function(){return r}}),n}return e.__ieDyn=1,e}(zye);class q0e{constructor(){Se(this,"latestClientExperimentationAssignmentRequestId",null);Se(this,"latestApiExperimentationAssignmentRequestId",null)}getTraceIdAnalytics(){return{TraceId_LastClientAssignment:this.latestClientExperimentationAssignmentRequestId,TraceId_Latest:this.latestApiExperimentationAssignmentRequestId}}trackClientExperimentationAssignment(e){const n=this.getTraceIdFromResponseHeaders(e);n&&(this.latestClientExperimentationAssignmentRequestId=n)}trackLatestApiAssignment(e){const n=this.getTraceIdFromResponseHeaders(e.headers);n&&(this.latestApiExperimentationAssignmentRequestId=n)}trackLatestChatConnectedAssignment(e){const{requestId:n}=e;this.latestApiExperimentationAssignmentRequestId=n}getTraceIdFromResponseHeaders(e){return(e.get("x-ceto-ref")??"").split("|")[0]??null}}const $I=new q0e;function iD(){return"25f7e8c"}function Y0e(){return`mscmc@${iD().substring(0,7)}`}function bi(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ec(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function oD(t,e){const n=bi(t);return isNaN(e)?Ec(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function rq(t,e){const n=bi(t);if(isNaN(e))return Ec(t,NaN);if(!e)return n;const r=n.getDate(),i=Ec(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const o=i.getDate();return r>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const iq=6048e5,Q0e=864e5,oWe=6e4,X0e=36e5,sWe=43200,aWe=1440,cWe=60;let Z0e={};function WI(){return Z0e}function Kg(t,e){var a,c,l,d;const n=WI(),r=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(l=n.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??0,i=bi(t),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function rT(t){return Kg(t,{weekStartsOn:1})}function oq(t){const e=bi(t),n=e.getFullYear(),r=Ec(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=rT(r),o=Ec(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=rT(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function iT(t){const e=bi(t);return e.setHours(0,0,0,0),e}function a8(t){const e=bi(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function PS(t,e){const n=iT(t),r=iT(e),i=+n-a8(n),o=+r-a8(r);return Math.round((i-o)/Q0e)}function J0e(t){const e=oq(t),n=Ec(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),rT(n)}function eCe(t,e){return rq(t,e*12)}function sD(t,e){const n=iT(t),r=iT(e);return+n==+r}function tCe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function sq(t){if(!tCe(t)&&typeof t!="number")return!1;const e=bi(t);return!isNaN(Number(e))}function nCe(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function rCe(t,e){return+bi(t)-+bi(e)}function iCe(t,e,n){const r=rCe(t,e)/X0e;return nCe(n==null?void 0:n.roundingMethod)(r)}function oCe(t){const e=bi(t),n=Ec(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const sCe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},aCe=(t,e,n)=>{let r;const i=sCe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function LR(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const cCe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lCe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uCe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dCe={date:LR({formats:cCe,defaultWidth:"full"}),time:LR({formats:lCe,defaultWidth:"full"}),dateTime:LR({formats:uCe,defaultWidth:"full"})},fCe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hCe=(t,e,n,r)=>fCe[t];function Ky(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{const s=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const pCe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mCe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gCe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},vCe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yCe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bCe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},CCe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},_Ce={ordinalNumber:CCe,era:Ky({values:pCe,defaultWidth:"wide"}),quarter:Ky({values:mCe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ky({values:gCe,defaultWidth:"wide"}),day:Ky({values:vCe,defaultWidth:"wide"}),dayPeriod:Ky({values:yCe,defaultWidth:"wide",formattingValues:bCe,defaultFormattingWidth:"wide"})};function Gy(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?SCe(a,p=>p.test(s)):wCe(a,p=>p.test(s));let l;l=t.valueCallback?t.valueCallback(c):c,l=n.valueCallback?n.valueCallback(l):l;const d=e.slice(s.length);return{value:l,rest:d}}}function wCe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function SCe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function ECe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=e.slice(i.length);return{value:s,rest:a}}}const TCe=/^(\d+)(th|st|nd|rd)?/i,ICe=/\d+/i,xCe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ACe={any:[/^b/i,/^(a|c)/i]},kCe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},RCe={any:[/1/i,/2/i,/3/i,/4/i]},PCe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},OCe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},NCe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},MCe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},LCe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},DCe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},jCe={ordinalNumber:ECe({matchPattern:TCe,parsePattern:ICe,valueCallback:t=>parseInt(t,10)}),era:Gy({matchPatterns:xCe,defaultMatchWidth:"wide",parsePatterns:ACe,defaultParseWidth:"any"}),quarter:Gy({matchPatterns:kCe,defaultMatchWidth:"wide",parsePatterns:RCe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Gy({matchPatterns:PCe,defaultMatchWidth:"wide",parsePatterns:OCe,defaultParseWidth:"any"}),day:Gy({matchPatterns:NCe,defaultMatchWidth:"wide",parsePatterns:MCe,defaultParseWidth:"any"}),dayPeriod:Gy({matchPatterns:LCe,defaultMatchWidth:"any",parsePatterns:DCe,defaultParseWidth:"any"})},FCe={code:"en-US",formatDistance:aCe,formatLong:dCe,formatRelative:hCe,localize:_Ce,match:jCe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function UCe(t){const e=bi(t);return PS(e,oCe(e))+1}function BCe(t){const e=bi(t),n=+rT(e)-+J0e(e);return Math.round(n/iq)+1}function aq(t,e){var d,p,m,g;const n=bi(t),r=n.getFullYear(),i=WI(),o=(e==null?void 0:e.firstWeekContainsDate)??((p=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(m=i.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,s=Ec(t,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=Kg(s,e),c=Ec(t,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const l=Kg(c,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function VCe(t,e){var a,c,l,d;const n=WI(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(l=n.locale)==null?void 0:l.options)==null?void 0:d.firstWeekContainsDate)??1,i=aq(t,e),o=Ec(t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Kg(o,e)}function HCe(t,e){const n=bi(t),r=+Kg(n,e)-+VCe(n,e);return Math.round(r/iq)+1}function An(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Tu={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return An(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):An(n+1,2)},d(t,e){return An(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return An(t.getHours()%12||12,e.length)},H(t,e){return An(t.getHours(),e.length)},m(t,e){return An(t.getMinutes(),e.length)},s(t,e){return An(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return An(i,e.length)}},nm={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},c8={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Tu.y(t,e)},Y:function(t,e,n,r){const i=aq(t,r),o=i>0?i:1-i;if(e==="YY"){const s=o%100;return An(s,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):An(o,e.length)},R:function(t,e){const n=oq(t);return An(n,e.length)},u:function(t,e){const n=t.getFullYear();return An(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return An(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return An(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Tu.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return An(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=HCe(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):An(i,e.length)},I:function(t,e,n){const r=BCe(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):An(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Tu.d(t,e)},D:function(t,e,n){const r=UCe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):An(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return An(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return An(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return An(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=nm.noon:r===0?i=nm.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=nm.evening:r>=12?i=nm.afternoon:r>=4?i=nm.morning:i=nm.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Tu.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Tu.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):An(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):An(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Tu.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Tu.s(t,e)},S:function(t,e){return Tu.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return u8(r);case"XXXX":case"XX":return Af(r);case"XXXXX":case"XXX":default:return Af(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return u8(r);case"xxxx":case"xx":return Af(r);case"xxxxx":case"xxx":default:return Af(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+l8(r,":");case"OOOO":default:return"GMT"+Af(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+l8(r,":");case"zzzz":default:return"GMT"+Af(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return An(r,e.length)},T:function(t,e,n){const r=t.getTime();return An(r,e.length)}};function l8(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+An(o,2)}function u8(t,e){return t%60===0?(t>0?"-":"+")+An(Math.abs(t)/60,2):Af(t,e)}function Af(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=An(Math.trunc(r/60),2),o=An(r%60,2);return n+i+e+o}const d8=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},cq=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},zCe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return d8(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",d8(r,e)).replace("{{time}}",cq(i,e))},$Ce={p:cq,P:zCe},WCe=/^D+$/,KCe=/^Y+$/,GCe=["D","DD","YY","YYYY"];function qCe(t){return WCe.test(t)}function YCe(t){return KCe.test(t)}function QCe(t,e,n){const r=XCe(t,e,n);if(console.warn(r),GCe.includes(t))throw new RangeError(r)}function XCe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ZCe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,JCe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,e_e=/^'([^]*?)'?$/,t_e=/''/g,n_e=/[a-zA-Z]/;function og(t,e,n){var d,p,m,g,C,_,S,w;const r=WI(),i=(n==null?void 0:n.locale)??r.locale??FCe,o=(n==null?void 0:n.firstWeekContainsDate)??((p=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:p.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(m=r.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((_=(C=n==null?void 0:n.locale)==null?void 0:C.options)==null?void 0:_.weekStartsOn)??r.weekStartsOn??((w=(S=r.locale)==null?void 0:S.options)==null?void 0:w.weekStartsOn)??0,a=bi(t);if(!sq(a))throw new RangeError("Invalid time value");let c=e.match(JCe).map(T=>{const I=T[0];if(I==="p"||I==="P"){const A=$Ce[I];return A(T,i.formatLong)}return T}).join("").match(ZCe).map(T=>{if(T==="''")return{isToken:!1,value:"'"};const I=T[0];if(I==="'")return{isToken:!1,value:r_e(T)};if(c8[I])return{isToken:!0,value:T};if(I.match(n_e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");return{isToken:!1,value:T}});i.localize.preprocessor&&(c=i.localize.preprocessor(a,c));const l={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return c.map(T=>{if(!T.isToken)return T.value;const I=T.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&YCe(I)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&qCe(I))&&QCe(I,e,String(t));const A=c8[I[0]];return A(a,I,i.localize,l)}).join("")}function r_e(t){const e=t.match(e_e);return e?e[1].replace(t_e,"'"):t}function IN(t,e){const n=bi(t),r=bi(e);return n.getTime()>r.getTime()}function oT(t,e){return oD(t,-e)}function i_e(t,e){return eCe(t,-13)}function o_e(t){return document.cookie.split(";").find(e=>e.trim().startsWith(`${t}=`))}function H0(t){const e=o_e(t),n=e==null?void 0:e.split("=")[1];if(n)return decodeURIComponent(n)}function f8(t,e,n={}){const{expireDays:r,path:i="/",domain:o,secure:s=!0,host:a}=n;let c=t;s&&!o&&i==="/"&&a&&(c=`__Host-${t}`);let l=`${c}=${encodeURIComponent(e)}; path=${i}`;if(r){const d=oD(new Date,r);l+=`; expires=${d.toUTCString()}`}o&&(l+=`; domain=${o}`),s&&(l+="; secure"),document.cookie=l}const gm={name:"CMCCP",expirationDays:365},KI={name:"BCP"},s_e="3PAdsOptOut";function lq(){return H0(gm.name)??H0(KI.name)}function h8(t,e){const{analytics:n,advertising:r,socialMedia:i}=t,o=new URLSearchParams;o.set("AD",r?"1":"0"),o.set("AL",n?"1":"0"),o.set("SM",i?"1":"0");const s=oD(new Date,e);return o.set("expires",s.getTime().toString()),o.toString()}function a_e(t){f8(gm.name,h8(t,gm.expirationDays),{expireDays:gm.expirationDays}),f8(KI.name,h8(t,gm.expirationDays),{expireDays:gm.expirationDays})}function AC(){const t=H0(KI.name);if(!t)return{advertising:!1,analytics:!1,socialMedia:!1};const e=new URLSearchParams(t),n=e.get("AD")==="1",r=e.get("AL")==="1",i=e.get("SM")==="1";return{advertising:n,analytics:r,socialMedia:i}}function uq(){const t=H0(s_e)!=="1";return navigator.globalPrivacyControl?!1:t}const Hf=class Hf{constructor(){Se(this,"listeners",new Map)}static getInstance(){return Hf.instance||(Hf.instance=new Hf),Hf.instance}on(e,n){var r;this.listeners.has(e)||this.listeners.set(e,[]),(r=this.listeners.get(e))==null||r.push(n)}emit(e,n){const r=this.listeners.get(e);if(r)for(const i of r)i(n)}off(e,n){const r=this.listeners.get(e);r&&this.listeners.set(e,r.filter(i=>i!==n))}};Se(Hf,"instance",null);let xN=Hf;const Pr=xN.getInstance();function c_e(t){let e="unknown";try{const n=/(?:CopilotNative|BingNative|MicrosoftLauncher)\/([0-9]+(?:\.[0-9]+)*(?:-[a-zA-Z0-9]+)?)/,r=t==null?void 0:t.match(n);if(r!=null&&r[1]){const[,i]=r;e=i}return e}catch{return e}}function Ev(t,e){sessionStorage.setItem(t,e)}function jh(t){return sessionStorage.getItem(t)}function l_e(t){return jh(t)==="true"}function dq(t){sessionStorage.removeItem(t)}function _r(t){return new URLSearchParams(window.location.search).get(t)}function Jo(t){const e=new URL(window.location.href);e.searchParams.delete(t),window.history.replaceState(null,"",e)}function u_e(){const t=_r("ocid")??_r("OCID"),e=_r("msclkid"),n=_r("gclid"),r={};return t&&(r.OCID=t),e&&(r.msclkid=e),n&&(r.gclid=n),r}function fq(){Jo("ocid"),Jo("OCID"),Jo("msclkid"),Jo("gclid")}function d_e(){const t=_r("form");if(t)return Jo("form"),t;const e=_r("FORM");return e&&Jo("FORM"),e}function f_e(){return _r("alias")}function h_e(){const t=_r("chat-mode");return t&&Jo("chat-mode"),t}function p_e(){const t=_r("q");return t&&Jo("q"),t}function m_e(){const t=_r("prompt");return t&&Jo("prompt"),t}function g_e(){const t=_r("sandbox");return t&&Jo("sandbox"),t==="1"}function v_e(){if(typeof window>"u")return!1;const t=_r("disable-all-features");return t!==null&&t!=="0"&&t!=="false"}function lWe(){return _r("payflow-correlationId")}function y_e(t){return t==="VoiceLimit"||t==="Settings"||t==="ChatReasoningLimit"}function uWe(){const t=_r("entry-point")??"";return y_e(t)?t:"Unknown"}function dWe(){const t=_r("campaign");return t?(Ev("campaignId",t),t):null}function fWe(){const t=_r("referral-code");return t?(Ev("referralCode",t),t):null}function b_e(){return _r("charid")}function hWe(){const t=_r("pff");return t&&Jo("pff"),t}function pWe(){const t=_r("pfah");return t&&Jo("pfah"),t}function mWe(){const t=_r("pfcid");return t&&Jo("pfcid"),t}function kC(t){const e=typeof navigator<"u"?navigator.userAgent:null;return e?t.test(e):!1}function hq(){return kC(/BingSapphire/gi)}function C_e(){return kC(/NewsSapphire/gi)}function pq(){return!!(navigator.userAgent.match(/Mac/)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Macintosh/i.test(navigator.userAgent)&&"ontouchend"in document)}function mq(){return pq()||kC(/iPad|iPhone|Android|iPod/gi)}function __e(){return kC(/Android/gi)}function w_e(){return pq()||kC(/iPhone|iPad|iPod/gi)}const S_e={"thumbs-up":"thumbsUp","thumbs-down":"thumbsDown",report:"reportMessage"},p8="homepage";class E_e{constructor(){Se(this,"analytics",null);Se(this,"features");Se(this,"picassoId",null);Se(this,"anid",null);Se(this,"formCode",null);Se(this,"landingPage",p8);Se(this,"trafficAlias",null);Se(this,"settings",null);Se(this,"isAADUser",null);Se(this,"isNewUser",null);Se(this,"accountType",null);Se(this,"referrer",null);Se(this,"deviceInfo",null)}ensureInitialized(){this.isInitialized||this.initialize()}get isInitialized(){return this.analytics!==null&&this.analytics.isInitialized()}get currentEnv(){return"prod"}setFeatures(e){this.features=e.join(",")}setAnid(e){this.anid=e}setIsNewUser(e){this.isNewUser===null&&(this.isNewUser=e)}setIsAad(e){this.isAADUser=e}setSettings(e){this.settings={...this.settings,...e}}setPicassoId(e){this.picassoId=e}setFormCode(e){this.formCode=e}getFormCode(){return this.formCode}setDeviceInfo(e){this.deviceInfo=e}setLandingPage(e){this.landingPage===p8&&(this.landingPage=e)}getLandingPage(){return this.landingPage}isValidLowercaseUserAccountType(e){return["msa","aad","apple","google"].includes(e)}setUserAccountType(e){if(!e){this.accountType=null;return}const n=e.toLowerCase();this.isValidLowercaseUserAccountType(n)?this.accountType=n:this.accountType=null}processFormCode(){const e=d_e();this.formCode=e}processAlias(){const e=f_e();e&&(this.trafficAlias=e)}processReferrer(){this.referrer===null&&typeof document<"u"&&(this.referrer=document.referrer)}initialize(){if(this.isInitialized)return;this.processFormCode(),this.processAlias(),this.processReferrer(),this.analytics=new rD;const e={instrumentationKey:"be6e4c19699f4fdf9f8c0ec9f9b398ef-25d58bb9-9926-4df7-8e36-bc7afb4b2c34-7563",channelConfiguration:{eventsLimitInMem:5e3},propertyConfiguration:{populateBrowserInfo:!0},disableCookiesUsage:!0};this.analytics.initialize(e,[])}getPlatformSurface(e){if(e==="pageseditor"){if(__e())return"android";if(w_e())return"ios"}return e}getFixEventProperties(){const e=this.getPlatformSurface("cmc");return{appName:`CopilotN-${this.currentEnv}-web-${e}`,appVersion:iD(),surface:e,surfaceVersion:c_e(navigator.userAgent),accountType:this.accountType,userMuid:H0("MUID"),userAnid:this.anid,userPicassoId:this.picassoId,userFlightIds:this.features,trafficAlias:this.trafficAlias,eventInfo_entryPoint:this.formCode,eventInfo_surfaceVisible:document.visibilityState==="visible",isAADUser:this.isAADUser,isNewUser:this.isNewUser,pathname:window.location.pathname,referrer:this.referrer,"UserInfo.Id":this.picassoId,...$I.getTraceIdAnalytics(),...this.settings,...this.deviceInfo}}trackEvent(e){this.ensureInitialized();const n=this.getFixEventProperties(),r=AC(),i=uq();if(!this.analytics){console.error("Failed to initialize AnalyticsService.");return}const o={name:e.name,data:{...n,...e.data},ext:{web:{consentDetails:JSON.stringify({Required:!0,Analytics:r.analytics,SocialMedia:r.socialMedia,Advertising:r.advertising,GPC_DataSharingOptIn:i})}}};(e.data.eventName==="copilotCompose"||e.data.eventName==="copilotAudioInput")&&Pr.emit("composer:send-query",{isNewUser:this.isNewUser,event:e.data}),this.analytics.track(o)}}const he=new E_e;function gq(t,e){he.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"ErrorBoundary",eventInfo_errorName:t.name,eventInfo_errorMessage:t.message,eventInfo_errorStack:t.stack??"",eventInfo_componentStack:e.componentStack??""}})}function z0(t,e,n=!1){he.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"APIResponseParseError",eventInfo_apiUrl:e,eventInfo_errors:JSON.stringify(t.format()),eventInfo_safe:n}})}async function m8(t){const e=await pme(t.promise);he.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"UnhandledRejection",eventInfo_reason:`${t.reason}`,eventInfo_customData:e}})}function T_e(t,e,n){try{new URL(lh(t)).hostname}catch(r){he.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"invalidCitationURL",eventInfo_url:t,eventInfo_errorMessage:r instanceof Error?r.message:"",eventInfo_conversationId:e,eventInfo_messageId:n}})}}function vq(t){he.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"PlaybackApiError",eventInfo_errorMessage:t instanceof Error?t.message:"",eventInfo_details:"An error occurred during media playback tracking api call."}})}function I_e(t,e,n=void 0){he.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"InvalidJsonResponse",eventInfo_apiUrl:n,eventInfo_errorMessage:t.message,eventInfo_errorCode:e.statusText,eventInfo_details:JSON.stringify(Object.fromEntries(e.headers.entries()))}})}const yq=25,bq=25,x_e=1e3,A_e=6e3,k_e=2500,R_e=5,P_e=250,O_e=25,gWe=3,N_e=["mica","aqua","erin"];function Cq(t){switch(t){case"mica":case"aqua":case"erin":return t;default:return null}}function M_e(t,e){switch(t){case"mica":return e("characterAnimation.characterNameMica");case"aqua":return e("characterAnimation.characterNameAqua");case"erin":return e("characterAnimation.characterNameErin");default:return""}}function L_e(t,e){return(n,r)=>{he.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"CharacterError",eventInfo_details:`animatingMessageId: ${t}, characterId: ${e}, name: ${n.name}, info: ${r.componentStack}`,eventInfo_errorMessage:n.message}}),gq(n,r)}}Ppe();const Tv=se(!1),aD=se(void 0),so=se("chat"),Nr=se(new Map),sn=se(void 0),cD=se(null),_q=se(null),Zs=se(t=>{const e=t(sn);if(e)return t(Nr).get(e)}),D_e=tK(Zs,t=>(t==null?void 0:t.streamingState)==="streaming",(t,e)=>t===e),vWe=t=>tK(Nr,e=>{var n;return((n=e.get(t))==null?void 0:n.streamingState)==="streaming"},(e,n)=>e===n),$b=se(!1),Aa=se(new Map),yWe=se([]);se([]);const bWe=t=>se(e=>e(Aa).get(t)),Ul=se(t=>{var e;return((e=t(Zs))==null?void 0:e.history)??[]}),lD=se(t=>{const e=t(Nr);for(const n of e.values())if(!n.title&&!n.history.length&&n.isNew)return n.id}),uD=se(new Map),wb=se(void 0),GI=se([]),wq=se(!1),dD=se(t=>{var e;return Cq((e=t(Zs))==null?void 0:e.characterId)}),yh=se("idle"),Sq=se(!1),Rd=se(null),j_e=se("idle"),Wb=se("checking-availability"),F_e=se(null),Eq=se([]),Fh=se(null),fD=se(null),hD=se([]),U_e=se(t=>t(Fh)===0),pD=se(null),Tq=se(null),B_e=se(null),OS=se(!1),Iq=se(!1),xq=se(Xpe),$0=se(void 0),V_e=se(!0),Aq=se(null),H_e=se(t=>!!t(Aq)),Iv=se(!1);se(null);const mD=se(void 0),z_e=se(void 0),$_e=se(t=>{const e=t(Zs);return e==null?void 0:e.suggestedFollowup}),CWe=se(void 0),kq=se(null),_We=se(!1),W_e=se(!1),gD=se(void 0),wWe=se(!1),SWe=se(void 0),Rq=se(null),Pq=se(!1),xv=se(void 0),EWe=se(void 0),TWe=bL({}),qI=se(void 0),IWe=bL(new Map),cs=se("chat-only"),xWe=se(null),AWe=se(null),kWe=se(null),K_e=se(null),Oq=se({}),vD=se(!1),Nq=se(null),sl=se(null),Mq=se({data:void 0,isLoading:!1}),G_e=se(t=>t(Mq).data),q_e=se(t=>t(Mq).isLoading),NS=se(!1);async function Y_e({from:t,to:e,params:n,search:r,state:i}){var s;e.startsWith("/chats/")||Ht().set(cD,null);let o=e;e==="/"&&((s=Qe.instance().config().landingPage)!=null&&s.enableLandingRoute)&&(o="/discover"),await QC.navigate({to:o,params:n,state:a=>({...a,from:t,...i}),search:r})}function ds(){return Y_e}function cn(t){return Ht().get(t)}function YI(){const t=ds(),e=io(),{location:n}=e.state;return b.useCallback(async({conversationId:r=cn(sn),talk:i=!1}={})=>{r&&await t({to:`/chats/$conversationId${i?"/talk":""}`,params:{conversationId:r},from:e.state.location.pathname,search:n.search?Object.fromEntries(new URLSearchParams(n.search)):{}})},[t,n.search,e.state.location.pathname])}const Gt=t=>typeof t=="string",qy=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},g8=t=>t==null?"":""+t,Q_e=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},X_e=/###/g,v8=t=>t&&t.indexOf("###")>-1?t.replace(X_e,"."):t,y8=t=>!t||Gt(t),Kb=(t,e,n)=>{const r=Gt(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(y8(t))return{};const o=v8(r[i]);!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={},++i}return y8(t)?{}:{obj:t,k:v8(r[i])}},b8=(t,e,n)=>{const{obj:r,k:i}=Kb(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let o=e[e.length-1],s=e.slice(0,e.length-1),a=Kb(t,s,Object);for(;a.obj===void 0&&s.length;)o=`${s[s.length-1]}.${o}`,s=s.slice(0,s.length-1),a=Kb(t,s,Object),a&&a.obj&&typeof a.obj[`${a.k}.${o}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${o}`]=n},Z_e=(t,e,n,r)=>{const{obj:i,k:o}=Kb(t,e,Object);i[o]=i[o]||[],i[o].push(n)},sT=(t,e)=>{const{obj:n,k:r}=Kb(t,e);if(n)return n[r]},J_e=(t,e,n)=>{const r=sT(t,n);return r!==void 0?r:sT(e,n)},Lq=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?Gt(t[r])||t[r]instanceof String||Gt(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):Lq(t[r],e[r],n):t[r]=e[r]);return t},rm=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var ewe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const twe=t=>Gt(t)?t.replace(/[&<>"'\/]/g,e=>ewe[e]):t;class nwe{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const rwe=[" ",",","?","!",";"],iwe=new nwe(20),owe=(t,e,n)=>{e=e||"",n=n||"";const r=rwe.filter(s=>e.indexOf(s)<0&&n.indexOf(s)<0);if(r.length===0)return!0;const i=iwe.getRegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let o=!i.test(t);if(!o){const s=t.indexOf(n);s>0&&!i.test(t.substring(0,s))&&(o=!0)}return o},AN=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let i=t;for(let o=0;o<r.length;){if(!i||typeof i!="object")return;let s,a="";for(let c=o;c<r.length;++c)if(c!==o&&(a+=n),a+=r[c],s=i[a],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&c<r.length-1)continue;o+=c-o+1;break}i=s}return i},aT=t=>t&&t.replace("_","-"),swe={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};let awe=class kN{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||swe,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(Gt(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new kN(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new kN(this.logger,e)}};var dc=new awe;class QI{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(s=>{let[a,c]=s;for(let l=0;l<c;l++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(s=>{let[a,c]=s;for(let l=0;l<c;l++)a.apply(a,[e,...r])})}}class C8 extends QI{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,s=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,n],r&&(Array.isArray(r)?a.push(...r):Gt(r)&&o?a.push(...r.split(o)):a.push(r)));const c=sT(this.data,a);return!c&&!n&&!r&&e.indexOf(".")>-1&&(e=a[0],n=a[1],r=a.slice(2).join(".")),c||!s||!Gt(r)?c:AN(this.data&&this.data[e]&&this.data[e][n],r,o)}addResource(e,n,r,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const s=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let a=[e,n];r&&(a=a.concat(s?r.split(s):r)),e.indexOf(".")>-1&&(a=e.split("."),i=n,n=a[1]),this.addNamespaces(n),b8(this.data,a,i),o.silent||this.emit("added",e,n,r,i)}addResources(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in r)(Gt(r[o])||Array.isArray(r[o]))&&this.addResource(e,n,o,r[o],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),i=r,r=n,n=a[1]),this.addNamespaces(n);let c=sT(this.data,a)||{};s.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?Lq(c,r,o):c={...c,...r},b8(this.data,a,c),s.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var Dq={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(o=>{this.processors[o]&&(e=this.processors[o].process(e,n,r,i))}),e}};const _8={};class cT extends QI{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Q_e(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=dc.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const s=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!owe(e,r,i);if(s&&!a){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:o};const l=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(l[0])>-1)&&(o=l.shift()),e=l.join(i)}return Gt(o)&&(o=[o]),{key:e,namespaces:o}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:s,namespaces:a}=this.extractFromKey(e[e.length-1],n),c=a[a.length-1],l=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&l.toLowerCase()==="cimode"){if(d){const A=n.nsSeparator||this.options.nsSeparator;return i?{res:`${c}${A}${s}`,usedKey:s,exactUsedKey:s,usedLng:l,usedNS:c,usedParams:this.getUsedParamsDetails(n)}:`${c}${A}${s}`}return i?{res:s,usedKey:s,exactUsedKey:s,usedLng:l,usedNS:c,usedParams:this.getUsedParamsDetails(n)}:s}const p=this.resolve(e,n);let m=p&&p.res;const g=p&&p.usedKey||s,C=p&&p.exactUsedKey||s,_=Object.prototype.toString.apply(m),S=["[object Number]","[object Function]","[object RegExp]"],w=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,T=!this.i18nFormat||this.i18nFormat.handleAsObject,I=!Gt(m)&&typeof m!="boolean"&&typeof m!="number";if(T&&m&&I&&S.indexOf(_)<0&&!(Gt(w)&&Array.isArray(m))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const A=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,m,{...n,ns:a}):`key '${s} (${this.language})' returned an object instead of string.`;return i?(p.res=A,p.usedParams=this.getUsedParamsDetails(n),p):A}if(o){const A=Array.isArray(m),k=A?[]:{},R=A?C:g;for(const M in m)if(Object.prototype.hasOwnProperty.call(m,M)){const P=`${R}${o}${M}`;k[M]=this.translate(P,{...n,joinArrays:!1,ns:a}),k[M]===P&&(k[M]=m[M])}m=k}}else if(T&&Gt(w)&&Array.isArray(m))m=m.join(w),m&&(m=this.extendTranslation(m,e,n,r));else{let A=!1,k=!1;const R=n.count!==void 0&&!Gt(n.count),M=cT.hasDefaultValue(n),P=R?this.pluralResolver.getSuffix(l,n.count,n):"",N=n.ordinal&&R?this.pluralResolver.getSuffix(l,n.count,{ordinal:!1}):"",D=R&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),G=D&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${P}`]||n[`defaultValue${N}`]||n.defaultValue;!this.isValidLookup(m)&&M&&(A=!0,m=G),this.isValidLookup(m)||(k=!0,m=s);const W=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&k?void 0:m,$=M&&G!==m&&this.options.updateMissing;if(k||A||$){if(this.logger.log($?"updateKey":"missingKey",l,c,s,$?G:m),o){const V=this.resolve(s,{...n,keySeparator:!1});V&&V.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let L=[];const B=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&B&&B[0])for(let V=0;V<B.length;V++)L.push(B[V]);else this.options.saveMissingTo==="all"?L=this.languageUtils.toResolveHierarchy(n.lng||this.language):L.push(n.lng||this.language);const j=(V,K,z)=>{const H=M&&z!==m?z:W;this.options.missingKeyHandler?this.options.missingKeyHandler(V,c,K,H,$,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(V,c,K,H,$,n),this.emit("missingKey",V,c,K,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&R?L.forEach(V=>{const K=this.pluralResolver.getSuffixes(V,n);D&&n[`defaultValue${this.options.pluralSeparator}zero`]&&K.indexOf(`${this.options.pluralSeparator}zero`)<0&&K.push(`${this.options.pluralSeparator}zero`),K.forEach(z=>{j([V],s+z,n[`defaultValue${z}`]||G)})}):j(L,s,G))}m=this.extendTranslation(m,e,n,p,r),k&&m===s&&this.options.appendNamespaceToMissingKey&&(m=`${c}:${s}`),(k||A)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${s}`:s,A?m:void 0):m=this.options.parseMissingKeyHandler(m))}return i?(p.res=m,p.usedParams=this.getUsedParamsDetails(n),p):m}extendTranslation(e,n,r,i,o){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const l=Gt(e)&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(l){const m=e.match(this.interpolator.nestingRegexp);d=m&&m.length}let p=r.replace&&!Gt(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,r.lng||this.language||i.usedLng,r),l){const m=e.match(this.interpolator.nestingRegexp),g=m&&m.length;d<g&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var m=arguments.length,g=new Array(m),C=0;C<m;C++)g[C]=arguments[C];return o&&o[0]===g[0]&&!r.context?(s.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${n[0]}`),null):s.translate(...g,n)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,c=Gt(a)?[a]:a;return e!=null&&c&&c.length&&r.applyPostProcessor!==!1&&(e=Dq.handle(c,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,i,o,s,a;return Gt(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(r))return;const l=this.extractFromKey(c,n),d=l.key;i=d;let p=l.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const m=n.count!==void 0&&!Gt(n.count),g=m&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),C=n.context!==void 0&&(Gt(n.context)||typeof n.context=="number")&&n.context!=="",_=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);p.forEach(S=>{this.isValidLookup(r)||(a=S,!_8[`${_[0]}-${S}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(_8[`${_[0]}-${S}`]=!0,this.logger.warn(`key "${i}" for languages "${_.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),_.forEach(w=>{if(this.isValidLookup(r))return;s=w;const T=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(T,d,w,S,n);else{let A;m&&(A=this.pluralResolver.getSuffix(w,n.count,n));const k=`${this.options.pluralSeparator}zero`,R=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(T.push(d+A),n.ordinal&&A.indexOf(R)===0&&T.push(d+A.replace(R,this.options.pluralSeparator)),g&&T.push(d+k)),C){const M=`${d}${this.options.contextSeparator}${n.context}`;T.push(M),m&&(T.push(M+A),n.ordinal&&A.indexOf(R)===0&&T.push(M+A.replace(R,this.options.pluralSeparator)),g&&T.push(M+k))}}let I;for(;I=T.pop();)this.isValidLookup(r)||(o=I,r=this.getResource(w,S,I,n))}))})}),{res:r,usedKey:i,exactUsedKey:o,usedLng:s,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Gt(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const o of n)delete i[o]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}const DR=t=>t.charAt(0).toUpperCase()+t.slice(1);class w8{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=dc.create("languageUtils")}getScriptPartFromCode(e){if(e=aT(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=aT(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(Gt(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(e)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch{}const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(i=>i.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=DR(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=DR(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=DR(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getLanguagePartFromCode(r);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),Gt(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),i=[],o=s=>{s&&(this.isSupportedCode(s)?i.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return Gt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):Gt(e)&&o(this.formatLanguageCode(e)),r.forEach(s=>{i.indexOf(s)<0&&o(this.formatLanguageCode(s))}),i}}let cwe=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],lwe={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const uwe=["v1","v2","v3"],dwe=["v4"],S8={zero:0,one:1,two:2,few:3,many:4,other:5},fwe=()=>{const t={};return cwe.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:lwe[e.fc]}})}),t};class hwe{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=dc.create("pluralResolver"),(!this.options.compatibilityJSON||dwe.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=fwe(),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{const r=aT(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:i});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];const s=new Intl.PluralRules(r,{type:i});return this.pluralRulesCache[o]=s,s}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((i,o)=>S8[i]-S8[o]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):r.numbers.map(i=>this.getSuffix(e,i,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,r);return i?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:this.getSuffixRetroCompatible(i,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let i=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const o=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!uwe.includes(this.options.compatibilityJSON)}}const E8=function(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=J_e(t,e,n);return!o&&i&&Gt(n)&&(o=AN(t,n,r),o===void 0&&(o=AN(e,n,r))),o},jR=t=>t.replace(/\$/g,"$$$$");class pwe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=dc.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:o,prefixEscaped:s,suffix:a,suffixEscaped:c,formatSeparator:l,unescapeSuffix:d,unescapePrefix:p,nestingPrefix:m,nestingPrefixEscaped:g,nestingSuffix:C,nestingSuffixEscaped:_,nestingOptionsSeparator:S,maxReplaces:w,alwaysFormat:T}=e.interpolation;this.escape=n!==void 0?n:twe,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=o?rm(o):s||"{{",this.suffix=a?rm(a):c||"}}",this.formatSeparator=l||",",this.unescapePrefix=d?"":p||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=m?rm(m):g||rm("$t("),this.nestingSuffix=C?rm(C):_||rm(")"),this.nestingOptionsSeparator=S||",",this.maxReplaces=w||1e3,this.alwaysFormat=T!==void 0?T:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,n,r,i){let o,s,a;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=g=>{if(g.indexOf(this.formatSeparator)<0){const w=E8(n,c,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,r,{...i,...n,interpolationkey:g}):w}const C=g.split(this.formatSeparator),_=C.shift().trim(),S=C.join(this.formatSeparator).trim();return this.format(E8(n,c,_,this.options.keySeparator,this.options.ignoreJSONStructure),S,r,{...i,...n,interpolationkey:_})};this.resetRegExp();const d=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,p=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>jR(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?jR(this.escape(g)):jR(g)}].forEach(g=>{for(a=0;o=g.regex.exec(e);){const C=o[1].trim();if(s=l(C),s===void 0)if(typeof d=="function"){const S=d(e,o,i);s=Gt(S)?S:""}else if(i&&Object.prototype.hasOwnProperty.call(i,C))s="";else if(p){s=o[0];continue}else this.logger.warn(`missed to pass in variable ${C} for interpolating ${e}`),s="";else!Gt(s)&&!this.useRawValueToEscape&&(s=g8(s));const _=g.safeValue(s);if(e=e.replace(o[0],_),p?(g.regex.lastIndex+=s.length,g.regex.lastIndex-=o[0].length):g.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,o,s;const a=(c,l)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const p=c.split(new RegExp(`${d}[ ]*{`));let m=`{${p[1]}`;c=p[0],m=this.interpolate(m,s);const g=m.match(/'/g),C=m.match(/"/g);(g&&g.length%2===0&&!C||C.length%2!==0)&&(m=m.replace(/'/g,'"'));try{s=JSON.parse(m),l&&(s={...l,...s})}catch(_){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,_),`${c}${d}${m}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,c};for(;i=this.nestingRegexp.exec(e);){let c=[];s={...r},s=s.replace&&!Gt(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;let l=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const d=i[1].split(this.formatSeparator).map(p=>p.trim());i[1]=d.shift(),c=d,l=!0}if(o=n(a.call(this,i[1].trim(),s),s),o&&i[0]===e&&!Gt(o))return o;Gt(o)||(o=g8(o)),o||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),o=""),l&&(o=c.reduce((d,p)=>this.format(d,p,r.lng,{...r,interpolationkey:i[1].trim()}),o.trim())),e=e.replace(i[0],o),this.regexp.lastIndex=0}return e}}const mwe=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(s=>{if(s){const[a,...c]=s.split(":"),l=c.join(":").trim().replace(/^'+|'+$/g,""),d=a.trim();n[d]||(n[d]=l),l==="false"&&(n[d]=!1),l==="true"&&(n[d]=!0),isNaN(l)||(n[d]=parseInt(l,10))}})}return{formatName:e,formatOptions:n}},im=t=>{const e={};return(n,r,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});const s=r+JSON.stringify(o);let a=e[s];return a||(a=t(aT(r),i),e[s]=a),a(n)}};class gwe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=dc.create("formatter"),this.options=e,this.formats={number:im((n,r)=>i=>new Intl.NumberFormat(n,{...r}).format(i)),currency:im((n,r)=>i=>new Intl.NumberFormat(n,{...r,style:"currency"}).format(i)),datetime:im((n,r)=>i=>new Intl.DateTimeFormat(n,{...r}).format(i)),relativetime:im((n,r)=>i=>new Intl.RelativeTimeFormat(n,{...r}).format(i,r.range||"day")),list:im((n,r)=>i=>new Intl.ListFormat(n,{...r}).format(i))},this.init(e)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=im(n)}format(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(a=>a.indexOf(")")>-1)){const a=o.findIndex(c=>c.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,a)].join(this.formatSeparator)}return o.reduce((a,c)=>{const{formatName:l,formatOptions:d}=mwe(c);if(this.formats[l]){let p=a;try{const m=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},g=m.locale||m.lng||i.locale||i.lng||r;p=this.formats[l](a,g,{...d,...i,...m})}catch(m){this.logger.warn(m)}return p}else this.logger.warn(`there was no format function for ${l}`);return a},e)}}const vwe=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class ywe extends QI{constructor(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=dc.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,i.backend,i)}queueLoad(e,n,r,i){const o={},s={},a={},c={};return e.forEach(l=>{let d=!0;n.forEach(p=>{const m=`${l}|${p}`;!r.reload&&this.store.hasResourceBundle(l,p)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?s[m]===void 0&&(s[m]=!0):(this.state[m]=1,d=!1,s[m]===void 0&&(s[m]=!0),o[m]===void 0&&(o[m]=!0),c[p]===void 0&&(c[p]=!0)))}),d||(a[l]=!0)}),(Object.keys(o).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(o),pending:Object.keys(s),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(c)}}loaded(e,n,r){const i=e.split("|"),o=i[0],s=i[1];n&&this.emit("failedLoading",o,s,n),!n&&r&&this.store.addResourceBundle(o,s,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const a={};this.queue.forEach(c=>{Z_e(c.loaded,[o],s),vwe(c,e),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(l=>{a[l]||(a[l]={});const d=c.loaded[l];d.length&&d.forEach(p=>{a[l][p]===void 0&&(a[l][p]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(c=>!c.done)}read(e,n,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:o,callback:s});return}this.readingCalls++;const a=(l,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(l&&d&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,o*2,s)},o);return}s(l,d)},c=this.backend[r].bind(this.backend);if(c.length===2){try{const l=c(e,n);l&&typeof l.then=="function"?l.then(d=>a(null,d)).catch(a):a(null,l)}catch(l){a(l)}return}return c(e,n,a)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Gt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Gt(n)&&(n=[n]);const o=this.queueLoad(e,n,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach(s=>{this.loadOne(s)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(s,a)=>{s&&this.logger.warn(`${n}loading namespace ${o} for language ${i} failed`,s),!s&&a&&this.logger.log(`${n}loaded namespace ${o} for language ${i}`,a),this.loaded(e,s,a)})}saveMissing(e,n,r,i,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const c={...s,isUpdate:o},l=this.backend.create.bind(this.backend);if(l.length<6)try{let d;l.length===5?d=l(e,n,r,i,c):d=l(e,n,r,i),d&&typeof d.then=="function"?d.then(p=>a(null,p)).catch(a):a(null,d)}catch(d){a(d)}else l(e,n,r,i,a,c)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const T8=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Gt(t[1])&&(e.defaultValue=t[1]),Gt(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),I8=t=>(Gt(t.ns)&&(t.ns=[t.ns]),Gt(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Gt(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),Uw=()=>{},bwe=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class W0 extends QI{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=I8(e),this.services={},this.logger=dc,this.modules={external:[]},bwe(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(Gt(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const i=T8();this.options={...i,...this.options,...I8(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const o=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?dc.init(o(this.modules.logger),this.options):dc.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=gwe);const p=new w8(this.options);this.store=new C8(this.options.resources,this.options);const m=this.services;m.logger=dc,m.resourceStore=this.store,m.languageUtils=p,m.pluralResolver=new hwe(p,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(m.formatter=o(d),m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new pwe(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new ywe(o(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",function(g){for(var C=arguments.length,_=new Array(C>1?C-1:0),S=1;S<C;S++)_[S-1]=arguments[S];e.emit(g,..._)}),this.modules.languageDetector&&(m.languageDetector=o(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=o(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new cT(this.services,this.options),this.translator.on("*",function(g){for(var C=arguments.length,_=new Array(C>1?C-1:0),S=1;S<C;S++)_[S-1]=arguments[S];e.emit(g,..._)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Uw),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return e.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return e.store[d](...arguments),e}});const c=qy(),l=()=>{const d=(p,m)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(m),r(p,m)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),c}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uw;const i=Gt(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],s=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(l=>{l!=="cimode"&&o.indexOf(l)<0&&o.push(l)})};i?s(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>s(c)),this.options.preload&&this.options.preload.forEach(a=>s(a)),this.services.backendConnector.load(o,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(e,n,r){const i=qy();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=Uw),this.services.backendConnector.reload(e,n,o=>{i.resolve(),r(o)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Dq.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const i=qy();this.emit("languageChanging",e);const o=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},s=(c,l)=>{l?(o(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,i.resolve(function(){return r.t(...arguments)}),n&&n(c,function(){return r.t(...arguments)})},a=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const l=Gt(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);l&&(this.language||o(l),this.translator.language||this.translator.changeLanguage(l),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(l)),this.loadResources(l,d=>{s(d,l)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),i}getFixedT(e,n,r){var i=this;const o=function(s,a){let c;if(typeof a!="object"){for(var l=arguments.length,d=new Array(l>2?l-2:0),p=2;p<l;p++)d[p-2]=arguments[p];c=i.options.overloadTranslationOptionHandler([s,a].concat(d))}else c={...a};c.lng=c.lng||o.lng,c.lngs=c.lngs||o.lngs,c.ns=c.ns||o.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||r||o.keyPrefix);const m=i.options.keySeparator||".";let g;return c.keyPrefix&&Array.isArray(s)?g=s.map(C=>`${c.keyPrefix}${m}${C}`):g=c.keyPrefix?`${c.keyPrefix}${m}${s}`:s,i.t(g,c)};return Gt(e)?o.lng=e:o.lngs=e,o.ns=n,o.keyPrefix=r,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(a,c)=>{const l=this.services.backendConnector.state[`${a}|${c}`];return l===-1||l===0||l===2};if(n.precheck){const a=n.precheck(this,s);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,e)&&(!i||s(o,e)))}loadNamespaces(e,n){const r=qy();return this.options.ns?(Gt(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=qy();Gt(e)&&(e=[e]);const i=this.options.preload||[],o=e.filter(s=>i.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return o.length?(this.options.preload=i.concat(o),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new w8(T8());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new W0(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Uw;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},o=new W0(i);return(e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(a=>{o[a]=this[a]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r&&(o.store=new C8(this.store.data,i),o.services.resourceStore=o.store),o.translator=new cT(o.services,i),o.translator.on("*",function(a){for(var c=arguments.length,l=new Array(c>1?c-1:0),d=1;d<c;d++)l[d-1]=arguments[d];o.emit(a,...l)}),o.init(i,n),o.translator.options=i,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ln=W0.createInstance();ln.createInstance=W0.createInstance;ln.createInstance;ln.dir;ln.init;ln.loadResources;ln.reloadResources;ln.use;ln.changeLanguage;ln.getFixedT;const Ae=ln.t,RWe=ln.exists;ln.setDefaultNamespace;ln.hasLoadedNamespace;ln.loadNamespaces;ln.loadLanguages;function Cwe(){const t=oe(Aa),e=oe(sn);return b.useMemo(()=>{if(e){for(const n of t.values())if(n.conversationId===e)return n}},[e,t])}function _we(){const t=Ht(),e=t.get(Aa),n=t.get(sn);if(n){for(const r of e.values())if(r.conversationId===n)return r}}function jq(t){const{tasks:e,conversationId:n,taskType:r}=t;for(const i of e.values())if(i.conversationId===n){if(r&&i.type!==r)continue;return i.id}return""}const Fq=["completed","failed","cancelled"];function wwe(t){return t.content.find(e=>{var r;if(e.type!=="task")return!1;const n=(r=e.task)==null?void 0:r.status;return n&&!Fq.includes(n)})}function Swe(t){for(let e=t.length-1;e>=0;e-=1){const n=t[e];if(n&&n.type==="task")return n}}function yD(t){for(const e of t){const n=wwe(e);if(n)return{message:e,part:n}}return null}const Av=Ht();function Co(t,e){const n=t.at(-1),r=t.find(({id:i})=>i===e);if((n==null?void 0:n.id)===(r==null?void 0:r.id)&&(r==null?void 0:r.author)==="ai")return r}function Ewe(t,e){const n=t.find(({author:r})=>r==="human");if((n==null?void 0:n.id)===e&&n.author==="human")return n}function Uq(t){const e=t.at(-1);if((e==null?void 0:e.author)==="ai")return e}function Yy(t,e){return t.find(n=>n.partId===e)}function Twe(t){for(let e=t.length-1;e>=0;e-=1){const n=t[e];if(n&&n.type==="text")return n}}function Bq(t){if(!t)return null;const e=Av.get(Nr).get(t);if(!e)return null;const{history:n}=e;return yD(n)}function mr(t,e){Av.set(Nr,n=>Id(n,r=>{const i=r.get(t);i&&e(i.history)}))}function bD(t,e){Av.set(Aa,n=>Id(n,r=>{const i=r.get(t);i&&e(i)}))}function ju(t,e){Av.set(Nr,n=>Id(n,r=>{const i=r.get(t);i&&e(i)}))}function MS(t,e){Av.set(uD,n=>{const r=new Map(n);return r.set(t,e),r})}function Iwe(t){Av.set(so,t)}function Bw(t,e){const n={type:"error",text:t,partId:"0"},r=Math.random().toString(),i={id:r,createdAt:new Date().toISOString(),author:"ai",content:[n],mode:"chat"};MS(e,r),mr(e,o=>{o.push(i)}),ju(e,o=>{o.streamingState="idle"})}const sc=Ht(),xwe="MissingUrlFromApi";function Awe(t,e){const n=sc.get(Aa).get(t);return(n==null?void 0:n.type)==="computerUse"&&!n.lastUserCommand&&kwe(n)&&e.some(i=>i.op==="replace"&&i.path==="/status"&&i.value==="paused")?e.some(i=>{if(i.op==="replace"&&i.path==="/statusChange"){const{value:o}=i;if(o&&typeof o=="object"&&"reason"in o)return o.reason==="userTakeControl"||o.reason==="pauseByClick"}return!1}):!1}function Vq(t){return t==="paused"||t==="running"||t==="pending"}function kwe(t){var e,n;return t.status==="paused"&&(((e=t.statusChange)==null?void 0:e.reason)==="safetyRiskDetected"||((n=t.statusChange)==null?void 0:n.reason)==="askUserInput")}function Rwe(t){var e;return t.status==="paused"&&((e=t.statusChange)==null?void 0:e.reason)==="safetyRiskDetected"}function PWe(t){var e;return t.status==="paused"&&((e=t.statusChange)==null?void 0:e.reason)==="userTakeControl"&&t.lastUserCommand==="takeTaskControl"}function FR(t,e=!1){return t.map(n=>({type:"chainOfThought",text:n.text,screenshotUrl:e?xwe:null,reaction:null,partId:Math.random().toString()}))}function Pwe(t,e){const n=sc.get(Aa).get(t);if((n==null?void 0:n.type)==="computerUse"){const{conversationId:r,status:i,statusChange:o}=n;if(!r)return;if(i==="cancelled"&&mr(r,l=>{const d=x8(t,"cancelTask");l.push(d)}),e.some(l=>l.path==="/statusChange"&&"value"in l&&typeof l.value=="object"&&l.value.reason==="giveBackControl")?mr(r,l=>{const d=x8(t,"takeTaskControl");l.push(d)}):(o==null?void 0:o.reason)==="giveBackControl"&&A8(t),o)switch(o.reason){case"askUserInput":case"safetyRiskDetected":{i==="paused"?(r===sc.get(sn)||sc.set(Nq,{title:n.title&&n.title!==""?Ae("actions.alertTitleTemplate",{conversationName:n.title}):Ae("actions.defaultAlertTitle"),subTitle:o.reason==="safetyRiskDetected"?Ae("actions.safetyRiskAlertSubTitle"):Ae("actions.askUserInputAlertSubTitle"),conversationId:n.conversationId??"",onClick:{action:"SWITCH_CONVERSATION"}}),bD(t,d=>{"lastUserCommand"in d&&(d.lastUserCommand=void 0)})):A8(t);break}}const a=e.filter(l=>l.op==="add"&&l.path==="/chainOfThought/-").map(l=>({text:"value"in l?l.value:""}));a.length>0&&mr(r,l=>{if(l.length===0)return;const d=k8(l);if(d)d.push(...FR(a));else{const p={id:Math.random().toString(),createdAt:new Date().toISOString(),author:"ai",content:FR(a)};l.push(p)}}),e.filter(l=>l.op==="replace"&&l.path==="/computerAction").length>0&&mr(r,l=>{const d=k8(l);d&&d.push(...FR([{text:n.computerAction??""}],!0))})}}function x8(t,e){return{id:Math.random().toString(),createdAt:new Date().toISOString(),author:"human",content:[{type:"command",command:{type:e,taskId:t}}]}}function A8(t){bD(t,e=>{"statusChange"in e&&(e.statusChange=void 0)})}function k8(t){const e=t.at(-1);if(e&&e.author==="ai"&&e.content.find(n=>n.type==="chainOfThought"))return e.content}function OWe(t){const e=_we();return(e==null?void 0:e.type)==="computerUse"?e.status!=="running"&&!e.isReplaying?!0:!t:!0}function NWe(t){return!!(Kt("labs-actions-replay")&&t&&t.type==="computerUse"&&!Vq(t.status))}function MWe(t){return{cancelTask:"copilotActionsCancelTask",takeTaskControl:"copilotActionsTakeControl",startTask:void 0,pauseTask:void 0,resumeTask:void 0,releaseTaskControl:void 0}[t]}function Hq(t,e){return jq({tasks:t,conversationId:e,taskType:"computerUse"})!==""}function zq(t){return jq({tasks:sc.get(Aa),conversationId:t,taskType:"computerUse"})}function Owe(t,e){if(t===e&&sc.set(cs,"side-by-side"),!Kt("actions-auto-open-L2")||!t)return;const r=sc.get(sn);r&&sc.set(cD,r),sc.set(sn,t),sc.set(cs,"side-by-side")}function $q(){const t=xd(Nr),[e,n]=Lt(sn),[r,i]=Lt(cD),o=We(so),s=We(cs),a=oe(Aa),c=oe(lD),l=YI(),d=We(Iv);return b.useCallback(p=>{var S,w;const{id:m,shouldNavigateToChat:g=!0,shouldClearParentConversation:C=!0}=p;C&&e!==r&&i(null),n(m),d(!1),t(T=>{const I=T.get(m);if(I!=null&&I.history.length&&(I.isNew=!1),I!=null&&I.history.some(A=>A.content.some(k=>k.type==="card"&&k.card.type==="ads"))){for(const A of I.history)if(A.author==="ai"&&A.content.some(k=>k.type==="card"&&k.card.type==="ads")){const k=A.content.filter(R=>R.type!=="card"||R.card.type!=="ads");A.content=k}}}),c&&c!==m&&t(T=>{T.delete(c)});const _=((w=(S=Bq(m))==null?void 0:S.part.task)==null?void 0:w.type)==="research";o(_?"research":"chat"),Hq(a,m)?s("side-by-side"):s("chat-only"),g&&l({conversationId:m})},[e,r,n,d,t,c,o,a,i,s,l])}const Rc=h.object({partId:h.string()}),Wq=h.object({event:h.literal("invokeAction"),actionId:h.string()}),Nwe=h.enum(Ype),Mwe=h.object({type:h.literal("code"),language:Nwe,content:h.string()}),Lwe=h.object({type:h.literal("text"),content:h.string()}),Dwe=h.discriminatedUnion("type",[Mwe,Lwe]),Kq=h.union([h.literal("running"),h.literal("completed"),h.literal("failed")]),jwe=h.object({title:h.string(),status:Kq}),Gq=h.object({status:Kq,title:h.string(),steps:h.array(jwe),artifacts:h.array(Dwe)}),Fwe=Rc.extend({type:h.literal("activity"),activity:Gq}),Ao=h.object({amount:h.number(),currency:h.string().nullable(),currencySymbol:h.string().nullable()}),Uwe=h.enum(["current-search-term","recent-searches","age","gender","website-visits","interests","custom-audience","similar-audience","profile-targeting"]);h.enum(["multimedia","product","tourActivity","propertyPromotion","text","miniShowroom","mainShowroom","showroom","organic"]);const Bwe=h.enum(["top","bottom","left","right"]),Vwe=h.object({adDomain:h.string(),advertiser:h.object({name:h.string(),country:h.string()}),isVerified:h.boolean(),selectionReasons:h.array(Uwe)}),ip=h.object({url:h.string(),urlPingSuffix:h.string()}),Tc=h.object({url:h.string(),width:h.number().nullish(),height:h.number().nullish(),link:ip.nullish(),impressionToken:h.string().nullish()}),Hwe=h.object({downPayment:h.string(),description:h.string()}),zwe=h.object({rating:h.number(),link:ip,impressionToken:h.string()}),RC=h.object({businessName:h.string(),image:Tc,impressionToken:h.string().nullish()}),qq=h.object({text:h.string(),url:h.string(),urlPingSuffix:h.string()}),$we=h.object({title:h.string(),text:h.string(),url:h.string(),layout:h.enum(["inline","overlay"])}),op=h.object({impressionToken:h.string(),selectionCriteria:Vwe}),XI=h.object({rowIndex:h.number().int(),columnIndex:h.number().int(),textPosition:Bwe,imagesPerRow:h.number().int()}),Yq=op.extend({type:h.literal("multimedia"),description:h.string(),title:h.string(),displayUrl:h.string(),link:ip,image:Tc.nullish(),images:h.array(Tc).nullish(),logo:RC.nullish(),action:qq.nullish(),layout:XI.nullish()});op.extend({type:h.literal("organic"),description:h.string(),title:h.string(),link:h.string(),image:Tc,layout:XI});const ZI=h.object({category:h.string(),value:h.string()}),CD=op.extend({type:h.literal("product"),offer:h.object({seller:h.string(),link:ip,price:Ao,lowPrice:Ao.nullish(),item:h.object({name:h.string(),image:Tc})}),tags:h.array(ZI).nullish(),shipping:h.object({isFree:h.boolean(),description:h.string()}).nullish(),productRating:zwe.nullish(),installment:Hwe.nullish(),pricePerUnit:h.string().nullish(),energyRating:h.string().nullish(),layout:XI.nullish()}),Qq=op.extend({type:h.literal("tourActivity"),title:h.string(),domain:h.string(),startingPrice:Ao,image:Tc,link:ip,tags:h.array(ZI).nullish()}),Xq=op.extend({type:h.literal("propertyPromotion"),title:h.string(),domain:h.string(),price:Ao,image:Tc,link:ip,tags:h.array(ZI).nullish()}),Wwe=op.extend({type:h.literal("text"),title:h.string(),description:h.string(),displayUrl:h.string(),link:ip,image:Tc.nullish(),logo:RC.nullish(),disclaimer:$we.nullish()}),Kwe=op.extend({type:h.literal("miniShowroom"),title:h.string(),description:h.string(),displayUrl:h.string(),image:Tc,logo:RC.nullish()}),Gwe=h.object({ad:h.union([CD,Yq]),adId:h.string().nullish()}),qwe=h.object({isLoading:h.boolean().nullish()}),Zq=qwe.extend({type:h.literal("mainShowroom"),id:h.string(),brandId:h.string(),title:h.string().nullish(),description:h.string().nullish(),backgroundColor:h.number().int().nullish(),images:h.array(Tc).nullish(),logo:RC.nullish(),slotAds:h.array(Gwe).nullish(),action:qq.nullish(),layout:XI.nullish()}),Ywe=h.union([Yq,CD,Qq,Xq,Wwe,Kwe,Zq]);h.union([CD,Qq,Xq]);const Jq=h.object({pageLoadPingUrl:h.string(),visibilityPingUrlBase:h.string(),clickPingUrlBase:h.string()}),UR=h.object({tagsSupported:h.boolean()});h.object({supportedTypes:h.array(h.enum(["multimedia","product","tourActivity","propertyPromotion","text","showroom","miniShowroom","mainShowroom"])),product:UR.nullish(),propertyPromotion:UR.nullish(),tourActivity:UR.nullish(),optOutOfPersonalization:h.boolean().nullish()});h.object({showroom:h.object({brandId:h.string(),brandName:h.string().nullish(),adId:h.string().nullish()})});const Qwe=h.object({brandBackground:h.number().int().nullish(),brandLogo:RC,conversationId:h.string(),theme:h.enum(["light","dark"]).nullish(),viewMode:h.enum(["cardView","extendedView"]),rguid:h.string().nullish(),rlink:h.string().nullish(),messageId:h.string(),triggerAt:h.number(),mainShowroomAdId:h.string().nullish()});Qwe.extend({brandId:h.string(),adId:h.string().nullish()});h.object({brandId:h.string(),brandName:h.string().nullish(),messageId:h.string(),conversationId:h.string(),visible:h.boolean()});const Xwe=h.object({requestId:h.string(),ads:h.array(Zq),instrumentation:Jq}),Zwe=h.object({selectedTag:ZI.nullish(),collapsed:h.boolean().nullish(),showroomData:h.array(h.object({requestUrl:h.string(),response:Xwe})).nullish()}),Jwe=Zwe.extend({type:h.literal("ads"),requestId:h.string(),summary:h.string(),ads:h.array(Ywe).nullish(),instrumentation:Jq}),eSe=h.object({name:h.string(),url:h.string().nullish(),description:h.string().nullish(),phoneNumber:h.string().nullish(),smsNumber:h.string().nullish(),chatUrl:h.string().nullish(),whatsAppUrl:h.string().nullish()}),tSe=h.object({type:h.literal("safetyHelpline"),countryEmergencyNumber:h.string().nullable(),helplines:h.array(eSe)}),nSe=h.object({name:h.string(),disclaimerUrl:h.string(),url:h.string()}),eY=h.object({price:h.number().nullish(),changeInPercentage:h.number().nullish(),changeInAmount:h.number().nullish()}),tY=h.object({id:h.string(),symbol:h.string(),displayName:h.string(),price:h.number(),previousClosePrice:h.number(),changeInPercentage:h.number(),changeInAmount:h.number(),updatedAt:h.string(),iconUrl:h.string(),provider:nSe,isFollowed:h.boolean().nullish()}),rSe=h.object({priceOpen:h.number().nullish(),priceHigh:h.number().nullish(),priceLow:h.number().nullish(),price52wHigh:h.number().nullish(),price52wLow:h.number().nullish()}),PC=tY.extend({intradayPricing:rSe,isMarketLastSale:h.boolean(),exchangeTimeZoneId:h.string().nullish(),isMarketRegularHours:h.boolean().optional(),lastUpdatedAt:h.string(),tradingDayEndAt:h.string(),accumulatedVolume:h.number().nullish()}),iSe=PC.extend({securityType:h.literal("stock"),marketCap:h.number().nullish(),marketCapCurrency:h.string().nullish(),averageVolume:h.number().nullish(),peRatio:h.number().nullish(),postMarket:eY.nullish()}),oSe=PC.extend({securityType:h.literal("etf"),netAssets:h.number().nullish(),expenseRatio:h.number().nullish(),yieldPercent:h.number().nullish(),postMarket:eY.nullish()}),sSe=PC.extend({securityType:h.literal("index")}),aSe=tY.extend({securityType:h.literal("fund"),price52wHigh:h.number().nullish(),price52wLow:h.number().nullish(),netAssets:h.number().nullish(),expenseRatio:h.number().nullish(),yieldPercent:h.number().nullish(),oneYearReturn:h.number().nullish()}),nY=h.object({amount:h.number().nullish(),currency:h.string().nullish(),currencySymbol:h.string().nullish()}),R8=h.object({value:nY,fullName:h.string().nullish()}),cSe=h.object({oneMonth:h.number().nullish(),sixMonths:h.number().nullish(),oneYear:h.number().nullish()}),lSe=PC.extend({securityType:h.literal("currencyExchange"),fromCurrency:R8,toCurrency:R8,percentageReturns:cSe}),uSe=PC.extend({securityType:h.literal("cryptocurrency"),marketDominancePercentage:h.number().nullish(),circulatingSupply:h.number().nullish(),maxSupply:h.number().nullish(),oneYearReturn:h.number().nullish(),marketCap:nY,marketCapCurrency:h.string().nullish()}),dSe=h.enum(Wpe),fSe=h.object({price:h.number(),volume:h.number(),at:h.string()}),P8=h.array(fSe),hSe=h.object({afterHoursSeries:P8,series:P8,chartType:dSe}),pSe=h.discriminatedUnion("securityType",[iSe,oSe,sSe,aSe,lSe,uSe]),mSe=h.object({currency:h.string(),instrument:pSe,chart:hSe.optional()}),gSe=mSe.extend({type:h.literal("financeChart")}),vSe=h.discriminatedUnion("type",[gSe]),ySe=h.object({id:h.string()}),bSe=h.array(ySe),LWe=h.object({entities:bSe}),CSe=h.object({type:h.literal("generativeUI"),markup:h.string(),data:h.record(h.string(),h.any())}),_Se=h.object({image:h.object({url:h.string(),thumbnailUrl:h.string(),altText:h.string(),width:h.number(),height:h.number()}),source:h.object({title:h.string(),url:h.string(),iconUrl:h.string().nullable()})}),wSe=h.object({type:h.literal("image"),images:h.array(_Se)}),SSe=h.object({name:h.string(),logoUrl:h.string().nullable(),postUrl:h.string()}),ESe=h.object({title:h.string(),companyName:h.string(),companyLogoUrl:h.string().nullable(),postedAt:h.string(),location:h.string(),providers:h.array(SSe),description:h.string(),salary:h.string().nullable(),type:h.string().nullable(),locationType:h.string().nullable(),tags:h.array(h.string()).nullable()}),TSe=h.object({type:h.literal("job"),jobs:h.array(ESe)}),ISe=h.object({type:h.literal("localEntity"),entities:h.array(h.object({name:h.string(),phoneNumber:h.string().nullish(),url:h.string().nullish(),reviews:h.array(h.object({count:h.number(),rating:h.number(),providerName:h.string(),providerIconUrl:h.string().nullish(),url:h.string()})),location:h.object({address:h.string().nullish(),latitude:h.number(),longitude:h.number()}),photos:h.array(h.object({url:h.string(),altText:h.string().nullish(),providerName:h.string().nullish(),providerUrl:h.string()})),category:h.string().nullish(),price:h.string().nullish()}))}),xSe=h.object({id:h.string(),type:h.string()}),ASe=h.union([h.literal("docx"),h.literal("xlsx"),h.literal("pptx"),h.literal("one"),h.literal("pdf"),h.literal("txt")]),kSe=xSe.extend({type:h.literal("oneDrive"),name:h.string(),lastModifiedAt:h.string(),url:h.string(),webDavUrl:h.string().optional(),contentType:ASe,size:h.number()}),RSe=h.object({type:h.literal("m365"),items:h.array(kSe)}),PSe=h.object({providerName:h.string(),url:h.string().nullish(),thumbnailUrl:h.string(),providerOptions:h.array(h.string()).nullish(),source:h.object({url:h.string(),name:h.string()}).nullish()}),OSe=h.object({sourceName:h.string(),maxRating:h.number(),rating:h.number(),url:h.string()}),NSe=h.object({url:h.string(),source:h.object({url:h.string(),name:h.string()}).nullish()}),O8=h.object({url:h.string().nullish(),name:h.string().nullish()}),MSe={thumbnail:h.object({url:h.string(),source:O8.nullish()}),source:O8.nullish()},LSe=h.object({type:h.literal("mediaSpotlight"),title:h.string(),label:h.string().nullish(),description:h.string(),thumbnail:NSe,facts:h.record(h.string(),h.string()).nullish(),criticRatings:h.array(OSe).nullish(),watchLinks:h.array(PSe).nullish(),featuredVideo:h.object(MSe).nullish()}),DSe=h.object({name:h.string(),url:h.string(),width:h.number().optional(),height:h.number().optional(),thumbnailUrl:h.string().optional()}),jSe=h.object({images:h.array(DSe)}),FSe=jSe.extend({type:h.literal("phoneImages")}),USe=h.object({qrCodeUrl:h.string(),linkDeviceUrl:h.string()}),BSe=USe.extend({type:h.literal("phoneLinking")}),VSe=h.union([h.literal("executing"),h.literal("completed"),h.literal("failed")]),_D=h.object({deviceName:h.string().optional(),state:VSe.optional(),disabled:h.boolean().optional(),completedAt:h.string().optional()}),HSe=h.enum(["sunday","monday","tuesday","wednesday","thursday","friday","saturday"]),zSe=_D.extend({triggerAt:h.string(),repeatDays:h.array(HSe).optional().nullable()}),$Se=zSe.extend({type:h.literal("phoneAlarm")}),WSe=_D.extend({seconds:h.number()}),KSe=WSe.extend({type:h.literal("phoneTimer")}),GSe=_D.extend({actionId:h.string(),text:h.string(),phoneNumber:h.string().nullable().optional(),contactName:h.string().nullable().optional(),deviceName:h.string().optional()}),qSe=GSe.extend({type:h.literal("phoneSendMessage")}),YSe=Wq.extend({actionName:h.literal("phone_send_message"),parameters:h.object({text:h.string(),phoneNumber:h.string().nullable().optional(),contactName:h.string().nullable().optional()})}),QSe=h.discriminatedUnion("type",[BSe,FSe,$Se,KSe,qSe]),XSe=h.object({type:h.literal("quiz"),title:h.string(),quiz:h.array(h.object({type:h.literal("singleSelect"),question:h.string(),options:h.array(h.string()),answer:h.number(),topics:h.array(h.string()).nullable(),explanation:h.string()}))}),ZSe=h.object({value:h.number(),count:h.number().nullish(),maxRating:h.number().nullish()}),JSe=h.object({hours:h.number(),minutes:h.number()}),rY=h.object({name:h.string(),quantity:h.number().nullish(),unit:h.string().nullish()}),eEe=h.object({title:h.string(),url:h.string().url(),source:h.string(),imageUrl:h.string().url().nullish(),rating:ZSe.nullish(),serving:h.number().nullish(),calories:h.number().nullish(),cookingTime:JSe.nullish(),instructions:h.array(h.string()).nullish(),ingredients:h.array(rY).nullish()}),tEe=h.object({type:h.literal("recipe"),recipes:h.array(eEe)});h.object({title:h.string(),url:h.string().url(),ingredients:h.array(rY),instructions:h.array(h.string()).nullish(),imageUrl:h.string().url().nullish(),messageId:h.string().nullish()});const iY=h.object({url:h.string().url(),name:h.string(),imageUrl:h.string().url().optional(),images:h.array(h.string().url()).optional(),price:Ao,seller:h.string()}),oY=h.object({value:h.number(),count:h.number()}).nullish(),nEe=iY.extend({type:h.literal("shopping"),id:h.string(),rating:oY}),rEe=iY.extend({isNotificationEnabled:h.boolean().nullish(),offerId:h.string(),currentPrice:Ao.nullish(),percentageDrop:h.number(),durationInWeeks:h.number()}),sY=h.object({title:h.string().nullish(),url:h.string().url()}),iEe=h.enum(["textual","visual"]),oEe=h.object({displayName:h.string(),value:h.string(),isActive:h.boolean(),isSelected:h.boolean(),thumbnailImage:sY.nullish()}),sEe=h.object({id:h.string(),displayName:h.string(),filterValues:h.array(oEe),filterType:iEe}),aEe=h.object({id:h.string().nullish(),groupId:h.string().nullish(),brandGroupId:h.string().nullish()}),cEe=h.object({displayName:h.string(),values:h.array(h.string())}),aY=h.object({offerUrl:h.string(),domain:h.string()}),lEe=h.object({summary:h.string(),attributions:h.array(aY)}),uEe=h.object({pros:h.array(h.string()).nullish(),cons:h.array(h.string()).nullish(),attributions:h.array(aY)}),dEe=h.discriminatedUnion("type",[h.object({type:h.literal("buyWithMerchant"),checkoutUrl:h.string().nullish(),merchant:h.string().nullish()}),h.object({type:h.literal("buyWithCopilot"),merchantProvider:h.string().nullish(),storeId:h.string().nullish()})]),lT=h.object({product:aEe,offerId:h.string(),url:h.string().url(),name:h.string(),description:h.string(),images:h.array(sY),filters:h.array(sEe).nullish(),specifications:h.array(cEe).nullish(),review:lEe.nullish(),prosAndCons:uEe.nullish(),price:Ao,discountPrice:Ao.nullish(),seller:h.string(),sellerLogoUrl:h.string().url().nullish(),brandName:h.string().nullish(),rating:oY.nullish(),checkoutOption:dEe.nullish(),category:h.string().nullish(),curation:h.string().nullish()}),fEe=h.object({type:h.literal("shoppingProducts"),products:h.array(lT)}),cY=h.union([h.literal("lowest-price"),h.literal("free-shipping")]),hEe=h.object({offerName:h.string(),offerId:h.string(),url:h.string().url(),price:Ao,discountPrice:Ao.nullish(),seller:h.string(),sellerLogoUrl:h.string().url().nullish(),tags:h.array(cY).nullish()}),DWe=h.object({error:h.string(),message:h.string()}),pEe=h.object({minPrice:Ao,maxPrice:Ao,averagePrice:Ao,timePeriodInDays:h.number()}),mEe=h.object({date:h.coerce.date(),price:Ao}),gEe=h.object({daily:mEe.array()}),vEe=h.object({label:h.string(),prompt:h.string()}),jWe=lT.extend({otherBuyingOptions:h.array(hEe),priceInsight:pEe.nullish(),tags:h.array(cY).nullish(),priceHistory:gEe.nullish(),conversationStarters:h.array(vEe).nullish()}),FWe=h.object({products:rEe.array()}),N8=lT.extend({similarProducts:h.array(lT).nullish()}),lY=N8.extend({accessories:h.array(N8).nullish()});h.object({product:lY,messageId:h.string()});const yEe=h.object({type:h.literal("shoppingCurated"),title:h.string().optional(),products:h.array(lY)}),bEe=h.discriminatedUnion("type",[nEe,fEe,yEe]),UWe=h.object({emailNotificationEnabled:h.boolean()}),CEe=h.object({name:h.string(),url:h.string().url(),offerId:h.string()}),_Ee=h.object({url:h.string().url(),source:h.string()}),wEe=h.object({reason:h.string(),references:h.array(_Ee)}),SEe=h.enum(["buy-now","buy-later"]),BWe=h.object({whenToBuy:SEe,seller:CEe,supportingReasons:h.array(wEe)}),EEe=h.enum(["home","away"]),sp=h.enum(["win","loss","tie","no-game"]),uY=h.enum(["pre-game","in-progress","final","postponed","delayed","abandoned","cancelled"]),TEe=h.enum(["test","odi","t20"]),IEe=h.enum(["test","limited-overs","super-over"]),xEe=h.enum([...uY.options,"drinks","dinner","tea","lunch","innings-break","super-over","toss","stumps","strategic-timeout","forfeited"]),AEe=h.enum([...uY.options,"bye","retired","forfeited","unscheduled","suspended"]),kEe=h.enum(["men-singles","men-doubles","women-singles","women-doubles","mixed-doubles"]),REe=h.enum(["round-of256","round-of128","round-of64","round-of32","round-of16","quarter-final","semi-final","final"]),dY=h.object({name:h.string(),city:h.string().nullish()}),PEe=h.object({name:h.string(),thumbnailUrl:h.string(),seasonPhase:h.string(),seasonStartsAt:h.string().nullish(),seasonEndsAt:h.string().nullish(),leagueId:h.string()}),OEe=h.object({type:h.literal("league"),league:PEe}),uT=h.object({name:h.string(),thumbnailUrl:h.string()}),NEe=h.object({type:h.literal("team"),team:uT}),MEe=h.object({type:h.literal("matchup"),matchup:h.object({teamA:uT,teamB:uT})}),OC=h.discriminatedUnion("type",[OEe,NEe,MEe]),LEe=h.object({name:h.string(),alias:h.string().nullish(),thumbnailUrl:h.string()}),ao=LEe.extend({primaryColorHex:h.string().nullish(),venueType:EEe.nullish(),previousGameOutcomes:h.array(sp).nullish(),seed:h.number().nullish()}),wD=ao.extend({winProbability:h.number().nullish()}),SD=h.object({wins:h.number(),losses:h.number(),overtimeLosses:h.number().nullish()}),DEe=wD.extend({record:SD.nullish()}),jEe=h.object({playerName:h.string(),clock:h.object({minutes:h.number(),seconds:h.number()})}),FEe=h.object({ballPossessionPercentage:h.number().nullish(),goals:h.array(jEe).nullish()}),fY=ao.extend({gameStats:FEe,score:h.string()}),UEe=fY.extend({gameOutcome:sp}),BEe=h.object({wins:h.number(),participantName:h.string()}),VEe=h.enum(["final","not-started","in-progress"]),HEe=h.enum(["national-championship","first-four","first-round","second-round","sweet16","elite-eight","final-four","final"]),zEe=h.object({state:VEe,winsInfo:h.array(BEe).nullish(),gameNumber:h.number().nullish(),conference:h.string().nullish()}),$Ee=zEe.extend({phase:HEe}),ED=h.object({name:h.string(),score:h.string()}),WEe=h.object({current:h.number(),total:h.number(),aggregatedScores:h.array(ED).nullish()}),TD=h.object({startsAt:h.string(),status:h.string(),leagueName:h.string(),legInfo:WEe.nullish(),leagueId:h.string().nullish(),gameId:h.string().nullish(),startTimeToBeAnnounced:h.boolean().nullish()}),ap=TD.extend({week:h.number().nullish()}),cp=TD.extend({name:h.string().nullish(),seasonPhase:h.string(),bracket:$Ee.nullish()}),KEe=ap.extend({status:h.literal("pre-game"),participants:h.array(wD)}),GEe=cp.extend({status:h.literal("pre-game"),participants:h.array(DEe)}),JI=h.object({minutes:h.number(),seconds:h.number()}),qEe=h.enum(["quarter","half","extra","penalties","shoot-out","overtime","inning","period"]),YEe=h.enum(["top","bottom"]),NC=h.object({type:qEe,period:h.number(),division:YEe.nullish()}),ID=h.object({clock:JI,description:h.string(),team:uT,participantScores:h.array(ED).nullish()}),QEe=ID.extend({type:h.enum(["score-change","yellow-card","red-card"])}),XEe=ID.extend({type:h.enum(["three-point-made","two-point-made","touchdown","field-goal","extra-point","safety","two-point-conversion","blocked-punt-safety","blocked-field-goal-safety","fumble-safety"])}),ZEe=ap.extend({status:h.literal("in-progress"),participants:h.array(fY),clock:JI,currentPlayingPeriod:NC,timeline:h.object({events:h.array(QEe)}).nullish()}),xD=h.object({url:h.string(),thumbnailUrl:h.string(),title:h.string(),durationInSeconds:h.number().nullish()}),JEe=ap.extend({status:h.literal("final"),participants:h.array(UEe),videos:h.array(xD).nullish()}),eTe=ap.extend({status:h.literal("postponed"),participants:h.array(ao)}),tTe=ap.extend({status:h.literal("delayed"),participants:h.array(ao)}),nTe=ap.extend({status:h.literal("abandoned"),participants:h.array(ao)}),rTe=ap.extend({status:h.literal("cancelled"),participants:h.array(ao)}),RN=h.discriminatedUnion("status",[KEe,ZEe,JEe,nTe,rTe,tTe,eTe]),hY=h.object({playingPeriod:NC,score:h.string()}),pY=ao.extend({playingPeriodScores:h.array(hY).nullish(),score:h.string(),record:SD}),iTe=pY.extend({gameOutcome:sp}),oTe=cp.extend({status:h.literal("in-progress"),participants:h.array(pY),clock:JI,currentPlayingPeriod:NC,timeline:h.object({events:h.array(XEe)}).nullish()}),sTe=cp.extend({status:h.literal("final"),participants:h.array(iTe),videos:h.array(xD).nullish()}),aTe=cp.extend({status:h.literal("postponed"),participants:h.array(ao)}),cTe=cp.extend({status:h.literal("delayed"),participants:h.array(ao)}),lTe=cp.extend({status:h.literal("abandoned"),participants:h.array(ao)}),uTe=cp.extend({status:h.literal("cancelled"),participants:h.array(ao)}),PN=h.discriminatedUnion("status",[GEe,oTe,sTe,lTe,uTe,cTe,aTe]),dTe=h.object({type:h.literal("sportsSchedule"),sport:h.enum(["basketball","ice-hockey","football"]),games:h.array(PN),header:OC.nullish(),heroGame:PN.nullish()}),fTe=h.object({type:h.literal("sportsSchedule"),sport:h.literal("soccer"),games:h.array(RN),header:OC.nullish(),heroGame:RN.nullish()}),hTe=h.object({type:h.literal("sportsGame"),sport:h.enum(["basketball","ice-hockey","football"]),game:PN}),pTe=h.object({type:h.literal("sportsGame"),sport:h.literal("soccer"),game:RN}),lp=TD.extend({seasonPhase:h.string()}),mTe=h.object({hits:h.number(),errors:h.number(),runs:h.number()}),gTe=ID.extend({type:h.enum(["conversion"]),playingPeriod:NC,participantScores:h.array(ED)}),mY=wD.extend({record:SD.nullish()}),gY=mY.extend({playingPeriodScores:h.array(hY).nullish(),score:h.string(),gameStats:mTe}),vTe=gY.extend({gameOutcome:sp}),yTe=lp.extend({status:h.literal("pre-game"),participants:h.array(mY)}),bTe=lp.extend({status:h.literal("in-progress"),participants:h.array(gY),clock:JI,currentPlayingPeriod:NC,timeline:h.object({events:h.array(gTe)}).nullish()}),CTe=lp.extend({status:h.literal("final"),participants:h.array(vTe),videos:h.array(xD).nullish()}),_Te=lp.extend({status:h.literal("postponed"),participants:h.array(ao)}),wTe=lp.extend({status:h.literal("delayed"),participants:h.array(ao)}),STe=lp.extend({status:h.literal("abandoned"),participants:h.array(ao)}),ETe=lp.extend({status:h.literal("cancelled"),participants:h.array(ao)}),ON=h.discriminatedUnion("status",[yTe,bTe,CTe,_Te,wTe,STe,ETe]),TTe=h.object({type:h.literal("sportsSchedule"),sport:h.literal("baseball"),games:h.array(ON),header:OC.nullish(),heroGame:ON.nullish()}),ITe=h.object({type:h.literal("sportsGame"),sport:h.literal("baseball"),game:ON}),vY=h.object({ballsFaced:h.number(),runsScored:h.number(),isBatting:h.boolean()}),yY=h.object({oversBowled:h.string(),wicketsTaken:h.number(),runsConceded:h.number(),isBowling:h.boolean()}),xTe=vY.extend({type:h.literal("batting")}),ATe=yY.extend({type:h.literal("bowling")}),kTe=h.object({name:h.string(),stats:h.discriminatedUnion("type",[xTe,ATe])}),RTe=h.object({playerName:h.string(),teamName:h.string(),battingStats:h.array(vY).nullish(),bowlingStats:h.array(yY).nullish()}),PTe=h.object({current:h.number(),required:h.number().nullish()}),OTe=h.object({name:h.string(),currentMatch:h.number(),totalMatches:h.number(),roundName:h.string().nullish(),equation:h.string().nullish()}),bY=h.object({type:IEe,runs:h.number(),wickets:h.number(),oversPlayed:h.string(),isFollowedOn:h.boolean(),isDeclared:h.boolean()}),AD=h.object({name:h.string(),alias:h.string().nullish(),thumbnailUrl:h.string()}),NTe=AD.extend({previousGameOutcomes:h.array(sp).nullish()}),MTe=AD.extend({inningScores:h.array(bY).nullish(),playersStats:h.array(kTe).nullish(),yetToBat:h.boolean()}),LTe=AD.extend({gameOutcome:sp,didNotBat:h.boolean(),inningScores:h.array(bY).nullish()}),DTe=h.object({startsAt:h.string(),startTimeToBeAnnounced:h.boolean(),tossInfo:h.string().nullish(),participants:h.array(NTe),type:h.literal("pre")}),jTe=h.object({gameSummary:h.string(),runRate:PTe.nullish(),participants:h.array(MTe),type:h.literal("live")}),FTe=h.object({startsAt:h.string(),gameSummary:h.string(),playerOfTheMatch:RTe.nullish(),participants:h.array(LTe),type:h.literal("final")}),UTe=h.discriminatedUnion("type",[DTe,jTe,FTe]),NN=h.object({gameId:h.string(),leagueId:h.string(),venue:dY.nullish(),format:TEe,status:xEe,seriesInfo:OTe,phase:UTe}),BTe=h.object({type:h.literal("sportsGame"),sport:h.literal("cricket"),game:NN}),VTe=h.object({type:h.literal("sportsSchedule"),sport:h.literal("cricket"),games:h.array(NN),header:OC.nullish(),heroGame:NN.nullable()}),HTe=h.object({name:h.string(),countryFlagThumbnailUrl:h.string(),seed:h.number().nullish()}),zTe=h.object({points:h.number(),isServing:h.boolean(),tieBreakerPoints:h.number().nullish(),currentGamePoints:h.string().nullish(),setWon:h.boolean().nullish()}),CY=h.object({players:h.array(HTe)}),$Te=CY,_Y=CY.extend({setPoints:h.array(zTe)}),WTe=_Y.extend({gameOutcome:sp}),KTe=h.object({type:h.literal("pre"),participants:h.array($Te)}),GTe=h.object({type:h.literal("live"),participants:h.array(_Y)}),qTe=h.object({type:h.literal("final"),participants:h.array(WTe)}),YTe=h.discriminatedUnion("type",[KTe,GTe,qTe]),M8=h.object({gameId:h.string(),leagueId:h.string(),status:AEe,startsAt:h.string().datetime().nullish(),startTimeToBeAnnounced:h.boolean(),venue:dY.nullish(),matchType:kEe,round:REe.nullish(),phase:YTe}),QTe=h.object({type:h.literal("sportsSchedule"),sport:h.literal("tennis"),games:h.array(M8),header:OC.nullish(),heroGame:M8.nullish()}),XTe=h.union([dTe,fTe,TTe,VTe,QTe]),ZTe=h.discriminatedUnion("sport",[pTe,hTe,ITe,BTe]),JTe=h.union([XTe,ZTe]),eIe=h.object({title:h.string(),description:h.string(),startTime:h.number(),endTime:h.number()}),tIe=h.object({video:h.object({url:h.string(),thumbnailUrl:h.string(),duration:h.number(),title:h.string(),isShort:h.boolean()}),source:h.object({url:h.string(),iconUrl:h.string().optional()}),bestMomentIndex:h.number().optional(),moments:h.array(eIe).optional()}),nIe=h.object({type:h.literal("video"),videos:h.array(tIe)}),rIe=h.enum(["c","f"]),iIe=h.enum(["mm","cm","in"]),oIe=h.enum(["hPa","inHg","mb","mmHg"]),sIe=h.enum(["bft","kph","mph","ms"]),aIe=h.enum(["m","km","mi"]),cIe=h.object({temperature:rIe,height:iIe,pressure:oIe.optional(),speed:sIe.optional(),distance:aIe.optional()}),kD=h.enum(nK),lIe=h.enum(["rain","snow"]),RD=h.object({type:lIe,amount:h.number(),chance:h.number()}),uIe=h.object({current:h.number(),high:h.number().optional(),low:h.number().optional()}),dIe=h.object({at:h.string(),state:kD,summary:h.string(),description:h.string().optional(),temperature:uIe,precipitation:RD.optional()}),wY=h.object({high:h.number(),low:h.number()}),fIe=h.object({date:h.string(),state:kD,temperature:wY,precipitation:RD.optional()}),hIe=h.object({at:h.string(),state:kD,temperature:wY,precipitation:RD.optional()}),pIe=h.object({daily:h.array(fIe),hourly:h.array(hIe).optional()}),mIe=h.object({type:h.literal("weather"),location:h.string(),units:cIe,spotlight:dIe.optional(),forecast:pIe}),K0=h.enum(nK),gIe=h.object({type:h.literal("weatherTemperatureHourly"),location:h.string(),unit:h.union([h.literal("f"),h.literal("c")]),spotlight:h.object({date:h.string(),state:K0,summary:h.string(),temperature:h.number().optional(),high:h.number(),low:h.number()}),forecast:h.array(h.object({at:h.string(),state:K0,temperature:h.number(),precipitationChance:h.number()}))}),vIe=h.object({type:h.literal("weatherTemperatureDaily"),location:h.string(),unit:h.union([h.literal("f"),h.literal("c")]),forecast:h.array(h.object({date:h.string(),state:K0,high:h.number(),low:h.number(),precipitationChance:h.number()}))}),SY=h.union([h.literal("rain"),h.literal("snow")]),EY=h.union([h.literal("in"),h.literal("mm")]),yIe=h.object({type:h.literal("weatherPrecipitationHourly"),location:h.string(),unit:EY,precipitationType:SY,spotlight:h.object({date:h.string(),summary:h.string(),amount:h.number(),chance:h.number()}),forecast:h.array(h.object({at:h.string(),state:K0,amount:h.number(),chance:h.number()}))}),bIe=h.object({type:h.literal("weatherPrecipitationDaily"),location:h.string(),unit:EY,precipitationType:SY,forecast:h.array(h.object({date:h.string(),state:K0,amount:h.number(),chance:h.number()}))}),CIe=h.union([mIe,gIe,vIe,yIe,bIe]),TY=h.union([Jwe,vSe,CSe,wSe,TSe,ISe,RSe,LSe,QSe,XSe,tSe,bEe,JTe,nIe,CIe,tEe]),kv=h.union([h.literal("startTask"),h.literal("pauseTask"),h.literal("resumeTask"),h.literal("cancelTask"),h.literal("takeTaskControl"),h.literal("releaseTaskControl")]),_Ie=h.union([h.literal("bringAgentTabsToForeground"),h.literal("failedTask"),h.literal("completedTask"),h.literal("moveAgentTabsToBackground"),h.literal("showConsentDialog")]);h.union([kv,_Ie]);const wIe=h.union([h.literal("allSessionInfo"),h.literal("activeSessionInfo"),h.literal("failedTask"),h.literal("completedTask")]);h.union([kv,wIe]);const SIe=h.union([h.literal("allSessionInfo"),h.literal("activeSessionInfo"),h.literal("failedTask"),h.literal("completedTask")]);h.union([kv,SIe]);const EIe=h.union([h.literal("askUserInput"),h.literal("safetyRiskDetected"),h.literal("userTakeControl"),h.literal("giveBackControl"),h.literal("resumeFromInput"),h.literal("resumeFromRisk"),h.literal("pauseByClick"),h.literal("resumeByClick")]),TIe=h.object({reason:EIe,title:h.string().optional(),text:h.string().optional()}),Rv=h.object({taskId:h.string()}),IIe=Rv.extend({type:h.literal("startTask")}),xIe=Rv.extend({type:h.literal("pauseTask")}),AIe=Rv.extend({type:h.literal("resumeTask")}),kIe=Rv.extend({type:h.literal("cancelTask")}),RIe=Rv.extend({type:h.literal("takeTaskControl")}),PIe=Rv.extend({type:h.literal("releaseTaskControl")}),Iu=h.object({light:h.string(),dark:h.string()}),OIe=h.object({foreground1:Iu,foreground2:Iu,accent:Iu,shape:Iu,shapeInverse:Iu,background1:Iu,background2:Iu,background3:Iu}),L8=h.object({name:h.enum(["ginto-copilot-nord-bold","ginto-copilot-nord-medium-italic","ginto-copilot-480","kari-regular"]),url:h.string().url()}),NIe=h.object({name:h.string(),url:h.string().url()}),Gg=h.object({url:h.string().url()}),qg=h.object({urlLight:h.string().url(),urlDark:h.string().url()}),MN=h.object({url:h.string().url()}),Pv=h.object({type:h.string(),title:h.string()}),MIe=Pv.extend({type:h.literal("coverPage"),content:h.string(),template:h.enum(["image-background","fuzzy-image"]),image0:Gg,sticker0:qg.nullish(),sticker1:qg.nullish()}),LIe=Pv.extend({type:h.literal("heroImage"),content:h.string(),template:h.enum(["noisy-circle","macaron","wavy-shape"]),image0:Gg}),DIe=Pv.extend({type:h.literal("stickerSheet"),content:h.string(),template:h.enum(["sticker1","sticker2"]),sticker0:qg,sticker1:qg,accent0:MN,accent1:MN}),jIe=Pv.extend({type:h.literal("simpleText"),content:h.string(),template:h.string().nullish()}),FIe=Pv.extend({type:h.literal("photoJournal"),content:h.string().nullish(),template:h.enum(["shapes-only","shapes-accents"]),variation:h.enum(["shape-group1","shape-group2"]),label0:h.string(),label1:h.string(),image0:Gg,image1:Gg,sticker0:qg.nullish(),accent0:MN.nullish()}),UIe=Pv.extend({type:h.literal("endPage"),content:h.string(),template:h.enum(["wide-cards","tall-cards"]),variation:h.enum(["shape-group1","shape-group2"]),questions:h.array(h.string()),image0:Gg,image1:Gg.nullish(),sticker0:qg}),BIe=h.object({type:h.literal("shareDefault"),template:h.string().nullish()}),VIe=h.discriminatedUnion("type",[MIe,LIe,DIe,jIe,FIe,UIe,BIe]),HIe=h.object({id:h.string(),modifiedAt:h.string(),theme:OIe,font:L8,fontHandwriting:L8.nullish(),masks:h.array(NIe),sections:h.array(VIe)}),zIe=h.object({type:h.literal("chatAboutNarrative"),narrativeId:h.string(),messageIndex:h.number()}),$Ie=h.object({type:h.literal("createPage"),messageId:h.string()}),WIe=h.object({type:h.literal("appendToPage"),messageId:h.string(),pageId:h.string()}),KIe=h.object({id:h.string(),conversationId:h.string()}),VWe=h.object({title:h.string().nullish(),content:h.string().nullish(),conversationId:h.string()}),GIe=Rc.extend({type:h.literal("page"),page:h.object({id:h.string(),conversationId:h.string(),title:h.string().nullish()})}),qIe=h.object({id:h.string(),title:h.string().nullish(),updatedAt:h.string(),conversationId:h.string().optional(),type:h.enum(["page","sharedPage"]).optional()}),YIe=h.object({results:h.array(qIe),next:h.string().nullish()}),HWe=h.object({title:h.string().nullish(),content:h.string().nullish(),page:h.object({id:h.string()}).nullable()}),zWe=h.object({id:h.string(),url:h.string()}),QIe=h.enum(["page-count-exceeded","page-content-length-exceeded"]),XIe=h.object({errorCode:QIe}),ZIe=h.string(),JIe=h.object({currentConversationId:h.string().nullable(),isNewUser:h.boolean(),banExpiresAt:h.string().nullable(),remainingTurns:h.number().nullable(),features:h.array(ZIe)}),exe=h.object({id:h.string(),name:h.string(),previewUrl:h.string(),voicemails:h.array(h.string())}),txe=h.object({id:h.string(),backgroundImageUrl:h.string()}),nxe=h.object({id:h.string(),name:h.string(),location:txe.nullish()}),ki=h.object({type:h.string(),label:h.string()}),wf=h.object({type:h.string(),label:h.string(),subOptions:h.array(ki).nullish()}),IY=h.object({local:h.array(ki),ads:h.array(ki),video:h.array(ki),image:h.array(ki),sports:h.array(ki),job:h.array(ki),shopping:h.array(ki),finance:h.array(ki),quiz:h.array(ki),weather:h.array(ki)}),rxe=h.object({positive:h.array(ki).nullish(),negative:h.array(ki)});IY.keyof();const xY=h.object({newsArticle:h.array(wf),newsVideo:h.array(wf),newsGem:h.array(wf),chat:h.array(wf),dailyBriefing:h.array(wf),podcast:h.array(wf),default:h.array(wf)});xY.keyof();const ixe=h.object({text:h.array(ki),image:h.array(ki),call:h.array(ki),card:IY,showroom:rxe.nullish(),discover:xY.nullish()}),oxe=h.object({signInPrompts:h.array(h.number()),voices:h.array(exe),maxTextMessageLength:h.number(),feedbackOptions:ixe,characters:h.array(nxe).nullish(),pageLimit:h.number(),maxPageContentLength:h.number(),maxPageTitleLength:h.number()});h.object({hasVisionAccess:h.boolean(),allowedDomains:h.array(h.string()).nullable(),allowedDomainSuffixes:h.array(h.string()).nullable(),blockedDomains:h.array(h.string()).nullable(),blockedDomainSuffixes:h.array(h.string()).nullable()});const D8=h.object({url:h.string(),duration:h.number()}),sxe=h.object({title:h.string(),image:h.string(),url:h.string(),createdAt:h.string()}),axe=h.object({publisherName:h.string(),publisherIcon:h.string(),articles:h.array(sxe)}),j8=h.object({url:h.string(),foregroundColor:h.string(),backgroundColor:h.string()}),F8=h.object({name:h.string(),foregroundColor:h.string(),backgroundColor:h.string(),altText:h.string().nullish(),url:h.string()}),cxe=h.object({landscape:F8,portrait:F8}),lxe=h.object({id:h.string(),title:h.string(),image:h.object({landscape:j8,portrait:j8}),audio:h.record(h.string(),D8),transitionMusic:D8.nullable(),sources:h.array(axe)}),AY=h.object({topics:h.array(h.object({id:h.string(),label:h.string(),imageUrl:h.string(),isFollowed:h.boolean()}))}),uxe=h.object({position:h.number(),chapterId:h.string()}),kY=h.object({isAvailable:h.boolean(),podcastId:h.string(),chapters:h.array(lxe),topics:AY.optional(),playback:uxe}),dxe=h.object({positionInSeconds:h.number(),chapterId:h.string()}),fxe=h.object({id:h.string(),title:h.string(),topic:h.string().nullable().optional(),image:cxe,audio:h.object({name:h.string(),duration:h.number()})}),dT=h.object({isAvailable:h.boolean(),podcastId:h.string(),chapters:h.array(fxe),playback:dxe}),hxe=h.enum(qpe),pxe=h.enum(Kpe),mxe=h.enum(Gpe),gxe=h.object({channel:mxe,tier:pxe,isAutoRenew:h.boolean()}),RY=h.object({id:h.string(),firstName:h.string().nullable(),anid:h.string().nullable(),isPro:h.boolean(),isDeprecated:h.boolean().nullish(),inEeaPlusRegion:h.boolean(),regionCode:h.enum(Object.values(CC)),isHistoryMigrationPending:h.boolean(),isEligibleForFreeTrial:h.boolean().optional(),phoneLink:h.object({deviceName:h.string().nullable()}).nullable(),ageGroup:h.enum($pe).nullable(),allowedToggles:h.object({textTraining:h.boolean(),voiceTraining:h.boolean(),personalization:h.boolean()}),remainingCalls:h.object({reasoning:h.number(),podcastGeneration:h.number(),research:h.number()}).nullish(),accountTier:hxe.nullish(),subscriptions:h.array(gxe).nullish()}),vxe=h.object({preferredVoice:h.string().nullable(),preferredCharacter:h.string().nullable().optional(),optOutOfTraining:h.boolean(),optInToVoiceTraining:h.boolean(),optOutOfPersonalization:h.boolean(),optOutOfPhoneConnection:h.boolean(),optInToGenerativeUI:h.boolean().optional(),allowBiometricDataUse:h.boolean().optional(),allowOneDriveReads:h.boolean().optional(),features:h.object({suggestedFollowups:h.boolean().optional()}).nullish()}),PY=h.object({errorCode:h.union([h.literal("attachment-too-large"),h.literal("unsupported-content-type"),h.literal("empty-attachment"),h.literal("content-blocked"),h.literal("rate-limit-exceeded"),h.literal("not-signed-in")])}),yxe=h.union([h.object({url:h.string()}),PY]),OY=h.union([h.object({id:h.string()}),PY]),bxe=h.object({id:h.string(),title:h.string().optional(),updatedAt:h.string(),characterId:h.string().nullable().optional(),continuedAt:h.string().nullable()}),Cxe=h.object({results:h.array(bxe),next:h.string().nullable()}),_xe=h.object({id:h.string()}),ex=h.union([h.literal("running"),h.literal("completed"),h.literal("failed"),h.literal("cancelled"),h.literal("pending"),h.literal("paused")]),wxe=h.union([h.literal("research"),h.literal("computerUse"),h.literal("podcast")]),Sxe=h.object({type:h.literal("chainOfThought"),text:h.string()}),Exe=h.object({type:h.literal("query"),text:h.string()}),Txe=h.object({type:h.literal("citation"),title:h.string(),url:h.string()}),Ixe=h.discriminatedUnion("type",[Sxe,Exe,Txe]),NY=h.object({title:h.string(),url:h.string(),position:h.number(),iconUrl:h.string().nullish(),publisher:h.string().nullish()}),xxe=h.object({id:h.string(),title:h.string().nullish(),contents:h.array(Ixe).nullish(),inlineCitations:h.array(NY).nullish(),partialOutput:h.array(h.string()).nullish(),finalResponse:h.string().nullish(),type:h.literal("research"),status:ex}),MY=h.object({url:h.string(),createdAt:h.string()}),Axe=h.object({type:h.literal("computerUse"),title:h.string().nullish(),conversationId:h.string().nullish(),id:h.string(),status:ex,lastScreenshot:MY.nullish(),updatedAt:h.string().nullish()}),LY=h.object({id:h.string(),title:h.string().nullish(),thumbnail:h.object({name:h.string().nullish()}).nullish()}),kxe=h.object({type:h.literal("podcast"),id:h.string(),podcast:LY.nullish(),status:ex,updatedAt:h.string().nullish()}),DY=h.discriminatedUnion("type",[xxe,Axe,kxe]),PD=h.object({id:h.string(),title:h.string().optional(),conversationId:h.string().optional(),updatedAt:h.string(),status:ex,type:wxe}),Rxe=PD.extend({type:h.literal("research")}),Pxe=PD.extend({type:h.literal("computerUse"),screenshot:h.string().nullish(),lastScreenshot:MY.nullish(),chainOfThought:h.array(h.string()).nullish(),computerAction:h.string().nullish(),statusChange:TIe.optional(),lastUserCommand:kv.optional(),activeTabFaviconUrl:h.string().nullish(),activeTabTitle:h.string().nullish(),isReplaying:h.boolean().nullish()}),Oxe=PD.extend({type:h.literal("podcast"),podcast:LY.nullish()}),Nxe=h.discriminatedUnion("type",[Rxe,Pxe,Oxe]),$We=h.object({results:h.array(Nxe),next:h.string().nullable()}),MC=h.union([h.literal("thumbs-down"),h.literal("thumbs-up"),h.literal("report"),h.null()]),Mxe=h.union([h.literal("generating"),h.literal("generated"),h.literal("failed"),h.literal("non-complete")]),jY=h.object({id:h.string(),createdAt:h.string()}),Lxe=h.object({index:h.string(),title:h.string(),url:h.string(),iconUrl:h.string().nullable(),publisher:h.string().nullable()}),Dxe=Rc.extend({type:h.literal("image"),url:h.string().optional(),prompt:h.string().optional().nullable(),isPartiallyLoading:h.boolean().optional(),reaction:MC.optional(),partialGenerationStep:h.number().optional(),status:Mxe.optional(),progressionText:h.string().nullable().optional()}),jxe=Rc.extend({type:h.literal("citation"),...NY.shape}),Fxe=Rc.extend({type:h.literal("text"),text:h.string(),citations:h.array(Lxe).optional(),reaction:MC.optional()}),Uxe=Rc.extend({type:h.literal("task"),task:DY.nullish(),reaction:MC.optional()}),Bxe=Rc.extend({type:h.literal("card"),card:TY,reaction:MC.optional()}),Vxe=Rc.extend({type:h.literal("deleted"),partType:h.enum(["page","task"])}),Hxe=Rc.extend({type:h.literal("error"),text:h.string()}),zxe=h.object({text:h.string(),lastSubActionScreenshotUrl:h.string().nullish()}),$xe=Rc.extend({type:h.literal("chainOfThought"),text:h.string(),screenshotUrl:h.string().nullish(),reaction:MC.optional(),partId:h.string(),actionList:h.array(zxe).optional(),subAction:h.string().optional()}),Wxe=h.discriminatedUnion("type",[Fxe,Dxe,GIe,jxe,Hxe,Bxe,Uxe,Vxe,$xe,Fwe]),Kxe=h.object({type:h.literal("text"),text:h.string()}),Gxe=h.object({type:h.literal("browserTabs"),tabs:h.array(h.object({title:h.string().optional(),url:h.string().optional(),id:h.number().optional(),favIconUrl:h.string().optional(),windowId:h.number()}))}),qxe=h.object({type:h.literal("image"),url:h.string()}),Yxe=h.object({type:h.literal("document"),partId:h.string(),fileName:h.string(),contentType:h.string()});h.object({type:h.literal("document"),attachmentId:h.string()});h.union([h.literal("createPage"),h.literal("appendToPage"),h.literal("promptCharacterSpeech"),kv,h.literal("chatAboutNarrative")]);const Qxe=h.object({type:h.literal("promptCharacterSpeech")}),Xxe=h.discriminatedUnion("type",[$Ie,WIe,IIe,xIe,AIe,kIe,RIe,PIe,Qxe,zIe]),Zxe=h.object({type:h.literal("command"),command:Xxe}),Jxe=h.object({type:h.literal("dailyBriefing"),chapterId:h.string()}),e1e=h.object({type:h.literal("greeting"),greetingMessage:h.string()}),t1e=h.discriminatedUnion("type",[Jxe,e1e]);h.object({type:h.literal("reference"),reference:t1e});const n1e=h.discriminatedUnion("type",[Kxe,qxe,Yxe,Zxe,Gxe]),r1e=h.union([h.literal("chat"),h.literal("reasoning"),h.literal("research"),h.literal("computerUse")]),i1e=jY.extend({author:h.literal("ai"),content:h.array(Wxe),mode:r1e.optional()}),o1e=jY.extend({author:h.literal("human"),content:h.array(n1e)}),FY=h.discriminatedUnion("author",[i1e,o1e]),UY=h.object({results:h.array(FY),next:h.string().nullable()}),WWe=h.object({messages:h.array(FY),conversationTitle:h.string()}),KWe=h.object({url:h.string()}),s1e=h.object({conversation:h.object({id:h.string(),title:h.string()})});h.object({qc:h.object({q:h.string(),gt:h.string(),sc:h.string()}),s:h.array(h.object({st:h.string(),t:h.string()}))});const OD=h.union([h.literal("active"),h.literal("banned"),h.literal("ineligible")]),ND=h.union([h.literal("active"),h.literal("not-started"),h.literal("expired"),h.literal("paused")]),a1e=h.union([h.literal("not-started"),h.literal("completed"),h.literal("ineligible")]),c1e=h.object({id:h.string(),type:h.string(),points:h.number()}),l1e=h.object({redeemableCount:h.number(),redeemedCount:h.number(),skus:h.array(c1e)}),GWe=h.object({userStatus:OD,status:ND,startAt:h.string(),endAt:h.string(),referralCode:h.string().nullish(),referralTaskStatus:a1e.nullish(),rewards:l1e.nullish()}),qWe=h.object({userStatus:OD.nullish(),programStatus:ND}),YWe=h.object({userStatus:OD.nullish(),programStatus:ND,lastRequestTime:h.string(),userId:h.string()}),BR=h.enum(["prefillComposer","sendMessage","deepLink"]),MD=h.discriminatedUnion("type",[h.object({type:h.literal(BR.enum.prefillComposer),prompt:h.string()}),h.object({type:h.literal(BR.enum.sendMessage),prompt:h.string()}),h.object({type:h.literal(BR.enum.deepLink),uri:h.string()})]),u1e=h.object({id:h.string(),text:h.string(),action:MD}),d1e=h.object({id:h.string(),text:h.string(),thumbnail:h.object({url:h.string(),altText:h.string()}),action:MD}),f1e=h.object({id:h.string(),text:h.string(),action:MD}),h1e=h.discriminatedUnion("type",[h.object({type:h.literal("text"),id:h.literal("conversation-starter"),title:h.string().nullish(),items:h.array(u1e)}),h.object({type:h.literal("textAndImage"),id:h.union([h.literal("feature-discovery"),h.literal("kickstarter"),h.literal("image-generation")]),title:h.string().nullish(),items:h.array(d1e)}),h.object({type:h.literal("textAndGreeting"),id:h.string(),title:h.string().nullish(),greeting:h.string().nullish(),items:h.array(f1e)})]),p1e=h.object({widgets:h.array(h1e)}),m1e=h.object({dPPRank:h.string()}),g1e=h.object({query:h.string(),source:h.string(),metadata:m1e});h.object({suggestedQueries:h.array(g1e),url:h.string()});const LN=se(0),BY=se(void 0),LD=se(!1),DD=se(t=>{const e=t(G_e),n=t(q_e),r=t(BY),i=t(LD);if(!(n||i))return e||r}),Ov=se(t=>{const e=t(DD),n=t(LN);if(!e||e.length===0)return;const r=Math.max(0,Math.min(n,e.length-1));return e[r]}),VY=se(t=>{const e=t(Ov),n=t(LD),r=t(DD);return n||!r?null:(e==null?void 0:e.type)==="textAndGreeting"?e.greeting??null:null}),v1e=se(t=>{const e=t(Ov);return e==null?void 0:e.title}),y1e=se(t=>{const e=t(Ov);return e==null?void 0:e.id}),b1e=se(t=>{const e=t(Ov),n=e==null?void 0:e.id;return n==="feature-discovery"||n==="image-generation"||n==="kickstarter"}),C1e=se(null,(t,e)=>{const n=t(DD),r=t(LN);if(!n||n.length<=1)return;const i=(r+1)%n.length;e(LN,i)}),Ff={UNDEFINED:"0",CHILD:"1",ADULT:"3",NOT_ADULT:"4",CHILD_NO_PARENTAL_CONSENT_REQUIRED:"5"},_1e=h.object({name:h.string(),email:h.string(),ageGroup:h.enum([Ff.UNDEFINED,Ff.CHILD,Ff.ADULT,Ff.NOT_ADULT,Ff.CHILD_NO_PARENTAL_CONSENT_REQUIRED]),sub:h.string()}),al={LOGIN_START:"auth0:loginStart",LOGIN_SUCCESS:"auth0:loginSuccess",LOGIN_FAILURE:"auth0:loginFailure",LOGOUT_SUCCESS:"auth0:logoutSuccess",LOGOUT_FAILURE:"auth0:logoutFailure",ACQUIRE_TOKEN_FAILURE:"auth0:acquireTokenFailure",REAUTH_START:"auth0:reauthStart",INITIALIZE_START:"auth0:initializeStart",INITIALIZE_END:"auth0:initializeEnd"};function rc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}var Uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jD(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function FD(t,e){return t(e={exports:{}},e.exports),e.exports}var kf=FD(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function r(){var i=this;this.locked=new Map,this.addToLocked=function(o,s){var a=i.locked.get(o);a===void 0?s===void 0?i.locked.set(o,[]):i.locked.set(o,[s]):s!==void 0&&(a.unshift(s),i.locked.set(o,a))},this.isLocked=function(o){return i.locked.has(o)},this.lock=function(o){return new Promise(function(s,a){i.isLocked(o)?i.addToLocked(o,s):(i.addToLocked(o),s())})},this.unlock=function(o){var s=i.locked.get(o);if(s!==void 0&&s.length!==0){var a=s.pop();i.locked.set(o,s),a!==void 0&&setTimeout(a,0)}else i.locked.delete(o)}}return r.getInstance=function(){return r.instance===void 0&&(r.instance=new r),r.instance},r}();e.default=function(){return n.getInstance()}});jD(kf);var w1e=jD(FD(function(t,e){var n=Uf&&Uf.__awaiter||function(d,p,m,g){return new(m||(m=Promise))(function(C,_){function S(I){try{T(g.next(I))}catch(A){_(A)}}function w(I){try{T(g.throw(I))}catch(A){_(A)}}function T(I){I.done?C(I.value):new m(function(A){A(I.value)}).then(S,w)}T((g=g.apply(d,p||[])).next())})},r=Uf&&Uf.__generator||function(d,p){var m,g,C,_,S={label:0,sent:function(){if(1&C[0])throw C[1];return C[1]},trys:[],ops:[]};return _={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function w(T){return function(I){return function(A){if(m)throw new TypeError("Generator is already executing.");for(;S;)try{if(m=1,g&&(C=2&A[0]?g.return:A[0]?g.throw||((C=g.return)&&C.call(g),0):g.next)&&!(C=C.call(g,A[1])).done)return C;switch(g=0,C&&(A=[2&A[0],C.value]),A[0]){case 0:case 1:C=A;break;case 4:return S.label++,{value:A[1],done:!1};case 5:S.label++,g=A[1],A=[0];continue;case 7:A=S.ops.pop(),S.trys.pop();continue;default:if(C=S.trys,!((C=C.length>0&&C[C.length-1])||A[0]!==6&&A[0]!==2)){S=0;continue}if(A[0]===3&&(!C||A[1]>C[0]&&A[1]<C[3])){S.label=A[1];break}if(A[0]===6&&S.label<C[1]){S.label=C[1],C=A;break}if(C&&S.label<C[2]){S.label=C[2],S.ops.push(A);break}C[2]&&S.ops.pop(),S.trys.pop();continue}A=p.call(d,S)}catch(k){A=[6,k],g=0}finally{m=C=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([T,I])}}},i=Uf;Object.defineProperty(e,"__esModule",{value:!0});var o="browser-tabs-lock-key",s={key:function(d){return n(i,void 0,void 0,function(){return r(this,function(p){throw new Error("Unsupported")})})},getItem:function(d){return n(i,void 0,void 0,function(){return r(this,function(p){throw new Error("Unsupported")})})},clear:function(){return n(i,void 0,void 0,function(){return r(this,function(d){return[2,window.localStorage.clear()]})})},removeItem:function(d){return n(i,void 0,void 0,function(){return r(this,function(p){throw new Error("Unsupported")})})},setItem:function(d,p){return n(i,void 0,void 0,function(){return r(this,function(m){throw new Error("Unsupported")})})},keySync:function(d){return window.localStorage.key(d)},getItemSync:function(d){return window.localStorage.getItem(d)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(d){return window.localStorage.removeItem(d)},setItemSync:function(d,p){return window.localStorage.setItem(d,p)}};function a(d){return new Promise(function(p){return setTimeout(p,d)})}function c(d){for(var p="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",m="",g=0;g<d;g++)m+=p[Math.floor(Math.random()*p.length)];return m}var l=function(){function d(p){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+c(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=p,d.waiters===void 0&&(d.waiters=[])}return d.prototype.acquireLock=function(p,m){return m===void 0&&(m=5e3),n(this,void 0,void 0,function(){var g,C,_,S,w,T,I;return r(this,function(A){switch(A.label){case 0:g=Date.now()+c(4),C=Date.now()+m,_=o+"-"+p,S=this.storageHandler===void 0?s:this.storageHandler,A.label=1;case 1:return Date.now()<C?[4,a(30)]:[3,8];case 2:return A.sent(),S.getItemSync(_)!==null?[3,5]:(w=this.id+"-"+p+"-"+g,[4,a(Math.floor(25*Math.random()))]);case 3:return A.sent(),S.setItemSync(_,JSON.stringify({id:this.id,iat:g,timeoutKey:w,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,a(30)];case 4:return A.sent(),(T=S.getItemSync(_))!==null&&(I=JSON.parse(T)).id===this.id&&I.iat===g?(this.acquiredIatSet.add(g),this.refreshLockWhileAcquired(_,g),[2,!0]):[3,7];case 5:return d.lockCorrector(this.storageHandler===void 0?s:this.storageHandler),[4,this.waitForSomethingToChange(C)];case 6:A.sent(),A.label=7;case 7:return g=Date.now()+c(4),[3,1];case 8:return[2,!1]}})})},d.prototype.refreshLockWhileAcquired=function(p,m){return n(this,void 0,void 0,function(){var g=this;return r(this,function(C){return setTimeout(function(){return n(g,void 0,void 0,function(){var _,S,w;return r(this,function(T){switch(T.label){case 0:return[4,kf.default().lock(m)];case 1:return T.sent(),this.acquiredIatSet.has(m)?(_=this.storageHandler===void 0?s:this.storageHandler,(S=_.getItemSync(p))===null?(kf.default().unlock(m),[2]):((w=JSON.parse(S)).timeRefreshed=Date.now(),_.setItemSync(p,JSON.stringify(w)),kf.default().unlock(m),this.refreshLockWhileAcquired(p,m),[2])):(kf.default().unlock(m),[2])}})})},1e3),[2]})})},d.prototype.waitForSomethingToChange=function(p){return n(this,void 0,void 0,function(){return r(this,function(m){switch(m.label){case 0:return[4,new Promise(function(g){var C=!1,_=Date.now(),S=!1;function w(){if(S||(window.removeEventListener("storage",w),d.removeFromWaiting(w),clearTimeout(T),S=!0),!C){C=!0;var I=50-(Date.now()-_);I>0?setTimeout(g,I):g(null)}}window.addEventListener("storage",w),d.addToWaiting(w);var T=setTimeout(w,Math.max(0,p-Date.now()))})];case 1:return m.sent(),[2]}})})},d.addToWaiting=function(p){this.removeFromWaiting(p),d.waiters!==void 0&&d.waiters.push(p)},d.removeFromWaiting=function(p){d.waiters!==void 0&&(d.waiters=d.waiters.filter(function(m){return m!==p}))},d.notifyWaiters=function(){d.waiters!==void 0&&d.waiters.slice().forEach(function(p){return p()})},d.prototype.releaseLock=function(p){return n(this,void 0,void 0,function(){return r(this,function(m){switch(m.label){case 0:return[4,this.releaseLock__private__(p)];case 1:return[2,m.sent()]}})})},d.prototype.releaseLock__private__=function(p){return n(this,void 0,void 0,function(){var m,g,C,_;return r(this,function(S){switch(S.label){case 0:return m=this.storageHandler===void 0?s:this.storageHandler,g=o+"-"+p,(C=m.getItemSync(g))===null?[2]:(_=JSON.parse(C)).id!==this.id?[3,2]:[4,kf.default().lock(_.iat)];case 1:S.sent(),this.acquiredIatSet.delete(_.iat),m.removeItemSync(g),kf.default().unlock(_.iat),d.notifyWaiters(),S.label=2;case 2:return[2]}})})},d.lockCorrector=function(p){for(var m=Date.now()-5e3,g=p,C=[],_=0;;){var S=g.keySync(_);if(S===null)break;C.push(S),_++}for(var w=!1,T=0;T<C.length;T++){var I=C[T];if(I.includes(o)){var A=g.getItemSync(I);if(A!==null){var k=JSON.parse(A);(k.timeRefreshed===void 0&&k.timeAcquired<m||k.timeRefreshed!==void 0&&k.timeRefreshed<m)&&(g.removeItemSync(I),w=!0)}}}w&&d.notifyWaiters()},d.waiters=void 0,d}();e.default=l}));const S1e={timeoutInSeconds:60},HY={name:"auth0-spa-js",version:"2.1.3"},zY=()=>Date.now();class hi extends Error{constructor(e,n){super(n),this.error=e,this.error_description=n,Object.setPrototypeOf(this,hi.prototype)}static fromPayload({error:e,error_description:n}){return new hi(e,n)}}let E1e=class $Y extends hi{constructor(e,n,r,i=null){super(e,n),this.state=r,this.appState=i,Object.setPrototypeOf(this,$Y.prototype)}},DN=class WY extends hi{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,WY.prototype)}},T1e=class KY extends DN{constructor(e){super(),this.popup=e,Object.setPrototypeOf(this,KY.prototype)}},I1e=class GY extends hi{constructor(e){super("cancelled","Popup closed"),this.popup=e,Object.setPrototypeOf(this,GY.prototype)}},x1e=class qY extends hi{constructor(e,n,r){super(e,n),this.mfa_token=r,Object.setPrototypeOf(this,qY.prototype)}},YY=class QY extends hi{constructor(e,n){super("missing_refresh_token",`Missing Refresh Token (audience: '${U8(e,["default"])}', scope: '${U8(n)}')`),this.audience=e,this.scope=n,Object.setPrototypeOf(this,QY.prototype)}};function U8(t,e=[]){return t&&!e.includes(t)?t:""}const LS=()=>window.crypto,VR=()=>{const t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.";let e="";return Array.from(LS().getRandomValues(new Uint8Array(43))).forEach(n=>e+=t[n%t.length]),e},B8=t=>btoa(t),jN=t=>{var{clientId:e}=t,n=rc(t,["clientId"]);return new URLSearchParams((r=>Object.keys(r).filter(i=>r[i]!==void 0).reduce((i,o)=>Object.assign(Object.assign({},i),{[o]:r[o]}),{}))(Object.assign({client_id:e},n))).toString()},V8=t=>(e=>decodeURIComponent(atob(e).split("").map(n=>"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)).join("")))(t.replace(/_/g,"/").replace(/-/g,"+")),A1e=async(t,e)=>{const n=await fetch(t,e);return{ok:n.ok,json:await n.json()}},k1e=async(t,e,n)=>{const r=new AbortController;let i;return e.signal=r.signal,Promise.race([A1e(t,e),new Promise((o,s)=>{i=setTimeout(()=>{r.abort(),s(new Error("Timeout when executing 'fetch'"))},n)})]).finally(()=>{clearTimeout(i)})},R1e=async(t,e,n,r,i,o,s)=>{return a={auth:{audience:e,scope:n},timeout:i,fetchUrl:t,fetchOptions:r,useFormData:s},c=o,new Promise(function(l,d){const p=new MessageChannel;p.port1.onmessage=function(m){m.data.error?d(new Error(m.data.error)):l(m.data),p.port1.close()},c.postMessage(a,[p.port2])});var a,c},P1e=async(t,e,n,r,i,o,s=1e4)=>i?R1e(t,e,n,r,s,i,o):k1e(t,r,s);async function O1e(t,e){var{baseUrl:n,timeout:r,audience:i,scope:o,auth0Client:s,useFormData:a}=t,c=rc(t,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);const l=a?jN(c):JSON.stringify(c);return await async function(d,p,m,g,C,_,S){let w,T=null;for(let P=0;P<3;P++)try{w=await P1e(d,m,g,C,_,S,p),T=null;break}catch(N){T=N}if(T)throw T;const I=w.json,{error:A,error_description:k}=I,R=rc(I,["error","error_description"]),{ok:M}=w;if(!M){const P=k||`HTTP error. Unable to fetch ${d}`;throw A==="mfa_required"?new x1e(A,P,R.mfa_token):A==="missing_refresh_token"?new YY(m,g):new hi(A||"request_error",P)}return R}(`${n}/oauth/token`,r,i||"default",o,{method:"POST",body:l,headers:{"Content-Type":a?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(s||HY))}},e,a)}const Vw=(...t)=>{return(e=t.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(e))).join(" ");var e};let Qf=class FN{constructor(e,n="@@auth0spajs@@",r){this.prefix=n,this.suffix=r,this.clientId=e.clientId,this.scope=e.scope,this.audience=e.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(e){const[n,r,i,o]=e.split("::");return new FN({clientId:r,scope:o,audience:i},n)}static fromCacheEntry(e){const{scope:n,audience:r,client_id:i}=e;return new FN({scope:n,audience:r,clientId:i})}},N1e=class{set(e,n){localStorage.setItem(e,JSON.stringify(n))}get(e){const n=window.localStorage.getItem(e);if(n)try{return JSON.parse(n)}catch{return}}remove(e){localStorage.removeItem(e)}allKeys(){return Object.keys(window.localStorage).filter(e=>e.startsWith("@@auth0spajs@@"))}},XY=class{constructor(){this.enclosedCache=function(){let e={};return{set(n,r){e[n]=r},get(n){const r=e[n];if(r)return r},remove(n){delete e[n]},allKeys:()=>Object.keys(e)}}()}},M1e=class{constructor(e,n,r){this.cache=e,this.keyManifest=n,this.nowProvider=r||zY}async setIdToken(e,n,r){var i;const o=this.getIdTokenCacheKey(e);await this.cache.set(o,{id_token:n,decodedToken:r}),await((i=this.keyManifest)===null||i===void 0?void 0:i.add(o))}async getIdToken(e){const n=await this.cache.get(this.getIdTokenCacheKey(e.clientId));if(!n&&e.scope&&e.audience){const r=await this.get(e);return!r||!r.id_token||!r.decodedToken?void 0:{id_token:r.id_token,decodedToken:r.decodedToken}}if(n)return{id_token:n.id_token,decodedToken:n.decodedToken}}async get(e,n=0){var r;let i=await this.cache.get(e.toKey());if(!i){const a=await this.getCacheKeys();if(!a)return;const c=this.matchExistingCacheKey(e,a);c&&(i=await this.cache.get(c))}if(!i)return;const o=await this.nowProvider(),s=Math.floor(o/1e3);return i.expiresAt-n<s?i.body.refresh_token?(i.body={refresh_token:i.body.refresh_token},await this.cache.set(e.toKey(),i),i.body):(await this.cache.remove(e.toKey()),void await((r=this.keyManifest)===null||r===void 0?void 0:r.remove(e.toKey()))):i.body}async set(e){var n;const r=new Qf({clientId:e.client_id,scope:e.scope,audience:e.audience}),i=await this.wrapCacheEntry(e);await this.cache.set(r.toKey(),i),await((n=this.keyManifest)===null||n===void 0?void 0:n.add(r.toKey()))}async clear(e){var n;const r=await this.getCacheKeys();r&&(await r.filter(i=>!e||i.includes(e)).reduce(async(i,o)=>{await i,await this.cache.remove(o)},Promise.resolve()),await((n=this.keyManifest)===null||n===void 0?void 0:n.clear()))}async wrapCacheEntry(e){const n=await this.nowProvider();return{body:e,expiresAt:Math.floor(n/1e3)+e.expires_in}}async getCacheKeys(){var e;return this.keyManifest?(e=await this.keyManifest.get())===null||e===void 0?void 0:e.keys:this.cache.allKeys?this.cache.allKeys():void 0}getIdTokenCacheKey(e){return new Qf({clientId:e},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(e,n){return n.filter(r=>{var i;const o=Qf.fromKey(r),s=new Set(o.scope&&o.scope.split(" ")),a=((i=e.scope)===null||i===void 0?void 0:i.split(" "))||[],c=o.scope&&a.reduce((l,d)=>l&&s.has(d),!0);return o.prefix==="@@auth0spajs@@"&&o.clientId===e.clientId&&o.audience===e.audience&&c})[0]}},L1e=class{constructor(e,n,r){this.storage=e,this.clientId=n,this.cookieDomain=r,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(e){this.storage.save(this.storageKey,e,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}};const Qy=t=>typeof t=="number",D1e=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],j1e=t=>{if(!t.id_token)throw new Error("ID token is required but missing");const e=(o=>{const s=o.split("."),[a,c,l]=s;if(s.length!==3||!a||!c||!l)throw new Error("ID token could not be decoded");const d=JSON.parse(V8(c)),p={__raw:o},m={};return Object.keys(d).forEach(g=>{p[g]=d[g],D1e.includes(g)||(m[g]=d[g])}),{encoded:{header:a,payload:c,signature:l},header:JSON.parse(V8(a)),claims:p,user:m}})(t.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==t.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${t.iss}", found "${e.claims.iss}"`);if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(e.header.alg!=="RS256")throw new Error(`Signature algorithm of "${e.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!e.claims.aud||typeof e.claims.aud!="string"&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(t.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${t.aud}" but was not one of "${e.claims.aud.join(", ")}"`);if(e.claims.aud.length>1){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==t.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${t.aud}", found "${e.claims.azp}"`)}}else if(e.claims.aud!==t.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${t.aud}" but found "${e.claims.aud}"`);if(t.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==t.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${t.nonce}", found "${e.claims.nonce}"`)}if(t.max_age&&!Qy(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(e.claims.exp==null||!Qy(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!Qy(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");const n=t.leeway||60,r=new Date(t.now||Date.now()),i=new Date(0);if(i.setUTCSeconds(e.claims.exp+n),r>i)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${r}) is after expiration time (${i})`);if(e.claims.nbf!=null&&Qy(e.claims.nbf)){const o=new Date(0);if(o.setUTCSeconds(e.claims.nbf-n),r<o)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${r}) is before ${o}`)}if(e.claims.auth_time!=null&&Qy(e.claims.auth_time)){const o=new Date(0);if(o.setUTCSeconds(parseInt(e.claims.auth_time)+t.max_age+n),r>o)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${r}) is after last auth at ${o}`)}if(t.organization){const o=t.organization.trim();if(o.startsWith("org_")){const s=o;if(!e.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(s!==e.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${s}", found "${e.claims.org_id}"`)}else{const s=o.toLowerCase();if(!e.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(s!==e.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected "${s}", found "${e.claims.org_name}"`)}}return e};var Xf=FD(function(t,e){var n=Uf&&Uf.__assign||function(){return n=Object.assign||function(c){for(var l,d=1,p=arguments.length;d<p;d++)for(var m in l=arguments[d])Object.prototype.hasOwnProperty.call(l,m)&&(c[m]=l[m]);return c},n.apply(this,arguments)};function r(c,l){if(!l)return"";var d="; "+c;return l===!0?d:d+"="+l}function i(c,l,d){return encodeURIComponent(c).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(l).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(p){if(typeof p.expires=="number"){var m=new Date;m.setMilliseconds(m.getMilliseconds()+864e5*p.expires),p.expires=m}return r("Expires",p.expires?p.expires.toUTCString():"")+r("Domain",p.domain)+r("Path",p.path)+r("Secure",p.secure)+r("SameSite",p.sameSite)}(d)}function o(c){for(var l={},d=c?c.split("; "):[],p=/(%[\dA-F]{2})+/gi,m=0;m<d.length;m++){var g=d[m].split("="),C=g.slice(1).join("=");C.charAt(0)==='"'&&(C=C.slice(1,-1));try{l[g[0].replace(p,decodeURIComponent)]=C.replace(p,decodeURIComponent)}catch{}}return l}function s(){return o(document.cookie)}function a(c,l,d){document.cookie=i(c,l,n({path:"/"},d))}e.__esModule=!0,e.encode=i,e.parse=o,e.getAll=s,e.get=function(c){return s()[c]},e.set=a,e.remove=function(c,l){a(c,"",n(n({},l),{expires:-1}))}});jD(Xf),Xf.encode,Xf.parse,Xf.getAll;var F1e=Xf.get,ZY=Xf.set,JY=Xf.remove;const vm={get(t){const e=F1e(t);if(e!==void 0)return JSON.parse(e)},save(t,e,n){let r={};window.location.protocol==="https:"&&(r={secure:!0,sameSite:"none"}),n!=null&&n.daysUntilExpire&&(r.expires=n.daysUntilExpire),n!=null&&n.cookieDomain&&(r.domain=n.cookieDomain),ZY(t,JSON.stringify(e),r)},remove(t,e){let n={};e!=null&&e.cookieDomain&&(n.domain=e.cookieDomain),JY(t,n)}},U1e={get(t){return vm.get(t)||vm.get(`_legacy_${t}`)},save(t,e,n){let r={};window.location.protocol==="https:"&&(r={secure:!0}),n!=null&&n.daysUntilExpire&&(r.expires=n.daysUntilExpire),n!=null&&n.cookieDomain&&(r.domain=n.cookieDomain),ZY(`_legacy_${t}`,JSON.stringify(e),r),vm.save(t,e,n)},remove(t,e){let n={};e!=null&&e.cookieDomain&&(n.domain=e.cookieDomain),JY(t,n),vm.remove(t,e),vm.remove(`_legacy_${t}`,e)}},B1e={get(t){if(typeof sessionStorage>"u")return;const e=sessionStorage.getItem(t);return e!=null?JSON.parse(e):void 0},save(t,e){sessionStorage.setItem(t,JSON.stringify(e))},remove(t){sessionStorage.removeItem(t)}};function V1e(t,e,n){var r=e===void 0?null:e,i=function(c,l){var d=atob(c);if(l){for(var p=new Uint8Array(d.length),m=0,g=d.length;m<g;++m)p[m]=d.charCodeAt(m);return String.fromCharCode.apply(null,new Uint16Array(p.buffer))}return d}(t,n!==void 0&&n),o=i.indexOf(`
`,10)+1,s=i.substring(o)+(r?"//# sourceMappingURL="+r:""),a=new Blob([s],{type:"application/javascript"});return URL.createObjectURL(a)}var H8,z8,$8,HR,H1e=(H8="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YX0scG9ydHM6W3BdfSk9PntsZXQgZjtjb25zdHthdWRpZW5jZTp1LHNjb3BlOmx9PXJ8fHt9O3RyeXtjb25zdCByPWE/KGU9Pntjb25zdCB0PW5ldyBVUkxTZWFyY2hQYXJhbXMoZSkscj17fTtyZXR1cm4gdC5mb3JFYWNoKCgoZSx0KT0+e3JbdF09ZX0pKSxyfSkoYy5ib2R5KTpKU09OLnBhcnNlKGMuYm9keSk7aWYoIXIucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09ci5ncmFudF90eXBlKXtjb25zdCBlPSgoZSx0KT0+b1tuKGUsdCldKSh1LGwpO2lmKCFlKXRocm93IG5ldyB0KHUsbCk7Yy5ib2R5PWE/cyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKTpKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKX1sZXQgaCxnOyJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJihoPW5ldyBBYm9ydENvbnRyb2xsZXIsYy5zaWduYWw9aC5zaWduYWwpO3RyeXtnPWF3YWl0IFByb21pc2UucmFjZShbKGQ9ZSxuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLGQpKSkpLGZldGNoKGksT2JqZWN0LmFzc2lnbih7fSxjKSldKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjplLm1lc3NhZ2V9KX1pZighZylyZXR1cm4gaCYmaC5hYm9ydCgpLHZvaWQgcC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KTtmPWF3YWl0IGcuanNvbigpLGYucmVmcmVzaF90b2tlbj8oKChlLHQscik9PntvW24odCxyKV09ZX0pKGYucmVmcmVzaF90b2tlbix1LGwpLGRlbGV0ZSBmLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KSh1LGwpLHAucG9zdE1lc3NhZ2Uoe29rOmcub2ssanNvbjpmfSl9Y2F0Y2goZSl7cC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3I6ZS5lcnJvcixlcnJvcl9kZXNjcmlwdGlvbjplLm1lc3NhZ2V9fSl9dmFyIGR9KSl9KCk7Cgo=",z8=null,$8=!1,function(t){return HR=HR||V1e(H8,z8,$8),new Worker(HR,t)});const zR={};let z1e=class{constructor(e,n){this.cache=e,this.clientId=n,this.manifestKey=this.createManifestKeyFrom(this.clientId)}async add(e){var n;const r=new Set(((n=await this.cache.get(this.manifestKey))===null||n===void 0?void 0:n.keys)||[]);r.add(e),await this.cache.set(this.manifestKey,{keys:[...r]})}async remove(e){const n=await this.cache.get(this.manifestKey);if(n){const r=new Set(n.keys);return r.delete(e),r.size>0?await this.cache.set(this.manifestKey,{keys:[...r]}):await this.cache.remove(this.manifestKey)}}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(e){return`@@auth0spajs@@::${e}`}};const $1e={memory:()=>new XY().enclosedCache,localstorage:()=>new N1e},W8=t=>$1e[t],K8=t=>{const{openUrl:e,onRedirect:n}=t,r=rc(t,["openUrl","onRedirect"]);return Object.assign(Object.assign({},r),{openUrl:e===!1||e?e:n})},$R=new w1e;let W1e=class{constructor(e){let n,r;if(this.userCache=new XY().enclosedCache,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=async()=>{await $R.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)},this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),e),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),e.authorizationParams)}),typeof window<"u"&&(()=>{if(!LS())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(LS().subtle===void 0)throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `)})(),e.cache&&e.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),e.cache)r=e.cache;else{if(n=e.cacheLocation||"memory",!W8(n))throw new Error(`Invalid cache location "${n}"`);r=W8(n)()}this.httpTimeoutMs=e.httpTimeoutInSeconds?1e3*e.httpTimeoutInSeconds:1e4,this.cookieStorage=e.legacySameSiteCookie===!1?vm:U1e,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(s=>`auth0.${s}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;const i=e.useCookiesForTransactions?this.cookieStorage:B1e;var o;this.scope=Vw("openid",this.options.authorizationParams.scope,this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new L1e(i,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||zY,this.cacheManager=new M1e(r,r.allKeys?void 0:new z1e(r,this.options.clientId),this.nowProvider),this.domainUrl=(o=this.options.domain,/^https?:\/\//.test(o)?o:`https://${o}`),this.tokenIssuer=((s,a)=>s?s.startsWith("https://")?s:`https://${s}/`:`${a}/`)(this.options.issuer,this.domainUrl),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&n==="memory"&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new H1e)}_url(e){const n=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||HY)));return`${this.domainUrl}${e}&auth0Client=${n}`}_authorizeUrl(e){return this._url(`/authorize?${jN(e)}`)}async _verifyIdToken(e,n,r){const i=await this.nowProvider();return j1e({iss:this.tokenIssuer,aud:this.options.clientId,id_token:e,nonce:n,organization:r,leeway:this.options.leeway,max_age:(o=this.options.authorizationParams.max_age,typeof o!="string"?o:parseInt(o,10)||void 0),now:i});var o}_processOrgHint(e){e?this.cookieStorage.save(this.orgHintCookieName,e,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}async _prepareAuthorizeUrl(e,n,r){const i=B8(VR()),o=B8(VR()),s=VR(),a=(d=>{const p=new Uint8Array(d);return(m=>{const g={"+":"-","/":"_","=":""};return m.replace(/[+/=]/g,C=>g[C])})(window.btoa(String.fromCharCode(...Array.from(p))))})(await(async d=>await LS().subtle.digest({name:"SHA-256"},new TextEncoder().encode(d)))(s)),c=((d,p,m,g,C,_,S,w)=>Object.assign(Object.assign(Object.assign({client_id:d.clientId},d.authorizationParams),m),{scope:Vw(p,m.scope),response_type:"code",response_mode:w||"query",state:g,nonce:C,redirect_uri:S||d.authorizationParams.redirect_uri,code_challenge:_,code_challenge_method:"S256"}))(this.options,this.scope,e,i,o,a,e.redirect_uri||this.options.authorizationParams.redirect_uri||r,n==null?void 0:n.response_mode),l=this._authorizeUrl(c);return{nonce:o,code_verifier:s,scope:c.scope,audience:c.audience||"default",redirect_uri:c.redirect_uri,state:i,url:l}}async loginWithPopup(e,n){var r;if(e=e||{},!(n=n||{}).popup&&(n.popup=(a=>{const c=window.screenX+(window.innerWidth-400)/2,l=window.screenY+(window.innerHeight-600)/2;return window.open(a,"auth0:authorize:popup",`left=${c},top=${l},width=400,height=600,resizable,scrollbars=yes,status=1`)})(""),!n.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");const i=await this._prepareAuthorizeUrl(e.authorizationParams||{},{response_mode:"web_message"},window.location.origin);n.popup.location.href=i.url;const o=await(a=>new Promise((c,l)=>{let d;const p=setInterval(()=>{a.popup&&a.popup.closed&&(clearInterval(p),clearTimeout(m),window.removeEventListener("message",d,!1),l(new I1e(a.popup)))},1e3),m=setTimeout(()=>{clearInterval(p),l(new T1e(a.popup)),window.removeEventListener("message",d,!1)},1e3*(a.timeoutInSeconds||60));d=function(g){if(g.data&&g.data.type==="authorization_response"){if(clearTimeout(m),clearInterval(p),window.removeEventListener("message",d,!1),a.popup.close(),g.data.response.error)return l(hi.fromPayload(g.data.response));c(g.data.response)}},window.addEventListener("message",d)}))(Object.assign(Object.assign({},n),{timeoutInSeconds:n.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(i.state!==o.state)throw new hi("state_mismatch","Invalid state");const s=((r=e.authorizationParams)===null||r===void 0?void 0:r.organization)||this.options.authorizationParams.organization;await this._requestToken({audience:i.audience,scope:i.scope,code_verifier:i.code_verifier,grant_type:"authorization_code",code:o.code,redirect_uri:i.redirect_uri},{nonceIn:i.nonce,organization:s})}async getUser(){var e;const n=await this._getIdTokenFromCache();return(e=n==null?void 0:n.decodedToken)===null||e===void 0?void 0:e.user}async getIdTokenClaims(){var e;const n=await this._getIdTokenFromCache();return(e=n==null?void 0:n.decodedToken)===null||e===void 0?void 0:e.claims}async loginWithRedirect(e={}){var n;const r=K8(e),{openUrl:i,fragment:o,appState:s}=r,a=rc(r,["openUrl","fragment","appState"]),c=((n=a.authorizationParams)===null||n===void 0?void 0:n.organization)||this.options.authorizationParams.organization,l=await this._prepareAuthorizeUrl(a.authorizationParams||{}),{url:d}=l,p=rc(l,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},p),{appState:s}),c&&{organization:c}));const m=o?`${d}#${o}`:d;i?await i(m):window.location.assign(m)}async handleRedirectCallback(e=window.location.href){const n=e.split("?").slice(1);if(n.length===0)throw new Error("There are no query params available for parsing.");const{state:r,code:i,error:o,error_description:s}=(p=>{p.indexOf("#")>-1&&(p=p.substring(0,p.indexOf("#")));const m=new URLSearchParams(p);return{state:m.get("state"),code:m.get("code")||void 0,error:m.get("error")||void 0,error_description:m.get("error_description")||void 0}})(n.join("")),a=this.transactionManager.get();if(!a)throw new hi("missing_transaction","Invalid state");if(this.transactionManager.remove(),o)throw new E1e(o,s||o,r,a.appState);if(!a.code_verifier||a.state&&a.state!==r)throw new hi("state_mismatch","Invalid state");const c=a.organization,l=a.nonce,d=a.redirect_uri;return await this._requestToken(Object.assign({audience:a.audience,scope:a.scope,code_verifier:a.code_verifier,grant_type:"authorization_code",code:i},d?{redirect_uri:d}:{}),{nonceIn:l,organization:c}),{appState:a.appState}}async checkSession(e){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{await this.getTokenSilently(e)}catch{}}async getTokenSilently(e={}){var n;const r=Object.assign(Object.assign({cacheMode:"on"},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:Vw(this.scope,(n=e.authorizationParams)===null||n===void 0?void 0:n.scope)})}),i=await((o,s)=>{let a=zR[s];return a||(a=o().finally(()=>{delete zR[s],a=null}),zR[s]=a),a})(()=>this._getTokenSilently(r),`${this.options.clientId}::${r.authorizationParams.audience}::${r.authorizationParams.scope}`);return e.detailedResponse?i:i==null?void 0:i.access_token}async _getTokenSilently(e){const{cacheMode:n}=e,r=rc(e,["cacheMode"]);if(n!=="off"){const i=await this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId});if(i)return i}if(n!=="cache-only"){if(!await(async(i,o=3)=>{for(let s=0;s<o;s++)if(await i())return!0;return!1})(()=>$R.acquireLock("auth0.lock.getTokenSilently",5e3),10))throw new DN;try{if(window.addEventListener("pagehide",this._releaseLockOnPageHide),n!=="off"){const l=await this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId});if(l)return l}const i=this.options.useRefreshTokens?await this._getTokenUsingRefreshToken(r):await this._getTokenFromIFrame(r),{id_token:o,access_token:s,oauthTokenScope:a,expires_in:c}=i;return Object.assign(Object.assign({id_token:o,access_token:s},a?{scope:a}:null),{expires_in:c})}finally{await $R.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}}async getTokenWithPopup(e={},n={}){var r;const i=Object.assign(Object.assign({},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:Vw(this.scope,(r=e.authorizationParams)===null||r===void 0?void 0:r.scope)})});return n=Object.assign(Object.assign({},S1e),n),await this.loginWithPopup(i,n),(await this.cacheManager.get(new Qf({scope:i.authorizationParams.scope,audience:i.authorizationParams.audience||"default",clientId:this.options.clientId}))).access_token}async isAuthenticated(){return!!await this.getUser()}_buildLogoutUrl(e){e.clientId!==null?e.clientId=e.clientId||this.options.clientId:delete e.clientId;const n=e.logoutParams||{},{federated:r}=n,i=rc(n,["federated"]),o=r?"&federated":"";return this._url(`/v2/logout?${jN(Object.assign({clientId:e.clientId},i))}`)+o}async logout(e={}){const n=K8(e),{openUrl:r}=n,i=rc(n,["openUrl"]);e.clientId===null?await this.cacheManager.clear():await this.cacheManager.clear(e.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@");const o=this._buildLogoutUrl(i);r?await r(o):r!==!1&&window.location.assign(o)}async _getTokenFromIFrame(e){const n=Object.assign(Object.assign({},e.authorizationParams),{prompt:"none"}),r=this.cookieStorage.get(this.orgHintCookieName);r&&!n.organization&&(n.organization=r);const{url:i,state:o,nonce:s,code_verifier:a,redirect_uri:c,scope:l,audience:d}=await this._prepareAuthorizeUrl(n,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new hi("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");const p=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,m=await((C,_,S=60)=>new Promise((w,T)=>{const I=window.document.createElement("iframe");I.setAttribute("width","0"),I.setAttribute("height","0"),I.style.display="none";const A=()=>{window.document.body.contains(I)&&(window.document.body.removeChild(I),window.removeEventListener("message",k,!1))};let k;const R=setTimeout(()=>{T(new DN),A()},1e3*S);k=function(M){if(M.origin!=_||!M.data||M.data.type!=="authorization_response")return;const P=M.source;P&&P.close(),M.data.response.error?T(hi.fromPayload(M.data.response)):w(M.data.response),clearTimeout(R),window.removeEventListener("message",k,!1),setTimeout(A,2e3)},window.addEventListener("message",k,!1),window.document.body.appendChild(I),I.setAttribute("src",C)}))(i,this.domainUrl,p);if(o!==m.state)throw new hi("state_mismatch","Invalid state");const g=await this._requestToken(Object.assign(Object.assign({},e.authorizationParams),{code_verifier:a,code:m.code,grant_type:"authorization_code",redirect_uri:c,timeout:e.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:s,organization:n.organization});return Object.assign(Object.assign({},g),{scope:l,oauthTokenScope:g.scope,audience:d})}catch(p){throw p.error==="login_required"&&this.logout({openUrl:!1}),p}}async _getTokenUsingRefreshToken(e){const n=await this.cacheManager.get(new Qf({scope:e.authorizationParams.scope,audience:e.authorizationParams.audience||"default",clientId:this.options.clientId}));if(!(n&&n.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw new YY(e.authorizationParams.audience||"default",e.authorizationParams.scope)}const r=e.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,i=typeof e.timeoutInSeconds=="number"?1e3*e.timeoutInSeconds:null;try{const o=await this._requestToken(Object.assign(Object.assign(Object.assign({},e.authorizationParams),{grant_type:"refresh_token",refresh_token:n&&n.refresh_token,redirect_uri:r}),i&&{timeout:i}));return Object.assign(Object.assign({},o),{scope:e.authorizationParams.scope,oauthTokenScope:o.scope,audience:e.authorizationParams.audience||"default"})}catch(o){if((o.message.indexOf("Missing Refresh Token")>-1||o.message&&o.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw o}}async _saveEntryInCache(e){const{id_token:n,decodedToken:r}=e,i=rc(e,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:n,decodedToken:r}),await this.cacheManager.setIdToken(this.options.clientId,e.id_token,e.decodedToken),await this.cacheManager.set(i)}async _getIdTokenFromCache(){const e=this.options.authorizationParams.audience||"default",n=await this.cacheManager.getIdToken(new Qf({clientId:this.options.clientId,audience:e,scope:this.scope})),r=this.userCache.get("@@user@@");return n&&n.id_token===(r==null?void 0:r.id_token)?r:(this.userCache.set("@@user@@",n),n)}async _getEntryFromCache({scope:e,audience:n,clientId:r}){const i=await this.cacheManager.get(new Qf({scope:e,audience:n,clientId:r}),60);if(i&&i.access_token){const{access_token:o,oauthTokenScope:s,expires_in:a}=i,c=await this._getIdTokenFromCache();return c&&Object.assign(Object.assign({id_token:c.id_token,access_token:o},s?{scope:s}:null),{expires_in:a})}}async _requestToken(e,n){const{nonceIn:r,organization:i}=n||{},o=await O1e(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},e),this.worker),s=await this._verifyIdToken(o.id_token,r,i);return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},o),{decodedToken:s,scope:e.scope,audience:e.audience||"default"}),o.scope?{oauthTokenScope:o.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(i||s.claims.org_id),Object.assign(Object.assign({},o),{decodedToken:s})}};async function K1e(t){const e=new W1e(t);return await e.checkSession(),e}const eQ=se(!1),Qr=se(null),Nv=se(t=>{const e=t(Qr);return e?e.accountType==="AAD":!1}),nKe=se(t=>{const e=t(Qr);return e?e.accountType==="MSA":!1}),G1e=se(t=>t(Qr)!==null),ll=se(null),q1e=se(!0);function Ls(t,e){Ht().set(t,e)}const UD="ellie",tQ=[UD],G8=h.union([h.enum(tQ),h.undefined()]),Y1e=h.object({model:h.literal("vasa"),eyesOpenRatio:h.array(h.number()).min(1),eyesPose:h.array(h.number()).min(6),jawPose:h.array(h.number()).length(3),neckPose:h.array(h.number()).length(3),rotation:h.array(h.number()).length(3),translation:h.array(h.number()).length(3),viseme:h.array(h.number()).min(10)}),Q1e=h.object({model:h.literal("spda2e"),poseDiffusion:h.array(h.number())}),X1e=h.union([h.string(),h.number(),h.boolean(),h.null()]),G0=h.lazy(()=>h.union([X1e,h.array(G0),h.record(G0)])),Z1e=h.object({op:h.literal("add"),path:h.string(),value:G0}),J1e=h.object({op:h.literal("remove"),path:h.string()}),eAe=h.object({op:h.literal("replace"),path:h.string(),value:G0}),tAe=h.object({op:h.literal("move"),from:h.string(),path:h.string()}),nAe=h.object({op:h.literal("copy"),from:h.string(),path:h.string()}),rAe=h.object({op:h.literal("test"),path:h.string(),value:G0}),iAe=h.discriminatedUnion("op",[Z1e,J1e,eAe,tAe,nAe,rAe]),q8=h.array(iAe),oAe=h.union([h.literal("event-not-recognized"),h.literal("over-turn-limit"),h.literal("unknown-error"),h.literal("message-too-large"),h.literal("invalid-event"),h.literal("empty-message"),h.literal("empty-text"),h.literal("text-too-long"),h.literal("multiple-text-parts"),h.literal("multiple-image-parts"),h.literal("too-many-messages"),h.literal("over-reasoning-quota"),h.literal("over-task-quota"),h.literal("page-content-length-exceeded"),h.literal("page-count-exceeded"),h.literal("character-out-of-capacity"),h.string()]),sAe=h.union([h.literal("blocked"),h.literal("not-signed-in"),h.literal("failed"),h.string()]),nQ=h.union([h.literal("quiz"),h.literal("generative-ui")]),rQ=h.union([h.literal("throttled"),h.literal("throttled-non-pro"),h.literal("time-expired"),h.literal("time-expired-non-pro"),h.literal("not-in-flight"),h.literal("error"),h.literal("signed-out"),h.literal("region-not-available"),h.literal("time-expired-month"),h.literal("time-expired-month-non-pro")]),aAe=h.object({voice:h.string().optional(),speed:h.number().min(50).max(200).optional()}).partial(),Y8=h.number().min(0).max(200).default(100),Q8=h.union([h.literal("standard"),h.literal("character")]),X8=h.discriminatedUnion("event",[Wq,h.object({event:h.literal("pong"),id:h.string()}),h.object({event:h.literal("connected"),id:h.string(),requestId:h.string()}),h.object({event:h.literal("received"),conversationId:h.string(),messageId:h.string(),createdAt:h.string()}),h.object({event:h.literal("emojiReaction"),messageId:h.string(),emoji:h.string()}),h.object({event:h.literal("startMessage"),conversationId:h.string(),messageId:h.string(),createdAt:h.string()}),h.object({event:h.literal("appendText"),messageId:h.string(),text:h.string(),partId:h.string()}),h.object({event:h.literal("replaceText"),messageId:h.string(),text:h.string(),partId:h.string()}),h.object({event:h.literal("titleUpdate"),conversationId:h.string(),title:h.string()}),h.object({event:h.literal("generatingImage"),messageId:h.string(),prompt:h.string(),partId:h.string(),progressionText:h.string().nullable().optional()}),h.object({id:h.string(),event:h.literal("generatingImages"),messageId:h.string(),partIds:h.array(h.string()),prompt:h.string()}),h.object({event:h.literal("imageGenerated"),messageId:h.string(),url:h.string(),partId:h.string()}),h.object({event:h.literal("partialImageGenerated"),messageId:h.string(),url:h.string(),partId:h.string(),content:h.string()}),h.object({event:h.literal("page"),messageId:h.string(),partId:h.string(),page:h.object({id:h.string(),conversationId:h.string(),title:h.string().nullish()})}),h.object({event:h.literal("challenge")}),h.object({event:h.literal("imageGenerationFailed"),messageId:h.string(),errorCode:sAe,partId:h.string()}),h.object({id:h.string(),event:h.literal("generatingCard"),messageId:h.string(),partId:h.string(),type:nQ}),h.object({id:h.string(),event:h.literal("cardGenerationFailed"),messageId:h.string(),partId:h.string()}),h.object({event:h.literal("audioStart"),conversationId:h.string()}),h.object({event:h.literal("audio"),audio:h.string()}),h.object({event:h.literal("audioStartFailed"),reason:rQ}),h.object({event:h.literal("audioTimeRemaining"),seconds:h.number()}),h.object({event:h.literal("callTerminated"),reason:h.string().optional()}),h.object({event:h.literal("audioEnd")}),h.object({event:h.literal("audioConfig"),options:aAe}),h.object({event:h.literal("interruptAudio")}),h.object({event:h.literal("speechEndDetected")}),h.object({event:h.literal("citation"),messageId:h.string(),url:h.string(),title:h.string(),partId:h.string(),iconUrl:h.string().nullable(),publisher:h.string().nullable()}),h.object({event:h.literal("turnLimitReached"),id:h.string()}),h.object({event:h.literal("done"),messageId:h.string()}),h.object({event:h.literal("error"),errorCode:oAe}),h.object({event:h.literal("card"),messageId:h.string(),partId:h.string(),card:TY}),h.object({event:h.literal("banned"),expiresAt:h.string()}),h.object({id:h.string(),event:h.literal("suggestedFollowups"),messageId:h.string(),suggestions:h.array(h.string())}),h.object({event:h.literal("taskStart"),id:h.string(),messageId:h.string(),partId:h.string(),task:DY}),h.object({event:h.literal("taskUpdate"),id:h.string().nullish(),taskId:h.string(),update:q8}),h.object({event:h.literal("startSuggestion"),id:h.string(),pageId:h.string(),suggestionId:h.string(),editTargets:h.array(h.object({startIndex:h.number(),endIndex:h.number()}))}),h.object({event:h.literal("appendSuggestion"),id:h.string(),pageId:h.string(),suggestionId:h.string(),text:h.string()}),h.object({event:h.literal("characterAnimation"),id:h.string(),offsetInMilliseconds:h.number().nullable().optional(),frame:h.discriminatedUnion("model",[Y1e,Q1e]).nullable().optional()}),h.object({event:h.literal("setCallType"),callType:Q8}),h.object({event:h.literal("callTypeChanged"),callType:Q8}),Gq.extend({event:h.literal("activityStart"),id:h.string(),messageId:h.string(),partId:h.string()}),h.object({event:h.literal("activityUpdate"),id:h.string(),messageId:h.string(),partId:h.string(),update:q8})]),cAe={kAccepted:1};function rKe(t){return typeof t=="object"&&t!==null&&"eventName"in t&&"requestId"in t&&(!("isOutgoing"in t)||!t.isOutgoing)&&"args"in t}const Z8="mobileCrossSellingLastClosed",WR="mobilePromoCountClose",fT="hasBeenAuthenticated",hT="colorTheme",BD="newConversationsStarted",q0="timeOfNewConversationThreshold",J8="hasCorrectedPersonalizationSettings",UN="banAppealSubmitted",lAe="hideDeleteConversationModal",uAe="hasBeenPromptedForLocation",dAe="hasSeenCharacter",e9="voiceAppearanceId",iQ="hasSeenAppearance",fAe="hasDismissedAppearanceModal",BN="crossPromoFirstVisit",VD="crossPromoDiscoverStripLastClosed",pT="crossPromoDiscoverStripCountClose",iKe="crossPromoStripGetAppIsClicked",t9="reviewActiveDays",VN="reviewPromptResponse",oQ="userSidebarOpen",oKe="referralEligibilityStatus",sKe="referralHasSeenEntryNewBadge",aKe="coachmark.pagesEditThisResponse",HN="isEagerMSALEnabled",sQ="isMsalSilentSsoEnabled",aQ="user.UserFirstName",zN="loginStartTime",$N="reauthLoginFlag",cKe="subscription.m365SubscriberFRE",n9="userConversationVoiceSpeed";function Ci(t,e){typeof window<"u"&&localStorage.setItem(t,e)}function ir(t){return typeof window<"u"?localStorage.getItem(t):null}function ka(t){typeof window<"u"&&localStorage.removeItem(t)}function Pc(t,e){const n=ir(t);if(!n)return null;try{const r=JSON.parse(n);return e.parse(r)}catch{return null}}function Uh(t,e,n){try{e.parse(n),Ci(t,JSON.stringify(n))}catch{}}function HD(t){const{key:e,schema:n,initialValue:r}=t;return zpe(e,r,{getItem:()=>Pc(e,n)??r,setItem:(o,s)=>{s===void 0?ka(e):Uh(e,n,s)},removeItem:()=>ka(e)},{getOnInit:!0})}const Fi=se(void 0),tx=se(t=>t(Fi)!==void 0),cQ=HD({key:aQ,schema:h.string().optional(),initialValue:void 0}),lQ=se(t=>{const e=t(Fi),n=t(cQ);return e===void 0?n:e.firstName??e.givenName}),hAe=se(t=>{var e;return(e=t(Fi))==null?void 0:e.id}),LC=se(void 0),lKe=se(t=>t(GI).find(e=>e.id===t(LC))),uKe=se(t=>{var r,i;const e=t(GI),n=t(LC)??((r=e[0])==null?void 0:r.id);return(i=e.find(o=>o.id===n))==null?void 0:i.voicemails}),dKe=se(100),pAe=HD({key:n9,schema:Y8,initialValue:Pc(n9,Y8)??kI}),td=HD({key:e9,schema:G8,initialValue:Pc(e9,G8)??void 0}),uQ=se(null),DC=se(null),dQ=se(t=>t(hD).find(e=>e.id===t(DC))),fKe=se(!1),hKe=se(cAe.kAccepted),fQ=se(void 0),zD=se(!1),$D=se(void 0),mAe=se(!1),hQ=se(void 0),gAe=se(!1),WD=se(null),KD=se(null),vAe=se(!0),pKe=se(!1),mKe=se(!1),jC=se(t=>{var e;return(e=t(Fi))==null?void 0:e.isPro}),yAe=se(t=>{var e;return(e=t(Fi))==null?void 0:e.isStudent});se(t=>{var e;return(e=t(Fi))==null?void 0:e.inEeaPlusRegion});const fs=se(void 0),bAe=se(!1);se(t=>{const e=t(fs);return e&&ome.includes(e)});const pQ=se(void 0),nx=se(t=>{var e;return((e=t(Fi))==null?void 0:e.isEligibleForFreeTrial)??!1}),mQ=se(void 0),GD=se(t=>{var e;return((e=t(Fi))==null?void 0:e.ageGroup)==="teen"}),CAe=se(t=>{var e;return(e=t(Fi))==null?void 0:e.allowedToggles.personalization}),_Ae=se(t=>{var e;return(e=t(Fi))==null?void 0:e.allowedToggles.textTraining}),wAe=se(t=>{var e;return(e=t(Fi))==null?void 0:e.allowedToggles.voiceTraining}),gQ=se(!1),vQ=se(null),SAe=se(t=>{var e;return((e=t(Fi))==null?void 0:e.subscriptions)??[]});function yQ(t,e,n){return n!==void 0?n:e&&!t}function co(){const t=oe(pQ),e=oe(Nv),n=!!oe(Qr);return yQ(e,n,t)}function WN(){const t=Ht(),e=t.get(pQ),n=t.get(Nv),r=!!t.get(Qr);return yQ(n,r,e)}async function EAe(t){var r;const e=(r=t.body)==null?void 0:r.getReader();if(!e)return 0;let n=0;try{const i=performance.now();for(;performance.now()-i<2e3;){const{value:o,done:s}=await e.read();if(s)break;n+=o.byteLength}return n}catch{return 0}}function TAe(){const t=je("character-animation-spda2e"),e=je("character-animation-vasa"),n=oe(td);return(t||e)&&!!n}function bQ(){const t=Kt("character-animation-spda2e"),e=Kt("character-animation-vasa"),n=Ht().get(td);return(t||e)&&!!n}function Hw(t){return tQ.includes(t)}const IAe="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/meshopt_decoder-3Kt66jYv.js",$r=class $r{static async loadLibraries(){const[e,,n]=await Promise.all([de(()=>import("./index-DOGcyGx1.js").then(r=>r.c),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160])),de(()=>import("./index-CeIncVfT.js").then(r=>r.b),__vite__mapDeps([161,162,1,2,19,4,5,10,163,164,20,21,90,165,166,136,28,29,91,26,167,138,168,144,169,170,171,172,143,94,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,7,8,9,194,195,196,197,31,32,198,199,200,201,202])),de(()=>import("./math.scalar.functions-C0i4R8fp.js").then(r=>r.f),[])]);e.MeshoptCompression.Configuration={decoder:{url:IAe}},$r.Core=e,$r.Math=n,$r.isInitialized=!0}static async loadViewerLibraries(){const e=await de(()=>import("./index-bF9WTJrS.js").then(n=>n.i),__vite__mapDeps([203,11,1,2,6,163,204]));$r.Viewer=e}static async loadDebugLibraries(){await $r.loadLibraries(),await de(()=>import("./babylon.inspector.bundle.max-0AXFUC9r.js").then(e=>e.b),__vite__mapDeps([205,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,206,207,208,162,163,164,161,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,209,204,210,211]))}static isLoaded(){return $r.isInitialized}static getCore(){return $r.throwIfNotInitialized("Core"),$r.Core}static getMath(){return $r.throwIfNotInitialized("Core"),$r.Math}static getViewer(){return $r.throwIfNotInitialized("Viewer"),$r.Viewer}static throwIfNotInitialized(e){if(!$r.isInitialized)throw new Error(`Libraries ${e} are not loaded yet. Call loadLibraries first.`)}};Se($r,"Core"),Se($r,"Math"),Se($r,"Viewer"),Se($r,"isInitialized",!1);let Yg=$r;function gKe(t){const e=t.split(/[\\/]/),n=e.pop();return{basePath:`${e.join("/")}/`,fileName:n??""}}function vKe(t,e){he.trackEvent({name:"interaction",data:{eventName:"characterAnimation",eventInfo_characterAnimationState:t,eventInfo_characterId:e}})}function yKe(t,e){const{Texture:n}=Yg.getCore();return new Promise((r,i)=>{const o=new n(t,e,!1,!1,1,()=>{r(o)},i)})}function bKe(t){const{Vector3:e}=Yg.getCore();return new e(t[0],t[1]??0,t[2]??0)}function CKe(t){return Math.max(...t)-Math.min(...t)}function _Ke(t){return t*Math.PI/180}function wKe(t){const{Clamp:e}=Yg.getMath();return e(t,0,1)}function xAe(t,e,n){return Math.abs(t-e)>n?e:t}function SKe(t,e,n=.01,r=.2){const{MoveTowards:i}=Yg.getMath();return i(t,xAe(t,e,n),r)}let r9;function Xy(...t){r9===void 0&&(r9=Kt("babylon-debug"))}class AAe{constructor(){Se(this,"resourceObserver");Se(this,"entries",[]);Se(this,"keyword",null);this.resourceObserver=new PerformanceObserver(e=>{this.handleResources(e)})}trackStart(e){this.keyword=e,this.resourceObserver.observe({type:"resource",buffered:!1})}trackEnd(){const{entries:e}=this,n=e[e.length-1];return this.resourceObserver.disconnect(),this.entries=[],this.keyword=null,n?{name:n.name,duration:Math.round(n.duration)}:null}handleResources(e){if(this.keyword)for(const n of e.getEntries())n.name.includes(this.keyword)&&this.entries.push(n)}}class kAe{constructor(){Se(this,"interactTime",0);Se(this,"voiceChatToggledTime",0);Se(this,"speechEndDetectedTime",0);Se(this,"startMessageTime",0);Se(this,"mountedTime",0);Se(this,"libsLoadedTime",0);Se(this,"sceneInitializedTime",0);Se(this,"interactSource","");Se(this,"currentConversationId","");Se(this,"currentMessageId","");Se(this,"visualizerEnabled",!1);Se(this,"loadedEnd",!1);Se(this,"voiceChatToggledOn",!1);Se(this,"resourceMonitor",new AAe);Se(this,"resetLoading",()=>{Xy("%c[] -> resetAppearanceEvent"),this.interactTime=0,this.visualizerEnabled=!1,this.loadedEnd=!1});Se(this,"isAvailable",()=>bQ()&&this.voiceChatToggledOn);Se(this,"trackLoadingEvent",e=>{if(!this.isAvailable()||this.interactTime===0)return;const{eventName:n,duration:r,characterId:i,networkDuration:o}=e;if(i&&!Hw(i))return;const a=["voiceChatToggled","appearanceVisible","appearanceLoadingComplete"].includes(n),c=!ir(iQ);he.trackEvent({name:"system",data:{eventName:n,eventInfo_duration:Math.round(r),eventInfo_conversationId:this.currentConversationId,eventInfo_firstTime:c,eventInfo_characterId:i,eventInfo_trigger:a?this.interactSource:void 0,eventInfo_networkDuration:o}}),Xy(`%c[] -> ${n} : `,"color: #691dc6",Math.round(r),c?"firstTime":"",i?`characterId: ${i}`:"")});Se(this,"onUserInteract",e=>{this.resetLoading(),this.interactTime=performance.now(),this.interactSource=e,Xy("%c[] -> onUserInteract","color: #222222")});Se(this,"onVoiceChatToggled",(e,n)=>{if(e==="end")this.voiceChatToggledOn=!1,this.speechEndDetectedTime=0,this.resourceMonitor.trackEnd();else{this.voiceChatToggledOn=!0,this.voiceChatToggledTime=performance.now(),this.currentConversationId=n??"";const r=this.voiceChatToggledTime-this.interactTime;this.trackLoadingEvent({eventName:"voiceChatToggled",duration:r})}});Se(this,"onMounted",()=>{this.mountedTime=performance.now();const e=this.mountedTime-this.voiceChatToggledTime;this.trackLoadingEvent({eventName:"appearanceMounted",duration:e})});Se(this,"onBabylonLibrariesLoaded",e=>{if(!Hw(e))return;this.libsLoadedTime=performance.now();const n=this.libsLoadedTime-this.mountedTime;this.trackLoadingEvent({eventName:"appearanceBabylonLoaded",duration:n,characterId:e})});Se(this,"onSceneInitializationStart",e=>{Hw(e)&&this.resourceMonitor.trackStart(".glb")});Se(this,"onSceneInitialized",e=>{if(!Hw(e))return;this.sceneInitializedTime=performance.now();const n=this.sceneInitializedTime-this.libsLoadedTime,r=this.resourceMonitor.trackEnd();Xy("%c[] -> monitorResult : ","color: #5bb173",r),this.trackLoadingEvent({eventName:"appearanceSceneInitialized",duration:n,characterId:e,networkDuration:r?r.duration:void 0}),this.trackLoadingEvent({eventName:"appearanceLoadingComplete",duration:this.sceneInitializedTime-this.interactTime,characterId:e}),this.loadedEnd=!0,this.checkEnd()});Se(this,"onVisualizerEnabled",()=>{if(this.visualizerEnabled)return;this.visualizerEnabled=!0;const e=Math.round(performance.now()-this.interactTime);this.trackLoadingEvent({eventName:"appearanceVisible",duration:e}),this.checkEnd()});Se(this,"checkEnd",()=>{this.visualizerEnabled&&this.loadedEnd&&this.resetLoading()});Se(this,"onStartMessage",(e,n)=>{this.currentMessageId=e,this.startMessageTime=n});Se(this,"onSpeechEndDetected",e=>{this.speechEndDetectedTime=e});Se(this,"onAnimationStart",()=>{if(!this.isAvailable())return;const e=Math.round(performance.now()-(this.speechEndDetectedTime||this.startMessageTime));he.trackEvent({name:"system",data:{eventName:"copilotAnimationStart",eventInfo_conversationId:this.currentConversationId,eventInfo_messageId:this.currentMessageId,eventInfo_duration:e}}),Xy("%c[] -> onAnimationStart : ","color: #691dc6",Math.round(e))})}}const mT=new kAe,RAe=1e3;function CQ(t){(t.source==="audioCallButton"||t.source==="characterTalkToggleButton")&&mT.onUserInteract(t.source)}function Or(t){he.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:t.source,eventInfo_clickScenario:t.scenario,eventInfo_clickDestination:t.destination,eventInfo_conversationId:t.conversationId,eventInfo_podcastId:t.podcastId,eventInfo_messageId:t.messageId,eventInfo_mode:t.chatMode,eventInfo_messageType:t.messageType,eventInfo_cardType:t.cardType,eventInfo_merchantPlatform:t.merchantPlatform,eventInfo_additionalData:t.additionalData?JSON.stringify(t.additionalData):void 0}}),CQ(t)}function Yt(t){he.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_pageName:t.pageName,eventInfo_sectionName:t.sectionName,eventInfo_clickSource:t.source,eventInfo_clickScenario:t.scenario,eventInfo_clickDestination:t.destination,eventInfo_customData:t.customData}}),CQ(t)}function Mv(t){he.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionScenario:t.scenario,eventInfo_impressionPage:t.page,eventInfo_impressionElement:t.element,eventInfo_status:t.status,eventInfo_customData:t.customData}})}function FC(t){he.trackEvent({name:"health",data:{eventName:"copilotFeatureSuccess",eventInfo_feature:t.feature,eventInfo_scenario:t.scenario,eventInfo_duration:t.duration,eventInfo_customData:t.customData}})}function Bh(t){he.trackEvent({name:"health",data:{eventName:"copilotError",eventInfo_feature:t.feature,eventInfo_scenario:t.scenario,eventInfo_errorType:t.errorType,eventInfo_errorMessage:t.errorMessage,eventInfo_exception:t.exception,eventInfo_customData:t.customData}})}function PAe(t){he.trackEvent({name:"interaction",data:{eventName:"copilotSettingChange",eventInfo_settingName:t.settingName,eventInfo_settingOldValue:t.oldValue,eventInfo_settingNewValue:t.newValue}})}function EKe(t,e=RAe){let n;function r(){n=window.setTimeout(()=>{t()},e)}function i(){window.clearTimeout(n)}return{onHoverStart:r,onHoverEnd:i}}function _Q(t,e,n,r){setTimeout(async()=>{try{const{status:i}=r,o=await EAe(r),s=r.headers.get("x-ceto-ref")??"";he.trackEvent({name:"apiresponse",data:{eventName:"copilotApiResponse",eventInfo_path:t,eventInfo_method:e,eventInfo_status:i,eventInfo_duration:n,eventInfo_responseContentLength:o,eventInfo_cetoRef:s}})}catch{}},0)}const KN="authInitStartTime";function wQ(t,e){WN()&&Bh({feature:"api",scenario:e,errorType:"missingToken",errorMessage:`User is authenticated but no token was available for ${e==="getWssAPIUrl"?"WebSocket connection":"API request"}`,customData:JSON.stringify({path:t})})}function SQ(t){const{providerType:e,apiName:n}=t,r=Date.now().toString();Ev(KN,r),he.trackEvent({name:"health",data:{eventName:"copilotWebAuthSDKAPICall",eventInfo_apiName:n,eventInfo_success:!0,eventInfo_customData:JSON.stringify({eventInfo_providerType:e})}})}function EQ(t){const{providerType:e,apiName:n}=t,r=Date.now(),i=jh(KN);if(i){const o=parseFloat(i),s=r-o;sessionStorage.removeItem(KN),he.trackEvent({name:"health",data:{eventName:"copilotWebAuthSDKAPICall",eventInfo_apiName:n,eventInfo_success:!0,eventInfo_duration:s,eventInfo_customData:JSON.stringify({eventInfo_providerType:e})}})}}function TQ(t){const{authWorkflowAccountType:e,interactionType:n,correlationId:r,prompt:i,redirectUri:o,apiName:s}=t,a=Date.now().toString();Ci(zN,a),he.trackEvent({name:"health",data:{eventName:"copilotWebAuthSDKAPICall",eventInfo_apiName:s,eventInfo_success:!0,eventInfo_customData:JSON.stringify({eventInfo_authWorkflowAccountType:e??"unknown",eventInfo_interactionType:n??"",eventInfo_correlationId:r??"",eventInfo_prompt:i??"",eventInfo_redirectUri:o??""})}})}function IQ(t){const{authWorkflowAccountType:e,isMSA:n,authority:r,correlationId:i,interactionType:o,apiName:s}=t,a=Date.now(),c=ir(zN);let l;if(c){const p=parseFloat(c);l=a-p,ka(zN)}const d=ir($N);d==="1"&&ka($N),he.trackEvent({name:"health",data:{eventName:"copilotWebAuthSDKAPICall",eventInfo_apiName:s,eventInfo_success:!0,eventInfo_customData:JSON.stringify({eventInfo_authWorkflowAccountType:e??"unknown",eventInfo_interactionType:o,eventInfo_correlationId:i,eventInfo_authority:r,eventInfo_isMSA:n??!1,eventInfo_reAuth:d==="1"}),eventInfo_duration:l??0}})}function xQ(t){const{providerType:e,apiName:n}=t;he.trackEvent({name:"health",data:{eventName:"copilotWebAuthSDKAPICall",eventInfo_success:!0,eventInfo_apiName:n,eventInfo_customData:JSON.stringify({eventInfo_providerType:e})}})}function GN(t){const{authWorkflowAccountType:e,apiName:n,duration:r,extraInfo:i}=t;he.trackEvent({name:"health",data:{eventName:"copilotWebAuthSDKAPICall",eventInfo_success:!0,eventInfo_apiName:n,eventInfo_duration:r??0,eventInfo_customData:JSON.stringify({eventInfo_authWorkflowAccountType:e,...i})}})}function gT(t){const{authWorkflowAccountType:e,apiName:n,errorMessage:r,errorType:i,errorExtraInfo:o,errorCode:s}=t;he.trackEvent({name:"health",data:{eventName:"copilotWebAuthSDKAPICall",eventInfo_success:!1,eventInfo_apiName:n,eventInfo_errorType:i,eventInfo_errorMessage:r,eventInfo_errorCode:s,eventInfo_customData:JSON.stringify({eventInfo_authWorkflowAccountType:e??"unknown",...o})}})}function KR(t){const{authWorkflowAccountType:e,apiName:n}=t;Ci($N,"1"),he.trackEvent({name:"health",data:{eventName:"copilotWebAuthSDKAPICall",eventInfo_success:!0,eventInfo_apiName:n,eventInfo_customData:JSON.stringify({eventInfo_authWorkflowAccountType:e})}})}var cC,Gu,bg,ol;class up{constructor(e,n){Rt(this,cC);Rt(this,Gu,null);Rt(this,bg);Rt(this,ol,null);ht(this,cC,e),ht(this,bg,n)}async get(e){return(J(this,ol)===null||J(this,bg)&&(!J(this,Gu)||J(this,Gu)<Date.now()-J(this,bg)))&&(ht(this,ol,J(this,cC).call(this,e)),ht(this,Gu,Date.now())),J(this,ol)}set(e){ht(this,ol,e),ht(this,Gu,Date.now())}reset(){ht(this,ol,null),ht(this,Gu,null)}get isInstantiated(){return J(this,ol)!==null}}cC=new WeakMap,Gu=new WeakMap,bg=new WeakMap,ol=new WeakMap;const nl=new up(OAe);async function OAe(){SQ({apiName:al.INITIALIZE_START,providerType:"auth0"});const t=await K1e($fe);EQ({apiName:al.INITIALIZE_END,providerType:"auth0"});const e=new Map([["on",null],["off",null],["cache-only",null]]);async function n(o,s){const a=performance.now();try{const c=await t.getTokenSilently(o),l=performance.now();return FC({feature:"auth0SdkUsage",scenario:"getAuth0AccessToken",duration:l-a,customData:JSON.stringify({cacheMode:o.cacheMode??"on"})}),c}catch(c){c instanceof hi?(i({options:o,startTime:a,authWorkflowAccountType:s,errorType:c.error,errorMessage:c.error_description,exception:c.stack}),c.error==="login_required"&&Ls(ll,{reason:"token-expired",provider:"auth0"})):c instanceof Error?i({options:o,startTime:a,authWorkflowAccountType:s,errorType:c.name,errorMessage:c.message,exception:c.stack}):i({options:o,startTime:a,authWorkflowAccountType:s,errorType:"unknown",errorMessage:`${c}`});return}}async function r(o){const s=await t.getUser();if(!s)return;const a=s.sub&&s.sub.startsWith("google")?"google":"apple",c=o.cacheMode??"on",l=e.get(c);if(!l){const d=n(o,a);e.set(c,d);const p=await d;return e.set(c,null),p}return l}function i(o){const{startTime:s,options:a,authWorkflowAccountType:c,errorType:l,errorMessage:d,exception:p}=o;gT({authWorkflowAccountType:c,apiName:al.ACQUIRE_TOKEN_FAILURE,errorType:l,errorMessage:d,errorExtraInfo:{eventInfo_providerType:"auth0",eventInfo_exception:p??"",cacheMode:a.cacheMode??"on",duration:performance.now()-s}})}return{auth0:t,getAuth0AccessToken:r}}function qD(t){const e=t.split(".")[1];if(e===void 0)return;const n=e.replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(atob(n).split("").map(i=>`%${`00${i.charCodeAt(0).toString(16)}`.slice(-2)}`).join(""));try{const i=JSON.parse(r);return _1e.parse(i)}catch{return}}async function NAe(t,e){const{getAuth0AccessToken:n}=await nl.get(),{authorizationParams:r}=f0,i={...r,dob:t,ctry:e},o=await n({authorizationParams:i,cacheMode:"off"});if(!o)return;const s=qD(o);if(s)return s}async function MAe(){const{getAuth0AccessToken:t}=await nl.get(),e=await t(f0);if(!e)return;const n=qD(e);if(n){if(n.sub.startsWith("google"))return"Google";if(n.sub.startsWith("apple"))return"Apple"}}function LAe(t){switch(t){case"apple":return"Apple";case"google":return"Google";default:return}}const vT=new BroadcastChannel("cp.broadcast");class DAe{constructor(){Se(this,"hasTrackedRedirectError",!1);Se(this,"CODE_RE",/[?&]code=[^&]+/);Se(this,"STATE_RE",/[?&]state=[^&]+/);Se(this,"ERROR_RE",/[?&]error=[^&]+/)}async handleRedirect(){try{const{auth0:e}=await nl.get();if(!this.hasAuthParams())return null;const n=performance.now();await e.handleRedirectCallback();const r=performance.now();FC({feature:"auth0SdkUsage",scenario:"handleRedirect",duration:r-n});const i=await e.getUser();if(!i)return null;const o=i.sub?this.getTokenType(i.sub):void 0;return IQ({apiName:al.LOGIN_SUCCESS,authWorkflowAccountType:o}),vT.postMessage({eventName:"auth0.accountAdded"}),{id:i.sub,tenantId:crypto.randomUUID(),provider:"auth0",accountType:this.getAccountType(i.sub)}}catch(e){this.trackRedirectErrorOncePerSession(e)}return null}async maybeInitializeAccountWithToken(){const{auth0:e,getAuth0AccessToken:n}=await nl.get(),r=await n(f0);if(!r)return null;const i=await e.getUser();if(!i)return null;const o=i.sub;return{userAccount:{id:o,tenantId:crypto.randomUUID(),provider:"auth0",accountType:this.getAccountType(o)},authToken:{accessToken:r,tokenType:this.getTokenType(o)}}}async logIn(e){const{connection:n}=e;if(!n)throw new Error("connection in LoginOpts are required");const{auth0:r}=await nl.get();return TQ({apiName:al.LOGIN_START,authWorkflowAccountType:e.connection??void 0}),r.loginWithRedirect({authorizationParams:{...Wfe.authorizationParams,connection:this.getConnectionFromTokenType(n)}})}async logOut(){const{auth0:e}=await nl.get(),n=await e.getUser(),r=n&&n.sub?this.getTokenType(n.sub):void 0;try{await e.logout({logoutParams:{returnTo:window.location.origin}}),vT.postMessage({eventName:"auth0.accountRemoved"}),xQ({apiName:al.LOGOUT_SUCCESS,providerType:"auth0"})}catch(i){gT({authWorkflowAccountType:r,apiName:al.LOGOUT_FAILURE,errorMessage:`${i}`,errorExtraInfo:{eventInfo_providerType:"auth0"}}),console.error("Auth0 logout failed:",i)}}async getAuthToken(){try{const{auth0:e,getAuth0AccessToken:n}=await nl.get(),r=await n(f0);if(!r)return;const i=await e.getUser();if(i){const o=i.sub,s=this.getTokenType(o);return{accessToken:r,tokenType:s}}}catch{return}}async getUserInfo(){const{auth0:e}=await nl.get(),n=await e.getUser();if(n)return{mail:n.email??"",givenName:n.given_name??"",surname:n.surname??"",imgSrc:n.picture,isStudent:!1}}async getUserInfoFromToken(e){const n=qD(e);if(!n)return;const{email:r,name:i}=n;return{mail:r,givenName:i.split(" ")[0]??"",surname:"",imgSrc:"",isStudent:!1}}supportsTokenType(e){return e==="apple"||e==="google"}getTokenType(e){return e.startsWith("google")?"google":"apple"}getAccountType(e){return e.startsWith("google")?"Google":"Apple"}getConnectionFromTokenType(e){return e==="apple"?"apple":"google-oauth2"}hasAuthParams(e=window.location.search){return(this.CODE_RE.test(e)||this.ERROR_RE.test(e))&&this.STATE_RE.test(e)}trackRedirectErrorOncePerSession(e){this.hasTrackedRedirectError||(he.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"auth0HandleRedirectPromise",eventInfo_details:"Error handling redirect promise",eventInfo_errorMessage:`${e}`}}),gT({apiName:al.LOGIN_FAILURE,errorExtraInfo:{eventInfo_providerType:"auth0"},errorMessage:`${e}`})),this.hasTrackedRedirectError=!0}}var qN=function(t,e){return qN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},qN(t,e)};function TKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");qN(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var i9=function(){return i9=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},i9.apply(this,arguments)};function IKe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Dn(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(d){try{l(r.next(d))}catch(p){s(p)}}function c(d){try{l(r.throw(d))}catch(p){s(p)}}function l(d){d.done?o(d.value):i(d.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function xKe(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(d){return c([l,d])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(d){l=[6,d],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function AKe(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function kKe(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function RKe(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var qo;(function(t){t.GET="GET",t.PATCH="PATCH",t.POST="POST",t.PUT="PUT",t.DELETE="DELETE"})(qo||(qo={}));const jAe="v1.0",FAe="https://graph.microsoft.com/",UAe=new Set(["graph.microsoft.com","graph.microsoft.us","dod-graph.microsoft.us","graph.microsoft.de","microsoftgraph.chinacloudapi.cn","canary.graph.microsoft.com"]);class Vh extends Error{static setGraphClientError(e){let n;return e instanceof Error?n=e:(n=new Vh,n.customError=e),n}constructor(e){super(e),Object.setPrototypeOf(this,Vh.prototype)}}const BAe=["$select","$expand","$orderby","$filter","$top","$skip","$skipToken","$count"],VAe=t=>{const e=o=>o.replace(/\/+$/,""),n=o=>o.replace(/^\/+/,""),r=(o,s)=>[e(o),n(s)].join("/");return Array.prototype.slice.call(t).reduce(r)},GR=t=>{const e=t&&t.constructor&&t.constructor.name;if(e==="Buffer"||e==="Blob"||e==="File"||e==="FormData"||typeof t=="string")return t;if(e==="ArrayBuffer")t=Buffer.from(t);else if(e==="Int8Array"||e==="Int16Array"||e==="Int32Array"||e==="Uint8Array"||e==="Uint16Array"||e==="Uint32Array"||e==="Uint8ClampedArray"||e==="Float32Array"||e==="Float64Array"||e==="DataView")t=Buffer.from(t.buffer);else try{t=JSON.stringify(t)}catch{throw new Error("Unable to stringify the content")}return t},AQ=t=>RQ(t),kQ=(t,e)=>(e.forEach(n=>HAe(n)),RQ(t,e)),RQ=(t,e=UAe)=>{if(t=t.toLowerCase(),t.indexOf("https://")!==-1){t=t.replace("https://","");const n=t.indexOf(":"),r=t.indexOf("/");let i="";if(r!==-1)return n!==-1&&n<r?(i=t.substring(0,n),e.has(i)):(i=t.substring(0,r),e.has(i))}return!1},HAe=t=>{if(t.indexOf("/")!==-1)throw new Vh("Please add only hosts or hostnames to the CustomHosts config. If the url is `http://example.com:3000/`, host is `example:3000`")};class Hh{constructor(e=[]){this.middlewareOptions=new Map;for(const n of e){const r=n.constructor;this.middlewareOptions.set(r,n)}}getMiddlewareOptions(e){return this.middlewareOptions.get(e)}setMiddlewareOptions(e,n){this.middlewareOptions.set(e,n)}}const zAe=()=>{let t="";for(let e=0;e<32;e++)(e===8||e===12||e===16||e===20)&&(t+="-"),t+=Math.floor(Math.random()*16).toString(16);return t},PQ=(t,e,n)=>{let r=null;if(typeof Request<"u"&&t instanceof Request)r=t.headers.get(n);else if(typeof e<"u"&&e.headers!==void 0)if(typeof Headers<"u"&&e.headers instanceof Headers)r=e.headers.get(n);else if(e.headers instanceof Array){const i=e.headers;for(let o=0,s=i.length;o<s;o++)if(i[o][0]===n){r=i[o][1];break}}else e.headers[n]!==void 0&&(r=e.headers[n]);return r},OQ=(t,e,n,r)=>{if(typeof Request<"u"&&t instanceof Request)t.headers.set(n,r);else if(typeof e<"u")if(e.headers===void 0)e.headers=new Headers({[n]:r});else if(typeof Headers<"u"&&e.headers instanceof Headers)e.headers.set(n,r);else if(e.headers instanceof Array){let i=0;const o=e.headers.length;for(;i<o;i++){const s=e.headers[i];if(s[0]===n){s[1]=r;break}}i===o&&e.headers.push([n,r])}else Object.assign(e.headers,{[n]:r})},NQ=(t,e,n,r)=>{typeof Request<"u"&&t instanceof Request?t.headers.append(n,r):typeof e<"u"&&(e.headers===void 0?e.headers=new Headers({[n]:r}):typeof Headers<"u"&&e.headers instanceof Headers?e.headers.append(n,r):e.headers instanceof Array?e.headers.push([n,r]):e.headers===void 0?e.headers={[n]:r}:e.headers[n]===void 0?e.headers[n]=r:e.headers[n]+=`, ${r}`)},$Ae=(t,e)=>Dn(void 0,void 0,void 0,function*(){const n=e.headers.get("Content-Type")?yield e.blob():yield Promise.resolve(void 0),{method:r,headers:i,referrer:o,referrerPolicy:s,mode:a,credentials:c,cache:l,redirect:d,integrity:p,keepalive:m,signal:g}=e;return new Request(t,{method:r,headers:i,body:n,referrer:o,referrerPolicy:s,mode:a,credentials:c,cache:l,redirect:d,integrity:p,keepalive:m,signal:g})});class WAe{constructor(e,n){this.authenticationProvider=e,this.authenticationProviderOptions=n}}var Qg;(function(t){t[t.NONE=0]="NONE",t[t.REDIRECT_HANDLER_ENABLED=1]="REDIRECT_HANDLER_ENABLED",t[t.RETRY_HANDLER_ENABLED=2]="RETRY_HANDLER_ENABLED",t[t.AUTHENTICATION_HANDLER_ENABLED=4]="AUTHENTICATION_HANDLER_ENABLED"})(Qg||(Qg={}));class nd{constructor(){this.featureUsage=Qg.NONE}static updateFeatureUsageFlag(e,n){let r;e.middlewareControl instanceof Hh?r=e.middlewareControl.getMiddlewareOptions(nd):e.middlewareControl=new Hh,typeof r>"u"&&(r=new nd,e.middlewareControl.setMiddlewareOptions(nd,r)),r.setFeatureUsage(n)}setFeatureUsage(e){this.featureUsage=this.featureUsage|e}getFeatureUsage(){return this.featureUsage.toString(16)}}class Y0{constructor(e){this.authenticationProvider=e}execute(e){return Dn(this,void 0,void 0,function*(){const n=typeof e.request=="string"?e.request:e.request.url;if(AQ(n)||e.customHosts&&kQ(n,e.customHosts)){let r;e.middlewareControl instanceof Hh&&(r=e.middlewareControl.getMiddlewareOptions(WAe));let i,o;r&&(i=r.authenticationProvider,o=r.authenticationProviderOptions),i||(i=this.authenticationProvider);const a=`Bearer ${yield i.getAccessToken(o)}`;NQ(e.request,e.options,Y0.AUTHORIZATION_HEADER,a),nd.updateFeatureUsageFlag(e,Qg.AUTHENTICATION_HANDLER_ENABLED)}else e.options.headers&&delete e.options.headers[Y0.AUTHORIZATION_HEADER];return yield this.nextMiddleware.execute(e)})}setNext(e){this.nextMiddleware=e}}Y0.AUTHORIZATION_HEADER="Authorization";class KAe{execute(e){return Dn(this,void 0,void 0,function*(){e.response=yield fetch(e.request,e.options)})}}class ar{constructor(e=ar.DEFAULT_DELAY,n=ar.DEFAULT_MAX_RETRIES,r=ar.defaultShouldRetry){if(e>ar.MAX_DELAY&&n>ar.MAX_MAX_RETRIES){const i=new Error(`Delay and MaxRetries should not be more than ${ar.MAX_DELAY} and ${ar.MAX_MAX_RETRIES}`);throw i.name="MaxLimitExceeded",i}else if(e>ar.MAX_DELAY){const i=new Error(`Delay should not be more than ${ar.MAX_DELAY}`);throw i.name="MaxLimitExceeded",i}else if(n>ar.MAX_MAX_RETRIES){const i=new Error(`MaxRetries should not be more than ${ar.MAX_MAX_RETRIES}`);throw i.name="MaxLimitExceeded",i}else if(e<0&&n<0){const i=new Error("Delay and MaxRetries should not be negative");throw i.name="MinExpectationNotMet",i}else if(e<0){const i=new Error("Delay should not be negative");throw i.name="MinExpectationNotMet",i}else if(n<0){const i=new Error("MaxRetries should not be negative");throw i.name="MinExpectationNotMet",i}this.delay=Math.min(e,ar.MAX_DELAY),this.maxRetries=Math.min(n,ar.MAX_MAX_RETRIES),this.shouldRetry=r}getMaxDelay(){return ar.MAX_DELAY}}ar.DEFAULT_DELAY=3;ar.DEFAULT_MAX_RETRIES=3;ar.MAX_DELAY=180;ar.MAX_MAX_RETRIES=10;ar.defaultShouldRetry=()=>!0;class rd{constructor(e=new ar){this.options=e}isRetry(e){return rd.RETRY_STATUS_CODES.indexOf(e.status)!==-1}isBuffered(e,n){const r=typeof e=="string"?n.method:e.method;return!((r===qo.PUT||r===qo.PATCH||r===qo.POST)&&PQ(e,n,"Content-Type")==="application/octet-stream")}getDelay(e,n,r){const i=()=>Number(Math.random().toFixed(3)),o=e.headers!==void 0?e.headers.get(rd.RETRY_AFTER_HEADER):null;let s;return o!==null?Number.isNaN(Number(o))?s=Math.round((new Date(o).getTime()-Date.now())/1e3):s=Number(o):s=n>=2?this.getExponentialBackOffTime(n)+r+i():r+i(),Math.min(s,this.options.getMaxDelay()+i())}getExponentialBackOffTime(e){return Math.round(1/2*(Math.pow(2,e)-1))}sleep(e){return Dn(this,void 0,void 0,function*(){const n=e*1e3;return new Promise(r=>setTimeout(r,n))})}getOptions(e){let n;return e.middlewareControl instanceof Hh&&(n=e.middlewareControl.getMiddlewareOptions(this.options.constructor)),typeof n>"u"&&(n=Object.assign(new ar,this.options)),n}executeWithRetry(e,n,r){return Dn(this,void 0,void 0,function*(){if(yield this.nextMiddleware.execute(e),n<r.maxRetries&&this.isRetry(e.response)&&this.isBuffered(e.request,e.options)&&r.shouldRetry(r.delay,n,e.request,e.options,e.response)){++n,OQ(e.request,e.options,rd.RETRY_ATTEMPT_HEADER,n.toString());const i=this.getDelay(e.response,n,r.delay);return yield this.sleep(i),yield this.executeWithRetry(e,n,r)}else return})}execute(e){return Dn(this,void 0,void 0,function*(){const r=this.getOptions(e);return nd.updateFeatureUsageFlag(e,Qg.RETRY_HANDLER_ENABLED),yield this.executeWithRetry(e,0,r)})}setNext(e){this.nextMiddleware=e}}rd.RETRY_STATUS_CODES=[429,503,504];rd.RETRY_ATTEMPT_HEADER="Retry-Attempt";rd.RETRY_AFTER_HEADER="Retry-After";class Us{constructor(e=Us.DEFAULT_MAX_REDIRECTS,n=Us.defaultShouldRedirect){if(e>Us.MAX_MAX_REDIRECTS){const r=new Error(`MaxRedirects should not be more than ${Us.MAX_MAX_REDIRECTS}`);throw r.name="MaxLimitExceeded",r}if(e<0){const r=new Error("MaxRedirects should not be negative");throw r.name="MinExpectationNotMet",r}this.maxRedirects=e,this.shouldRedirect=n}}Us.DEFAULT_MAX_REDIRECTS=5;Us.MAX_MAX_REDIRECTS=20;Us.defaultShouldRedirect=()=>!0;let Lv=class Rf{constructor(e=new Us){this.options=e}isRedirect(e){return Rf.REDIRECT_STATUS_CODES.indexOf(e.status)!==-1}hasLocationHeader(e){return e.headers.has(Rf.LOCATION_HEADER)}getLocationHeader(e){return e.headers.get(Rf.LOCATION_HEADER)}isRelativeURL(e){return e.indexOf("://")===-1}shouldDropAuthorizationHeader(e,n){const r=/^[A-Za-z].+?:\/\/.+?(?=\/|$)/,i=r.exec(e);let o,s;i!==null&&(o=i[0]);const a=r.exec(n);return a!==null&&(s=a[0]),typeof o<"u"&&typeof s<"u"&&o!==s}updateRequestUrl(e,n){return Dn(this,void 0,void 0,function*(){n.request=typeof n.request=="string"?e:yield $Ae(e,n.request)})}getOptions(e){let n;return e.middlewareControl instanceof Hh&&(n=e.middlewareControl.getMiddlewareOptions(Us)),typeof n>"u"&&(n=Object.assign(new Us,this.options)),n}executeWithRedirect(e,n,r){return Dn(this,void 0,void 0,function*(){yield this.nextMiddleware.execute(e);const i=e.response;if(n<r.maxRedirects&&this.isRedirect(i)&&this.hasLocationHeader(i)&&r.shouldRedirect(i)){if(++n,i.status===Rf.STATUS_CODE_SEE_OTHER)e.options.method=qo.GET,delete e.options.body;else{const o=this.getLocationHeader(i);!this.isRelativeURL(o)&&this.shouldDropAuthorizationHeader(i.url,o)&&delete e.options.headers[Rf.AUTHORIZATION_HEADER],yield this.updateRequestUrl(o,e)}yield this.executeWithRedirect(e,n,r)}else return})}execute(e){return Dn(this,void 0,void 0,function*(){const r=this.getOptions(e);return e.options.redirect=Rf.MANUAL_REDIRECT,nd.updateFeatureUsageFlag(e,Qg.REDIRECT_HANDLER_ENABLED),yield this.executeWithRedirect(e,0,r)})}setNext(e){this.nextMiddleware=e}};Lv.REDIRECT_STATUS_CODES=[301,302,303,307,308];Lv.STATUS_CODE_SEE_OTHER=303;Lv.LOCATION_HEADER="Location";Lv.AUTHORIZATION_HEADER="Authorization";Lv.MANUAL_REDIRECT="manual";const GAe="3.0.7";class Yo{execute(e){return Dn(this,void 0,void 0,function*(){const n=typeof e.request=="string"?e.request:e.request.url;if(AQ(n)||e.customHosts&&kQ(n,e.customHosts)){let r=PQ(e.request,e.options,Yo.CLIENT_REQUEST_ID_HEADER);r||(r=zAe(),OQ(e.request,e.options,Yo.CLIENT_REQUEST_ID_HEADER,r));let i=`${Yo.PRODUCT_NAME}/${GAe}`,o;if(e.middlewareControl instanceof Hh&&(o=e.middlewareControl.getMiddlewareOptions(nd)),o){const s=o.getFeatureUsage();i+=` (${Yo.FEATURE_USAGE_STRING}=${s})`}NQ(e.request,e.options,Yo.SDK_VERSION_HEADER,i)}else delete e.options.headers[Yo.CLIENT_REQUEST_ID_HEADER],delete e.options.headers[Yo.SDK_VERSION_HEADER];return yield this.nextMiddleware.execute(e)})}setNext(e){this.nextMiddleware=e}}Yo.CLIENT_REQUEST_ID_HEADER="client-request-id";Yo.SDK_VERSION_HEADER="SdkVersion";Yo.PRODUCT_NAME="graph-js";Yo.FEATURE_USAGE_STRING="featureUsage";function MQ(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var o9;(function(t){t[t.MANUAL=0]="MANUAL",t[t.RANDOM=1]="RANDOM"})(o9||(o9={}));var Qa;(function(t){t.ARRAYBUFFER="arraybuffer",t.BLOB="blob",t.DOCUMENT="document",t.JSON="json",t.RAW="raw",t.STREAM="stream",t.TEXT="text"})(Qa||(Qa={}));var YN;(function(t){t.TEXT_HTML="text/html",t.TEXT_XML="text/xml",t.APPLICATION_XML="application/xml",t.APPLICATION_XHTML="application/xhtml+xml"})(YN||(YN={}));var yT;(function(t){t.TEXT_PLAIN="text/plain",t.APPLICATION_JSON="application/json"})(yT||(yT={}));var bT;(function(t){t.DOCUMENT="^(text\\/(html|xml))|(application\\/(xml|xhtml\\+xml))$",t.IMAGE="^image\\/.+"})(bT||(bT={}));class Gb{static parseDocumentResponse(e,n){return typeof DOMParser<"u"?new Promise((r,i)=>{e.text().then(o=>{try{const a=new DOMParser().parseFromString(o,n);r(a)}catch(s){i(s)}})}):Promise.resolve(e.body)}static convertResponse(e,n){return Dn(this,void 0,void 0,function*(){if(e.status===204)return Promise.resolve();let r;const i=e.headers.get("Content-type");switch(n){case Qa.ARRAYBUFFER:r=yield e.arrayBuffer();break;case Qa.BLOB:r=yield e.blob();break;case Qa.DOCUMENT:r=yield Gb.parseDocumentResponse(e,YN.TEXT_XML);break;case Qa.JSON:r=yield e.json();break;case Qa.STREAM:r=yield Promise.resolve(e.body);break;case Qa.TEXT:r=yield e.text();break;default:if(i!==null){const o=i.split(";")[0];new RegExp(bT.DOCUMENT).test(o)?r=yield Gb.parseDocumentResponse(e,o):new RegExp(bT.IMAGE).test(o)?r=e.blob():o===yT.TEXT_PLAIN?r=yield e.text():o===yT.APPLICATION_JSON?r=yield e.json():r=Promise.resolve(e.body)}else r=Promise.resolve(e.body);break}return r})}static getResponse(e,n,r){return Dn(this,void 0,void 0,function*(){if(n===Qa.RAW)return Promise.resolve(e);{const i=yield Gb.convertResponse(e,n);if(e.ok)if(typeof r=="function")r(null,i);else return i;else throw i}})}}class qAe{constructor(e){this.provider=e}getAccessToken(){return Dn(this,void 0,void 0,function*(){return new Promise((e,n)=>{this.provider((r,i)=>Dn(this,void 0,void 0,function*(){if(i)e(i);else{if(!r){const s="Access token is undefined or empty.						Please provide a valid token.						For more help - https://github.com/microsoftgraph/msgraph-sdk-javascript/blob/dev/docs/CustomAuthenticationProvider.md";r=new Vh(s)}const o=yield Vh.setGraphClientError(r);n(o)}}))})})}}class qb extends Error{constructor(e=-1,n,r){super(n||r&&r.message),Object.setPrototypeOf(this,qb.prototype),this.statusCode=e,this.code=null,this.requestId=null,this.date=new Date,this.body=null,this.stack=r?r.stack:this.stack}}class CT{static constructError(e,n,r){const i=new qb(n,"",e);return e.name!==void 0&&(i.code=e.name),i.body=e.toString(),i.date=new Date,i.headers=r==null?void 0:r.headers,i}static constructErrorFromResponse(e,n,r){const i=e.error,o=new qb(n,i.message);return o.code=i.code,i.innerError!==void 0&&(o.requestId=i.innerError["request-id"],o.date=new Date(i.innerError.date)),o.body=JSON.stringify(i),o.headers=r==null?void 0:r.headers,o}static getError(e=null,n=-1,r,i){return Dn(this,void 0,void 0,function*(){let o;if(e&&e.error?o=CT.constructErrorFromResponse(e,n,i):e instanceof Error?o=CT.constructError(e,n,i):(o=new qb(n),o.body=e),typeof r=="function")r(o,null);else return o})}}class YAe{constructor(e,n,r){this.parsePath=i=>{if(i.indexOf("https://")!==-1){i=i.replace("https://","");const s=i.indexOf("/");s!==-1&&(this.urlComponents.host="https://"+i.substring(0,s),i=i.substring(s+1,i.length));const a=i.indexOf("/");a!==-1&&(this.urlComponents.version=i.substring(0,a),i=i.substring(a+1,i.length))}i.charAt(0)==="/"&&(i=i.substr(1));const o=i.indexOf("?");if(o===-1)this.urlComponents.path=i;else{this.urlComponents.path=i.substr(0,o);const s=i.substring(o+1,i.length).split("&");for(const a of s)this.parseQueryParameter(a)}},this.httpClient=e,this.config=n,this.urlComponents={host:this.config.baseUrl,version:this.config.defaultVersion,oDataQueryParams:{},otherURLQueryParams:{},otherURLQueryOptions:[]},this._headers={},this._options={},this._middlewareOptions=[],this.parsePath(r)}addCsvQueryParameter(e,n,r){this.urlComponents.oDataQueryParams[e]=this.urlComponents.oDataQueryParams[e]?this.urlComponents.oDataQueryParams[e]+",":"";let i=[];r.length>1&&typeof n=="string"?i=Array.prototype.slice.call(r):typeof n=="string"?i.push(n):i=i.concat(n),this.urlComponents.oDataQueryParams[e]+=i.join(",")}buildFullUrl(){const e=VAe([this.urlComponents.host,this.urlComponents.version,this.urlComponents.path])+this.createQueryString();return this.config.debugLogging&&console.log(e),e}createQueryString(){const e=this.urlComponents,n=[];if(Object.keys(e.oDataQueryParams).length!==0)for(const r in e.oDataQueryParams)Object.prototype.hasOwnProperty.call(e.oDataQueryParams,r)&&n.push(r+"="+e.oDataQueryParams[r]);if(Object.keys(e.otherURLQueryParams).length!==0)for(const r in e.otherURLQueryParams)Object.prototype.hasOwnProperty.call(e.otherURLQueryParams,r)&&n.push(r+"="+e.otherURLQueryParams[r]);if(e.otherURLQueryOptions.length!==0)for(const r of e.otherURLQueryOptions)n.push(r);return n.length>0?"?"+n.join("&"):""}parseQueryParameter(e){if(typeof e=="string")if(e.charAt(0)==="?"&&(e=e.substring(1)),e.indexOf("&")!==-1){const n=e.split("&");for(const r of n)this.parseQueryParamenterString(r)}else this.parseQueryParamenterString(e);else if(e.constructor===Object)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&this.setURLComponentsQueryParamater(n,e[n]);return this}parseQueryParamenterString(e){if(this.isValidQueryKeyValuePair(e)){const n=e.indexOf("="),r=e.substring(0,n),i=e.substring(n+1);this.setURLComponentsQueryParamater(r,i)}else this.urlComponents.otherURLQueryOptions.push(e)}setURLComponentsQueryParamater(e,n){if(BAe.indexOf(e)!==-1){const r=this.urlComponents.oDataQueryParams[e],i=r&&(e==="$expand"||e==="$select"||e==="$orderby");this.urlComponents.oDataQueryParams[e]=i?r+","+n:n}else this.urlComponents.otherURLQueryParams[e]=n}isValidQueryKeyValuePair(e){const n=e.indexOf("=");return!(n===-1||e.indexOf("(")!==-1&&e.indexOf("(")<n)}updateRequestOptions(e){const n=Object.assign({},e.headers);if(this.config.fetchOptions!==void 0){const r=Object.assign({},this.config.fetchOptions);Object.assign(e,r),typeof this.config.fetchOptions.headers!==void 0&&(e.headers=Object.assign({},this.config.fetchOptions.headers))}Object.assign(e,this._options),e.headers!==void 0&&Object.assign(n,e.headers),Object.assign(n,this._headers),e.headers=n}send(e,n,r){var i;return Dn(this,void 0,void 0,function*(){let o;const s=new Hh(this._middlewareOptions);this.updateRequestOptions(n);const a=(i=this.config)===null||i===void 0?void 0:i.customHosts;try{return o=(yield this.httpClient.sendRequest({request:e,options:n,middlewareControl:s,customHosts:a})).response,yield Gb.getResponse(o,this._responseType,r)}catch(c){if(c instanceof Vh)throw c;let l;throw o&&(l=o.status),yield CT.getError(c,l,r,o)}})}setHeaderContentType(){if(!this._headers){this.header("Content-Type","application/json");return}const e=Object.keys(this._headers);for(const n of e)if(n.toLowerCase()==="content-type")return;this.header("Content-Type","application/json")}header(e,n){return this._headers[e]=n,this}headers(e){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this._headers[n]=e[n]);return this}option(e,n){return this._options[e]=n,this}options(e){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this._options[n]=e[n]);return this}middlewareOptions(e){return this._middlewareOptions=e,this}version(e){return this.urlComponents.version=e,this}responseType(e){return this._responseType=e,this}select(e){return this.addCsvQueryParameter("$select",e,arguments),this}expand(e){return this.addCsvQueryParameter("$expand",e,arguments),this}orderby(e){return this.addCsvQueryParameter("$orderby",e,arguments),this}filter(e){return this.urlComponents.oDataQueryParams.$filter=e,this}search(e){return this.urlComponents.oDataQueryParams.$search=e,this}top(e){return this.urlComponents.oDataQueryParams.$top=e,this}skip(e){return this.urlComponents.oDataQueryParams.$skip=e,this}skipToken(e){return this.urlComponents.oDataQueryParams.$skipToken=e,this}count(e=!0){return this.urlComponents.oDataQueryParams.$count=e.toString(),this}query(e){return this.parseQueryParameter(e)}get(e){return Dn(this,void 0,void 0,function*(){const n=this.buildFullUrl(),r={method:qo.GET};return yield this.send(n,r,e)})}post(e,n){return Dn(this,void 0,void 0,function*(){const r=this.buildFullUrl(),i={method:qo.POST,body:GR(e)};return(e&&e.constructor&&e.constructor.name)==="FormData"?i.headers={}:(this.setHeaderContentType(),i.headers=this._headers),yield this.send(r,i,n)})}create(e,n){return Dn(this,void 0,void 0,function*(){return yield this.post(e,n)})}put(e,n){return Dn(this,void 0,void 0,function*(){const r=this.buildFullUrl();this.setHeaderContentType();const i={method:qo.PUT,body:GR(e)};return yield this.send(r,i,n)})}patch(e,n){return Dn(this,void 0,void 0,function*(){const r=this.buildFullUrl();this.setHeaderContentType();const i={method:qo.PATCH,body:GR(e)};return yield this.send(r,i,n)})}update(e,n){return Dn(this,void 0,void 0,function*(){return yield this.patch(e,n)})}delete(e){return Dn(this,void 0,void 0,function*(){const n=this.buildFullUrl(),r={method:qo.DELETE};return yield this.send(n,r,e)})}del(e){return Dn(this,void 0,void 0,function*(){return yield this.delete(e)})}getStream(e){return Dn(this,void 0,void 0,function*(){const n=this.buildFullUrl(),r={method:qo.GET};return this.responseType(Qa.STREAM),yield this.send(n,r,e)})}putStream(e,n){return Dn(this,void 0,void 0,function*(){const r=this.buildFullUrl(),i={method:qo.PUT,headers:{"Content-Type":"application/octet-stream"},body:e};return yield this.send(r,i,n)})}}class LQ{constructor(...e){if(!e||!e.length){const n=new Error;throw n.name="InvalidMiddlewareChain",n.message="Please provide a default middleware chain or custom middleware chain",n}this.setMiddleware(...e)}setMiddleware(...e){e.length>1?this.parseMiddleWareArray(e):this.middleware=e[0]}parseMiddleWareArray(e){e.forEach((n,r)=>{r<e.length-1&&n.setNext(e[r+1])}),this.middleware=e[0]}sendRequest(e){return Dn(this,void 0,void 0,function*(){if(typeof e.request=="string"&&e.options===void 0){const n=new Error;throw n.name="InvalidRequestOptions",n.message="Unable to execute the middleware, Please provide valid options for a request",n}return yield this.middleware.execute(e),e})}}const QAe=()=>typeof process=="object"&&typeof MQ=="function";class YD{static createWithAuthenticationProvider(e){const n=new Y0(e),r=new rd(new ar),i=new Yo,o=new KAe;if(n.setNext(r),QAe()){const s=new Lv(new Us);r.setNext(s),s.setNext(i)}else r.setNext(i);return i.setNext(o),YD.createWithMiddleware(n)}static createWithMiddleware(...e){return new LQ(...e)}}const XAe=()=>{if(typeof Promise>"u"&&typeof fetch>"u"){const t=new Error("Library cannot function without Promise and fetch. So, please provide polyfill for them.");throw t.name="PolyFillNotAvailable",t}else if(typeof Promise>"u"){const t=new Error("Library cannot function without Promise. So, please provide polyfill for it.");throw t.name="PolyFillNotAvailable",t}else if(typeof fetch>"u"){const t=new Error("Library cannot function without fetch. So, please provide polyfill for it.");throw t.name="PolyFillNotAvailable",t}return!0};class _T{static init(e){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=r==="authProvider"?new qAe(e[r]):e[r]);return _T.initWithMiddleware(n)}static initWithMiddleware(e){return new _T(e)}constructor(e){this.config={baseUrl:FAe,debugLogging:!1,defaultVersion:jAe},XAe();for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(this.config[r]=e[r]);let n;if(e.authProvider!==void 0&&e.middleware!==void 0){const r=new Error;throw r.name="AmbiguityInInitialization",r.message="Unable to Create Client, Please provide either authentication provider for default middleware chain or custom middleware chain not both",r}else if(e.authProvider!==void 0)n=YD.createWithAuthenticationProvider(e.authProvider);else if(e.middleware!==void 0)n=new LQ(...[].concat(e.middleware));else{const r=new Error;throw r.name="InvalidMiddlewareChain",r.message="Unable to Create Client, Please provide either authentication provider for default middleware chain or custom middleware chain",r}this.httpClient=n}api(e){return new YAe(this.httpClient,this.config,e)}}const ZAe=["CAREERCOACH_STUDENTS","EXCHANGESTANDARD_STUDENT","M365EDU_A3_STUDENT","M365EDU_A3_STUUSEBNFT","M365EDU_A3_STUUSEBNFT_RPA1","M365EDU_A5_STUDENT","M365EDU_A5_STUUSEBNFT","M365EDU_A5_NOPSTNCONF_STUUSEBNFT","OFFICESUBSCRIPTION_STUDENT","ATP_ENTERPRISE_STUDENT","ATP_ENTERPRISE_STUDENTS_USE_BENEFIT","POWER_BI_STANDARD_STUDENT","MCOEV_STUDENT","MEE_STUDENT","STANDARDWOFFPACK_STUDENT","STANDARDWOFFPACK_IW_STUDENT","ENTERPRISEPACKPLUS_STUDENT","ENTERPRISEPREMIUM_STUDENT","WIN10_ENT_A3_STU","MCO_TEAMS_EDU_HS_STUDENT","PROJECT_PROFESSIONAL_STUDENT","PROJECT_P1_STUDENT"];function JAe(t){return _T.init({authProvider:e=>{e(null,t)}})}async function qR(t,e){const n=performance.now(),r=await e;return he.trackEvent({name:"system",data:{eventName:"externalApiResponse",eventInfo_id:t,eventInfo_duration:performance.now()-n,eventInfo_service:"microsoft-graph"}}),r}async function eke(t){return t.api(cL.graphMeApiSuffix).get()}async function tke(t){try{const e=await t.api(cL.graphMeImageApiSuffix).get();return URL.createObjectURL(e)}catch{return}}async function nke(t){const e=cn(Nv);if(Kt("aad-student")&&e)try{const n=await t.api(cL.graphMeLicenseDetails).get();return n&&n.value.some(i=>i.skuPartNumber&&ZAe.includes(i.skuPartNumber))}catch(n){return console.error("Error checking student status:",n),!1}else return!1}async function s9(t){const e=JAe(t),[n,r,i]=await Promise.all([qR("user",eke(e)),qR("user_photo",tke(e)),qR("is_student",nke(e))]);return{...n,imgSrc:r,isStudent:i}}/*! @azure/msal-common v14.15.0 2024-09-20 */const ke={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},zw={CLIENT_ERROR_RANGE_START:400,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR_RANGE_START:500,SERVER_ERROR_RANGE_END:599},Dv=[ke.OPENID_SCOPE,ke.PROFILE_SCOPE,ke.OFFLINE_ACCESS_SCOPE],a9=[...Dv,ke.EMAIL_SCOPE],fc={CONTENT_TYPE:"Content-Type",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},ti={ID_TOKEN:"idtoken",CLIENT_INFO:"client.info",ADAL_ID_TOKEN:"adal.idtoken",ERROR:"error",ERROR_DESC:"error.description",ACTIVE_ACCOUNT:"active-account",ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},id={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},$w={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},si={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},c9={PLAIN:"plain",S256:"S256"},UC={QUERY:"query",FRAGMENT:"fragment"},rke={...UC},DQ={AUTHORIZATION_CODE_GRANT:"authorization_code",REFRESH_TOKEN_GRANT:"refresh_token"},Ww={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",GENERIC_ACCOUNT_TYPE:"Generic"},Oi={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},Ft={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},QD="appmetadata",ike="client_info",Yb="1",wT={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},Wo={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},di={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},Nn={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},Qb={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},l9={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},u9={username:"username",password:"password"},Kw={httpSuccess:200,httpBadRequest:400},om={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},YR={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},Mu={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},oke={Pop:"pop"},ske=300;/*! @azure/msal-common v14.15.0 2024-09-20 */const XD="unexpected_error",ake="post_request_failed";/*! @azure/msal-common v14.15.0 2024-09-20 */const d9={[XD]:"Unexpected error in authentication.",[ake]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class Vn extends Error{constructor(e,n,r){const i=n?`${e}: ${n}`:e;super(i),Object.setPrototypeOf(this,Vn.prototype),this.errorCode=e||ke.EMPTY_STRING,this.errorMessage=n||ke.EMPTY_STRING,this.subError=r||ke.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function jQ(t,e){return new Vn(t,e?`${d9[t]} ${e}`:d9[t])}/*! @azure/msal-common v14.15.0 2024-09-20 */const ZD="client_info_decoding_error",FQ="client_info_empty_error",JD="token_parsing_error",UQ="null_or_empty_token",Jc="endpoints_resolution_error",BQ="network_error",VQ="openid_config_error",HQ="hash_not_deserialized",Xg="invalid_state",zQ="state_mismatch",ST="state_not_found",$Q="nonce_mismatch",e5="auth_time_not_found",WQ="max_age_transpired",cke="multiple_matching_tokens",lke="multiple_matching_accounts",KQ="multiple_matching_appMetadata",GQ="request_cannot_be_made",qQ="cannot_remove_empty_scope",YQ="cannot_append_scopeset",QN="empty_input_scopeset",uke="device_code_polling_cancelled",dke="device_code_expired",fke="device_code_unknown_error",t5="no_account_in_silent_request",QQ="invalid_cache_record",n5="invalid_cache_environment",XN="no_account_found",ZN="no_crypto_object",JN="unexpected_credential_type",hke="invalid_assertion",pke="invalid_client_credential",ul="token_refresh_required",mke="user_timeout_reached",XQ="token_claims_cnf_required_for_signedjwt",ZQ="authorization_code_missing_from_server_response",JQ="binding_key_not_removed",eX="end_session_endpoint_not_supported",r5="key_id_missing",gke="no_network_connectivity",vke="user_canceled",yke="missing_tenant_id_error",en="method_not_implemented",bke="nested_app_auth_bridge_disabled";/*! @azure/msal-common v14.15.0 2024-09-20 */const f9={[ZD]:"The client info could not be parsed/decoded correctly",[FQ]:"The client info was empty",[JD]:"Token cannot be parsed",[UQ]:"The token is null or empty",[Jc]:"Endpoints cannot be resolved",[BQ]:"Network request failed",[VQ]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[HQ]:"The hash parameters could not be deserialized",[Xg]:"State was not the expected format",[zQ]:"State mismatch error",[ST]:"State not found",[$Q]:"Nonce mismatch error",[e5]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[WQ]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[cke]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[lke]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[KQ]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[GQ]:"Token request cannot be made without authorization code or refresh token.",[qQ]:"Cannot remove null or empty scope from ScopeSet",[YQ]:"Cannot append ScopeSet",[QN]:"Empty input ScopeSet cannot be processed",[uke]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[dke]:"Device code is expired.",[fke]:"Device code stopped polling for unknown reasons.",[t5]:"Please pass an account object, silent flow is not supported without account information",[QQ]:"Cache record object was null or undefined.",[n5]:"Invalid environment when attempting to create cache entry",[XN]:"No account found in cache for given key.",[ZN]:"No crypto object detected.",[JN]:"Unexpected credential type.",[hke]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[pke]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[ul]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[mke]:"User defined timeout for device code polling reached",[XQ]:"Cannot generate a POP jwt if the token_claims are not populated",[ZQ]:"Server response does not contain an authorization code to proceed",[JQ]:"Could not remove the credential's binding key from storage.",[eX]:"The provided authority does not support logout",[r5]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[gke]:"No network connectivity. Check your internet connection.",[vke]:"User cancelled the flow.",[yke]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[en]:"This method has not been implemented",[bke]:"The nested app auth bridge is disabled"};class rx extends Vn{constructor(e,n){super(e,n?`${f9[e]}: ${n}`:f9[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,rx.prototype)}}function $e(t,e){return new rx(t,e)}/*! @azure/msal-common v14.15.0 2024-09-20 */const ET={createNewGuid:()=>{throw $e(en)},base64Decode:()=>{throw $e(en)},base64Encode:()=>{throw $e(en)},base64UrlEncode:()=>{throw $e(en)},encodeKid:()=>{throw $e(en)},async getPublicKeyThumbprint(){throw $e(en)},async removeTokenBindingKey(){throw $e(en)},async clearKeystore(){throw $e(en)},async signJwt(){throw $e(en)},async hashString(){throw $e(en)}};/*! @azure/msal-common v14.15.0 2024-09-20 */var tr;(function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Info=2]="Info",t[t.Verbose=3]="Verbose",t[t.Trace=4]="Trace"})(tr||(tr={}));class Ol{constructor(e,n,r){this.level=tr.Info;const i=()=>{},o=e||Ol.createDefaultLoggerOptions();this.localCallback=o.loggerCallback||i,this.piiLoggingEnabled=o.piiLoggingEnabled||!1,this.level=typeof o.logLevel=="number"?o.logLevel:tr.Info,this.correlationId=o.correlationId||ke.EMPTY_STRING,this.packageName=n||ke.EMPTY_STRING,this.packageVersion=r||ke.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:tr.Info}}clone(e,n,r){return new Ol({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},e,n)}logMessage(e,n){if(n.logLevel>this.level||!this.piiLoggingEnabled&&n.containsPii)return;const o=`${`[${new Date().toUTCString()}] : [${n.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${tr[n.logLevel]} - ${e}`;this.executeCallback(n.logLevel,o,n.containsPii||!1)}executeCallback(e,n,r){this.localCallback&&this.localCallback(e,n,r)}error(e,n){this.logMessage(e,{logLevel:tr.Error,containsPii:!1,correlationId:n||ke.EMPTY_STRING})}errorPii(e,n){this.logMessage(e,{logLevel:tr.Error,containsPii:!0,correlationId:n||ke.EMPTY_STRING})}warning(e,n){this.logMessage(e,{logLevel:tr.Warning,containsPii:!1,correlationId:n||ke.EMPTY_STRING})}warningPii(e,n){this.logMessage(e,{logLevel:tr.Warning,containsPii:!0,correlationId:n||ke.EMPTY_STRING})}info(e,n){this.logMessage(e,{logLevel:tr.Info,containsPii:!1,correlationId:n||ke.EMPTY_STRING})}infoPii(e,n){this.logMessage(e,{logLevel:tr.Info,containsPii:!0,correlationId:n||ke.EMPTY_STRING})}verbose(e,n){this.logMessage(e,{logLevel:tr.Verbose,containsPii:!1,correlationId:n||ke.EMPTY_STRING})}verbosePii(e,n){this.logMessage(e,{logLevel:tr.Verbose,containsPii:!0,correlationId:n||ke.EMPTY_STRING})}trace(e,n){this.logMessage(e,{logLevel:tr.Trace,containsPii:!1,correlationId:n||ke.EMPTY_STRING})}tracePii(e,n){this.logMessage(e,{logLevel:tr.Trace,containsPii:!0,correlationId:n||ke.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}/*! @azure/msal-common v14.15.0 2024-09-20 */const tX="@azure/msal-common",i5="14.15.0";/*! @azure/msal-common v14.15.0 2024-09-20 */const Q0={None:"none",AzurePublic:"https://login.microsoftonline.com",AzurePpe:"https://login.windows-ppe.net"};/*! @azure/msal-common v14.15.0 2024-09-20 */function dp(t,e){const n=Cke(t);try{const r=e(n);return JSON.parse(r)}catch{throw $e(JD)}}function Cke(t){if(!t)throw $e(UQ);const n=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!n||n.length<4)throw $e(JD);return n[2]}function nX(t,e){if(e===0||Date.now()-3e5>t+e)throw $e(WQ)}/*! @azure/msal-common v14.15.0 2024-09-20 */function Ic(){return Math.round(new Date().getTime()/1e3)}function eM(t,e){const n=Number(t)||0;return Ic()+e>n}function _ke(t){return Number(t)>Ic()}/*! @azure/msal-common v14.15.0 2024-09-20 */function jm(t){return[wke(t),Ske(t),Eke(t),Tke(t),Ike(t)].join(Oi.CACHE_KEY_SEPARATOR).toLowerCase()}function ix(t,e,n,r,i){return{credentialType:Ft.ID_TOKEN,homeAccountId:t,environment:e,clientId:r,secret:n,realm:i}}function ox(t,e,n,r,i,o,s,a,c,l,d,p,m,g,C){var S,w;const _={homeAccountId:t,credentialType:Ft.ACCESS_TOKEN,secret:n,cachedAt:Ic().toString(),expiresOn:s.toString(),extendedExpiresOn:a.toString(),environment:e,clientId:r,realm:i,target:o,tokenType:d||Nn.BEARER};if(p&&(_.userAssertionHash=p),l&&(_.refreshOn=l.toString()),g&&(_.requestedClaims=g,_.requestedClaimsHash=C),((S=_.tokenType)==null?void 0:S.toLowerCase())!==Nn.BEARER.toLowerCase())switch(_.credentialType=Ft.ACCESS_TOKEN_WITH_AUTH_SCHEME,_.tokenType){case Nn.POP:const T=dp(n,c);if(!((w=T==null?void 0:T.cnf)!=null&&w.kid))throw $e(XQ);_.keyId=T.cnf.kid;break;case Nn.SSH:_.keyId=m}return _}function rX(t,e,n,r,i,o,s){const a={credentialType:Ft.REFRESH_TOKEN,homeAccountId:t,environment:e,clientId:r,secret:n};return o&&(a.userAssertionHash=o),i&&(a.familyId=i),s&&(a.expiresOn=s.toString()),a}function o5(t){return t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("credentialType")&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("secret")}function h9(t){return t?o5(t)&&t.hasOwnProperty("realm")&&t.hasOwnProperty("target")&&(t.credentialType===Ft.ACCESS_TOKEN||t.credentialType===Ft.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function p9(t){return t?o5(t)&&t.hasOwnProperty("realm")&&t.credentialType===Ft.ID_TOKEN:!1}function m9(t){return t?o5(t)&&t.credentialType===Ft.REFRESH_TOKEN:!1}function wke(t){return[t.homeAccountId,t.environment].join(Oi.CACHE_KEY_SEPARATOR).toLowerCase()}function Ske(t){const e=t.credentialType===Ft.REFRESH_TOKEN&&t.familyId||t.clientId;return[t.credentialType,e,t.realm||""].join(Oi.CACHE_KEY_SEPARATOR).toLowerCase()}function Eke(t){return(t.target||"").toLowerCase()}function Tke(t){return(t.requestedClaimsHash||"").toLowerCase()}function Ike(t){return t.tokenType&&t.tokenType.toLowerCase()!==Nn.BEARER.toLowerCase()?t.tokenType.toLowerCase():""}function xke(t,e){const n=t.indexOf(di.CACHE_KEY)===0;let r=!0;return e&&(r=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),n&&r}function Ake(t,e){let n=!1;t&&(n=t.indexOf(Qb.THROTTLING_PREFIX)===0);let r=!0;return e&&(r=e.hasOwnProperty("throttleTime")),n&&r}function kke({environment:t,clientId:e}){return[QD,t,e].join(Oi.CACHE_KEY_SEPARATOR).toLowerCase()}function Rke(t,e){return e?t.indexOf(QD)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}function Pke(t,e){return e?t.indexOf(wT.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}function g9(){return Ic()+wT.REFRESH_TIME_SECONDS}function Gw(t,e,n){t.authorization_endpoint=e.authorization_endpoint,t.token_endpoint=e.token_endpoint,t.end_session_endpoint=e.end_session_endpoint,t.issuer=e.issuer,t.endpointsFromNetwork=n,t.jwks_uri=e.jwks_uri}function QR(t,e,n){t.aliases=e.aliases,t.preferred_cache=e.preferred_cache,t.preferred_network=e.preferred_network,t.aliasesFromNetwork=n}function v9(t){return t.expiresAt<=Ic()}/*! @azure/msal-common v14.15.0 2024-09-20 */const iX="redirect_uri_empty",Oke="claims_request_parsing_error",oX="authority_uri_insecure",Sb="url_parse_error",sX="empty_url_error",aX="empty_input_scopes_error",cX="invalid_prompt_value",s5="invalid_claims",lX="token_request_empty",uX="logout_request_empty",dX="invalid_code_challenge_method",a5="pkce_params_missing",c5="invalid_cloud_discovery_metadata",fX="invalid_authority_metadata",hX="untrusted_authority",sx="missing_ssh_jwk",pX="missing_ssh_kid",Nke="missing_nonce_authentication_header",Mke="invalid_authentication_header",mX="cannot_set_OIDCOptions",gX="cannot_allow_native_broker",vX="authority_mismatch";/*! @azure/msal-common v14.15.0 2024-09-20 */const Lke={[iX]:"A redirect URI is required for all calls, and none has been set.",[Oke]:"Could not parse the given claims request object.",[oX]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Sb]:"URL could not be parsed into appropriate segments.",[sX]:"URL was empty or null.",[aX]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[cX]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[s5]:"Given claims parameter must be a stringified JSON object.",[lX]:"Token request was empty and not found in cache.",[uX]:"The logout request was null or undefined.",[dX]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[a5]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[c5]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[fX]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[hX]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[sx]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[pX]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[Nke]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[Mke]:"Invalid authentication header provided",[mX]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[gX]:"Cannot set allowNativeBroker parameter to true when not in AAD protocol mode.",[vX]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class l5 extends Vn{constructor(e){super(e,Lke[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,l5.prototype)}}function jn(t){return new l5(t)}/*! @azure/msal-common v14.15.0 2024-09-20 */class Ea{static isEmptyObj(e){if(e)try{const n=JSON.parse(e);return Object.keys(n).length===0}catch{}return!0}static startsWith(e,n){return e.indexOf(n)===0}static endsWith(e,n){return e.length>=n.length&&e.lastIndexOf(n)===e.length-n.length}static queryStringToObject(e){const n={},r=e.split("&"),i=o=>decodeURIComponent(o.replace(/\+/g," "));return r.forEach(o=>{if(o.trim()){const[s,a]=o.split(/=(.+)/g,2);s&&a&&(n[i(s)]=i(a))}}),n}static trimArrayEntries(e){return e.map(n=>n.trim())}static removeEmptyStringsFromArray(e){return e.filter(n=>!!n)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,n){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(n)}}/*! @azure/msal-common v14.15.0 2024-09-20 */class Ar{constructor(e){const n=e?Ea.trimArrayEntries([...e]):[],r=n?Ea.removeEmptyStringsFromArray(n):[];this.validateInputScopes(r),this.scopes=new Set,r.forEach(i=>this.scopes.add(i))}static fromString(e){const r=(e||ke.EMPTY_STRING).split(" ");return new Ar(r)}static createSearchScopes(e){const n=new Ar(e);return n.containsOnlyOIDCScopes()?n.removeScope(ke.OFFLINE_ACCESS_SCOPE):n.removeOIDCScopes(),n}validateInputScopes(e){if(!e||e.length<1)throw jn(aX)}containsScope(e){const n=this.printScopesLowerCase().split(" "),r=new Ar(n);return e?r.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(n=>this.containsScope(n))}containsOnlyOIDCScopes(){let e=0;return a9.forEach(n=>{this.containsScope(n)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(n=>this.appendScope(n))}catch{throw $e(YQ)}}removeScope(e){if(!e)throw $e(qQ);this.scopes.delete(e.trim())}removeOIDCScopes(){a9.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw $e(QN);const n=new Set;return e.scopes.forEach(r=>n.add(r.toLowerCase())),this.scopes.forEach(r=>n.add(r.toLowerCase())),n}intersectingScopeSets(e){if(!e)throw $e(QN);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const n=this.unionScopeSets(e),r=e.getScopeCount(),i=this.getScopeCount();return n.size<i+r}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach(n=>e.push(n)),e}printScopes(){return this.scopes?this.asArray().join(" "):ke.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}/*! @azure/msal-common v14.15.0 2024-09-20 */function TT(t,e){if(!t)throw $e(FQ);try{const n=e(t);return JSON.parse(n)}catch{throw $e(ZD)}}function Fm(t){if(!t)throw $e(ZD);const e=t.split(Oi.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?ke.EMPTY_STRING:e[1]}}/*! @azure/msal-common v14.15.0 2024-09-20 */function IT(t,e){return!!t&&!!e&&t===e.split(".")[1]}function u5(t,e,n,r){if(r){const{oid:i,sub:o,tid:s,name:a,tfp:c,acr:l}=r,d=s||c||l||"";return{tenantId:d,localAccountId:i||o||"",name:a,isHomeTenant:IT(d,t)}}else return{tenantId:n,localAccountId:e,isHomeTenant:IT(n,t)}}function d5(t,e,n,r){let i=t;if(e){const{isHomeTenant:o,...s}=e;i={...t,...s}}if(n){const{isHomeTenant:o,...s}=u5(t.homeAccountId,t.localAccountId,t.tenantId,n);return i={...i,...s,idTokenClaims:n,idToken:r},i}return i}/*! @azure/msal-common v14.15.0 2024-09-20 */const ga={Default:0,Adfs:1,Dsts:2,Ciam:3};/*! @azure/msal-common v14.15.0 2024-09-20 */function yX(t){return t&&(t.tid||t.tfp||t.acr)||null}/*! @azure/msal-common v14.15.0 2024-09-20 */const bl={AAD:"AAD",OIDC:"OIDC"};/*! @azure/msal-common v14.15.0 2024-09-20 */class Yr{generateAccountId(){return[this.homeAccountId,this.environment].join(Oi.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return Yr.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const n=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",n||e.tenantId||""].join(Oi.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,n,r){var l,d,p,m,g,C;const i=new Yr;n.authorityType===ga.Adfs?i.authorityType=Ww.ADFS_ACCOUNT_TYPE:n.protocolMode===bl.AAD?i.authorityType=Ww.MSSTS_ACCOUNT_TYPE:i.authorityType=Ww.GENERIC_ACCOUNT_TYPE;let o;e.clientInfo&&r&&(o=TT(e.clientInfo,r)),i.clientInfo=e.clientInfo,i.homeAccountId=e.homeAccountId,i.nativeAccountId=e.nativeAccountId;const s=e.environment||n&&n.getPreferredCache();if(!s)throw $e(n5);i.environment=s,i.realm=(o==null?void 0:o.utid)||yX(e.idTokenClaims)||"",i.localAccountId=(o==null?void 0:o.uid)||((l=e.idTokenClaims)==null?void 0:l.oid)||((d=e.idTokenClaims)==null?void 0:d.sub)||"";const a=((p=e.idTokenClaims)==null?void 0:p.preferred_username)||((m=e.idTokenClaims)==null?void 0:m.upn),c=(g=e.idTokenClaims)!=null&&g.emails?e.idTokenClaims.emails[0]:null;if(i.username=a||c||"",i.name=((C=e.idTokenClaims)==null?void 0:C.name)||"",i.cloudGraphHostName=e.cloudGraphHostName,i.msGraphHost=e.msGraphHost,e.tenantProfiles)i.tenantProfiles=e.tenantProfiles;else{const _=u5(e.homeAccountId,i.localAccountId,i.realm,e.idTokenClaims);i.tenantProfiles=[_]}return i}static createFromAccountInfo(e,n,r){var o;const i=new Yr;return i.authorityType=e.authorityType||Ww.GENERIC_ACCOUNT_TYPE,i.homeAccountId=e.homeAccountId,i.localAccountId=e.localAccountId,i.nativeAccountId=e.nativeAccountId,i.realm=e.tenantId,i.environment=e.environment,i.username=e.username,i.name=e.name,i.cloudGraphHostName=n,i.msGraphHost=r,i.tenantProfiles=Array.from(((o=e.tenantProfiles)==null?void 0:o.values())||[]),i}static generateHomeAccountId(e,n,r,i,o){if(!(n===ga.Adfs||n===ga.Dsts)){if(e)try{const s=TT(e,i.base64Decode);if(s.uid&&s.utid)return`${s.uid}.${s.utid}`}catch{}r.warning("No client info in response")}return(o==null?void 0:o.sub)||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,n,r){if(!e||!n)return!1;let i=!0;if(r){const o=e.idTokenClaims||{},s=n.idTokenClaims||{};i=o.iat===s.iat&&o.nonce===s.nonce}return e.homeAccountId===n.homeAccountId&&e.localAccountId===n.localAccountId&&e.username===n.username&&e.tenantId===n.tenantId&&e.environment===n.environment&&e.nativeAccountId===n.nativeAccountId&&i}}/*! @azure/msal-common v14.15.0 2024-09-20 */function bX(t){return t.startsWith("#/")?t.substring(2):t.startsWith("#")||t.startsWith("?")?t.substring(1):t}function xT(t){if(!t||t.indexOf("=")<0)return null;try{const e=bX(t),n=Object.fromEntries(new URLSearchParams(e));if(n.code||n.error||n.error_description||n.state)return n}catch{throw $e(HQ)}return null}/*! @azure/msal-common v14.15.0 2024-09-20 */class fn{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw jn(sX);e.includes("#")||(this._urlString=fn.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let n=e.toLowerCase();return Ea.endsWith(n,"?")?n=n.slice(0,-1):Ea.endsWith(n,"?/")&&(n=n.slice(0,-2)),Ea.endsWith(n,"/")||(n+="/"),n}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw jn(Sb)}if(!e.HostNameAndPort||!e.PathSegments)throw jn(Sb);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw jn(oX)}static appendQueryString(e,n){return n?e.indexOf("?")<0?`${e}?${n}`:`${e}&${n}`:e}static removeHashFromUrl(e){return fn.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const n=this.getUrlComponents(),r=n.PathSegments;return e&&r.length!==0&&(r[0]===id.COMMON||r[0]===id.ORGANIZATIONS)&&(r[0]=e),fn.constructAuthorityUriFromObject(n)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),n=this.urlString.match(e);if(!n)throw jn(Sb);const r={Protocol:n[1],HostNameAndPort:n[4],AbsolutePath:n[5],QueryString:n[7]};let i=r.AbsolutePath.split("/");return i=i.filter(o=>o&&o.length>0),r.PathSegments=i,r.QueryString&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r}static getDomainFromUrl(e){const n=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=e.match(n);if(!r)throw jn(Sb);return r[2]}static getAbsoluteUrl(e,n){if(e[0]===ke.FORWARD_SLASH){const i=new fn(n).getUrlComponents();return i.Protocol+"//"+i.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new fn(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!xT(e)}}/*! @azure/msal-common v14.15.0 2024-09-20 */const CX={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},y9=CX.endpointMetadata,f5=CX.instanceDiscoveryMetadata,_X=new Set;f5.metadata.forEach(t=>{t.aliases.forEach(e=>{_X.add(e)})});function Dke(t,e){var i;let n;const r=t.canonicalAuthority;if(r){const o=new fn(r).getUrlComponents().HostNameAndPort;n=b9(o,(i=t.cloudDiscoveryMetadata)==null?void 0:i.metadata,Wo.CONFIG,e)||b9(o,f5.metadata,Wo.HARDCODED_VALUES,e)||t.knownAuthorities}return n||[]}function b9(t,e,n,r){if(r==null||r.trace(`getAliasesFromMetadata called with source: ${n}`),t&&e){const i=AT(e,t);if(i)return r==null||r.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${n}, returning aliases`),i.aliases;r==null||r.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${n}`)}return null}function jke(t){return AT(f5.metadata,t)}function AT(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(r.aliases.includes(e))return r}return null}/*! @azure/msal-common v14.15.0 2024-09-20 */const wX="cache_quota_exceeded",h5="cache_error_unknown";/*! @azure/msal-common v14.15.0 2024-09-20 */const XR={[wX]:"Exceeded cache storage capacity.",[h5]:"Unexpected error occurred when using cache storage."};class bh extends Error{constructor(e,n){const r=n||(XR[e]?XR[e]:XR[h5]);super(`${e}: ${r}`),Object.setPrototypeOf(this,bh.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=r}}/*! @azure/msal-common v14.15.0 2024-09-20 */class Zg{constructor(e,n,r,i){this.clientId=e,this.cryptoImpl=n,this.commonLogger=r.clone(tX,i5),this.staticAuthorityOptions=i}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){const n=this.getAllAccounts(e);return n.length>1?n.sort(i=>i.idTokenClaims?-1:1)[0]:n.length===1?n[0]:null}getBaseAccountInfo(e){const n=this.getAccountsFilteredBy(e);return n.length>0?n[0].getAccountInfo():null}buildTenantProfiles(e,n){return e.flatMap(r=>this.getTenantProfilesFromAccountEntity(r,n==null?void 0:n.tenantId,n))}getTenantedAccountInfoByFilter(e,n,r,i){let o=null,s;if(i&&!this.tenantProfileMatchesFilter(r,i))return null;const a=this.getIdToken(e,n,r.tenantId);return a&&(s=dp(a.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(s,i))?null:(o=d5(e,r,s,a==null?void 0:a.secret),o)}getTenantProfilesFromAccountEntity(e,n,r){const i=e.getAccountInfo();let o=i.tenantProfiles||new Map;const s=this.getTokenKeys();if(n){const c=o.get(n);if(c)o=new Map([[n,c]]);else return[]}const a=[];return o.forEach(c=>{const l=this.getTenantedAccountInfoByFilter(i,s,c,r);l&&a.push(l)}),a}tenantProfileMatchesFilter(e,n){return!(n.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,n.localAccountId)||n.name&&e.name!==n.name||n.isHomeTenant!==void 0&&e.isHomeTenant!==n.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,n){return!(n&&(n.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,n.localAccountId)||n.loginHint&&!this.matchLoginHintFromTokenClaims(e,n.loginHint)||n.username&&!this.matchUsername(e.preferred_username,n.username)||n.name&&!this.matchName(e,n.name)||n.sid&&!this.matchSid(e,n.sid)))}async saveCacheRecord(e,n,r){var i,o,s,a;if(!e)throw $e(QQ);try{e.account&&this.setAccount(e.account),e.idToken&&(n==null?void 0:n.idToken)!==!1&&this.setIdTokenCredential(e.idToken),e.accessToken&&(n==null?void 0:n.accessToken)!==!1&&await this.saveAccessToken(e.accessToken),e.refreshToken&&(n==null?void 0:n.refreshToken)!==!1&&this.setRefreshTokenCredential(e.refreshToken),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(c){throw(i=this.commonLogger)==null||i.error("CacheManager.saveCacheRecord: failed"),c instanceof Error?((o=this.commonLogger)==null||o.errorPii(`CacheManager.saveCacheRecord: ${c.message}`,r),c.name==="QuotaExceededError"||c.name==="NS_ERROR_DOM_QUOTA_REACHED"||c.message.includes("exceeded the quota")?((s=this.commonLogger)==null||s.error("CacheManager.saveCacheRecord: exceeded storage quota",r),new bh(wX)):new bh(c.name,c.message)):((a=this.commonLogger)==null||a.errorPii(`CacheManager.saveCacheRecord: ${c}`,r),new bh(h5))}}async saveAccessToken(e){const n={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},r=this.getTokenKeys(),i=Ar.fromString(e.target),o=[];r.accessToken.forEach(s=>{if(!this.accessTokenKeyMatchesFilter(s,n,!1))return;const a=this.getAccessTokenCredential(s);a&&this.credentialMatchesFilter(a,n)&&Ar.fromString(a.target).intersectingScopeSets(i)&&o.push(this.removeAccessToken(s))}),await Promise.all(o),this.setAccessTokenCredential(e)}getAccountsFilteredBy(e){const n=this.getAccountKeys(),r=[];return n.forEach(i=>{var c;if(!this.isAccountKey(i,e.homeAccountId))return;const o=this.getAccount(i,this.commonLogger);if(!o||e.homeAccountId&&!this.matchHomeAccountId(o,e.homeAccountId)||e.username&&!this.matchUsername(o.username,e.username)||e.environment&&!this.matchEnvironment(o,e.environment)||e.realm&&!this.matchRealm(o,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(o,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(o,e.authorityType))return;const s={localAccountId:e==null?void 0:e.localAccountId,name:e==null?void 0:e.name},a=(c=o.tenantProfiles)==null?void 0:c.filter(l=>this.tenantProfileMatchesFilter(l,s));a&&a.length===0||r.push(o)}),r}isAccountKey(e,n,r){return!(e.split(Oi.CACHE_KEY_SEPARATOR).length<3||n&&!e.toLowerCase().includes(n.toLowerCase())||r&&!e.toLowerCase().includes(r.toLowerCase()))}isCredentialKey(e){if(e.split(Oi.CACHE_KEY_SEPARATOR).length<6)return!1;const n=e.toLowerCase();if(n.indexOf(Ft.ID_TOKEN.toLowerCase())===-1&&n.indexOf(Ft.ACCESS_TOKEN.toLowerCase())===-1&&n.indexOf(Ft.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())===-1&&n.indexOf(Ft.REFRESH_TOKEN.toLowerCase())===-1)return!1;if(n.indexOf(Ft.REFRESH_TOKEN.toLowerCase())>-1){const r=`${Ft.REFRESH_TOKEN}${Oi.CACHE_KEY_SEPARATOR}${this.clientId}${Oi.CACHE_KEY_SEPARATOR}`,i=`${Ft.REFRESH_TOKEN}${Oi.CACHE_KEY_SEPARATOR}${Yb}${Oi.CACHE_KEY_SEPARATOR}`;if(n.indexOf(r.toLowerCase())===-1&&n.indexOf(i.toLowerCase())===-1)return!1}else if(n.indexOf(this.clientId.toLowerCase())===-1)return!1;return!0}credentialMatchesFilter(e,n){return!(n.clientId&&!this.matchClientId(e,n.clientId)||n.userAssertionHash&&!this.matchUserAssertionHash(e,n.userAssertionHash)||typeof n.homeAccountId=="string"&&!this.matchHomeAccountId(e,n.homeAccountId)||n.environment&&!this.matchEnvironment(e,n.environment)||n.realm&&!this.matchRealm(e,n.realm)||n.credentialType&&!this.matchCredentialType(e,n.credentialType)||n.familyId&&!this.matchFamilyId(e,n.familyId)||n.target&&!this.matchTarget(e,n.target)||(n.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==n.requestedClaimsHash||e.credentialType===Ft.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(n.tokenType&&!this.matchTokenType(e,n.tokenType)||n.tokenType===Nn.SSH&&n.keyId&&!this.matchKeyId(e,n.keyId)))}getAppMetadataFilteredBy(e){const n=this.getKeys(),r={};return n.forEach(i=>{if(!this.isAppMetadata(i))return;const o=this.getAppMetadata(i);o&&(e.environment&&!this.matchEnvironment(o,e.environment)||e.clientId&&!this.matchClientId(o,e.clientId)||(r[i]=o))}),r}getAuthorityMetadataByAlias(e){const n=this.getAuthorityMetadataKeys();let r=null;return n.forEach(i=>{if(!this.isAuthorityMetadata(i)||i.indexOf(this.clientId)===-1)return;const o=this.getAuthorityMetadata(i);o&&o.aliases.indexOf(e)!==-1&&(r=o)}),r}async removeAllAccounts(){const e=this.getAccountKeys(),n=[];e.forEach(r=>{n.push(this.removeAccount(r))}),await Promise.all(n)}async removeAccount(e){const n=this.getAccount(e,this.commonLogger);n&&(await this.removeAccountContext(n),this.removeItem(e))}async removeAccountContext(e){const n=this.getTokenKeys(),r=e.generateAccountId(),i=[];n.idToken.forEach(o=>{o.indexOf(r)===0&&this.removeIdToken(o)}),n.accessToken.forEach(o=>{o.indexOf(r)===0&&i.push(this.removeAccessToken(o))}),n.refreshToken.forEach(o=>{o.indexOf(r)===0&&this.removeRefreshToken(o)}),await Promise.all(i)}updateOutdatedCachedAccount(e,n,r){var i;if(n&&n.isSingleTenant()){(i=this.commonLogger)==null||i.verbose("updateOutdatedCachedAccount: Found a single-tenant (outdated) account entity in the cache, migrating to multi-tenant account entity");const o=this.getAccountKeys().filter(d=>d.startsWith(n.homeAccountId)),s=[];o.forEach(d=>{const p=this.getCachedAccountEntity(d);p&&s.push(p)});const a=s.find(d=>IT(d.realm,d.homeAccountId))||s[0];a.tenantProfiles=s.map(d=>({tenantId:d.realm,localAccountId:d.localAccountId,name:d.name,isHomeTenant:IT(d.realm,d.homeAccountId)}));const c=Zg.toObject(new Yr,{...a}),l=c.generateAccountKey();return o.forEach(d=>{d!==l&&this.removeOutdatedAccount(e)}),this.setAccount(c),r==null||r.verbose("Updated an outdated account entity in the cache"),c}return n}async removeAccessToken(e){const n=this.getAccessTokenCredential(e);if(n){if(n.credentialType.toLowerCase()===Ft.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&n.tokenType===Nn.POP){const i=n.keyId;if(i)try{await this.cryptoImpl.removeTokenBindingKey(i)}catch{throw $e(JQ)}}return this.removeItem(e)}}removeAppMetadata(){return this.getKeys().forEach(n=>{this.isAppMetadata(n)&&this.removeItem(n)}),!0}readAccountFromCache(e){const n=Yr.generateAccountCacheKey(e);return this.getAccount(n,this.commonLogger)}getIdToken(e,n,r,i,o){this.commonLogger.trace("CacheManager - getIdToken called");const s={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Ft.ID_TOKEN,clientId:this.clientId,realm:r},a=this.getIdTokensByFilter(s,n),c=a.size;if(c<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(c>1){let l=a;if(!r){const d=new Map;a.forEach((m,g)=>{m.realm===e.tenantId&&d.set(g,m)});const p=d.size;if(p<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),a.values().next().value;if(p===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),d.values().next().value;l=d}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),l.forEach((d,p)=>{this.removeIdToken(p)}),i&&o&&i.addFields({multiMatchedID:a.size},o),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),a.values().next().value}getIdTokensByFilter(e,n){const r=n&&n.idToken||this.getTokenKeys().idToken,i=new Map;return r.forEach(o=>{if(!this.idTokenKeyMatchesFilter(o,{clientId:this.clientId,...e}))return;const s=this.getIdTokenCredential(o);s&&this.credentialMatchesFilter(s,e)&&i.set(o,s)}),i}idTokenKeyMatchesFilter(e,n){const r=e.toLowerCase();return!(n.clientId&&r.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&r.indexOf(n.homeAccountId.toLowerCase())===-1)}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,n,r,i,o,s){this.commonLogger.trace("CacheManager - getAccessToken called");const a=Ar.createSearchScopes(n.scopes),c=n.authenticationScheme||Nn.BEARER,l=c.toLowerCase()!==Nn.BEARER.toLowerCase()?Ft.ACCESS_TOKEN_WITH_AUTH_SCHEME:Ft.ACCESS_TOKEN,d={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:l,clientId:this.clientId,realm:i||e.tenantId,target:a,tokenType:c,keyId:n.sshKid,requestedClaimsHash:n.requestedClaimsHash},p=r&&r.accessToken||this.getTokenKeys().accessToken,m=[];p.forEach(C=>{if(this.accessTokenKeyMatchesFilter(C,d,!0)){const _=this.getAccessTokenCredential(C);_&&this.credentialMatchesFilter(_,d)&&m.push(_)}});const g=m.length;return g<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):g>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),m.forEach(C=>{this.removeAccessToken(jm(C))}),o&&s&&o.addFields({multiMatchedAT:m.length},s),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),m[0])}accessTokenKeyMatchesFilter(e,n,r){const i=e.toLowerCase();if(n.clientId&&i.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&i.indexOf(n.homeAccountId.toLowerCase())===-1||n.realm&&i.indexOf(n.realm.toLowerCase())===-1||n.requestedClaimsHash&&i.indexOf(n.requestedClaimsHash.toLowerCase())===-1)return!1;if(n.target){const o=n.target.asArray();for(let s=0;s<o.length;s++){if(r&&!i.includes(o[s].toLowerCase()))return!1;if(!r&&i.includes(o[s].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){const n=this.getTokenKeys(),r=[];return n.accessToken.forEach(i=>{if(!this.accessTokenKeyMatchesFilter(i,e,!0))return;const o=this.getAccessTokenCredential(i);o&&this.credentialMatchesFilter(o,e)&&r.push(o)}),r}getRefreshToken(e,n,r,i,o){this.commonLogger.trace("CacheManager - getRefreshToken called");const s=n?Yb:void 0,a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Ft.REFRESH_TOKEN,clientId:this.clientId,familyId:s},c=r&&r.refreshToken||this.getTokenKeys().refreshToken,l=[];c.forEach(p=>{if(this.refreshTokenKeyMatchesFilter(p,a)){const m=this.getRefreshTokenCredential(p);m&&this.credentialMatchesFilter(m,a)&&l.push(m)}});const d=l.length;return d<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(d>1&&i&&o&&i.addFields({multiMatchedRT:d},o),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),l[0])}refreshTokenKeyMatchesFilter(e,n){const r=e.toLowerCase();return!(n.familyId&&r.indexOf(n.familyId.toLowerCase())===-1||!n.familyId&&n.clientId&&r.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&r.indexOf(n.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){const n={environment:e,clientId:this.clientId},r=this.getAppMetadataFilteredBy(n),i=Object.keys(r).map(s=>r[s]),o=i.length;if(o<1)return null;if(o>1)throw $e(KQ);return i[0]}isAppMetadataFOCI(e){const n=this.readAppMetadataFromCache(e);return!!(n&&n.familyId===Yb)}matchHomeAccountId(e,n){return typeof e.homeAccountId=="string"&&n===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,n){const r=e.oid||e.sub;return n===r}matchLocalAccountIdFromTenantProfile(e,n){return e.localAccountId===n}matchName(e,n){var r;return n.toLowerCase()===((r=e.name)==null?void 0:r.toLowerCase())}matchUsername(e,n){return!!(e&&typeof e=="string"&&(n==null?void 0:n.toLowerCase())===e.toLowerCase())}matchUserAssertionHash(e,n){return!!(e.userAssertionHash&&n===e.userAssertionHash)}matchEnvironment(e,n){if(this.staticAuthorityOptions){const i=Dke(this.staticAuthorityOptions,this.commonLogger);if(i.includes(n)&&i.includes(e.environment))return!0}const r=this.getAuthorityMetadataByAlias(n);return!!(r&&r.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,n){return e.credentialType&&n.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,n){return!!(e.clientId&&n===e.clientId)}matchFamilyId(e,n){return!!(e.familyId&&n===e.familyId)}matchRealm(e,n){var r;return((r=e.realm)==null?void 0:r.toLowerCase())===n.toLowerCase()}matchNativeAccountId(e,n){return!!(e.nativeAccountId&&n===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,n){return e.login_hint===n||e.preferred_username===n||e.upn===n}matchSid(e,n){return e.sid===n}matchAuthorityType(e,n){return!!(e.authorityType&&n.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,n){return e.credentialType!==Ft.ACCESS_TOKEN&&e.credentialType!==Ft.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:Ar.fromString(e.target).containsScopeSet(n)}matchTokenType(e,n){return!!(e.tokenType&&e.tokenType===n)}matchKeyId(e,n){return!!(e.keyId&&e.keyId===n)}isAppMetadata(e){return e.indexOf(QD)!==-1}isAuthorityMetadata(e){return e.indexOf(wT.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${wT.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,n){for(const r in n)e[r]=n[r];return e}}class Fke extends Zg{setAccount(){throw $e(en)}getAccount(){throw $e(en)}getCachedAccountEntity(){throw $e(en)}setIdTokenCredential(){throw $e(en)}getIdTokenCredential(){throw $e(en)}setAccessTokenCredential(){throw $e(en)}getAccessTokenCredential(){throw $e(en)}setRefreshTokenCredential(){throw $e(en)}getRefreshTokenCredential(){throw $e(en)}setAppMetadata(){throw $e(en)}getAppMetadata(){throw $e(en)}setServerTelemetry(){throw $e(en)}getServerTelemetry(){throw $e(en)}setAuthorityMetadata(){throw $e(en)}getAuthorityMetadata(){throw $e(en)}getAuthorityMetadataKeys(){throw $e(en)}setThrottlingCache(){throw $e(en)}getThrottlingCache(){throw $e(en)}removeItem(){throw $e(en)}getKeys(){throw $e(en)}getAccountKeys(){throw $e(en)}getTokenKeys(){throw $e(en)}async clear(){throw $e(en)}updateCredentialCacheKey(){throw $e(en)}removeOutdatedAccount(){throw $e(en)}}/*! @azure/msal-common v14.15.0 2024-09-20 */const SX={tokenRenewalOffsetSeconds:ske,preventCorsPreflight:!1},Uke={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:tr.Info,correlationId:ke.EMPTY_STRING},Bke={claimsBasedCachingEnabled:!1},Vke={async sendGetRequestAsync(){throw $e(en)},async sendPostRequestAsync(){throw $e(en)}},Hke={sku:ke.SKU,version:i5,cpu:ke.EMPTY_STRING,os:ke.EMPTY_STRING},zke={clientSecret:ke.EMPTY_STRING,clientAssertion:void 0},$ke={azureCloudInstance:Q0.None,tenant:`${ke.DEFAULT_COMMON_TENANT}`},Wke={application:{appName:"",appVersion:""}};function Kke({authOptions:t,systemOptions:e,loggerOptions:n,cacheOptions:r,storageInterface:i,networkInterface:o,cryptoInterface:s,clientCredentials:a,libraryInfo:c,telemetry:l,serverTelemetryManager:d,persistencePlugin:p,serializableCache:m}){const g={...Uke,...n};return{authOptions:Gke(t),systemOptions:{...SX,...e},loggerOptions:g,cacheOptions:{...Bke,...r},storageInterface:i||new Fke(t.clientId,ET,new Ol(g)),networkInterface:o||Vke,cryptoInterface:s||ET,clientCredentials:a||zke,libraryInfo:{...Hke,...c},telemetry:{...Wke,...l},serverTelemetryManager:d||null,persistencePlugin:p||null,serializableCache:m||null}}function Gke(t){return{clientCapabilities:[],azureCloudOptions:$ke,skipAuthorityMetadataCache:!1,instanceAware:!1,...t}}function tM(t){return t.authOptions.authority.options.protocolMode===bl.OIDC}/*! @azure/msal-common v14.15.0 2024-09-20 */class Nl extends Vn{constructor(e,n,r,i,o){super(e,n,r),this.name="ServerError",this.errorNo=i,this.status=o,Object.setPrototypeOf(this,Nl.prototype)}}/*! @azure/msal-common v14.15.0 2024-09-20 */class ac{static generateThrottlingStorageKey(e){return`${Qb.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,n){var o;const r=ac.generateThrottlingStorageKey(n),i=e.getThrottlingCache(r);if(i){if(i.throttleTime<Date.now()){e.removeItem(r);return}throw new Nl(((o=i.errorCodes)==null?void 0:o.join(" "))||ke.EMPTY_STRING,i.errorMessage,i.subError)}}static postProcess(e,n,r){if(ac.checkResponseStatus(r)||ac.checkResponseForRetryAfter(r)){const i={throttleTime:ac.calculateThrottleTime(parseInt(r.headers[fc.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};e.setThrottlingCache(ac.generateThrottlingStorageKey(n),i)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(fc.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){const n=e<=0?0:e,r=Date.now()/1e3;return Math.floor(Math.min(r+(n||Qb.DEFAULT_THROTTLE_TIME_SECONDS),r+Qb.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,n,r,i){const o={clientId:n,authority:r.authority,scopes:r.scopes,homeAccountIdentifier:i,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid},s=this.generateThrottlingStorageKey(o);e.removeItem(s)}}/*! @azure/msal-common v14.15.0 2024-09-20 */class qke{constructor(e,n){this.networkClient=e,this.cacheManager=n}async sendPostRequest(e,n,r){ac.preProcess(this.cacheManager,e);let i;try{i=await this.networkClient.sendPostRequestAsync(n,r)}catch(o){throw o instanceof Vn?o:$e(BQ)}return ac.postProcess(this.cacheManager,e,i),i}}/*! @azure/msal-common v14.15.0 2024-09-20 */const es={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};/*! @azure/msal-common v14.15.0 2024-09-20 */const Jg="client_id",Yke="redirect_uri",C9="response_type",Qke="response_mode",Xke="grant_type",Zke="claims",Jke="scope",eRe="refresh_token",tRe="state",nRe="nonce",rRe="prompt",iRe="code",oRe="code_challenge",sRe="code_challenge_method",aRe="code_verifier",cRe="client-request-id",lRe="x-client-SKU",uRe="x-client-VER",dRe="x-client-OS",fRe="x-client-CPU",hRe="x-client-current-telemetry",pRe="x-client-last-telemetry",mRe="x-ms-lib-capability",gRe="x-app-name",vRe="x-app-ver",yRe="post_logout_redirect_uri",bRe="id_token_hint",CRe="device_code",_Re="client_secret",wRe="client_assertion",SRe="client_assertion_type",_9="token_type",w9="req_cnf",ERe="assertion",TRe="requested_token_use",S9="return_spa_code",IRe="nativebroker",xRe="logout_hint",ARe="sid",kRe="login_hint",RRe="domain_hint",PRe="x-client-xtra-sku";/*! @azure/msal-common v14.15.0 2024-09-20 */class ym{static validateRedirectUri(e){if(!e)throw jn(iX)}static validatePrompt(e){const n=[];for(const r in si)n.push(si[r]);if(n.indexOf(e)<0)throw jn(cX)}static validateClaims(e){try{JSON.parse(e)}catch{throw jn(s5)}}static validateCodeChallengeParams(e,n){if(!e||!n)throw jn(a5);this.validateCodeChallengeMethod(n)}static validateCodeChallengeMethod(e){if([c9.PLAIN,c9.S256].indexOf(e)<0)throw jn(dX)}}/*! @azure/msal-common v14.15.0 2024-09-20 */class Xb{constructor(){this.parameters=new Map}addResponseTypeCode(){this.parameters.set(C9,encodeURIComponent(ke.CODE_RESPONSE_TYPE))}addResponseTypeForTokenAndIdToken(){this.parameters.set(C9,encodeURIComponent(`${ke.TOKEN_RESPONSE_TYPE} ${ke.ID_TOKEN_RESPONSE_TYPE}`))}addResponseMode(e){this.parameters.set(Qke,encodeURIComponent(e||rke.QUERY))}addNativeBroker(){this.parameters.set(IRe,encodeURIComponent("1"))}addScopes(e,n=!0,r=Dv){n&&!r.includes("openid")&&!e.includes("openid")&&r.push("openid");const i=n?[...e||[],...r]:e||[],o=new Ar(i);this.parameters.set(Jke,encodeURIComponent(o.printScopes()))}addClientId(e){this.parameters.set(Jg,encodeURIComponent(e))}addRedirectUri(e){ym.validateRedirectUri(e),this.parameters.set(Yke,encodeURIComponent(e))}addPostLogoutRedirectUri(e){ym.validateRedirectUri(e),this.parameters.set(yRe,encodeURIComponent(e))}addIdTokenHint(e){this.parameters.set(bRe,encodeURIComponent(e))}addDomainHint(e){this.parameters.set(RRe,encodeURIComponent(e))}addLoginHint(e){this.parameters.set(kRe,encodeURIComponent(e))}addCcsUpn(e){this.parameters.set(fc.CCS_HEADER,encodeURIComponent(`UPN:${e}`))}addCcsOid(e){this.parameters.set(fc.CCS_HEADER,encodeURIComponent(`Oid:${e.uid}@${e.utid}`))}addSid(e){this.parameters.set(ARe,encodeURIComponent(e))}addClaims(e,n){const r=this.addClientCapabilitiesToClaims(e,n);ym.validateClaims(r),this.parameters.set(Zke,encodeURIComponent(r))}addCorrelationId(e){this.parameters.set(cRe,encodeURIComponent(e))}addLibraryInfo(e){this.parameters.set(lRe,e.sku),this.parameters.set(uRe,e.version),e.os&&this.parameters.set(dRe,e.os),e.cpu&&this.parameters.set(fRe,e.cpu)}addApplicationTelemetry(e){e!=null&&e.appName&&this.parameters.set(gRe,e.appName),e!=null&&e.appVersion&&this.parameters.set(vRe,e.appVersion)}addPrompt(e){ym.validatePrompt(e),this.parameters.set(`${rRe}`,encodeURIComponent(e))}addState(e){e&&this.parameters.set(tRe,encodeURIComponent(e))}addNonce(e){this.parameters.set(nRe,encodeURIComponent(e))}addCodeChallengeParams(e,n){if(ym.validateCodeChallengeParams(e,n),e&&n)this.parameters.set(oRe,encodeURIComponent(e)),this.parameters.set(sRe,encodeURIComponent(n));else throw jn(a5)}addAuthorizationCode(e){this.parameters.set(iRe,encodeURIComponent(e))}addDeviceCode(e){this.parameters.set(CRe,encodeURIComponent(e))}addRefreshToken(e){this.parameters.set(eRe,encodeURIComponent(e))}addCodeVerifier(e){this.parameters.set(aRe,encodeURIComponent(e))}addClientSecret(e){this.parameters.set(_Re,encodeURIComponent(e))}addClientAssertion(e){e&&this.parameters.set(wRe,encodeURIComponent(e))}addClientAssertionType(e){e&&this.parameters.set(SRe,encodeURIComponent(e))}addOboAssertion(e){this.parameters.set(ERe,encodeURIComponent(e))}addRequestTokenUse(e){this.parameters.set(TRe,encodeURIComponent(e))}addGrantType(e){this.parameters.set(Xke,encodeURIComponent(e))}addClientInfo(){this.parameters.set(ike,"1")}addExtraQueryParameters(e){Object.entries(e).forEach(([n,r])=>{!this.parameters.has(n)&&r&&this.parameters.set(n,r)})}addClientCapabilitiesToClaims(e,n){let r;if(!e)r={};else try{r=JSON.parse(e)}catch{throw jn(s5)}return n&&n.length>0&&(r.hasOwnProperty($w.ACCESS_TOKEN)||(r[$w.ACCESS_TOKEN]={}),r[$w.ACCESS_TOKEN][$w.XMS_CC]={values:n}),JSON.stringify(r)}addUsername(e){this.parameters.set(u9.username,encodeURIComponent(e))}addPassword(e){this.parameters.set(u9.password,encodeURIComponent(e))}addPopToken(e){e&&(this.parameters.set(_9,Nn.POP),this.parameters.set(w9,encodeURIComponent(e)))}addSshJwk(e){e&&(this.parameters.set(_9,Nn.SSH),this.parameters.set(w9,encodeURIComponent(e)))}addServerTelemetry(e){this.parameters.set(hRe,e.generateCurrentRequestHeaderValue()),this.parameters.set(pRe,e.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set(mRe,Qb.X_MS_LIB_CAPABILITY_VALUE)}addLogoutHint(e){this.parameters.set(xRe,encodeURIComponent(e))}createQueryString(){const e=new Array;return this.parameters.forEach((n,r)=>{e.push(`${r}=${n}`)}),e.join("&")}}/*! @azure/msal-common v14.15.0 2024-09-20 */function ORe(t){return t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("jwks_uri")}/*! @azure/msal-common v14.15.0 2024-09-20 */function NRe(t){return t.hasOwnProperty("tenant_discovery_endpoint")&&t.hasOwnProperty("metadata")}/*! @azure/msal-common v14.15.0 2024-09-20 */function MRe(t){return t.hasOwnProperty("error")&&t.hasOwnProperty("error_description")}/*! @azure/msal-common v14.15.0 2024-09-20 */const Z={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",StandardInteractionClientInitializeAuthorizationCodeRequest:"standardInteractionClientInitializeAuthorizationCodeRequest",GetAuthCodeUrl:"getAuthCodeUrl",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",AuthClientCreateQueryString:"authClientCreateQueryString",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues"},LRe=new Map([[Z.AcquireTokenByCode,"ATByCode"],[Z.AcquireTokenByRefreshToken,"ATByRT"],[Z.AcquireTokenSilent,"ATS"],[Z.AcquireTokenSilentAsync,"ATSAsync"],[Z.AcquireTokenPopup,"ATPopup"],[Z.AcquireTokenRedirect,"ATRedirect"],[Z.CryptoOptsGetPublicKeyThumbprint,"CryptoGetPKThumb"],[Z.CryptoOptsSignJwt,"CryptoSignJwt"],[Z.SilentCacheClientAcquireToken,"SltCacheClientAT"],[Z.SilentIframeClientAcquireToken,"SltIframeClientAT"],[Z.SilentRefreshClientAcquireToken,"SltRClientAT"],[Z.SsoSilent,"SsoSlt"],[Z.StandardInteractionClientGetDiscoveredAuthority,"StdIntClientGetDiscAuth"],[Z.FetchAccountIdWithNativeBroker,"FetchAccIdWithNtvBroker"],[Z.NativeInteractionClientAcquireToken,"NtvIntClientAT"],[Z.BaseClientCreateTokenRequestHeaders,"BaseClientCreateTReqHead"],[Z.RefreshTokenClientExecutePostToTokenEndpoint,"RTClientExecPost"],[Z.AuthorizationCodeClientExecutePostToTokenEndpoint,"AuthCodeClientExecPost"],[Z.BrokerHandhshake,"BrokerHandshake"],[Z.AcquireTokenByRefreshTokenInBroker,"ATByRTInBroker"],[Z.AcquireTokenByBroker,"ATByBroker"],[Z.RefreshTokenClientExecuteTokenRequest,"RTClientExecTReq"],[Z.RefreshTokenClientAcquireToken,"RTClientAT"],[Z.RefreshTokenClientAcquireTokenWithCachedRefreshToken,"RTClientATWithCachedRT"],[Z.RefreshTokenClientAcquireTokenByRefreshToken,"RTClientATByRT"],[Z.RefreshTokenClientCreateTokenRequestBody,"RTClientCreateTReqBody"],[Z.AcquireTokenFromCache,"ATFromCache"],[Z.SilentFlowClientAcquireCachedToken,"SltFlowClientATCached"],[Z.SilentFlowClientGenerateResultFromCacheRecord,"SltFlowClientGenResFromCache"],[Z.AcquireTokenBySilentIframe,"ATBySltIframe"],[Z.InitializeBaseRequest,"InitBaseReq"],[Z.InitializeSilentRequest,"InitSltReq"],[Z.InitializeClientApplication,"InitClientApplication"],[Z.SilentIframeClientTokenHelper,"SIClientTHelper"],[Z.SilentHandlerInitiateAuthRequest,"SHandlerInitAuthReq"],[Z.SilentHandlerMonitorIframeForHash,"SltHandlerMonitorIframeForHash"],[Z.SilentHandlerLoadFrame,"SHandlerLoadFrame"],[Z.SilentHandlerLoadFrameSync,"SHandlerLoadFrameSync"],[Z.StandardInteractionClientCreateAuthCodeClient,"StdIntClientCreateAuthCodeClient"],[Z.StandardInteractionClientGetClientConfiguration,"StdIntClientGetClientConf"],[Z.StandardInteractionClientInitializeAuthorizationRequest,"StdIntClientInitAuthReq"],[Z.StandardInteractionClientInitializeAuthorizationCodeRequest,"StdIntClientInitAuthCodeReq"],[Z.GetAuthCodeUrl,"GetAuthCodeUrl"],[Z.HandleCodeResponseFromServer,"HandleCodeResFromServer"],[Z.HandleCodeResponse,"HandleCodeResp"],[Z.UpdateTokenEndpointAuthority,"UpdTEndpointAuth"],[Z.AuthClientAcquireToken,"AuthClientAT"],[Z.AuthClientExecuteTokenRequest,"AuthClientExecTReq"],[Z.AuthClientCreateTokenRequestBody,"AuthClientCreateTReqBody"],[Z.AuthClientCreateQueryString,"AuthClientCreateQueryStr"],[Z.PopTokenGenerateCnf,"PopTGenCnf"],[Z.PopTokenGenerateKid,"PopTGenKid"],[Z.HandleServerTokenResponse,"HandleServerTRes"],[Z.DeserializeResponse,"DeserializeRes"],[Z.AuthorityFactoryCreateDiscoveredInstance,"AuthFactCreateDiscInst"],[Z.AuthorityResolveEndpointsAsync,"AuthResolveEndpointsAsync"],[Z.AuthorityResolveEndpointsFromLocalSources,"AuthResolveEndpointsFromLocal"],[Z.AuthorityGetCloudDiscoveryMetadataFromNetwork,"AuthGetCDMetaFromNet"],[Z.AuthorityUpdateCloudDiscoveryMetadata,"AuthUpdCDMeta"],[Z.AuthorityGetEndpointMetadataFromNetwork,"AuthUpdCDMetaFromNet"],[Z.AuthorityUpdateEndpointMetadata,"AuthUpdEndpointMeta"],[Z.AuthorityUpdateMetadataWithRegionalInformation,"AuthUpdMetaWithRegInfo"],[Z.RegionDiscoveryDetectRegion,"RegDiscDetectReg"],[Z.RegionDiscoveryGetRegionFromIMDS,"RegDiscGetRegFromIMDS"],[Z.RegionDiscoveryGetCurrentVersion,"RegDiscGetCurrentVer"],[Z.AcquireTokenByCodeAsync,"ATByCodeAsync"],[Z.GetEndpointMetadataFromNetwork,"GetEndpointMetaFromNet"],[Z.GetCloudDiscoveryMetadataFromNetworkMeasurement,"GetCDMetaFromNet"],[Z.HandleRedirectPromiseMeasurement,"HandleRedirectPromise"],[Z.HandleNativeRedirectPromiseMeasurement,"HandleNtvRedirectPromise"],[Z.UpdateCloudDiscoveryMetadataMeasurement,"UpdateCDMeta"],[Z.UsernamePasswordClientAcquireToken,"UserPassClientAT"],[Z.NativeMessageHandlerHandshake,"NtvMsgHandlerHandshake"],[Z.NativeGenerateAuthResult,"NtvGenAuthRes"],[Z.RemoveHiddenIframe,"RemoveHiddenIframe"],[Z.ClearTokensAndKeysWithClaims,"ClearTAndKeysWithClaims"],[Z.CacheManagerGetRefreshToken,"CacheManagerGetRT"],[Z.GeneratePkceCodes,"GenPkceCodes"],[Z.GenerateCodeVerifier,"GenCodeVerifier"],[Z.GenerateCodeChallengeFromVerifier,"GenCodeChallengeFromVerifier"],[Z.Sha256Digest,"Sha256Digest"],[Z.GetRandomValues,"GetRandomValues"]]),nM={InProgress:1,Completed:2},DRe=new Set(["accessTokenSize","durationMs","idTokenSize","matsSilentStatus","matsHttpStatus","refreshTokenSize","queuedTimeMs","startTimeMs","status","multiMatchedAT","multiMatchedID","multiMatchedRT"]);/*! @azure/msal-common v14.15.0 2024-09-20 */const fp=(t,e,n,r,i)=>(...o)=>{n.trace(`Executing function ${e}`);const s=r==null?void 0:r.startMeasurement(e,i);if(i){const a=e+"CallCount";r==null||r.incrementFields({[a]:1},i)}try{const a=t(...o);return s==null||s.end({success:!0}),n.trace(`Returning result from ${e}`),a}catch(a){n.trace(`Error occurred in ${e}`);try{n.trace(JSON.stringify(a))}catch{n.trace("Unable to print error message.")}throw s==null||s.end({success:!1},a),a}},ot=(t,e,n,r,i)=>(...o)=>{n.trace(`Executing function ${e}`);const s=r==null?void 0:r.startMeasurement(e,i);if(i){const a=e+"CallCount";r==null||r.incrementFields({[a]:1},i)}return r==null||r.setPreQueueTime(e,i),t(...o).then(a=>(n.trace(`Returning result from ${e}`),s==null||s.end({success:!0}),a)).catch(a=>{n.trace(`Error occurred in ${e}`);try{n.trace(JSON.stringify(a))}catch{n.trace("Unable to print error message.")}throw s==null||s.end({success:!1},a),a})};/*! @azure/msal-common v14.15.0 2024-09-20 */class ax{constructor(e,n,r,i){this.networkInterface=e,this.logger=n,this.performanceClient=r,this.correlationId=i}async detectRegion(e,n){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(Z.RegionDiscoveryDetectRegion,this.correlationId);let r=e;if(r)n.region_source=om.ENVIRONMENT_VARIABLE;else{const o=ax.IMDS_OPTIONS;try{const s=await ot(this.getRegionFromIMDS.bind(this),Z.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(ke.IMDS_VERSION,o);if(s.status===Kw.httpSuccess&&(r=s.body,n.region_source=om.IMDS),s.status===Kw.httpBadRequest){const a=await ot(this.getCurrentVersion.bind(this),Z.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(o);if(!a)return n.region_source=om.FAILED_AUTO_DETECTION,null;const c=await ot(this.getRegionFromIMDS.bind(this),Z.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(a,o);c.status===Kw.httpSuccess&&(r=c.body,n.region_source=om.IMDS)}}catch{return n.region_source=om.FAILED_AUTO_DETECTION,null}}return r||(n.region_source=om.FAILED_AUTO_DETECTION),r||null}async getRegionFromIMDS(e,n){var r;return(r=this.performanceClient)==null||r.addQueueMeasurement(Z.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${ke.IMDS_ENDPOINT}?api-version=${e}&format=text`,n,ke.IMDS_TIMEOUT)}async getCurrentVersion(e){var n;(n=this.performanceClient)==null||n.addQueueMeasurement(Z.RegionDiscoveryGetCurrentVersion,this.correlationId);try{const r=await this.networkInterface.sendGetRequestAsync(`${ke.IMDS_ENDPOINT}?format=json`,e);return r.status===Kw.httpBadRequest&&r.body&&r.body["newest-versions"]&&r.body["newest-versions"].length>0?r.body["newest-versions"][0]:null}catch{return null}}}ax.IMDS_OPTIONS={headers:{Metadata:"true"}};/*! @azure/msal-common v14.15.0 2024-09-20 */class Pi{constructor(e,n,r,i,o,s,a,c){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=n,this.cacheManager=r,this.authorityOptions=i,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=a,this.correlationId=s,this.managedIdentity=c||!1,this.regionDiscovery=new ax(n,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(ke.CIAM_AUTH_URL))return ga.Ciam;const n=e.PathSegments;if(n.length)switch(n[0].toLowerCase()){case ke.ADFS:return ga.Adfs;case ke.DSTS:return ga.Dsts}return ga.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new fn(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw $e(Jc)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw $e(Jc)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw $e(Jc)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw $e(eX);return this.replacePath(this.metadata.end_session_endpoint)}else throw $e(Jc)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw $e(Jc)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw $e(Jc)}canReplaceTenant(e){return e.PathSegments.length===1&&!Pi.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===ga.Default&&this.protocolMode===bl.AAD}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let n=e;const i=new fn(this.metadata.canonical_authority).getUrlComponents(),o=i.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((a,c)=>{let l=o[c];if(c===0&&this.canReplaceTenant(i)){const d=new fn(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];l!==d&&(this.logger.verbose(`Replacing tenant domain name ${l} with id ${d}`),l=d)}a!==l&&(n=n.replace(`/${l}/`,`/${a}/`))}),this.replaceTenant(n)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===ga.Adfs||this.protocolMode!==bl.AAD&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){var i,o;(i=this.performanceClient)==null||i.addQueueMeasurement(Z.AuthorityResolveEndpointsAsync,this.correlationId);const e=this.getCurrentMetadataEntity(),n=await ot(this.updateCloudDiscoveryMetadata.bind(this),Z.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const r=await ot(this.updateEndpointMetadata.bind(this),Z.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,n,{source:r}),(o=this.performanceClient)==null||o.addFields({cloudDiscoverySource:n,authorityEndpointSource:r},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:g9(),jwks_uri:""}),e}updateCachedMetadata(e,n,r){n!==Wo.CACHE&&(r==null?void 0:r.source)!==Wo.CACHE&&(e.expiresAt=g9(),e.canonical_authority=this.canonicalAuthority);const i=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(i,e),this.metadata=e}async updateEndpointMetadata(e){var i,o,s;(i=this.performanceClient)==null||i.addQueueMeasurement(Z.AuthorityUpdateEndpointMetadata,this.correlationId);const n=this.updateEndpointMetadataFromLocalSources(e);if(n){if(n.source===Wo.HARDCODED_VALUES&&(o=this.authorityOptions.azureRegionConfiguration)!=null&&o.azureRegion&&n.metadata){const a=await ot(this.updateMetadataWithRegionalInformation.bind(this),Z.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n.metadata);Gw(e,a,!1),e.canonical_authority=this.canonicalAuthority}return n.source}let r=await ot(this.getEndpointMetadataFromNetwork.bind(this),Z.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return(s=this.authorityOptions.azureRegionConfiguration)!=null&&s.azureRegion&&(r=await ot(this.updateMetadataWithRegionalInformation.bind(this),Z.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r)),Gw(e,r,!0),Wo.NETWORK;throw $e(VQ,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const n=this.getEndpointMetadataFromConfig();if(n)return this.logger.verbose("Found endpoint metadata in authority configuration"),Gw(e,n,!1),{source:Wo.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const i=this.getEndpointMetadataFromHardcodedValues();if(i)return Gw(e,i,!1),{source:Wo.HARDCODED_VALUES,metadata:i};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const r=v9(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!r?(this.logger.verbose("Found endpoint metadata in the cache."),{source:Wo.CACHE}):(r&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new fn(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw jn(fX)}return null}async getEndpointMetadataFromNetwork(){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(Z.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);const e={},n=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${n}`);try{const i=await this.networkInterface.sendGetRequestAsync(n,e);return ORe(i.body)?i.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(i){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${i}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in y9?y9[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){var r,i,o;(r=this.performanceClient)==null||r.addQueueMeasurement(Z.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);const n=(i=this.authorityOptions.azureRegionConfiguration)==null?void 0:i.azureRegion;if(n){if(n!==ke.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=YR.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=n,Pi.replaceWithRegionalInformation(e,n);const s=await ot(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),Z.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)((o=this.authorityOptions.azureRegionConfiguration)==null?void 0:o.environmentRegion,this.regionDiscoveryMetadata);if(s)return this.regionDiscoveryMetadata.region_outcome=YR.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=s,Pi.replaceWithRegionalInformation(e,s);this.regionDiscoveryMetadata.region_outcome=YR.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(Z.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);const n=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(n)return n;const r=await ot(this.getCloudDiscoveryMetadataFromNetwork.bind(this),Z.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return QR(e,r,!0),Wo.NETWORK;throw jn(hX)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||ke.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||ke.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||ke.NOT_APPLICABLE}`);const n=this.getCloudDiscoveryMetadataFromConfig();if(n)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),QR(e,n,!1),Wo.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const i=jke(this.hostnameAndPort);if(i)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),QR(e,i,!1),Wo.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const r=v9(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),Wo.CACHE):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===ga.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),Pi.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),n=AT(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),n)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),n;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),jn(c5)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),Pi.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(Z.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);const e=`${ke.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,n={};let r=null;try{const o=await this.networkInterface.sendGetRequestAsync(e,n);let s,a;if(NRe(o.body))s=o.body,a=s.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${s.tenant_discovery_endpoint}`);else if(MRe(o.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${o.status}`),s=o.body,s.error===ke.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${s.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${s.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),a=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),r=AT(a,this.hostnameAndPort)}catch(o){if(o instanceof Vn)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${o.errorCode}
Error Description: ${o.errorMessage}`);else{const s=o;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${s.name}
Error Description: ${s.message}`)}return null}return r||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),r=Pi.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),r}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(n=>n&&fn.getDomainFromUrl(n).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,n){let r;if(n&&n.azureCloudInstance!==Q0.None){const i=n.tenant?n.tenant:ke.DEFAULT_COMMON_TENANT;r=`${n.azureCloudInstance}/${i}/`}return r||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return ke.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw $e(Jc)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return _X.has(e)}static isPublicCloudAuthority(e){return ke.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,n,r){const i=new fn(e);i.validateAsUri();const o=i.getUrlComponents();let s=`${n}.${o.HostNameAndPort}`;this.isPublicCloudAuthority(o.HostNameAndPort)&&(s=`${n}.${ke.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const a=fn.constructAuthorityUriFromObject({...i.getUrlComponents(),HostNameAndPort:s}).urlString;return r?`${a}?${r}`:a}static replaceWithRegionalInformation(e,n){const r={...e};return r.authorization_endpoint=Pi.buildRegionalAuthorityString(r.authorization_endpoint,n),r.token_endpoint=Pi.buildRegionalAuthorityString(r.token_endpoint,n),r.end_session_endpoint&&(r.end_session_endpoint=Pi.buildRegionalAuthorityString(r.end_session_endpoint,n)),r}static transformCIAMAuthority(e){let n=e;const i=new fn(e).getUrlComponents();if(i.PathSegments.length===0&&i.HostNameAndPort.endsWith(ke.CIAM_AUTH_URL)){const o=i.HostNameAndPort.split(".")[0];n=`${n}${o}${ke.AAD_TENANT_DOMAIN_SUFFIX}`}return n}}Pi.reservedTenantDomains=new Set(["{tenant}","{tenantid}",id.COMMON,id.CONSUMERS,id.ORGANIZATIONS]);function jRe(t){var i;const r=(i=new fn(t).getUrlComponents().PathSegments.slice(-1)[0])==null?void 0:i.toLowerCase();switch(r){case id.COMMON:case id.ORGANIZATIONS:case id.CONSUMERS:return;default:return r}}function EX(t){return t.endsWith(ke.FORWARD_SLASH)?t:`${t}${ke.FORWARD_SLASH}`}function FRe(t){const e=t.cloudDiscoveryMetadata;let n;if(e)try{n=JSON.parse(e)}catch{throw jn(c5)}return{canonicalAuthority:t.authority?EX(t.authority):void 0,knownAuthorities:t.knownAuthorities,cloudDiscoveryMetadata:n}}/*! @azure/msal-common v14.15.0 2024-09-20 */async function TX(t,e,n,r,i,o,s){s==null||s.addQueueMeasurement(Z.AuthorityFactoryCreateDiscoveredInstance,o);const a=Pi.transformCIAMAuthority(EX(t)),c=new Pi(a,e,n,r,i,o,s);try{return await ot(c.resolveEndpointsAsync.bind(c),Z.AuthorityResolveEndpointsAsync,i,s,o)(),c}catch{throw $e(Jc)}}/*! @azure/msal-common v14.15.0 2024-09-20 */class p5{constructor(e,n){this.config=Kke(e),this.logger=new Ol(this.config.loggerOptions,tX,i5),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new qke(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=n}createTokenRequestHeaders(e){const n={};if(n[fc.CONTENT_TYPE]=ke.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case es.HOME_ACCOUNT_ID:try{const r=Fm(e.credential);n[fc.CCS_HEADER]=`Oid:${r.uid}@${r.utid}`}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case es.UPN:n[fc.CCS_HEADER]=`UPN: ${e.credential}`;break}return n}async executePostToTokenEndpoint(e,n,r,i,o,s){var c,l,d,p;s&&((c=this.performanceClient)==null||c.addQueueMeasurement(s,o));const a=await this.networkManager.sendPostRequest(i,e,{body:n,headers:r});return(p=this.performanceClient)==null||p.addFields({refreshTokenSize:((l=a.body.refresh_token)==null?void 0:l.length)||0,httpVerToken:((d=a.headers)==null?void 0:d[fc.X_MS_HTTP_VERSION])||""},o),this.config.serverTelemetryManager&&a.status<500&&a.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),a}async updateAuthority(e,n){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(Z.UpdateTokenEndpointAuthority,n);const r=`https://${e}/${this.authority.tenant}/`,i=await TX(r,this.networkClient,this.cacheManager,this.authority.options,this.logger,n,this.performanceClient);this.authority=i}createTokenQueryParameters(e){const n=new Xb;return e.tokenQueryParameters&&n.addExtraQueryParameters(e.tokenQueryParameters),n.createQueryString()}}/*! @azure/msal-common v14.15.0 2024-09-20 */const kT="no_tokens_found",IX="native_account_unavailable",m5="refresh_token_expired",URe="interaction_required",BRe="consent_required",VRe="login_required",cx="bad_token";/*! @azure/msal-common v14.15.0 2024-09-20 */const E9=[URe,BRe,VRe,cx],HRe=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],zRe={[kT]:"No refresh token found in the cache. Please sign-in.",[IX]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[m5]:"Refresh token has expired.",[cx]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};class ls extends Vn{constructor(e,n,r,i,o,s,a,c){super(e,n,r),Object.setPrototypeOf(this,ls.prototype),this.timestamp=i||ke.EMPTY_STRING,this.traceId=o||ke.EMPTY_STRING,this.correlationId=s||ke.EMPTY_STRING,this.claims=a||ke.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=c}}function T9(t,e,n){const r=!!t&&E9.indexOf(t)>-1,i=!!n&&HRe.indexOf(n)>-1,o=!!e&&E9.some(s=>e.indexOf(s)>-1);return r||o||i}function rM(t){return new ls(t,zRe[t])}/*! @azure/msal-common v14.15.0 2024-09-20 */class Ta{static setRequestState(e,n,r){const i=Ta.generateLibraryState(e,r);return n?`${i}${ke.RESOURCE_DELIM}${n}`:i}static generateLibraryState(e,n){if(!e)throw $e(ZN);const r={id:e.createNewGuid()};n&&(r.meta=n);const i=JSON.stringify(r);return e.base64Encode(i)}static parseRequestState(e,n){if(!e)throw $e(ZN);if(!n)throw $e(Xg);try{const r=n.split(ke.RESOURCE_DELIM),i=r[0],o=r.length>1?r.slice(1).join(ke.RESOURCE_DELIM):ke.EMPTY_STRING,s=e.base64Decode(i),a=JSON.parse(s);return{userRequestState:o||ke.EMPTY_STRING,libraryState:a}}catch{throw $e(Xg)}}}/*! @azure/msal-common v14.15.0 2024-09-20 */const $Re={SW:"sw"};class ev{constructor(e,n){this.cryptoUtils=e,this.performanceClient=n}async generateCnf(e,n){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(Z.PopTokenGenerateCnf,e.correlationId);const r=await ot(this.generateKid.bind(this),Z.PopTokenGenerateCnf,n,this.performanceClient,e.correlationId)(e),i=this.cryptoUtils.base64UrlEncode(JSON.stringify(r));return{kid:r.kid,reqCnfString:i}}async generateKid(e){var r;return(r=this.performanceClient)==null||r.addQueueMeasurement(Z.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:$Re.SW}}async signPopToken(e,n,r){return this.signPayload(e,n,r)}async signPayload(e,n,r,i){const{resourceRequestMethod:o,resourceRequestUri:s,shrClaims:a,shrNonce:c,shrOptions:l}=r,d=s?new fn(s):void 0,p=d==null?void 0:d.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:Ic(),m:o==null?void 0:o.toUpperCase(),u:p==null?void 0:p.HostNameAndPort,nonce:c||this.cryptoUtils.createNewGuid(),p:p==null?void 0:p.AbsolutePath,q:p!=null&&p.QueryString?[[],p.QueryString]:void 0,client_claims:a||void 0,...i},n,l,r.correlationId)}}/*! @azure/msal-common v14.15.0 2024-09-20 */class WRe{constructor(e,n){this.cache=e,this.hasChanged=n}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}/*! @azure/msal-common v14.15.0 2024-09-20 */function KRe(t){var r,i;const e="code=",n=(r=t.error_uri)==null?void 0:r.lastIndexOf(e);return n&&n>=0?(i=t.error_uri)==null?void 0:i.substring(n+e.length):void 0}class zh{constructor(e,n,r,i,o,s,a){this.clientId=e,this.cacheStorage=n,this.cryptoObj=r,this.logger=i,this.serializableCache=o,this.persistencePlugin=s,this.performanceClient=a}validateServerAuthorizationCodeResponse(e,n){if(!e.state||!n)throw e.state?$e(ST,"Cached State"):$e(ST,"Server State");let r,i;try{r=decodeURIComponent(e.state)}catch{throw $e(Xg,e.state)}try{i=decodeURIComponent(n)}catch{throw $e(Xg,e.state)}if(r!==i)throw $e(zQ);if(e.error||e.error_description||e.suberror){const o=KRe(e);throw T9(e.error,e.error_description,e.suberror)?new ls(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",o):new Nl(e.error||"",e.error_description,e.suberror,o)}}validateTokenResponse(e,n){var r;if(e.error||e.error_description||e.suberror){const i=`Error(s): ${e.error_codes||ke.NOT_AVAILABLE} - Timestamp: ${e.timestamp||ke.NOT_AVAILABLE} - Description: ${e.error_description||ke.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||ke.NOT_AVAILABLE} - Trace ID: ${e.trace_id||ke.NOT_AVAILABLE}`,o=(r=e.error_codes)!=null&&r.length?e.error_codes[0]:void 0,s=new Nl(e.error,i,e.suberror,o,e.status);if(n&&e.status&&e.status>=zw.SERVER_ERROR_RANGE_START&&e.status<=zw.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${s}`);return}else if(n&&e.status&&e.status>=zw.CLIENT_ERROR_RANGE_START&&e.status<=zw.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${s}`);return}throw T9(e.error,e.error_description,e.suberror)?new ls(e.error,e.error_description,e.suberror,e.timestamp||ke.EMPTY_STRING,e.trace_id||ke.EMPTY_STRING,e.correlation_id||ke.EMPTY_STRING,e.claims||ke.EMPTY_STRING,o):s}}async handleServerTokenResponse(e,n,r,i,o,s,a,c,l){var C;(C=this.performanceClient)==null||C.addQueueMeasurement(Z.HandleServerTokenResponse,e.correlation_id);let d;if(e.id_token){if(d=dp(e.id_token||ke.EMPTY_STRING,this.cryptoObj.base64Decode),o&&o.nonce&&d.nonce!==o.nonce)throw $e($Q);if(i.maxAge||i.maxAge===0){const _=d.auth_time;if(!_)throw $e(e5);nX(_,i.maxAge)}}this.homeAccountIdentifier=Yr.generateHomeAccountId(e.client_info||ke.EMPTY_STRING,n.authorityType,this.logger,this.cryptoObj,d);let p;o&&o.state&&(p=Ta.parseRequestState(this.cryptoObj,o.state)),e.key_id=e.key_id||i.sshKid||void 0;const m=this.generateCacheRecord(e,n,r,i,d,s,o);let g;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),g=new WRe(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(g)),a&&!c&&m.account){const _=m.account.generateAccountKey();if(!this.cacheStorage.getAccount(_,this.logger))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await zh.generateAuthenticationResult(this.cryptoObj,n,m,!1,i,d,p,void 0,l)}await this.cacheStorage.saveCacheRecord(m,i.storeInCache,i.correlationId)}finally{this.persistencePlugin&&this.serializableCache&&g&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(g))}return zh.generateAuthenticationResult(this.cryptoObj,n,m,!1,i,d,p,e,l)}generateCacheRecord(e,n,r,i,o,s,a){const c=n.getPreferredCache();if(!c)throw $e(n5);const l=yX(o);let d,p;e.id_token&&o&&(d=ix(this.homeAccountIdentifier,c,e.id_token,this.clientId,l||""),p=g5(this.cacheStorage,n,this.homeAccountIdentifier,this.cryptoObj.base64Decode,o,e.client_info,c,l,a,void 0,this.logger));let m=null;if(e.access_token){const _=e.scope?Ar.fromString(e.scope):new Ar(i.scopes||[]),S=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,w=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,T=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,I=r+S,A=I+w,k=T&&T>0?r+T:void 0;m=ox(this.homeAccountIdentifier,c,e.access_token,this.clientId,l||n.tenant||"",_.printScopes(),I,A,this.cryptoObj.base64Decode,k,e.token_type,s,e.key_id,i.claims,i.requestedClaimsHash)}let g=null;if(e.refresh_token){let _;if(e.refresh_token_expires_in){const S=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;_=r+S}g=rX(this.homeAccountIdentifier,c,e.refresh_token,this.clientId,e.foci,s,_)}let C=null;return e.foci&&(C={clientId:this.clientId,environment:c,familyId:e.foci}),{account:p,idToken:d,accessToken:m,refreshToken:g,appMetadata:C}}static async generateAuthenticationResult(e,n,r,i,o,s,a,c,l){var I,A,k,R,M;let d=ke.EMPTY_STRING,p=[],m=null,g,C,_=ke.EMPTY_STRING;if(r.accessToken){if(r.accessToken.tokenType===Nn.POP&&!o.popKid){const P=new ev(e),{secret:N,keyId:D}=r.accessToken;if(!D)throw $e(r5);d=await P.signPopToken(N,D,o)}else d=r.accessToken.secret;p=Ar.fromString(r.accessToken.target).asArray(),m=new Date(Number(r.accessToken.expiresOn)*1e3),g=new Date(Number(r.accessToken.extendedExpiresOn)*1e3),r.accessToken.refreshOn&&(C=new Date(Number(r.accessToken.refreshOn)*1e3))}r.appMetadata&&(_=r.appMetadata.familyId===Yb?Yb:"");const S=(s==null?void 0:s.oid)||(s==null?void 0:s.sub)||"",w=(s==null?void 0:s.tid)||"";c!=null&&c.spa_accountid&&r.account&&(r.account.nativeAccountId=c==null?void 0:c.spa_accountid);const T=r.account?d5(r.account.getAccountInfo(),void 0,s,(I=r.idToken)==null?void 0:I.secret):null;return{authority:n.canonicalAuthority,uniqueId:S,tenantId:w,scopes:p,account:T,idToken:((A=r==null?void 0:r.idToken)==null?void 0:A.secret)||"",idTokenClaims:s||{},accessToken:d,fromCache:i,expiresOn:m,extExpiresOn:g,refreshOn:C,correlationId:o.correlationId,requestId:l||ke.EMPTY_STRING,familyId:_,tokenType:((k=r.accessToken)==null?void 0:k.tokenType)||ke.EMPTY_STRING,state:a?a.userRequestState:ke.EMPTY_STRING,cloudGraphHostName:((R=r.account)==null?void 0:R.cloudGraphHostName)||ke.EMPTY_STRING,msGraphHost:((M=r.account)==null?void 0:M.msGraphHost)||ke.EMPTY_STRING,code:c==null?void 0:c.spa_code,fromNativeBroker:!1}}}function g5(t,e,n,r,i,o,s,a,c,l,d){d==null||d.verbose("setCachedAccount called");const m=t.getAccountKeys().find(w=>w.startsWith(n));let g=null;m&&(g=t.getAccount(m,d));const C=g||Yr.createAccount({homeAccountId:n,idTokenClaims:i,clientInfo:o,environment:s,cloudGraphHostName:c==null?void 0:c.cloud_graph_host_name,msGraphHost:c==null?void 0:c.msgraph_host,nativeAccountId:l},e,r),_=C.tenantProfiles||[],S=a||C.realm;if(S&&!_.find(w=>w.tenantId===S)){const w=u5(n,C.localAccountId,S,i);_.push(w)}return C.tenantProfiles=_,C}/*! @azure/msal-common v14.15.0 2024-09-20 */async function xX(t,e,n){return typeof t=="string"?t:t({clientId:e,tokenEndpoint:n})}/*! @azure/msal-common v14.15.0 2024-09-20 */class AX extends p5{constructor(e,n){var r;super(e,n),this.includeRedirectUri=!0,this.oidcDefaultScopes=(r=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:r.defaultScopes}async getAuthCodeUrl(e){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(Z.GetAuthCodeUrl,e.correlationId);const n=await ot(this.createAuthCodeUrlQueryString.bind(this),Z.AuthClientCreateQueryString,this.logger,this.performanceClient,e.correlationId)(e);return fn.appendQueryString(this.authority.authorizationEndpoint,n)}async acquireToken(e,n){var a,c;if((a=this.performanceClient)==null||a.addQueueMeasurement(Z.AuthClientAcquireToken,e.correlationId),!e.code)throw $e(GQ);const r=Ic(),i=await ot(this.executeTokenRequest.bind(this),Z.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),o=(c=i.headers)==null?void 0:c[fc.X_MS_REQUEST_ID],s=new zh(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return s.validateTokenResponse(i.body),ot(s.handleServerTokenResponse.bind(s),Z.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(i.body,this.authority,r,e,n,void 0,void 0,void 0,o)}handleFragmentResponse(e,n){if(new zh(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(e,n),!e.code)throw $e(ZQ);return e}getLogoutUri(e){if(!e)throw jn(uX);const n=this.createLogoutUrlQueryString(e);return fn.appendQueryString(this.authority.endSessionEndpoint,n)}async executeTokenRequest(e,n){var l,d;(l=this.performanceClient)==null||l.addQueueMeasurement(Z.AuthClientExecuteTokenRequest,n.correlationId);const r=this.createTokenQueryParameters(n),i=fn.appendQueryString(e.tokenEndpoint,r),o=await ot(this.createTokenRequestBody.bind(this),Z.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,n.correlationId)(n);let s;if(n.clientInfo)try{const p=TT(n.clientInfo,this.cryptoUtils.base64Decode);s={credential:`${p.uid}${Oi.CLIENT_INFO_SEPARATOR}${p.utid}`,type:es.HOME_ACCOUNT_ID}}catch(p){this.logger.verbose("Could not parse client info for CCS Header: "+p)}const a=this.createTokenRequestHeaders(s||n.ccsCredential),c={clientId:((d=n.tokenBodyParameters)==null?void 0:d.clientId)||this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:n.scopes,claims:n.claims,authenticationScheme:n.authenticationScheme,resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,sshKid:n.sshKid};return ot(this.executePostToTokenEndpoint.bind(this),Z.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,n.correlationId)(i,o,a,c,n.correlationId,Z.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var o,s;(o=this.performanceClient)==null||o.addQueueMeasurement(Z.AuthClientCreateTokenRequestBody,e.correlationId);const n=new Xb;if(n.addClientId(((s=e.tokenBodyParameters)==null?void 0:s[Jg])||this.config.authOptions.clientId),this.includeRedirectUri?n.addRedirectUri(e.redirectUri):ym.validateRedirectUri(e.redirectUri),n.addScopes(e.scopes,!0,this.oidcDefaultScopes),n.addAuthorizationCode(e.code),n.addLibraryInfo(this.config.libraryInfo),n.addApplicationTelemetry(this.config.telemetry.application),n.addThrottling(),this.serverTelemetryManager&&!tM(this.config)&&n.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&n.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&n.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const a=this.config.clientCredentials.clientAssertion;n.addClientAssertion(await xX(a.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),n.addClientAssertionType(a.assertionType)}if(n.addGrantType(DQ.AUTHORIZATION_CODE_GRANT),n.addClientInfo(),e.authenticationScheme===Nn.POP){const a=new ev(this.cryptoUtils,this.performanceClient);let c;e.popKid?c=this.cryptoUtils.encodeKid(e.popKid):c=(await ot(a.generateCnf.bind(a),Z.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,n.addPopToken(c)}else if(e.authenticationScheme===Nn.SSH)if(e.sshJwk)n.addSshJwk(e.sshJwk);else throw jn(sx);const r=e.correlationId||this.config.cryptoInterface.createNewGuid();n.addCorrelationId(r),(!Ea.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities);let i;if(e.clientInfo)try{const a=TT(e.clientInfo,this.cryptoUtils.base64Decode);i={credential:`${a.uid}${Oi.CLIENT_INFO_SEPARATOR}${a.utid}`,type:es.HOME_ACCOUNT_ID}}catch(a){this.logger.verbose("Could not parse client info for CCS Header: "+a)}else i=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&i)switch(i.type){case es.HOME_ACCOUNT_ID:try{const a=Fm(i.credential);n.addCcsOid(a)}catch(a){this.logger.verbose("Could not parse home account ID for CCS Header: "+a)}break;case es.UPN:n.addCcsUpn(i.credential);break}return e.tokenBodyParameters&&n.addExtraQueryParameters(e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[S9])&&n.addExtraQueryParameters({[S9]:"1"}),n.createQueryString()}async createAuthCodeUrlQueryString(e){var o,s;(o=this.performanceClient)==null||o.addQueueMeasurement(Z.AuthClientCreateQueryString,e.correlationId);const n=new Xb;n.addClientId(((s=e.extraQueryParameters)==null?void 0:s[Jg])||this.config.authOptions.clientId);const r=[...e.scopes||[],...e.extraScopesToConsent||[]];n.addScopes(r,!0,this.oidcDefaultScopes),n.addRedirectUri(e.redirectUri);const i=e.correlationId||this.config.cryptoInterface.createNewGuid();if(n.addCorrelationId(i),n.addResponseMode(e.responseMode),n.addResponseTypeCode(),n.addLibraryInfo(this.config.libraryInfo),tM(this.config)||n.addApplicationTelemetry(this.config.telemetry.application),n.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&n.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&n.addPrompt(e.prompt),e.domainHint&&n.addDomainHint(e.domainHint),e.prompt!==si.SELECT_ACCOUNT)if(e.sid&&e.prompt===si.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),n.addSid(e.sid);else if(e.account){const a=this.extractAccountSid(e.account);let c=this.extractLoginHint(e.account);if(c&&e.domainHint&&(this.logger.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),c=null),c){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),n.addLoginHint(c);try{const l=Fm(e.account.homeAccountId);n.addCcsOid(l)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(a&&e.prompt===si.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),n.addSid(a);try{const l=Fm(e.account.homeAccountId);n.addCcsOid(l)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),n.addLoginHint(e.loginHint),n.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),n.addLoginHint(e.account.username);try{const l=Fm(e.account.homeAccountId);n.addCcsOid(l)}catch{this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),n.addLoginHint(e.loginHint),n.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(e.nonce&&n.addNonce(e.nonce),e.state&&n.addState(e.state),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.addExtraQueryParams(e,n),e.nativeBroker&&(n.addNativeBroker(),e.authenticationScheme===Nn.POP)){const a=new ev(this.cryptoUtils);let c;e.popKid?c=this.cryptoUtils.encodeKid(e.popKid):c=(await ot(a.generateCnf.bind(a),Z.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,n.addPopToken(c)}return n.createQueryString()}createLogoutUrlQueryString(e){const n=new Xb;return e.postLogoutRedirectUri&&n.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&n.addCorrelationId(e.correlationId),e.idTokenHint&&n.addIdTokenHint(e.idTokenHint),e.state&&n.addState(e.state),e.logoutHint&&n.addLogoutHint(e.logoutHint),this.addExtraQueryParams(e,n),n.createQueryString()}addExtraQueryParams(e,n){!(e.extraQueryParameters&&e.extraQueryParameters.hasOwnProperty("instance_aware"))&&this.config.authOptions.instanceAware&&(e.extraQueryParameters=e.extraQueryParameters||{},e.extraQueryParameters.instance_aware="true"),e.extraQueryParameters&&n.addExtraQueryParameters(e.extraQueryParameters)}extractAccountSid(e){var n;return((n=e.idTokenClaims)==null?void 0:n.sid)||null}extractLoginHint(e){var n;return((n=e.idTokenClaims)==null?void 0:n.login_hint)||null}}/*! @azure/msal-common v14.15.0 2024-09-20 */const GRe=300;class iM extends p5{constructor(e,n){super(e,n)}async acquireToken(e){var s,a;(s=this.performanceClient)==null||s.addQueueMeasurement(Z.RefreshTokenClientAcquireToken,e.correlationId);const n=Ic(),r=await ot(this.executeTokenRequest.bind(this),Z.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),i=(a=r.headers)==null?void 0:a[fc.X_MS_REQUEST_ID],o=new zh(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(r.body),ot(o.handleServerTokenResponse.bind(o),Z.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,n,e,void 0,void 0,!0,e.forceCache,i)}async acquireTokenByRefreshToken(e){var r;if(!e)throw jn(lX);if((r=this.performanceClient)==null||r.addQueueMeasurement(Z.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw $e(t5);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await ot(this.acquireTokenWithCachedRefreshToken.bind(this),Z.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(i){const o=i instanceof ls&&i.errorCode===kT,s=i instanceof Nl&&i.errorCode===l9.INVALID_GRANT_ERROR&&i.subError===l9.CLIENT_MISMATCH_ERROR;if(o||s)return ot(this.acquireTokenWithCachedRefreshToken.bind(this),Z.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw i}return ot(this.acquireTokenWithCachedRefreshToken.bind(this),Z.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,n){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(Z.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);const r=fp(this.cacheManager.getRefreshToken.bind(this.cacheManager),Z.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,n,void 0,this.performanceClient,e.correlationId);if(!r)throw rM(kT);if(r.expiresOn&&eM(r.expiresOn,e.refreshTokenExpirationOffsetSeconds||GRe))throw rM(m5);const i={...e,refreshToken:r.secret,authenticationScheme:e.authenticationScheme||Nn.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:es.HOME_ACCOUNT_ID}};try{return await ot(this.acquireToken.bind(this),Z.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(i)}catch(s){if(s instanceof ls&&s.subError===cx){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const a=jm(r);this.cacheManager.removeRefreshToken(a)}throw s}}async executeTokenRequest(e,n){var c,l;(c=this.performanceClient)==null||c.addQueueMeasurement(Z.RefreshTokenClientExecuteTokenRequest,e.correlationId);const r=this.createTokenQueryParameters(e),i=fn.appendQueryString(n.tokenEndpoint,r),o=await ot(this.createTokenRequestBody.bind(this),Z.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),s=this.createTokenRequestHeaders(e.ccsCredential),a={clientId:((l=e.tokenBodyParameters)==null?void 0:l.clientId)||this.config.authOptions.clientId,authority:n.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return ot(this.executePostToTokenEndpoint.bind(this),Z.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(i,o,s,a,e.correlationId,Z.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var i,o,s;(i=this.performanceClient)==null||i.addQueueMeasurement(Z.RefreshTokenClientCreateTokenRequestBody,e.correlationId);const n=e.correlationId,r=new Xb;if(r.addClientId(((o=e.tokenBodyParameters)==null?void 0:o[Jg])||this.config.authOptions.clientId),e.redirectUri&&r.addRedirectUri(e.redirectUri),r.addScopes(e.scopes,!0,(s=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:s.defaultScopes),r.addGrantType(DQ.REFRESH_TOKEN_GRANT),r.addClientInfo(),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&!tM(this.config)&&r.addServerTelemetry(this.serverTelemetryManager),r.addCorrelationId(n),r.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const a=this.config.clientCredentials.clientAssertion;r.addClientAssertion(await xX(a.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),r.addClientAssertionType(a.assertionType)}if(e.authenticationScheme===Nn.POP){const a=new ev(this.cryptoUtils,this.performanceClient);let c;e.popKid?c=this.cryptoUtils.encodeKid(e.popKid):c=(await ot(a.generateCnf.bind(a),Z.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,r.addPopToken(c)}else if(e.authenticationScheme===Nn.SSH)if(e.sshJwk)r.addSshJwk(e.sshJwk);else throw jn(sx);if((!Ea.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case es.HOME_ACCOUNT_ID:try{const a=Fm(e.ccsCredential.credential);r.addCcsOid(a)}catch(a){this.logger.verbose("Could not parse home account ID for CCS Header: "+a)}break;case es.UPN:r.addCcsUpn(e.ccsCredential.credential);break}return e.tokenBodyParameters&&r.addExtraQueryParameters(e.tokenBodyParameters),r.createQueryString()}}/*! @azure/msal-common v14.15.0 2024-09-20 */class qRe extends p5{constructor(e,n){super(e,n)}async acquireToken(e){var n;try{const[r,i]=await this.acquireCachedToken({...e,scopes:(n=e.scopes)!=null&&n.length?e.scopes:[...Dv]});return i===Mu.PROACTIVELY_REFRESHED&&(this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),new iM(this.config,this.performanceClient).acquireTokenByRefreshToken(e).catch(()=>{})),r}catch(r){if(r instanceof rx&&r.errorCode===ul)return new iM(this.config,this.performanceClient).acquireTokenByRefreshToken(e);throw r}}async acquireCachedToken(e){var c;(c=this.performanceClient)==null||c.addQueueMeasurement(Z.SilentFlowClientAcquireCachedToken,e.correlationId);let n=Mu.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!Ea.isEmptyObj(e.claims))throw this.setCacheOutcome(Mu.FORCE_REFRESH_OR_CLAIMS,e.correlationId),$e(ul);if(!e.account)throw $e(t5);const r=e.account.tenantId||jRe(e.authority),i=this.cacheManager.getTokenKeys(),o=this.cacheManager.getAccessToken(e.account,e,i,r,this.performanceClient,e.correlationId);if(o){if(_ke(o.cachedAt)||eM(o.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(Mu.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),$e(ul);o.refreshOn&&eM(o.refreshOn,0)&&(n=Mu.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(Mu.NO_CACHED_ACCESS_TOKEN,e.correlationId),$e(ul);const s=e.authority||this.authority.getPreferredCache(),a={account:this.cacheManager.readAccountFromCache(e.account),accessToken:o,idToken:this.cacheManager.getIdToken(e.account,i,r,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(s)};return this.setCacheOutcome(n,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await ot(this.generateResultFromCacheRecord.bind(this),Z.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(a,e),n]}setCacheOutcome(e,n){var r,i;(r=this.serverTelemetryManager)==null||r.setCacheOutcome(e),(i=this.performanceClient)==null||i.addFields({cacheOutcome:e},n),e!==Mu.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,n){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(Z.SilentFlowClientGenerateResultFromCacheRecord,n.correlationId);let r;if(e.idToken&&(r=dp(e.idToken.secret,this.config.cryptoInterface.base64Decode)),n.maxAge||n.maxAge===0){const o=r==null?void 0:r.auth_time;if(!o)throw $e(e5);nX(o,n.maxAge)}return zh.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,n,r)}}/*! @azure/msal-common v14.15.0 2024-09-20 */const YRe={sendGetRequestAsync:()=>Promise.reject($e(en)),sendPostRequestAsync:()=>Promise.reject($e(en))};/*! @azure/msal-common v14.15.0 2024-09-20 */const I9=",",kX="|";function QRe(t){const{skus:e,libraryName:n,libraryVersion:r,extensionName:i,extensionVersion:o}=t,s=new Map([[0,[n,r]],[2,[i,o]]]);let a=[];if(e!=null&&e.length){if(a=e.split(I9),a.length<4)return e}else a=Array.from({length:4},()=>kX);return s.forEach((c,l)=>{var d,p;c.length===2&&((d=c[0])!=null&&d.length)&&((p=c[1])!=null&&p.length)&&XRe({skuArr:a,index:l,skuName:c[0],skuVersion:c[1]})}),a.join(I9)}function XRe(t){const{skuArr:e,index:n,skuName:r,skuVersion:i}=t;n>=e.length||(e[n]=[r,i].join(kX))}class X0{constructor(e,n){this.cacheOutcome=Mu.NOT_APPLICABLE,this.cacheManager=n,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||ke.EMPTY_STRING,this.wrapperVer=e.wrapperVer||ke.EMPTY_STRING,this.telemetryCacheKey=di.CACHE_KEY+Oi.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${di.VALUE_SEPARATOR}${this.cacheOutcome}`,n=[this.wrapperSKU,this.wrapperVer],r=this.getNativeBrokerErrorCode();r!=null&&r.length&&n.push(`broker_error=${r}`);const i=n.join(di.VALUE_SEPARATOR),o=this.getRegionDiscoveryFields(),s=[e,o].join(di.VALUE_SEPARATOR);return[di.SCHEMA_VERSION,s,i].join(di.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),n=X0.maxErrorsToSend(e),r=e.failedRequests.slice(0,2*n).join(di.VALUE_SEPARATOR),i=e.errors.slice(0,n).join(di.VALUE_SEPARATOR),o=e.errors.length,s=n<o?di.OVERFLOW_TRUE:di.OVERFLOW_FALSE,a=[o,s].join(di.VALUE_SEPARATOR);return[di.SCHEMA_VERSION,e.cacheHits,r,i,a].join(di.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const n=this.getLastRequests();n.errors.length>=di.MAX_CACHED_ERRORS&&(n.failedRequests.shift(),n.failedRequests.shift(),n.errors.shift()),n.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof Vn?e.subError?n.errors.push(e.subError):e.errorCode?n.errors.push(e.errorCode):n.errors.push(e.toString()):n.errors.push(e.toString()):n.errors.push(di.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){const e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){const e=this.getLastRequests(),n=X0.maxErrorsToSend(e),r=e.errors.length;if(n===r)this.cacheManager.removeItem(this.telemetryCacheKey);else{const i={failedRequests:e.failedRequests.slice(n*2),errors:e.errors.slice(n),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,i)}}static maxErrorsToSend(e){let n,r=0,i=0;const o=e.errors.length;for(n=0;n<o;n++){const s=e.failedRequests[2*n]||ke.EMPTY_STRING,a=e.failedRequests[2*n+1]||ke.EMPTY_STRING,c=e.errors[n]||ke.EMPTY_STRING;if(i+=s.toString().length+a.toString().length+c.length+3,i<di.MAX_LAST_HEADER_BYTES)r+=1;else break}return r}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||ke.EMPTY_STRING),e.push(this.regionSource||ke.EMPTY_STRING),e.push(this.regionOutcome||ke.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const n=this.getLastRequests();n.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return QRe(e)}}/*! @azure/msal-common v14.15.0 2024-09-20 */const RX="missing_kid_error",PX="missing_alg_error";/*! @azure/msal-common v14.15.0 2024-09-20 */const ZRe={[RX]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[PX]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class v5 extends Vn{constructor(e,n){super(e,n),this.name="JoseHeaderError",Object.setPrototypeOf(this,v5.prototype)}}function x9(t){return new v5(t,ZRe[t])}/*! @azure/msal-common v14.15.0 2024-09-20 */class y5{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw x9(RX);if(!e.alg)throw x9(PX);const n=new y5({typ:e.typ||oke.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(n)}}/*! @azure/msal-common v14.15.0 2024-09-20 */class oM{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class OX{generateId(){return"callback-id"}startMeasurement(e,n){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:nM.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:n||""},measurement:new oM}}startPerformanceMeasurement(){return new oM}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}/*! @azure/msal-common v14.15.0 2024-09-20 */function JRe(t,e,n){n&&n.push({name:e.get(t.name)||t.name})}function ePe(t,e,n,r){if(!(n!=null&&n.length))return;const i=g=>g.length?g[g.length-1]:void 0,o=e.get(t.name)||t.name,s=i(n);if((s==null?void 0:s.name)!==o)return;const a=n==null?void 0:n.pop();if(!a)return;const c=r instanceof Vn?r.errorCode:r instanceof Error?r.name:void 0,l=r instanceof Vn?r.subError:void 0;c&&a.childErr!==c&&(a.err=c,l&&(a.subErr=l)),delete a.name,delete a.childErr;const d={...a,dur:t.durationMs};t.success||(d.fail=1);const p=i(n);if(!p)return{[o]:d};c&&(p.childErr=c);let m;if(!p[o])m=o;else{const g=Object.keys(p).filter(C=>C.startsWith(o)).length;m=`${o}_${g+1}`}return p[m]=d,p}function tPe(t,e,n,r=5){var i,o;if(t instanceof Error){if(t instanceof Vn){n.errorCode=t.errorCode,n.subErrorCode=t.subError,(t instanceof Nl||t instanceof ls)&&(n.serverErrorNo=t.errorNo);return}else if(t instanceof bh){n.errorCode=t.errorCode;return}else if((i=n.errorStack)!=null&&i.length){e.trace("PerformanceClient.addErrorStack: Stack already exist",n.correlationId);return}else if(!((o=t.stack)!=null&&o.length)){e.trace("PerformanceClient.addErrorStack: Input stack is empty",n.correlationId);return}}else{e.trace("PerformanceClient.addErrorStack: Input error is not instance of Error",n.correlationId);return}t.stack&&(n.errorStack=nPe(t.stack,r)),n.errorName=t.name}function nPe(t,e){if(e<0)return[];const n=t.split(`
`)||[];if(n.length<2)return[];const r=[];for(let i=Math.max(n.length-e-1,1);i<n.length;i++){const o=n[i];if(r.length>=e)break;r.push(rPe(o))}return r}function rPe(t){const e=t.lastIndexOf(" ")+1;if(e<1)return t;const n=t.substring(e);let r=n.lastIndexOf("/");return r=r<0?n.lastIndexOf("\\"):r,r>=0?(t.substring(0,e)+"("+n.substring(r+1)+(n.charAt(n.length-1)===")"?"":")")).trimStart():t.trimStart()}class iPe{constructor(e,n,r,i,o,s,a,c){this.authority=n,this.libraryName=i,this.libraryVersion=o,this.applicationTelemetry=s,this.clientId=e,this.logger=r,this.callbacks=new Map,this.eventsByCorrelationId=new Map,this.eventStack=new Map,this.queueMeasurements=new Map,this.preQueueTimeByCorrelationId=new Map,this.intFields=a||new Set;for(const l of DRe)this.intFields.add(l);this.abbreviations=c||new Map;for(const[l,d]of LRe)this.abbreviations.set(l,d)}startPerformanceMeasurement(e,n){return{}}getPreQueueTime(e,n){const r=this.preQueueTimeByCorrelationId.get(n);if(r){if(r.name!==e){this.logger.trace(`PerformanceClient.getPreQueueTime: no pre-queue time found for ${e}, unable to add queue measurement`);return}}else{this.logger.trace(`PerformanceClient.getPreQueueTime: no pre-queue times found for correlationId: ${n}, unable to add queue measurement`);return}return r.time}calculateQueuedTime(e,n){return e<1?(this.logger.trace(`PerformanceClient: preQueueTime should be a positive integer and not ${e}`),0):n<1?(this.logger.trace(`PerformanceClient: currentTime should be a positive integer and not ${n}`),0):n<e?(this.logger.trace("PerformanceClient: currentTime is less than preQueueTime, check how time is being retrieved"),0):n-e}addQueueMeasurement(e,n,r,i){if(!n){this.logger.trace(`PerformanceClient.addQueueMeasurement: correlationId not provided for ${e}, cannot add queue measurement`);return}if(r===0)this.logger.trace(`PerformanceClient.addQueueMeasurement: queue time provided for ${e} is ${r}`);else if(!r){this.logger.trace(`PerformanceClient.addQueueMeasurement: no queue time provided for ${e}`);return}const o={eventName:e,queueTime:i?0:r,manuallyCompleted:i},s=this.queueMeasurements.get(n);if(s)s.push(o),this.queueMeasurements.set(n,s);else{this.logger.trace(`PerformanceClient.addQueueMeasurement: adding correlationId ${n} to queue measurements`);const a=[o];this.queueMeasurements.set(n,a)}this.preQueueTimeByCorrelationId.delete(n)}startMeasurement(e,n){var o,s;const r=n||this.generateId();n||this.logger.info(`PerformanceClient: No correlation id provided for ${e}, generating`,r),this.logger.trace(`PerformanceClient: Performance measurement started for ${e}`,r);const i={eventId:this.generateId(),status:nM.InProgress,authority:this.authority,libraryName:this.libraryName,libraryVersion:this.libraryVersion,clientId:this.clientId,name:e,startTimeMs:Date.now(),correlationId:r,appName:(o=this.applicationTelemetry)==null?void 0:o.appName,appVersion:(s=this.applicationTelemetry)==null?void 0:s.appVersion};return this.cacheEventByCorrelationId(i),JRe(i,this.abbreviations,this.eventStack.get(r)),{end:(a,c)=>this.endMeasurement({...i,...a},c),discard:()=>this.discardMeasurements(i.correlationId),add:a=>this.addFields(a,i.correlationId),increment:a=>this.incrementFields(a,i.correlationId),event:i,measurement:new oM}}endMeasurement(e,n){var l,d;const r=this.eventsByCorrelationId.get(e.correlationId);if(!r)return this.logger.trace(`PerformanceClient: Measurement not found for ${e.eventId}`,e.correlationId),null;const i=e.eventId===r.eventId;let o={totalQueueTime:0,totalQueueCount:0,manuallyCompletedCount:0};e.durationMs=Math.round(e.durationMs||this.getDurationMs(e.startTimeMs));const s=JSON.stringify(ePe(e,this.abbreviations,this.eventStack.get(r.correlationId),n));if(i?(o=this.getQueueInfo(e.correlationId),this.discardMeasurements(r.correlationId)):(l=r.incompleteSubMeasurements)==null||l.delete(e.eventId),this.logger.trace(`PerformanceClient: Performance measurement ended for ${e.name}: ${e.durationMs} ms`,e.correlationId),!i)return r[e.name+"DurationMs"]=Math.floor(e.durationMs),{...r};n&&tPe(n,this.logger,r);let a={...r,...e},c=0;return(d=a.incompleteSubMeasurements)==null||d.forEach(p=>{this.logger.trace(`PerformanceClient: Incomplete submeasurement ${p.name} found for ${e.name}`,a.correlationId),c++}),a.incompleteSubMeasurements=void 0,a={...a,queuedTimeMs:o.totalQueueTime,queuedCount:o.totalQueueCount,queuedManuallyCompletedCount:o.manuallyCompletedCount,status:nM.Completed,incompleteSubsCount:c,context:s},this.truncateIntegralFields(a),this.emitEvents([a],e.correlationId),a}addFields(e,n){this.logger.trace("PerformanceClient: Updating static fields");const r=this.eventsByCorrelationId.get(n);r?this.eventsByCorrelationId.set(n,{...r,...e}):this.logger.trace("PerformanceClient: Event not found for",n)}incrementFields(e,n){this.logger.trace("PerformanceClient: Updating counters");const r=this.eventsByCorrelationId.get(n);if(r)for(const i in e){if(!r.hasOwnProperty(i))r[i]=0;else if(isNaN(Number(r[i])))return;r[i]+=e[i]}else this.logger.trace("PerformanceClient: Event not found for",n)}cacheEventByCorrelationId(e){const n=this.eventsByCorrelationId.get(e.correlationId);n?(this.logger.trace(`PerformanceClient: Performance measurement for ${e.name} added/updated`,e.correlationId),n.incompleteSubMeasurements=n.incompleteSubMeasurements||new Map,n.incompleteSubMeasurements.set(e.eventId,{name:e.name,startTimeMs:e.startTimeMs})):(this.logger.trace(`PerformanceClient: Performance measurement for ${e.name} started`,e.correlationId),this.eventsByCorrelationId.set(e.correlationId,{...e}),this.eventStack.set(e.correlationId,[]))}getQueueInfo(e){const n=this.queueMeasurements.get(e);n||this.logger.trace(`PerformanceClient: no queue measurements found for for correlationId: ${e}`);let r=0,i=0,o=0;return n==null||n.forEach(s=>{r+=s.queueTime,i++,o+=s.manuallyCompleted?1:0}),{totalQueueTime:r,totalQueueCount:i,manuallyCompletedCount:o}}discardMeasurements(e){this.logger.trace("PerformanceClient: Performance measurements discarded",e),this.eventsByCorrelationId.delete(e),this.logger.trace("PerformanceClient: QueueMeasurements discarded",e),this.queueMeasurements.delete(e),this.logger.trace("PerformanceClient: Pre-queue times discarded",e),this.preQueueTimeByCorrelationId.delete(e),this.logger.trace("PerformanceClient: Event stack discarded",e),this.eventStack.delete(e)}addPerformanceCallback(e){for(const[r,i]of this.callbacks)if(i.toString()===e.toString())return this.logger.warning(`PerformanceClient: Performance callback is already registered with id: ${r}`),r;const n=this.generateId();return this.callbacks.set(n,e),this.logger.verbose(`PerformanceClient: Performance callback registered with id: ${n}`),n}removePerformanceCallback(e){const n=this.callbacks.delete(e);return n?this.logger.verbose(`PerformanceClient: Performance callback ${e} removed.`):this.logger.verbose(`PerformanceClient: Performance callback ${e} not removed.`),n}emitEvents(e,n){this.logger.verbose("PerformanceClient: Emitting performance events",n),this.callbacks.forEach((r,i)=>{this.logger.trace(`PerformanceClient: Emitting event to callback ${i}`,n),r.apply(null,[e])})}truncateIntegralFields(e){this.intFields.forEach(n=>{n in e&&typeof e[n]=="number"&&(e[n]=Math.floor(e[n]))})}getDurationMs(e){const n=Date.now()-e;return n<0?n:0}}/*! @azure/msal-browser v3.26.1 2024-10-08 */const b5="pkce_not_created",NX="crypto_nonexistent",lx="empty_navigate_uri",MX="hash_empty_error",C5="no_state_in_hash",LX="hash_does_not_contain_known_properties",DX="unable_to_parse_state",jX="state_interaction_type_mismatch",FX="interaction_in_progress",UX="popup_window_error",BX="empty_window_error",$h="user_cancelled",oPe="monitor_popup_timeout",VX="monitor_window_timeout",HX="redirect_in_iframe",zX="block_iframe_reload",$X="block_nested_popups",sPe="iframe_closed_prematurely",ux="silent_logout_unsupported",WX="no_account_error",aPe="silent_prompt_value_error",KX="no_token_request_cache_error",GX="unable_to_parse_token_request_cache_error",_5="no_cached_authority_error",cPe="auth_request_not_set_error",lPe="invalid_cache_type",w5="non_browser_environment",bm="database_not_open",RT="no_network_connectivity",qX="post_request_failed",YX="get_request_failed",sM="failed_to_parse_response",QX="unable_to_load_token",S5="crypto_key_not_found",XX="auth_code_required",ZX="auth_code_or_nativeAccountId_required",JX="spa_code_and_nativeAccountId_present",E5="database_unavailable",eZ="unable_to_acquire_token_from_native_platform",tZ="native_handshake_timeout",nZ="native_extension_not_installed",BC="native_connection_not_established",rZ="uninitialized_public_client_application",iZ="native_prompt_not_supported",oZ="invalid_base64_string",sZ="invalid_pop_token_request";/*! @azure/msal-browser v3.26.1 2024-10-08 */const Yc="For more visit: aka.ms/msaljs/browser-errors",uPe={[b5]:"The PKCE code challenge and verifier could not be generated.",[NX]:"The crypto object or function is not available.",[lx]:"Navigation URI is empty. Please check stack trace for more info.",[MX]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${Yc}`,[C5]:"Hash does not contain state. Please verify that the request originated from msal.",[LX]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${Yc}`,[DX]:"Unable to parse state. Please verify that the request originated from msal.",[jX]:"Hash contains state but the interaction type does not match the caller.",[FX]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${Yc}`,[UX]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[BX]:"window.open returned null or undefined window object.",[$h]:"User cancelled the flow.",[oPe]:`Token acquisition in popup failed due to timeout.  ${Yc}`,[VX]:`Token acquisition in iframe failed due to timeout.  ${Yc}`,[HX]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[zX]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${Yc}`,[$X]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[sPe]:"The iframe being monitored was closed prematurely.",[ux]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[WX]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[aPe]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[KX]:"No token request found in cache.",[GX]:"The cached token request could not be parsed.",[_5]:"No cached authority found.",[cPe]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[lPe]:"Invalid cache type",[w5]:"Login and token requests are not supported in non-browser environments.",[bm]:"Database is not open!",[RT]:"No network connectivity. Check your internet connection.",[qX]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[YX]:"Network request failed. Please check the network trace to determine root cause.",[sM]:"Failed to parse network response. Check network trace.",[QX]:"Error loading token to cache.",[S5]:"Cryptographic Key or Keypair not found in browser storage.",[XX]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[ZX]:"An authorization code or nativeAccountId must be provided to this flow.",[JX]:"Request cannot contain both spa code and native account id.",[E5]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[eZ]:`Unable to acquire token from native platform.  ${Yc}`,[tZ]:"Timed out while attempting to establish connection to browser extension",[nZ]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[BC]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${Yc}`,[rZ]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${Yc}`,[iZ]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[oZ]:"Invalid base64 encoded string.",[sZ]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true."};class VC extends Vn{constructor(e){super(e,uPe[e]),Object.setPrototypeOf(this,VC.prototype),this.name="BrowserAuthError"}}function St(t){return new VC(t)}/*! @azure/msal-browser v3.26.1 2024-10-08 */const Xo={INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},Um={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS"},Zf={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},xr={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},A9={GET:"GET",POST:"POST"},xn={AUTHORITY:"authority",ACQUIRE_TOKEN_ACCOUNT:"acquireToken.account",SESSION_STATE:"session.state",REQUEST_STATE:"request.state",NONCE_IDTOKEN:"nonce.id_token",ORIGIN_URI:"request.origin",RENEW_STATUS:"token.renew.status",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",SCOPES:"scopes",INTERACTION_STATUS_KEY:"interaction.status",CCS_CREDENTIAL:"ccs.credential",CORRELATION_ID:"request.correlationId",NATIVE_REQUEST:"request.native",REDIRECT_CONTEXT:"request.redirect.context"},xu={ACCOUNT_KEYS:"msal.account.keys",TOKEN_KEYS:"msal.token.keys"},qw={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},Xn={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var Pt;(function(t){t.Redirect="redirect",t.Popup="popup",t.Silent="silent",t.None="none"})(Pt||(Pt={}));const k9={scopes:Dv},aZ="jwk",aM="msal.db",dPe=1,fPe=`${aM}.keys`,Ko={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},hPe=[Ko.Default,Ko.Skip,Ko.RefreshTokenAndNetwork],pPe="msal.browser.log.level",mPe="msal.browser.log.pii",gPe="msal.browser.performance.enabled";/*! @azure/msal-browser v3.26.1 2024-10-08 */function Yw(t){return encodeURIComponent(T5(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function dx(t){return cZ(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function T5(t){return cZ(new TextEncoder().encode(t))}function cZ(t){const e=Array.from(t,n=>String.fromCodePoint(n)).join("");return btoa(e)}/*! @azure/msal-browser v3.26.1 2024-10-08 */const vPe="RSASSA-PKCS1-v1_5",lZ="SHA-256",yPe=2048,bPe=new Uint8Array([1,0,1]),R9="0123456789abcdef",P9=new Uint32Array(1),I5={name:vPe,hash:lZ,modulusLength:yPe,publicExponent:bPe};function CPe(t){if("crypto"in window)t.verbose("BrowserCrypto: modern crypto interface available");else throw t.error("BrowserCrypto: crypto interface is unavailable"),St(NX)}async function uZ(t,e,n){e==null||e.addQueueMeasurement(Z.Sha256Digest,n);const i=new TextEncoder().encode(t);return window.crypto.subtle.digest(lZ,i)}function _Pe(t){return window.crypto.getRandomValues(t)}function ZR(){return window.crypto.getRandomValues(P9),P9[0]}function xc(){const t=Date.now(),e=ZR()*1024+(ZR()&1023),n=new Uint8Array(16),r=Math.trunc(e/2**30),i=e&2**30-1,o=ZR();n[0]=t/2**40,n[1]=t/2**32,n[2]=t/2**24,n[3]=t/2**16,n[4]=t/2**8,n[5]=t,n[6]=112|r>>>8,n[7]=r,n[8]=128|i>>>24,n[9]=i>>>16,n[10]=i>>>8,n[11]=i,n[12]=o>>>24,n[13]=o>>>16,n[14]=o>>>8,n[15]=o;let s="";for(let a=0;a<n.length;a++)s+=R9.charAt(n[a]>>>4),s+=R9.charAt(n[a]&15),(a===3||a===5||a===7||a===9)&&(s+="-");return s}async function wPe(t,e){return window.crypto.subtle.generateKey(I5,t,e)}async function JR(t){return window.crypto.subtle.exportKey(aZ,t)}async function SPe(t,e,n){return window.crypto.subtle.importKey(aZ,t,I5,e,n)}async function EPe(t,e){return window.crypto.subtle.sign(I5,t,e)}async function dZ(t){const e=await uZ(t),n=new Uint8Array(e);return dx(n)}/*! @azure/msal-browser v3.26.1 2024-10-08 */const fZ="storage_not_supported",TPe="stubbed_public_client_application_called",hZ="in_mem_redirect_unavailable";/*! @azure/msal-browser v3.26.1 2024-10-08 */const IPe={[fZ]:"Given storage configuration option was not supported.",[TPe]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[hZ]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};class x5 extends Vn{constructor(e,n){super(e,n),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,x5.prototype)}}function pZ(t){return new x5(t,IPe[t])}/*! @azure/msal-browser v3.26.1 2024-10-08 */function xPe(t){t.location.hash="",typeof t.history.replaceState=="function"&&t.history.replaceState(null,"",`${t.location.origin}${t.location.pathname}${t.location.search}`)}function APe(t){const e=t.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):""}function A5(){return window.parent!==window}function kPe(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${Xo.POPUP_NAME_PREFIX}.`)===0}function dl(){return window.location.href.split("?")[0].split("#")[0]}function RPe(){const e=new fn(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}function PPe(){if(fn.hashContainsKnownProperties(window.location.hash)&&A5())throw St(zX)}function OPe(t){if(A5()&&!t)throw St(HX)}function NPe(){if(kPe())throw St($X)}function mZ(){if(typeof window>"u")throw St(w5)}function gZ(t){if(!t)throw St(rZ)}function k5(t){mZ(),PPe(),NPe(),gZ(t)}function O9(t,e){if(k5(t),OPe(e.system.allowRedirectInIframe),e.cache.cacheLocation===xr.MemoryStorage&&!e.cache.storeAuthStateInCookie)throw pZ(hZ)}function vZ(t){const e=document.createElement("link");e.rel="preconnect",e.href=new URL(t).origin,e.crossOrigin="anonymous",document.head.appendChild(e),window.setTimeout(()=>{try{document.head.removeChild(e)}catch{}},1e4)}function cM(){return xc()}/*! @azure/msal-browser v3.26.1 2024-10-08 */class PT{navigateInternal(e,n){return PT.defaultNavigateWindow(e,n)}navigateExternal(e,n){return PT.defaultNavigateWindow(e,n)}static defaultNavigateWindow(e,n){return n.noHistory?window.location.replace(e):window.location.assign(e),new Promise(r=>{setTimeout(()=>{r(!0)},n.timeout)})}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class MPe{async sendGetRequestAsync(e,n){let r;try{r=await fetch(e,{method:A9.GET,headers:this.getFetchHeaders(n)})}catch{throw window.navigator.onLine?St(YX):St(RT)}try{return{headers:this.getHeaderDict(r.headers),body:await r.json(),status:r.status}}catch{throw St(sM)}}async sendPostRequestAsync(e,n){const r=n&&n.body||ke.EMPTY_STRING;let i;try{i=await fetch(e,{method:A9.POST,headers:this.getFetchHeaders(n),body:r})}catch{throw window.navigator.onLine?St(qX):St(RT)}try{return{headers:this.getHeaderDict(i.headers),body:await i.json(),status:i.status}}catch{throw St(sM)}}getFetchHeaders(e){const n=new Headers;if(!(e&&e.headers))return n;const r=e.headers;return Object.keys(r).forEach(i=>{n.append(i,r[i])}),n}getHeaderDict(e){const n={};return e.forEach((r,i)=>{n[i]=r}),n}}/*! @azure/msal-browser v3.26.1 2024-10-08 */const LPe=6e4,lM=1e4,DPe=3e4,jPe=2e3;function FPe({auth:t,cache:e,system:n,telemetry:r},i){const o={clientId:ke.EMPTY_STRING,authority:`${ke.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:ke.EMPTY_STRING,authorityMetadata:ke.EMPTY_STRING,redirectUri:ke.EMPTY_STRING,postLogoutRedirectUri:ke.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:bl.AAD,OIDCOptions:{serverResponseType:UC.FRAGMENT,defaultScopes:[ke.OPENID_SCOPE,ke.PROFILE_SCOPE,ke.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:Q0.None,tenant:ke.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1},s={cacheLocation:xr.SessionStorage,temporaryCacheLocation:xr.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(e&&e.cacheLocation===xr.LocalStorage),claimsBasedCachingEnabled:!1},a={loggerCallback:()=>{},logLevel:tr.Info,piiLoggingEnabled:!1},l={...{...SX,loggerOptions:a,networkClient:i?new MPe:YRe,navigationClient:new PT,loadFrameTimeout:0,windowHashTimeout:(n==null?void 0:n.loadFrameTimeout)||LPe,iframeHashTimeout:(n==null?void 0:n.loadFrameTimeout)||lM,navigateFrameWait:0,redirectNavigationTimeout:DPe,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:(n==null?void 0:n.nativeBrokerHandshakeTimeout)||jPe,pollIntervalMilliseconds:Xo.DEFAULT_POLL_INTERVAL_MS},...n,loggerOptions:(n==null?void 0:n.loggerOptions)||a},d={application:{appName:ke.EMPTY_STRING,appVersion:ke.EMPTY_STRING},client:new OX};if((t==null?void 0:t.protocolMode)!==bl.OIDC&&(t!=null&&t.OIDCOptions)&&new Ol(l.loggerOptions).warning(JSON.stringify(jn(mX))),t!=null&&t.protocolMode&&t.protocolMode!==bl.AAD&&(l!=null&&l.allowNativeBroker))throw jn(gX);return{auth:{...o,...t,OIDCOptions:{...o.OIDCOptions,...t==null?void 0:t.OIDCOptions}},cache:{...s,...e},system:l,telemetry:{...d,...r}}}/*! @azure/msal-browser v3.26.1 2024-10-08 */const uM="@azure/msal-browser",tv="3.26.1";/*! @azure/msal-browser v3.26.1 2024-10-08 */class R5{static loggerCallback(e,n){switch(e){case tr.Error:console.error(n);return;case tr.Info:console.info(n);return;case tr.Verbose:console.debug(n);return;case tr.Warning:console.warn(n);return;default:console.log(n);return}}constructor(e){var c;this.browserEnvironment=typeof window<"u",this.config=FPe(e,this.browserEnvironment);let n;try{n=window[xr.SessionStorage]}catch{}const r=n==null?void 0:n.getItem(pPe),i=(c=n==null?void 0:n.getItem(mPe))==null?void 0:c.toLowerCase(),o=i==="true"?!0:i==="false"?!1:void 0,s={...this.config.system.loggerOptions},a=r&&Object.keys(tr).includes(r)?tr[r]:void 0;a&&(s.loggerCallback=R5.loggerCallback,s.logLevel=a),o!==void 0&&(s.piiLoggingEnabled=o),this.logger=new Ol(s,uM,tv),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class Wh extends R5{getModuleName(){return Wh.MODULE_NAME}getId(){return Wh.ID}async initialize(){return this.available=typeof window<"u",this.available}}Wh.MODULE_NAME="";Wh.ID="StandardOperatingContext";/*! @azure/msal-browser v3.26.1 2024-10-08 */function bc(t){return new TextDecoder().decode(UPe(t))}function UPe(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw St(oZ)}const n=atob(e);return Uint8Array.from(n,r=>r.codePointAt(0)||0)}/*! @azure/msal-browser v3.26.1 2024-10-08 */class BPe{constructor(){this.dbName=aM,this.version=dPe,this.tableName=fPe,this.dbOpen=!1}async open(){return new Promise((e,n)=>{const r=window.indexedDB.open(this.dbName,this.version);r.addEventListener("upgradeneeded",i=>{i.target.result.createObjectStore(this.tableName)}),r.addEventListener("success",i=>{const o=i;this.db=o.target.result,this.dbOpen=!0,e()}),r.addEventListener("error",()=>n(St(E5)))})}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(St(bm));const s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);s.addEventListener("success",a=>{const c=a;this.closeConnection(),n(c.target.result)}),s.addEventListener("error",a=>{this.closeConnection(),r(a)})})}async setItem(e,n){return await this.validateDbIsOpen(),new Promise((r,i)=>{if(!this.db)return i(St(bm));const a=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(n,e);a.addEventListener("success",()=>{this.closeConnection(),r()}),a.addEventListener("error",c=>{this.closeConnection(),i(c)})})}async removeItem(e){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(St(bm));const s=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);s.addEventListener("success",()=>{this.closeConnection(),n()}),s.addEventListener("error",a=>{this.closeConnection(),r(a)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((e,n)=>{if(!this.db)return n(St(bm));const o=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();o.addEventListener("success",s=>{const a=s;this.closeConnection(),e(a.target.result)}),o.addEventListener("error",s=>{this.closeConnection(),n(s)})})}async containsKey(e){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(St(bm));const s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);s.addEventListener("success",a=>{const c=a;this.closeConnection(),n(c.target.result===1)}),s.addEventListener("error",a=>{this.closeConnection(),r(a)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((e,n)=>{const r=window.indexedDB.deleteDatabase(aM),i=setTimeout(()=>n(!1),200);r.addEventListener("success",()=>(clearTimeout(i),e(!0))),r.addEventListener("blocked",()=>(clearTimeout(i),e(!0))),r.addEventListener("error",()=>(clearTimeout(i),n(!1)))})}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class dM{constructor(){this.cache=new Map}getItem(e){return this.cache.get(e)||null}setItem(e,n){this.cache.set(e,n)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach((n,r)=>{e.push(r)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class VPe{constructor(e){this.inMemoryCache=new dM,this.indexedDBCache=new BPe,this.logger=e}handleDatabaseAccessError(e){if(e instanceof VC&&e.errorCode===E5)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw e}async getItem(e){const n=this.inMemoryCache.getItem(e);if(!n)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(r){this.handleDatabaseAccessError(r)}return n}async setItem(e,n){this.inMemoryCache.setItem(e,n);try{await this.indexedDBCache.setItem(e,n)}catch(r){this.handleDatabaseAccessError(r)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(n){this.handleDatabaseAccessError(n)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(e.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(n){this.handleDatabaseAccessError(n)}return e}async containsKey(e){const n=this.inMemoryCache.containsKey(e);if(!n)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(r){this.handleDatabaseAccessError(r)}return n}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class nv{constructor(e,n){this.logger=e,CPe(e),this.cache=new VPe(this.logger),this.performanceClient=n}createNewGuid(){return xc()}base64Encode(e){return T5(e)}base64Decode(e){return bc(e)}base64UrlEncode(e){return Yw(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){var d;const n=(d=this.performanceClient)==null?void 0:d.startMeasurement(Z.CryptoOptsGetPublicKeyThumbprint,e.correlationId),r=await wPe(nv.EXTRACTABLE,nv.POP_KEY_USAGES),i=await JR(r.publicKey),o={e:i.e,kty:i.kty,n:i.n},s=N9(o),a=await this.hashString(s),c=await JR(r.privateKey),l=await SPe(c,!1,["sign"]);return await this.cache.setItem(a,{privateKey:l,publicKey:r.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),n&&n.end({success:!0}),a}async removeTokenBindingKey(e){return await this.cache.removeItem(e),!await this.cache.containsKey(e)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,n,r,i){var I;const o=(I=this.performanceClient)==null?void 0:I.startMeasurement(Z.CryptoOptsSignJwt,i),s=await this.cache.getItem(n);if(!s)throw St(S5);const a=await JR(s.publicKey),c=N9(a),l=Yw(JSON.stringify({kid:n})),d=y5.getShrHeaderString({...r==null?void 0:r.header,alg:a.alg,kid:l}),p=Yw(d);e.cnf={jwk:JSON.parse(c)};const m=Yw(JSON.stringify(e)),g=`${p}.${m}`,_=new TextEncoder().encode(g),S=await EPe(s.privateKey,_),w=dx(new Uint8Array(S)),T=`${g}.${w}`;return o&&o.end({success:!0}),T}async hashString(e){return dZ(e)}}nv.POP_KEY_USAGES=["sign","verify"];nv.EXTRACTABLE=!0;function N9(t){return JSON.stringify(t,Object.keys(t).sort())}/*! @azure/msal-browser v3.26.1 2024-10-08 */class fM{constructor(e){this.validateWindowStorage(e),this.windowStorage=window[e]}validateWindowStorage(e){if(e!==xr.LocalStorage&&e!==xr.SessionStorage||!window[e])throw pZ(fZ)}getItem(e){return this.windowStorage.getItem(e)}setItem(e,n){this.windowStorage.setItem(e,n)}removeItem(e){this.windowStorage.removeItem(e)}getKeys(){return Object.keys(this.windowStorage)}containsKey(e){return this.windowStorage.hasOwnProperty(e)}}/*! @azure/msal-browser v3.26.1 2024-10-08 */function yZ(t,e){if(!e)return null;try{return Ta.parseRequestState(t,e).libraryState.meta}catch{throw $e(Xg)}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class hM extends Zg{constructor(e,n,r,i,o,s){super(e,r,i,o),this.COOKIE_LIFE_MULTIPLIER=24*60*60*1e3,this.cacheConfig=n,this.logger=i,this.internalStorage=new dM,this.browserStorage=this.setupBrowserStorage(this.cacheConfig.cacheLocation),this.temporaryCacheStorage=this.setupTemporaryCacheStorage(this.cacheConfig.temporaryCacheLocation,this.cacheConfig.cacheLocation),n.cacheMigrationEnabled&&(this.migrateCacheEntries(),this.createKeyMaps()),this.performanceClient=s}setupBrowserStorage(e){switch(e){case xr.LocalStorage:case xr.SessionStorage:try{return new fM(e)}catch(n){this.logger.verbose(n);break}}return this.cacheConfig.cacheLocation=xr.MemoryStorage,new dM}setupTemporaryCacheStorage(e,n){switch(n){case xr.LocalStorage:case xr.SessionStorage:try{return new fM(e||xr.SessionStorage)}catch(r){return this.logger.verbose(r),this.internalStorage}case xr.MemoryStorage:default:return this.internalStorage}}migrateCacheEntries(){const e=`${ke.CACHE_PREFIX}.${ti.ID_TOKEN}`,n=`${ke.CACHE_PREFIX}.${ti.CLIENT_INFO}`,r=`${ke.CACHE_PREFIX}.${ti.ERROR}`,i=`${ke.CACHE_PREFIX}.${ti.ERROR_DESC}`,o=this.browserStorage.getItem(e),s=this.browserStorage.getItem(n),a=this.browserStorage.getItem(r),c=this.browserStorage.getItem(i),l=[o,s,a,c];[ti.ID_TOKEN,ti.CLIENT_INFO,ti.ERROR,ti.ERROR_DESC].forEach((p,m)=>{const g=l[m];g&&this.setTemporaryCache(p,g,!0)})}createKeyMaps(){this.logger.trace("BrowserCacheManager - createKeyMaps called.");const e=this.getItem(xu.ACCOUNT_KEYS),n=this.getItem(`${xu.TOKEN_KEYS}.${this.clientId}`);if(e&&n){this.logger.verbose("BrowserCacheManager:createKeyMaps - account and token key maps already exist, skipping migration.");return}this.browserStorage.getKeys().forEach(i=>{if(this.isCredentialKey(i)){const o=this.getItem(i);if(o){const s=this.validateAndParseJson(o);if(s&&s.hasOwnProperty("credentialType"))switch(s.credentialType){case Ft.ID_TOKEN:if(p9(s)){this.logger.trace("BrowserCacheManager:createKeyMaps - idToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - idToken with key: ${i} found, saving key to token key map`);const a=s,c=this.updateCredentialCacheKey(i,a);this.addTokenKey(c,Ft.ID_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching idToken schema with value containing idToken credentialType field but value failed IdTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed idToken validation on key: ${i}`);break;case Ft.ACCESS_TOKEN:case Ft.ACCESS_TOKEN_WITH_AUTH_SCHEME:if(h9(s)){this.logger.trace("BrowserCacheManager:createKeyMaps - accessToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - accessToken with key: ${i} found, saving key to token key map`);const a=s,c=this.updateCredentialCacheKey(i,a);this.addTokenKey(c,Ft.ACCESS_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching accessToken schema with value containing accessToken credentialType field but value failed AccessTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed accessToken validation on key: ${i}`);break;case Ft.REFRESH_TOKEN:if(m9(s)){this.logger.trace("BrowserCacheManager:createKeyMaps - refreshToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - refreshToken with key: ${i} found, saving key to token key map`);const a=s,c=this.updateCredentialCacheKey(i,a);this.addTokenKey(c,Ft.REFRESH_TOKEN);return}else this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching refreshToken schema with value containing refreshToken credentialType field but value failed RefreshTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed refreshToken validation on key: ${i}`);break}}}if(this.isAccountKey(i)){const o=this.getItem(i);if(o){const s=this.validateAndParseJson(o);s&&Yr.isAccountEntity(s)&&(this.logger.trace("BrowserCacheManager:createKeyMaps - account found, saving key to account key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - account with key: ${i} found, saving key to account key map`),this.addAccountKeyToMap(i))}}})}validateAndParseJson(e){try{const n=JSON.parse(e);return n&&typeof n=="object"?n:null}catch{return null}}getItem(e){return this.browserStorage.getItem(e)}setItem(e,n){this.browserStorage.setItem(e,n)}getAccount(e,n){this.logger.trace("BrowserCacheManager.getAccount called");const r=this.getCachedAccountEntity(e);return this.updateOutdatedCachedAccount(e,r,n)}getCachedAccountEntity(e){const n=this.getItem(e);if(!n)return this.removeAccountKeyFromMap(e),null;const r=this.validateAndParseJson(n);return!r||!Yr.isAccountEntity(r)?(this.removeAccountKeyFromMap(e),null):Zg.toObject(new Yr,r)}setAccount(e){this.logger.trace("BrowserCacheManager.setAccount called");const n=e.generateAccountKey();this.setItem(n,JSON.stringify(e)),this.addAccountKeyToMap(n)}getAccountKeys(){this.logger.trace("BrowserCacheManager.getAccountKeys called");const e=this.getItem(xu.ACCOUNT_KEYS);return e?JSON.parse(e):(this.logger.verbose("BrowserCacheManager.getAccountKeys - No account keys found"),[])}addAccountKeyToMap(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const n=this.getAccountKeys();n.indexOf(e)===-1?(n.push(e),this.setItem(xu.ACCOUNT_KEYS,JSON.stringify(n)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added")):this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map")}removeAccountKeyFromMap(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const n=this.getAccountKeys(),r=n.indexOf(e);r>-1?(n.splice(r,1),this.setItem(xu.ACCOUNT_KEYS,JSON.stringify(n)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}async removeAccount(e){super.removeAccount(e),this.removeAccountKeyFromMap(e)}removeOutdatedAccount(e){this.removeItem(e),this.removeAccountKeyFromMap(e)}removeIdToken(e){super.removeIdToken(e),this.removeTokenKey(e,Ft.ID_TOKEN)}async removeAccessToken(e){super.removeAccessToken(e),this.removeTokenKey(e,Ft.ACCESS_TOKEN)}removeRefreshToken(e){super.removeRefreshToken(e),this.removeTokenKey(e,Ft.REFRESH_TOKEN)}getTokenKeys(){this.logger.trace("BrowserCacheManager.getTokenKeys called");const e=this.getItem(`${xu.TOKEN_KEYS}.${this.clientId}`);if(e){const n=this.validateAndParseJson(e);if(n&&n.hasOwnProperty("idToken")&&n.hasOwnProperty("accessToken")&&n.hasOwnProperty("refreshToken"))return n;this.logger.error("BrowserCacheManager.getTokenKeys - Token keys found but in an unknown format. Returning empty key map.")}else this.logger.verbose("BrowserCacheManager.getTokenKeys - No token keys found");return{idToken:[],accessToken:[],refreshToken:[]}}addTokenKey(e,n){this.logger.trace("BrowserCacheManager addTokenKey called");const r=this.getTokenKeys();switch(n){case Ft.ID_TOKEN:r.idToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),r.idToken.push(e));break;case Ft.ACCESS_TOKEN:r.accessToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),r.accessToken.push(e));break;case Ft.REFRESH_TOKEN:r.refreshToken.indexOf(e)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),r.refreshToken.push(e));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${n}`),$e(JN)}this.setItem(`${xu.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(r))}removeTokenKey(e,n){this.logger.trace("BrowserCacheManager removeTokenKey called");const r=this.getTokenKeys();switch(n){case Ft.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${e} from map`);const i=r.idToken.indexOf(e);i>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),r.idToken.splice(i,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case Ft.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${e} from map`);const o=r.accessToken.indexOf(e);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),r.accessToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case Ft.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${e} from map`);const s=r.refreshToken.indexOf(e);s>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),r.refreshToken.splice(s,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${n}`),$e(JN)}this.setItem(`${xu.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(r))}getIdTokenCredential(e){const n=this.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,Ft.ID_TOKEN),null;const r=this.validateAndParseJson(n);return!r||!p9(r)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,Ft.ID_TOKEN),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),r)}setIdTokenCredential(e){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const n=jm(e);this.setItem(n,JSON.stringify(e)),this.addTokenKey(n,Ft.ID_TOKEN)}getAccessTokenCredential(e){const n=this.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,Ft.ACCESS_TOKEN),null;const r=this.validateAndParseJson(n);return!r||!h9(r)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,Ft.ACCESS_TOKEN),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),r)}setAccessTokenCredential(e){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const n=jm(e);this.setItem(n,JSON.stringify(e)),this.addTokenKey(n,Ft.ACCESS_TOKEN)}getRefreshTokenCredential(e){const n=this.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,Ft.REFRESH_TOKEN),null;const r=this.validateAndParseJson(n);return!r||!m9(r)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,Ft.REFRESH_TOKEN),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),r)}setRefreshTokenCredential(e){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const n=jm(e);this.setItem(n,JSON.stringify(e)),this.addTokenKey(n,Ft.REFRESH_TOKEN)}getAppMetadata(e){const n=this.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!Rke(e,r)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),r)}setAppMetadata(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");const n=kke(e);this.setItem(n,JSON.stringify(e))}getServerTelemetry(e){const n=this.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!xke(e,r)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),r)}setServerTelemetry(e,n){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(n))}getAuthorityMetadata(e){const n=this.internalStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(n);return r&&Pke(e,r)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),r):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(n=>this.isAuthorityMetadata(n))}setWrapperMetadata(e,n){this.internalStorage.setItem(qw.WRAPPER_SKU,e),this.internalStorage.setItem(qw.WRAPPER_VER,n)}getWrapperMetadata(){const e=this.internalStorage.getItem(qw.WRAPPER_SKU)||ke.EMPTY_STRING,n=this.internalStorage.getItem(qw.WRAPPER_VER)||ke.EMPTY_STRING;return[e,n]}setAuthorityMetadata(e,n){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(n))}getActiveAccount(){const e=this.generateCacheKey(ti.ACTIVE_ACCOUNT_FILTERS),n=this.getItem(e);if(!n){this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema");const i=this.generateCacheKey(ti.ACTIVE_ACCOUNT),o=this.getItem(i);if(!o)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null;const s=this.getAccountInfoFilteredBy({localAccountId:o});return s?(this.logger.trace("BrowserCacheManager.getActiveAccount: Legacy active account cache schema found"),this.logger.trace("BrowserCacheManager.getActiveAccount: Adding active account filters cache schema"),this.setActiveAccount(s),s):null}const r=this.validateAndParseJson(n);return r?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:r.homeAccountId,localAccountId:r.localAccountId,tenantId:r.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e){const n=this.generateCacheKey(ti.ACTIVE_ACCOUNT_FILTERS),r=this.generateCacheKey(ti.ACTIVE_ACCOUNT);if(e){this.logger.verbose("setActiveAccount: Active account set");const i={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId};this.browserStorage.setItem(n,JSON.stringify(i)),this.browserStorage.setItem(r,e.localAccountId)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(n),this.browserStorage.removeItem(r)}getThrottlingCache(e){const n=this.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!Ake(e,r)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),r)}setThrottlingCache(e,n){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(n))}getTemporaryCache(e,n){const r=n?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const o=this.getItemCookie(r);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),o}const i=this.temporaryCacheStorage.getItem(r);if(!i){if(this.cacheConfig.cacheLocation===xr.LocalStorage){const o=this.browserStorage.getItem(r);if(o)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),o}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),i}setTemporaryCache(e,n,r){const i=r?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(i,n),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(i,n))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(e))}getKeys(){return this.browserStorage.getKeys()}async clear(){await this.removeAllAccounts(),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach(e=>{(e.indexOf(ke.CACHE_PREFIX)!==-1||e.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(e)}),this.browserStorage.getKeys().forEach(e=>{(e.indexOf(ke.CACHE_PREFIX)!==-1||e.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(e)}),this.internalStorage.clear()}async clearTokensAndKeysWithClaims(e,n){e.addQueueMeasurement(Z.ClearTokensAndKeysWithClaims,n);const r=this.getTokenKeys(),i=[];r.accessToken.forEach(o=>{const s=this.getAccessTokenCredential(o);s!=null&&s.requestedClaimsHash&&o.includes(s.requestedClaimsHash.toLowerCase())&&i.push(this.removeAccessToken(o))}),await Promise.all(i),i.length>0&&this.logger.warning(`${i.length} access tokens with claims in the cache keys have been removed from the cache.`)}setItemCookie(e,n,r){let i=`${encodeURIComponent(e)}=${encodeURIComponent(n)};path=/;SameSite=Lax;`;if(r){const o=this.getCookieExpirationTime(r);i+=`expires=${o};`}this.cacheConfig.secureCookies&&(i+="Secure;"),document.cookie=i}getItemCookie(e){const n=`${encodeURIComponent(e)}=`,r=document.cookie.split(";");for(let i=0;i<r.length;i++){let o=r[i];for(;o.charAt(0)===" ";)o=o.substring(1);if(o.indexOf(n)===0)return decodeURIComponent(o.substring(n.length,o.length))}return ke.EMPTY_STRING}clearMsalCookies(){const e=`${ke.CACHE_PREFIX}.${this.clientId}`;document.cookie.split(";").forEach(r=>{for(;r.charAt(0)===" ";)r=r.substring(1);if(r.indexOf(e)===0){const i=r.split("=")[0];this.clearItemCookie(i)}})}clearItemCookie(e){this.setItemCookie(e,ke.EMPTY_STRING,-1)}getCookieExpirationTime(e){const n=new Date;return new Date(n.getTime()+e*this.COOKIE_LIFE_MULTIPLIER).toUTCString()}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):Ea.startsWith(e,ke.CACHE_PREFIX)||Ea.startsWith(e,ti.ADAL_ID_TOKEN)?e:`${ke.CACHE_PREFIX}.${this.clientId}.${e}`}generateAuthorityKey(e){const{libraryState:{id:n}}=Ta.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${xn.AUTHORITY}.${n}`)}generateNonceKey(e){const{libraryState:{id:n}}=Ta.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${xn.NONCE_IDTOKEN}.${n}`)}generateStateKey(e){const{libraryState:{id:n}}=Ta.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${xn.REQUEST_STATE}.${n}`)}getCachedAuthority(e){const n=this.generateStateKey(e),r=this.getTemporaryCache(n);if(!r)return null;const i=this.generateAuthorityKey(r);return this.getTemporaryCache(i)}updateCacheEntries(e,n,r,i,o){this.logger.trace("BrowserCacheManager.updateCacheEntries called");const s=this.generateStateKey(e);this.setTemporaryCache(s,e,!1);const a=this.generateNonceKey(e);this.setTemporaryCache(a,n,!1);const c=this.generateAuthorityKey(e);if(this.setTemporaryCache(c,r,!1),o){const l={credential:o.homeAccountId,type:es.HOME_ACCOUNT_ID};this.setTemporaryCache(xn.CCS_CREDENTIAL,JSON.stringify(l),!0)}else if(i){const l={credential:i,type:es.UPN};this.setTemporaryCache(xn.CCS_CREDENTIAL,JSON.stringify(l),!0)}}resetRequestCache(e){this.logger.trace("BrowserCacheManager.resetRequestCache called"),e&&(this.temporaryCacheStorage.getKeys().forEach(n=>{n.indexOf(e)!==-1&&this.removeTemporaryItem(n)}),this.removeTemporaryItem(this.generateStateKey(e)),this.removeTemporaryItem(this.generateNonceKey(e)),this.removeTemporaryItem(this.generateAuthorityKey(e))),this.removeTemporaryItem(this.generateCacheKey(xn.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(xn.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(xn.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(xn.CORRELATION_ID)),this.removeTemporaryItem(this.generateCacheKey(xn.CCS_CREDENTIAL)),this.removeTemporaryItem(this.generateCacheKey(xn.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cleanRequestByState(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){const n=this.generateStateKey(e),r=this.temporaryCacheStorage.getItem(n);this.logger.infoPii(`BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: ${r}`),this.resetRequestCache(r||ke.EMPTY_STRING)}this.clearMsalCookies()}cleanRequestByInteractionType(e){this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.temporaryCacheStorage.getKeys().forEach(n=>{if(n.indexOf(xn.REQUEST_STATE)===-1)return;const r=this.temporaryCacheStorage.getItem(n);if(!r)return;const i=yZ(this.cryptoImpl,r);i&&i.interactionType===e&&(this.logger.infoPii(`BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: ${r}`),this.resetRequestCache(r))}),this.clearMsalCookies(),this.setInteractionInProgress(!1)}cacheCodeRequest(e){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");const n=T5(JSON.stringify(e));this.setTemporaryCache(xn.REQUEST_PARAMS,n,!0)}getCachedRequest(e){this.logger.trace("BrowserCacheManager.getCachedRequest called");const n=this.getTemporaryCache(xn.REQUEST_PARAMS,!0);if(!n)throw St(KX);let r;try{r=JSON.parse(bc(n))}catch(i){throw this.logger.errorPii(`Attempted to parse: ${n}`),this.logger.error(`Parsing cached token request threw with error: ${i}`),St(GX)}if(this.removeTemporaryItem(this.generateCacheKey(xn.REQUEST_PARAMS)),!r.authority){const i=this.generateAuthorityKey(e),o=this.getTemporaryCache(i);if(!o)throw St(_5);r.authority=o}return r}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(xn.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const n=this.validateAndParseJson(e);return n||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){const n=this.getInteractionInProgress();return e?n===this.clientId:!!n}getInteractionInProgress(){const e=`${ke.CACHE_PREFIX}.${xn.INTERACTION_STATUS_KEY}`;return this.getTemporaryCache(e,!1)}setInteractionInProgress(e){const n=`${ke.CACHE_PREFIX}.${xn.INTERACTION_STATUS_KEY}`;if(e){if(this.getInteractionInProgress())throw St(FX);this.setTemporaryCache(n,this.clientId,!1)}else!e&&this.getInteractionInProgress()===this.clientId&&this.removeTemporaryItem(n)}getLegacyLoginHint(){const e=this.getTemporaryCache(ti.ADAL_ID_TOKEN);e&&(this.browserStorage.removeItem(ti.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));const n=this.getTemporaryCache(ti.ID_TOKEN,!0);n&&(this.browserStorage.removeItem(this.generateCacheKey(ti.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));const r=n||e;if(r){const i=dp(r,bc);if(i.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),i.preferred_username;if(i.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),i.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null}updateCredentialCacheKey(e,n){const r=jm(n);if(e!==r){const i=this.getItem(e);if(i)return this.browserStorage.removeItem(e),this.setItem(r,i),this.logger.verbose(`Updated an outdated ${n.credentialType} cache key`),r;this.logger.error(`Attempted to update an outdated ${n.credentialType} cache key but no item matching the outdated key was found in storage`)}return e}async hydrateCache(e,n){var a,c,l;const r=ix((a=e.account)==null?void 0:a.homeAccountId,(c=e.account)==null?void 0:c.environment,e.idToken,this.clientId,e.tenantId);let i;n.claims&&(i=await this.cryptoImpl.hashString(n.claims));const o=ox((l=e.account)==null?void 0:l.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?e.expiresOn.getTime()/1e3:0,e.extExpiresOn?e.extExpiresOn.getTime()/1e3:0,bc,void 0,e.tokenType,void 0,n.sshKid,n.claims,i),s={idToken:r,accessToken:o};return this.saveCacheRecord(s)}async saveCacheRecord(e,n,r){try{await super.saveCacheRecord(e,n,r)}catch(i){if(i instanceof bh&&this.performanceClient&&r)try{const o=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:o.refreshToken.length,cacheIdCount:o.idToken.length,cacheAtCount:o.accessToken.length},r)}catch{}throw i}}}const HPe=(t,e)=>{const n={cacheLocation:xr.MemoryStorage,temporaryCacheLocation:xr.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new hM(t,n,ET,e)};/*! @azure/msal-browser v3.26.1 2024-10-08 */function zPe(t,e,n,r){return t.verbose("getAllAccounts called"),n?e.getAllAccounts(r):[]}function $Pe(t,e,n){if(e.trace("getAccount called"),Object.keys(t).length===0)return e.warning("getAccount: No accountFilter provided"),null;const r=n.getAccountInfoFilteredBy(t);return r?(e.verbose("getAccount: Account matching provided filter found, returning"),r):(e.verbose("getAccount: No matching account found, returning null"),null)}function WPe(t,e,n){if(e.trace("getAccountByUsername called"),!t)return e.warning("getAccountByUsername: No username provided"),null;const r=n.getAccountInfoFilteredBy({username:t});return r?(e.verbose("getAccountByUsername: Account matching username found, returning"),e.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${t}`),r):(e.verbose("getAccountByUsername: No matching account found, returning null"),null)}function KPe(t,e,n){if(e.trace("getAccountByHomeId called"),!t)return e.warning("getAccountByHomeId: No homeAccountId provided"),null;const r=n.getAccountInfoFilteredBy({homeAccountId:t});return r?(e.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),e.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${t}`),r):(e.verbose("getAccountByHomeId: No matching account found, returning null"),null)}function GPe(t,e,n){if(e.trace("getAccountByLocalId called"),!t)return e.warning("getAccountByLocalId: No localAccountId provided"),null;const r=n.getAccountInfoFilteredBy({localAccountId:t});return r?(e.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),e.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${t}`),r):(e.verbose("getAccountByLocalId: No matching account found, returning null"),null)}function qPe(t,e){e.setActiveAccount(t)}function YPe(t){return t.getActiveAccount()}/*! @azure/msal-browser v3.26.1 2024-10-08 */const at={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache"};/*! @azure/msal-browser v3.26.1 2024-10-08 */class QPe{constructor(e){this.eventCallbacks=new Map,this.logger=e||new Ol({})}addEventCallback(e,n,r){if(typeof window<"u"){const i=r||cM();return this.eventCallbacks.has(i)?(this.logger.error(`Event callback with id: ${i} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(i,[e,n||[]]),this.logger.verbose(`Event callback registered with id: ${i}`),i)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,n,r,i){if(typeof window<"u"){const o={eventType:e,interactionType:n||null,payload:r||null,error:i||null,timestamp:Date.now()};this.eventCallbacks.forEach(([s,a],c)=>{(a.length===0||a.includes(e))&&(this.logger.verbose(`Emitting event to callback ${c}: ${e}`),s.apply(null,[o]))})}}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class bZ{constructor(e,n,r,i,o,s,a,c,l){this.config=e,this.browserStorage=n,this.browserCrypto=r,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=s,this.nativeMessageHandler=c,this.correlationId=l||xc(),this.logger=i.clone(Xo.MSAL_SKU,tv,this.correlationId),this.performanceClient=a}async clearCacheOnLogout(e){if(e){Yr.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{await this.browserStorage.removeAccount(Yr.generateAccountCacheKey(e)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),await this.browserStorage.clear(),await this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const n=e||this.config.auth.redirectUri||dl();return fn.getAbsoluteUrl(n,dl())}initializeServerTelemetryManager(e,n){this.logger.verbose("initializeServerTelemetryManager called");const r={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:n||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new X0(r,this.browserStorage)}async getDiscoveredAuthority(e){const{account:n}=e,r=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(Z.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);const i={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e.requestAuthority||this.config.auth.authority,s=r!=null&&r.length?r==="true":this.config.auth.instanceAware,a=n&&s?this.config.auth.authority.replace(fn.getDomainFromUrl(o),n.environment):o,c=Pi.generateAuthority(a,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),l=await ot(TX,Z.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(c,this.config.system.networkClient,this.browserStorage,i,this.logger,this.correlationId,this.performanceClient);if(n&&!l.isAlias(n.environment))throw jn(vX);return l}}/*! @azure/msal-browser v3.26.1 2024-10-08 */const XPe=32;async function ZPe(t,e,n){t.addQueueMeasurement(Z.GeneratePkceCodes,n);const r=fp(JPe,Z.GenerateCodeVerifier,e,t,n)(t,e,n),i=await ot(eOe,Z.GenerateCodeChallengeFromVerifier,e,t,n)(r,t,e,n);return{verifier:r,challenge:i}}function JPe(t,e,n){try{const r=new Uint8Array(XPe);return fp(_Pe,Z.GetRandomValues,e,t,n)(r),dx(r)}catch{throw St(b5)}}async function eOe(t,e,n,r){e.addQueueMeasurement(Z.GenerateCodeChallengeFromVerifier,r);try{const i=await ot(uZ,Z.Sha256Digest,n,e,r)(t,e,r);return dx(new Uint8Array(i))}catch{throw St(b5)}}/*! @azure/msal-browser v3.26.1 2024-10-08 */async function P5(t,e,n,r){n.addQueueMeasurement(Z.InitializeBaseRequest,t.correlationId);const i=t.authority||e.auth.authority,o=[...t&&t.scopes||[]],s={...t,correlationId:t.correlationId,authority:i,scopes:o};if(!s.authenticationScheme)s.authenticationScheme=Nn.BEARER,r.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(s.authenticationScheme===Nn.SSH){if(!t.sshJwk)throw jn(sx);if(!t.sshKid)throw jn(pX)}r.verbose(`Authentication Scheme set to "${s.authenticationScheme}" as configured in Auth request`)}return e.cache.claimsBasedCachingEnabled&&t.claims&&!Ea.isEmptyObj(t.claims)&&(s.requestedClaimsHash=await dZ(t.claims)),s}async function tOe(t,e,n,r,i){r.addQueueMeasurement(Z.InitializeSilentRequest,t.correlationId);const o=await ot(P5,Z.InitializeBaseRequest,i,r,t.correlationId)(t,n,r,i);return{...t,...o,account:e,forceRefresh:t.forceRefresh||!1}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class jv extends bZ{async initializeAuthorizationCodeRequest(e){this.performanceClient.addQueueMeasurement(Z.StandardInteractionClientInitializeAuthorizationCodeRequest,this.correlationId);const n=await ot(ZPe,Z.GeneratePkceCodes,this.logger,this.performanceClient,this.correlationId)(this.performanceClient,this.logger,this.correlationId),r={...e,redirectUri:e.redirectUri,code:ke.EMPTY_STRING,codeVerifier:n.verifier};return e.codeChallenge=n.challenge,e.codeChallengeMethod=ke.S256_CODE_CHALLENGE_METHOD,r}initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e==null?void 0:e.correlationId);const n={correlationId:this.correlationId||xc(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const r=this.getLogoutHintFromIdTokenClaims(e.account);r&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),n.logoutHint=r)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!e||e.postLogoutRedirectUri!==null?e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",n.correlationId),n.postLogoutRedirectUri=fn.getAbsoluteUrl(e.postLogoutRedirectUri,dl())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",n.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",n.correlationId),n.postLogoutRedirectUri=fn.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,dl())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",n.correlationId),n.postLogoutRedirectUri=fn.getAbsoluteUrl(dl(),dl())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",n.correlationId),n}getLogoutHintFromIdTokenClaims(e){const n=e.idTokenClaims;if(n){if(n.login_hint)return n.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(Z.StandardInteractionClientCreateAuthCodeClient,this.correlationId);const n=await ot(this.getClientConfiguration.bind(this),Z.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e);return new AX(n,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:n,requestAuthority:r,requestAzureCloudOptions:i,requestExtraQueryParameters:o,account:s}=e;this.performanceClient.addQueueMeasurement(Z.StandardInteractionClientGetClientConfiguration,this.correlationId);const a=await ot(this.getDiscoveredAuthority.bind(this),Z.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)({requestAuthority:r,requestAzureCloudOptions:i,requestExtraQueryParameters:o,account:s}),c=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:a,clientCapabilities:this.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:c.loggerCallback,piiLoggingEnabled:c.piiLoggingEnabled,logLevel:c.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:n,libraryInfo:{sku:Xo.MSAL_SKU,version:tv,cpu:ke.EMPTY_STRING,os:ke.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,n){this.performanceClient.addQueueMeasurement(Z.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);const r=this.getRedirectUri(e.redirectUri),i={interactionType:n},o=Ta.setRequestState(this.browserCrypto,e&&e.state||ke.EMPTY_STRING,i),a={...await ot(P5,Z.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:r,state:o,nonce:e.nonce||xc(),responseMode:this.config.auth.OIDCOptions.serverResponseType},c=e.account||this.browserStorage.getActiveAccount();if(c&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${c.homeAccountId}`,this.correlationId),a.account=c),!a.loginHint&&!c){const l=this.browserStorage.getLegacyLoginHint();l&&(a.loginHint=l)}return a}}/*! @azure/msal-browser v3.26.1 2024-10-08 */const nOe="ContentError",CZ="user_switch";/*! @azure/msal-browser v3.26.1 2024-10-08 */const rOe="USER_INTERACTION_REQUIRED",iOe="USER_CANCEL",oOe="NO_NETWORK",sOe="PERSISTENT_ERROR",aOe="DISABLED",cOe="ACCOUNT_UNAVAILABLE";/*! @azure/msal-browser v3.26.1 2024-10-08 */const lOe=-2147186943,uOe={[CZ]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class cc extends Vn{constructor(e,n,r){super(e,n),Object.setPrototypeOf(this,cc.prototype),this.name="NativeAuthError",this.ext=r}}function Cm(t){if(t.ext&&t.ext.status&&(t.ext.status===sOe||t.ext.status===aOe)||t.ext&&t.ext.error&&t.ext.error===lOe)return!0;switch(t.errorCode){case nOe:return!0;default:return!1}}function pM(t,e,n){if(n&&n.status)switch(n.status){case cOe:return rM(IX);case rOe:return new ls(t,e);case iOe:return St($h);case oOe:return St(RT)}return new cc(t,uOe[t]||e,n)}/*! @azure/msal-browser v3.26.1 2024-10-08 */class _Z extends jv{async acquireToken(e){this.performanceClient.addQueueMeasurement(Z.SilentCacheClientAcquireToken,e.correlationId);const n=this.initializeServerTelemetryManager(Xn.acquireTokenSilent_silentFlow),r=await ot(this.getClientConfiguration.bind(this),Z.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),i=new qRe(r,this.performanceClient);this.logger.verbose("Silent auth client created");try{const s=(await ot(i.acquireCachedToken.bind(i),Z.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),s}catch(o){throw o instanceof VC&&o.errorCode===S5&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),o}}logout(e){this.logger.verbose("logoutRedirect called");const n=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(n==null?void 0:n.account)}}/*! @azure/msal-browser v3.26.1 2024-10-08 */const eP={BROKER_CLIENT_ID:"brk_client_id",BROKER_REDIRECT_URI:"brk_redirect_uri"};class sg extends bZ{constructor(e,n,r,i,o,s,a,c,l,d,p,m){var C;super(e,n,r,i,o,s,c,l,m),this.apiId=a,this.accountId=d,this.nativeMessageHandler=l,this.nativeStorageManager=p,this.silentCacheClient=new _Z(e,this.nativeStorageManager,r,i,o,s,c,l,m),this.serverTelemetryManager=this.initializeServerTelemetryManager(this.apiId);const g=this.nativeMessageHandler.getExtensionId()===Um.PREFERRED_EXTENSION_ID?"chrome":(C=this.nativeMessageHandler.getExtensionId())!=null&&C.length?"unknown":void 0;this.skus=X0.makeExtraSkuString({libraryName:Xo.MSAL_SKU,libraryVersion:tv,extensionName:g,extensionVersion:this.nativeMessageHandler.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[PRe]:this.skus}}async acquireToken(e){this.performanceClient.addQueueMeasurement(Z.NativeInteractionClientAcquireToken,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const n=this.performanceClient.startMeasurement(Z.NativeInteractionClientAcquireToken,e.correlationId),r=Ic();try{const i=await this.initializeNativeRequest(e);try{const l=await this.acquireTokensFromCache(this.accountId,i);return n.end({success:!0,isNativeBroker:!1,fromCache:!0}),l}catch{this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const{...o}=i,s={method:Zf.GetToken,request:o},a=await this.nativeMessageHandler.sendMessage(s),c=this.validateNativeResponse(a);return await this.handleNativeResponse(c,i,r).then(l=>(n.end({success:!0,isNativeBroker:!0,requestId:l.requestId}),this.serverTelemetryManager.clearNativeBrokerErrorCode(),l)).catch(l=>{throw n.end({success:!1,errorCode:l.errorCode,subErrorCode:l.subError,isNativeBroker:!0}),l})}catch(i){throw i instanceof cc&&this.serverTelemetryManager.setNativeBrokerErrorCode(i.errorCode),i}}createSilentCacheRequest(e,n){return{authority:e.authority,correlationId:this.correlationId,scopes:Ar.fromString(e.scope).asArray(),account:n,forceRefresh:!1}}async acquireTokensFromCache(e,n){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),$e(XN);const r=this.browserStorage.getBaseAccountInfo({nativeAccountId:e});if(!r)throw $e(XN);try{const i=this.createSilentCacheRequest(n,r),o=await this.silentCacheClient.acquireToken(i),s={...r,idTokenClaims:o==null?void 0:o.idTokenClaims,idToken:o==null?void 0:o.idToken};return{...o,account:s}}catch(i){throw i}}async acquireTokenRedirect(e,n){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...r}=e;delete r.onRedirectNavigate;const i=await this.initializeNativeRequest(r),o={method:Zf.GetToken,request:i};try{const c=await this.nativeMessageHandler.sendMessage(o);this.validateNativeResponse(c)}catch(c){if(c instanceof cc&&(this.serverTelemetryManager.setNativeBrokerErrorCode(c.errorCode),Cm(c)))throw c}this.browserStorage.setTemporaryCache(xn.NATIVE_REQUEST,JSON.stringify(i),!0);const s={apiId:Xn.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);n.end({success:!0}),await this.navigationClient.navigateExternal(a,s)}async handleRedirectPromise(e,n){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const r=this.browserStorage.getCachedNativeRequest();if(!r)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&n&&(e==null||e.addFields({errorCode:"no_cached_request"},n)),null;const{prompt:i,...o}=r;i&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(xn.NATIVE_REQUEST));const s={method:Zf.GetToken,request:o},a=Ic();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const c=await this.nativeMessageHandler.sendMessage(s);this.validateNativeResponse(c);const l=this.handleNativeResponse(c,o,a);this.browserStorage.setInteractionInProgress(!1);const d=await l;return this.serverTelemetryManager.clearNativeBrokerErrorCode(),d}catch(c){throw this.browserStorage.setInteractionInProgress(!1),c}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,n,r){var d;this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const i=dp(e.id_token,bc),o=this.createHomeAccountIdentifier(e,i),s=(d=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:n.accountId}))==null?void 0:d.homeAccountId;if(o!==s&&e.account.id!==n.accountId)throw pM(CZ);const a=await this.getDiscoveredAuthority({requestAuthority:n.authority}),c=g5(this.browserStorage,a,o,bc,i,e.client_info,void 0,i.tid,void 0,e.account.id,this.logger),l=await this.generateAuthenticationResult(e,n,i,c,a.canonicalAuthority,r);return this.cacheAccount(c),this.cacheNativeTokens(e,n,o,i,e.access_token,l.tenantId,r),l}createHomeAccountIdentifier(e,n){return Yr.generateHomeAccountId(e.client_info||ke.EMPTY_STRING,ga.Default,this.logger,this.browserCrypto,n)}generateScopes(e,n){return e.scope?Ar.fromString(e.scope):Ar.fromString(n.scope)}async generatePopAccessToken(e,n){if(n.tokenType===Nn.POP&&n.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const r=new ev(this.browserCrypto),i={resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,shrNonce:n.shrNonce};if(!n.keyId)throw $e(r5);return r.signPopToken(e.access_token,n.keyId,i)}else return e.access_token}async generateAuthenticationResult(e,n,r,i,o,s){const a=this.addTelemetryFromNativeResponse(e),c=e.scope?Ar.fromString(e.scope):Ar.fromString(n.scope),l=e.account.properties||{},d=l.UID||r.oid||r.sub||ke.EMPTY_STRING,p=l.TenantId||r.tid||ke.EMPTY_STRING,m=d5(i.getAccountInfo(),void 0,r,e.id_token);m.nativeAccountId!==e.account.id&&(m.nativeAccountId=e.account.id);const g=await this.generatePopAccessToken(e,n),C=n.tokenType===Nn.POP?Nn.POP:Nn.BEARER;return{authority:o,uniqueId:d,tenantId:p,scopes:c.asArray(),account:m,idToken:e.id_token,idTokenClaims:r,accessToken:g,fromCache:a?this.isResponseFromCache(a):!1,expiresOn:new Date(Number(s+e.expires_in)*1e3),tokenType:C,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}cacheAccount(e){this.browserStorage.setAccount(e),this.browserStorage.removeAccountContext(e).catch(n=>{this.logger.error(`Error occurred while removing account context from browser storage. ${n}`)})}cacheNativeTokens(e,n,r,i,o,s,a){const c=ix(r,n.authority,e.id_token||"",n.clientId,i.tid||""),l=n.tokenType===Nn.POP?ke.SHR_NONCE_VALIDITY:(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,d=a+l,p=this.generateScopes(e,n),m=ox(r,n.authority,o,n.clientId,i.tid||s,p.printScopes(),d,0,bc,void 0,n.tokenType,void 0,n.keyId),g={idToken:c,accessToken:m};this.nativeStorageManager.saveCacheRecord(g,n.storeInCache)}addTelemetryFromNativeResponse(e){const n=this.getMATSFromResponse(e);return n?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:n.broker_version,matsAccountJoinOnStart:n.account_join_on_start,matsAccountJoinOnEnd:n.account_join_on_end,matsDeviceJoin:n.device_join,matsPromptBehavior:n.prompt_behavior,matsApiErrorCode:n.api_error_code,matsUiVisible:n.ui_visible,matsSilentCode:n.silent_code,matsSilentBiSubCode:n.silent_bi_sub_code,matsSilentMessage:n.silent_message,matsSilentStatus:n.silent_status,matsHttpStatus:n.http_status,matsHttpEventCount:n.http_event_count},this.correlationId),n):null}validateNativeResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw jQ(XD,"Response missing expected properties.")}getMATSFromResponse(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const n=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:n,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const r=new fn(n);r.validateAsUri();const{scopes:i,...o}=e,s=new Ar(i||[]);s.appendScopes(Dv);const a=()=>{switch(this.apiId){case Xn.ssoSilent:case Xn.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),si.NONE}if(!e.prompt){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(e.prompt){case si.NONE:case si.CONSENT:case si.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e.prompt} is not compatible with native flow`),St(iZ)}},c={...o,accountId:this.accountId,clientId:this.config.auth.clientId,authority:r.urlString,scope:s.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:a(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(c.signPopToken&&e.popKid)throw St(sZ);if(this.handleExtraBrokerParams(c),c.extraParameters=c.extraParameters||{},c.extraParameters.telemetry=Um.MATS_TELEMETRY,e.authenticationScheme===Nn.POP){const l={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},d=new ev(this.browserCrypto);let p;if(c.keyId)p=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:c.keyId})),c.signPopToken=!1;else{const m=await ot(d.generateCnf.bind(d),Z.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(l,this.logger);p=m.reqCnfString,c.keyId=m.kid,c.signPopToken=!0}c.reqCnf=p}return this.addRequestSKUs(c),c}handleExtraBrokerParams(e){if(e.extraParameters&&e.extraParameters.hasOwnProperty(eP.BROKER_CLIENT_ID)&&e.extraParameters.hasOwnProperty(eP.BROKER_REDIRECT_URI)&&e.extraParameters.hasOwnProperty(Jg)){const n=e.extraParameters[Jg],r=e.redirectUri,i=e.extraParameters[eP.BROKER_REDIRECT_URI];e.extraParameters={child_client_id:n,child_redirect_uri:r},e.redirectUri=i}}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class hc{constructor(e,n,r,i){this.logger=e,this.handshakeTimeoutMs=n,this.extensionId=i,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=r,this.handshakeEvent=r.startMeasurement(Z.NativeMessageHandlerHandshake)}async sendMessage(e){this.logger.trace("NativeMessageHandler - sendMessage called.");const n={channel:Um.CHANNEL_ID,extensionId:this.extensionId,responseId:xc(),body:e};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(n)}`),this.messageChannel.port1.postMessage(n),new Promise((r,i)=>{this.resolvers.set(n.responseId,{resolve:r,reject:i})})}static async createProvider(e,n,r){e.trace("NativeMessageHandler - createProvider called.");try{const i=new hc(e,n,r,Um.PREFERRED_EXTENSION_ID);return await i.sendHandshakeRequest(),i}catch{const o=new hc(e,n,r);return await o.sendHandshakeRequest(),o}}async sendHandshakeRequest(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:Um.CHANNEL_ID,extensionId:this.extensionId,responseId:xc(),body:{method:Zf.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=n=>{this.onChannelMessage(n)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise((n,r)=>{this.handshakeResolvers.set(e.responseId,{resolve:n,reject:r}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),r(St(tZ)),this.handshakeResolvers.delete(e.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source!==window)return;const n=e.data;if(!(!n.channel||n.channel!==Um.CHANNEL_ID)&&!(n.extensionId&&n.extensionId!==this.extensionId)&&n.body.method===Zf.HandshakeRequest){const r=this.handshakeResolvers.get(n.responseId);if(!r){this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${n.responseId}`);return}this.logger.verbose(n.extensionId?`Extension with id: ${n.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),r.reject(St(nZ))}}onChannelMessage(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const n=e.data,r=this.resolvers.get(n.responseId),i=this.handshakeResolvers.get(n.responseId);try{const o=n.body.method;if(o===Zf.Response){if(!r)return;const s=n.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(s)}`),s.status!=="Success")r.reject(pM(s.code,s.description,s.ext));else if(s.result)s.result.code&&s.result.description?r.reject(pM(s.result.code,s.result.description,s.result.ext)):r.resolve(s.result);else throw jQ(XD,"Event does not contain result.");this.resolvers.delete(n.responseId)}else if(o===Zf.HandshakeResponse){if(!i){this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${n.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=n.extensionId,this.extensionVersion=n.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),i.resolve(),this.handshakeResolvers.delete(n.responseId)}}catch(o){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${o}`),this.logger.errorPii(`Unable to parse ${e}`),r?r.reject(o):i&&i.reject(o)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isNativeAvailable(e,n,r,i){if(n.trace("isNativeAvailable called"),!e.system.allowNativeBroker)return n.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!r)return n.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(i)switch(i){case Nn.BEARER:case Nn.POP:return n.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return n.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class O5{constructor(e,n,r,i,o){this.authModule=e,this.browserStorage=n,this.authCodeRequest=r,this.logger=i,this.performanceClient=o}async handleCodeResponse(e,n){this.performanceClient.addQueueMeasurement(Z.HandleCodeResponse,n.correlationId);let r;try{r=this.authModule.handleFragmentResponse(e,n.state)}catch(i){throw i instanceof Nl&&i.subError===$h?St($h):i}return ot(this.handleCodeResponseFromServer.bind(this),Z.HandleCodeResponseFromServer,this.logger,this.performanceClient,n.correlationId)(r,n)}async handleCodeResponseFromServer(e,n,r=!0){if(this.performanceClient.addQueueMeasurement(Z.HandleCodeResponseFromServer,n.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await ot(this.authModule.updateAuthority.bind(this.authModule),Z.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,n.correlationId)(e.cloud_instance_host_name,n.correlationId),r&&(e.nonce=n.nonce||void 0),e.state=n.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const o=this.createCcsCredentials(n);o&&(this.authCodeRequest.ccsCredential=o)}return await ot(this.authModule.acquireToken.bind(this.authModule),Z.AuthClientAcquireToken,this.logger,this.performanceClient,n.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:es.HOME_ACCOUNT_ID}:e.loginHint?{credential:e.loginHint,type:es.UPN}:null}}/*! @azure/msal-browser v3.26.1 2024-10-08 */function wZ(t,e,n){const r=xT(t);if(!r)throw bX(t)?(n.error(`A ${e} is present in the iframe but it does not contain known properties. It's likely that the ${e} has been replaced by code running on the redirectUri page.`),n.errorPii(`The ${e} detected is: ${t}`),St(LX)):(n.error(`The request has returned to the redirectUri but a ${e} is not present. It's likely that the ${e} has been removed or the page has been redirected by code running on the redirectUri page.`),St(MX));return r}function dOe(t,e,n){if(!t.state)throw St(C5);const r=yZ(e,t.state);if(!r)throw St(DX);if(r.interactionType!==n)throw St(jX)}/*! @azure/msal-browser v3.26.1 2024-10-08 */class fOe extends jv{constructor(e,n,r,i,o,s,a,c,l,d){super(e,n,r,i,o,s,a,l,d),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=c}acquireToken(e){try{const r={popupName:this.generatePopupName(e.scopes||Dv,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window};return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,r)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),r.popup=this.openSizedPopup("about:blank",r),this.acquireTokenPopupAsync(e,r))}catch(n){return Promise.reject(n)}}logout(e){try{this.logger.verbose("logoutPopup called");const n=this.initializeLogoutRequest(e),r={popupName:this.generateLogoutPopupName(n),popupWindowAttributes:(e==null?void 0:e.popupWindowAttributes)||{},popupWindowParent:(e==null?void 0:e.popupWindowParent)??window},i=e&&e.authority,o=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(n,r,i,o)):(this.logger.verbose("asyncPopup set to false, opening popup"),r.popup=this.openSizedPopup("about:blank",r),this.logoutPopupAsync(n,r,i,o))}catch(n){return Promise.reject(n)}}async acquireTokenPopupAsync(e,n){var o;this.logger.verbose("acquireTokenPopupAsync called");const r=this.initializeServerTelemetryManager(Xn.acquireTokenPopup),i=await ot(this.initializeAuthorizationRequest.bind(this),Z.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,Pt.Popup);vZ(i.authority);try{const s=await ot(this.initializeAuthorizationCodeRequest.bind(this),Z.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,this.correlationId)(i),a=await ot(this.createAuthCodeClient.bind(this),Z.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:i.authority,requestAzureCloudOptions:i.azureCloudOptions,requestExtraQueryParameters:i.extraQueryParameters,account:i.account}),c=hc.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);let l;c&&(l=this.performanceClient.startMeasurement(Z.FetchAccountIdWithNativeBroker,e.correlationId));const d=await a.getAuthCodeUrl({...i,nativeBroker:c}),p=new O5(a,this.browserStorage,s,this.logger,this.performanceClient),m=this.initiateAuthRequest(d,n);this.eventHandler.emitEvent(at.POPUP_OPENED,Pt.Popup,{popupWindow:m},null);const g=await this.monitorPopupForHash(m,n.popupWindowParent),C=fp(wZ,Z.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(g,this.config.auth.OIDCOptions.serverResponseType,this.logger);if(ac.removeThrottle(this.browserStorage,this.config.auth.clientId,s),C.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),l&&l.end({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw St(BC);const S=new sg(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Xn.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,C.accountId,this.nativeStorage,i.correlationId),{userRequestState:w}=Ta.parseRequestState(this.browserCrypto,i.state);return await S.acquireToken({...i,state:w,prompt:void 0})}return await p.handleCodeResponse(C,i)}catch(s){throw(o=n.popup)==null||o.close(),s instanceof Vn&&(s.setCorrelationId(this.correlationId),r.cacheFailedRequest(s)),s}}async logoutPopupAsync(e,n,r,i){var s,a,c,l;this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(at.LOGOUT_START,Pt.Popup,e);const o=this.initializeServerTelemetryManager(Xn.logoutPopup);try{await this.clearCacheOnLogout(e.account);const d=await ot(this.createAuthCodeClient.bind(this),Z.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:r,account:e.account||void 0});try{d.authority.endSessionEndpoint}catch{if((s=e.account)!=null&&s.homeAccountId&&e.postLogoutRedirectUri&&d.authority.protocolMode===bl.OIDC){if(this.browserStorage.removeAccount((a=e.account)==null?void 0:a.homeAccountId),this.eventHandler.emitEvent(at.LOGOUT_SUCCESS,Pt.Popup,e),i){const g={apiId:Xn.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},C=fn.getAbsoluteUrl(i,dl());await this.navigationClient.navigateInternal(C,g)}(c=n.popup)==null||c.close();return}}const p=d.getLogoutUri(e);this.eventHandler.emitEvent(at.LOGOUT_SUCCESS,Pt.Popup,e);const m=this.openPopup(p,n);if(this.eventHandler.emitEvent(at.POPUP_OPENED,Pt.Popup,{popupWindow:m},null),await this.monitorPopupForHash(m,n.popupWindowParent).catch(()=>{}),i){const g={apiId:Xn.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},C=fn.getAbsoluteUrl(i,dl());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${C}`),await this.navigationClient.navigateInternal(C,g)}else this.logger.verbose("No main window navigation requested")}catch(d){throw(l=n.popup)==null||l.close(),d instanceof Vn&&(d.setCorrelationId(this.correlationId),o.cacheFailedRequest(d)),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(at.LOGOUT_FAILURE,Pt.Popup,null,d),this.eventHandler.emitEvent(at.LOGOUT_END,Pt.Popup),d}this.eventHandler.emitEvent(at.LOGOUT_END,Pt.Popup)}initiateAuthRequest(e,n){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,n);throw this.logger.error("Navigate url is empty"),St(lx)}monitorPopupForHash(e,n){return new Promise((r,i)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const o=setInterval(()=>{if(e.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(o),i(St($h));return}let s="";try{s=e.location.href}catch{}if(!s||s==="about:blank")return;clearInterval(o);let a="";const c=this.config.auth.OIDCOptions.serverResponseType;e&&(c===UC.QUERY?a=e.location.search:a=e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),r(a)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e,n)})}openPopup(e,n){try{let r;if(n.popup?(r=n.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),r.location.assign(e)):typeof n.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${e}`),r=this.openSizedPopup(e,n)),!r)throw St(BX);return r.focus&&r.focus(),this.currentWindow=r,n.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),r}catch(r){throw this.logger.error("error opening popup "+r.message),this.browserStorage.setInteractionInProgress(!1),St(UX)}}openSizedPopup(e,{popupName:n,popupWindowAttributes:r,popupWindowParent:i}){var g,C,_,S;const o=i.screenLeft?i.screenLeft:i.screenX,s=i.screenTop?i.screenTop:i.screenY,a=i.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=i.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let l=(g=r.popupSize)==null?void 0:g.width,d=(C=r.popupSize)==null?void 0:C.height,p=(_=r.popupPosition)==null?void 0:_.top,m=(S=r.popupPosition)==null?void 0:S.left;return(!l||l<0||l>a)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),l=Xo.POPUP_WIDTH),(!d||d<0||d>c)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),d=Xo.POPUP_HEIGHT),(!p||p<0||p>c)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),p=Math.max(0,c/2-Xo.POPUP_HEIGHT/2+s)),(!m||m<0||m>a)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),m=Math.max(0,a/2-Xo.POPUP_WIDTH/2+o)),i.open(e,n,`width=${l}, height=${d}, top=${p}, left=${m}, scrollbars=yes`)}unloadWindow(e){this.browserStorage.cleanRequestByInteractionType(Pt.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,n){e.close(),n.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)}generatePopupName(e,n){return`${Xo.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${n}.${this.correlationId}`}generateLogoutPopupName(e){const n=e.account&&e.account.homeAccountId;return`${Xo.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${n}.${this.correlationId}`}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class M9{constructor(e,n,r,i,o){this.authModule=e,this.browserStorage=n,this.authCodeRequest=r,this.logger=i,this.performanceClient=o}async initiateAuthRequest(e,n){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){n.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(xn.ORIGIN_URI,n.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(xn.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest),this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const r={apiId:Xn.acquireTokenRedirect,timeout:n.redirectTimeout,noHistory:!1};if(typeof n.onRedirectNavigate=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),n.onRedirectNavigate(e)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),await n.navigationClient.navigateExternal(e,r);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),await n.navigationClient.navigateExternal(e,r);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),St(lx)}async handleCodeResponse(e,n){this.logger.verbose("RedirectHandler.handleCodeResponse called"),this.browserStorage.setInteractionInProgress(!1);const r=this.browserStorage.generateStateKey(n),i=this.browserStorage.getTemporaryCache(r);if(!i)throw $e(ST,"Cached State");let o;try{o=this.authModule.handleFragmentResponse(e,i)}catch(l){throw l instanceof Nl&&l.subError===$h?St($h):l}const s=this.browserStorage.generateNonceKey(i),a=this.browserStorage.getTemporaryCache(s);if(this.authCodeRequest.code=o.code,o.cloud_instance_host_name&&await ot(this.authModule.updateAuthority.bind(this.authModule),Z.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,this.authCodeRequest.correlationId)(o.cloud_instance_host_name,this.authCodeRequest.correlationId),o.nonce=a||void 0,o.state=i,o.client_info)this.authCodeRequest.clientInfo=o.client_info;else{const l=this.checkCcsCredentials();l&&(this.authCodeRequest.ccsCredential=l)}const c=await this.authModule.acquireToken(this.authCodeRequest,o);return this.browserStorage.cleanRequestByState(n),c}checkCcsCredentials(){const e=this.browserStorage.getTemporaryCache(xn.CCS_CREDENTIAL,!0);if(e)try{return JSON.parse(e)}catch{this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii(`Cache credential could not be parsed: ${e}`)}return null}}/*! @azure/msal-browser v3.26.1 2024-10-08 */function hOe(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;const t=window.performance.getEntriesByType("navigation"),e=t.length?t[0]:void 0;return e==null?void 0:e.type}class pOe extends jv{constructor(e,n,r,i,o,s,a,c,l,d){super(e,n,r,i,o,s,a,l,d),this.nativeStorage=c}async acquireToken(e){const n=await ot(this.initializeAuthorizationRequest.bind(this),Z.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,Pt.Redirect);this.browserStorage.updateCacheEntries(n.state,n.nonce,n.authority,n.loginHint||"",n.account||null);const r=this.initializeServerTelemetryManager(Xn.acquireTokenRedirect),i=o=>{o.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.cleanRequestByState(n.state),this.eventHandler.emitEvent(at.RESTORE_FROM_BFCACHE,Pt.Redirect))};try{const o=await ot(this.initializeAuthorizationCodeRequest.bind(this),Z.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,this.correlationId)(n),s=await ot(this.createAuthCodeClient.bind(this),Z.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account}),a=new M9(s,this.browserStorage,o,this.logger,this.performanceClient),c=await s.getAuthCodeUrl({...n,nativeBroker:hc.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme)}),l=this.getRedirectStartPage(e.redirectStartPage);return this.logger.verbosePii(`Redirect start page: ${l}`),window.addEventListener("pageshow",i),await a.initiateAuthRequest(c,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:l,onRedirectNavigate:e.onRedirectNavigate||this.config.auth.onRedirectNavigate})}catch(o){throw o instanceof Vn&&(o.setCorrelationId(this.correlationId),r.cacheFailedRequest(o)),window.removeEventListener("pageshow",i),this.browserStorage.cleanRequestByState(n.state),o}}async handleRedirectPromise(e="",n){const r=this.initializeServerTelemetryManager(Xn.handleRedirectPromise);try{if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const[i,o]=this.getRedirectResponse(e||"");if(!i)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(Pt.Redirect),hOe()!=="back_forward"?n.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const s=this.browserStorage.getTemporaryCache(xn.ORIGIN_URI,!0)||ke.EMPTY_STRING,a=fn.removeHashFromUrl(s),c=fn.removeHashFromUrl(window.location.href);if(a===c&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),s.indexOf("#")>-1&&APe(s),await this.handleResponse(i,r);if(this.config.auth.navigateToLoginRequestUrl){if(!A5()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(xn.URL_HASH,o,!0);const l={apiId:Xn.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let d=!0;if(!s||s==="null"){const p=RPe();this.browserStorage.setTemporaryCache(xn.ORIGIN_URI,p,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),d=await this.navigationClient.navigateInternal(p,l)}else this.logger.verbose(`Navigating to loginRequestUrl: ${s}`),d=await this.navigationClient.navigateInternal(s,l);if(!d)return await this.handleResponse(i,r)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(i,r);return null}catch(i){throw i instanceof Vn&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),this.browserStorage.cleanRequestByInteractionType(Pt.Redirect),i}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let n=e;n||(this.config.auth.OIDCOptions.serverResponseType===UC.QUERY?n=window.location.search:n=window.location.hash);let r=xT(n);if(r){try{dOe(r,this.browserCrypto,Pt.Redirect)}catch(o){return o instanceof Vn&&this.logger.error(`Interaction type validation failed due to ${o.errorCode}: ${o.errorMessage}`),[null,""]}return xPe(window),this.logger.verbose("Hash contains known properties, returning response hash"),[r,n]}const i=this.browserStorage.getTemporaryCache(xn.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(xn.URL_HASH)),i&&(r=xT(i),r)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[r,i]):[null,""]}async handleResponse(e,n){const r=e.state;if(!r)throw St(C5);const i=this.browserStorage.getCachedRequest(r);if(this.logger.verbose("handleResponse called, retrieved cached request"),e.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw St(BC);const c=new sg(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Xn.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,e.accountId,this.nativeStorage,i.correlationId),{userRequestState:l}=Ta.parseRequestState(this.browserCrypto,r);return c.acquireToken({...i,state:l,prompt:void 0}).finally(()=>{this.browserStorage.cleanRequestByState(r)})}const o=this.browserStorage.getCachedAuthority(r);if(!o)throw St(_5);const s=await ot(this.createAuthCodeClient.bind(this),Z.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:o});return ac.removeThrottle(this.browserStorage,this.config.auth.clientId,i),new M9(s,this.browserStorage,i,this.logger,this.performanceClient).handleCodeResponse(e,r)}async logout(e){var i,o;this.logger.verbose("logoutRedirect called");const n=this.initializeLogoutRequest(e),r=this.initializeServerTelemetryManager(Xn.logout);try{this.eventHandler.emitEvent(at.LOGOUT_START,Pt.Redirect,e),await this.clearCacheOnLogout(n.account);const s={apiId:Xn.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},a=await ot(this.createAuthCodeClient.bind(this),Z.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:e&&e.authority,requestExtraQueryParameters:e==null?void 0:e.extraQueryParameters,account:e&&e.account||void 0});if(a.authority.protocolMode===bl.OIDC)try{a.authority.endSessionEndpoint}catch{if((i=n.account)!=null&&i.homeAccountId){this.browserStorage.removeAccount((o=n.account)==null?void 0:o.homeAccountId),this.eventHandler.emitEvent(at.LOGOUT_SUCCESS,Pt.Redirect,n);return}}const c=a.getLogoutUri(n);if(this.eventHandler.emitEvent(at.LOGOUT_SUCCESS,Pt.Redirect,n),e&&typeof e.onRedirectNavigate=="function")if(e.onRedirectNavigate(c)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),await this.navigationClient.navigateExternal(c,s);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),await this.navigationClient.navigateExternal(c,s);return}}catch(s){throw s instanceof Vn&&(s.setCorrelationId(this.correlationId),r.cacheFailedRequest(s)),this.eventHandler.emitEvent(at.LOGOUT_FAILURE,Pt.Redirect,null,s),this.eventHandler.emitEvent(at.LOGOUT_END,Pt.Redirect),s}this.eventHandler.emitEvent(at.LOGOUT_END,Pt.Redirect)}getRedirectStartPage(e){const n=e||window.location.href;return fn.getAbsoluteUrl(n,dl())}}/*! @azure/msal-browser v3.26.1 2024-10-08 */async function mOe(t,e,n,r,i){if(e.addQueueMeasurement(Z.SilentHandlerInitiateAuthRequest,r),!t)throw n.info("Navigate url is empty"),St(lx);return i?ot(vOe,Z.SilentHandlerLoadFrame,n,e,r)(t,i,e,r):fp(yOe,Z.SilentHandlerLoadFrameSync,n,e,r)(t)}async function gOe(t,e,n,r,i,o,s){return r.addQueueMeasurement(Z.SilentHandlerMonitorIframeForHash,o),new Promise((a,c)=>{e<lM&&i.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${e}ms) than the default (${lM}ms). This may result in timeouts.`);const l=window.setTimeout(()=>{window.clearInterval(d),c(St(VX))},e),d=window.setInterval(()=>{let p="";const m=t.contentWindow;try{p=m?m.location.href:""}catch{}if(!p||p==="about:blank")return;let g="";m&&(s===UC.QUERY?g=m.location.search:g=m.location.hash),window.clearTimeout(l),window.clearInterval(d),a(g)},n)}).finally(()=>{fp(bOe,Z.RemoveHiddenIframe,i,r,o)(t)})}function vOe(t,e,n,r){return n.addQueueMeasurement(Z.SilentHandlerLoadFrame,r),new Promise((i,o)=>{const s=SZ();window.setTimeout(()=>{if(!s){o("Unable to load iframe");return}s.src=t,i(s)},e)})}function yOe(t){const e=SZ();return e.src=t,e}function SZ(){const t=document.createElement("iframe");return t.className="msalSilentIframe",t.style.visibility="hidden",t.style.position="absolute",t.style.width=t.style.height="0",t.style.border="0",t.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(t),t}function bOe(t){document.body===t.parentNode&&document.body.removeChild(t)}/*! @azure/msal-browser v3.26.1 2024-10-08 */class COe extends jv{constructor(e,n,r,i,o,s,a,c,l,d,p){super(e,n,r,i,o,s,c,d,p),this.apiId=a,this.nativeStorage=l}async acquireToken(e){this.performanceClient.addQueueMeasurement(Z.SilentIframeClientAcquireToken,e.correlationId),!e.loginHint&&!e.sid&&(!e.account||!e.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const n={...e};n.prompt?n.prompt!==si.NONE&&n.prompt!==si.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${n.prompt} with ${si.NONE}`),n.prompt=si.NONE):n.prompt=si.NONE;const r=await ot(this.initializeAuthorizationRequest.bind(this),Z.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(n,Pt.Silent);vZ(r.authority);const i=this.initializeServerTelemetryManager(this.apiId);let o;try{return o=await ot(this.createAuthCodeClient.bind(this),Z.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:i,requestAuthority:r.authority,requestAzureCloudOptions:r.azureCloudOptions,requestExtraQueryParameters:r.extraQueryParameters,account:r.account}),await ot(this.silentTokenHelper.bind(this),Z.SilentIframeClientTokenHelper,this.logger,this.performanceClient,e.correlationId)(o,r)}catch(s){if(s instanceof Vn&&(s.setCorrelationId(this.correlationId),i.cacheFailedRequest(s)),!o||!(s instanceof Vn)||s.errorCode!==Xo.INVALID_GRANT_ERROR)throw s;this.performanceClient.addFields({retryError:s.errorCode},this.correlationId);const a=await ot(this.initializeAuthorizationRequest.bind(this),Z.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(n,Pt.Silent);return await ot(this.silentTokenHelper.bind(this),Z.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(o,a)}}logout(){return Promise.reject(St(ux))}async silentTokenHelper(e,n){const r=n.correlationId;this.performanceClient.addQueueMeasurement(Z.SilentIframeClientTokenHelper,r);const i=await ot(this.initializeAuthorizationCodeRequest.bind(this),Z.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,r)(n),o=await ot(e.getAuthCodeUrl.bind(e),Z.GetAuthCodeUrl,this.logger,this.performanceClient,r)({...n,nativeBroker:hc.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,n.authenticationScheme)}),s=new O5(e,this.browserStorage,i,this.logger,this.performanceClient),a=await ot(mOe,Z.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,r)(o,this.performanceClient,this.logger,r,this.config.system.navigateFrameWait),c=this.config.auth.OIDCOptions.serverResponseType,l=await ot(gOe,Z.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(a,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,r,c),d=fp(wZ,Z.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(l,c,this.logger);if(d.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw St(BC);const p=new sg(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,d.accountId,this.browserStorage,r),{userRequestState:m}=Ta.parseRequestState(this.browserCrypto,n.state);return ot(p.acquireToken.bind(p),Z.NativeInteractionClientAcquireToken,this.logger,this.performanceClient,r)({...n,state:m,prompt:n.prompt||si.NONE})}return ot(s.handleCodeResponse.bind(s),Z.HandleCodeResponse,this.logger,this.performanceClient,r)(d,n)}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class _Oe extends jv{async acquireToken(e){this.performanceClient.addQueueMeasurement(Z.SilentRefreshClientAcquireToken,e.correlationId);const n=await ot(P5,Z.InitializeBaseRequest,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),r={...e,...n};e.redirectUri&&(r.redirectUri=this.getRedirectUri(e.redirectUri));const i=this.initializeServerTelemetryManager(Xn.acquireTokenSilent_silentFlow),o=await this.createRefreshTokenClient({serverTelemetryManager:i,authorityUrl:r.authority,azureCloudOptions:r.azureCloudOptions,account:r.account});return ot(o.acquireTokenByRefreshToken.bind(o),Z.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(r).catch(s=>{throw s.setCorrelationId(this.correlationId),i.cacheFailedRequest(s),s})}logout(){return Promise.reject(St(ux))}async createRefreshTokenClient(e){const n=await ot(this.getClientConfiguration.bind(this),Z.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new iM(n,this.performanceClient)}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class wOe{constructor(e,n,r,i){this.isBrowserEnvironment=typeof window<"u",this.config=e,this.storage=n,this.logger=r,this.cryptoObj=i}loadExternalTokens(e,n,r){if(!this.isBrowserEnvironment)throw St(w5);const i=n.id_token?dp(n.id_token,bc):void 0,o={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},s=e.authority?new Pi(Pi.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,o,this.logger,e.correlationId||xc()):void 0,a=this.loadAccount(e,r.clientInfo||n.client_info||"",i,s),c=this.loadIdToken(n,a.homeAccountId,a.environment,a.realm),l=this.loadAccessToken(e,n,a.homeAccountId,a.environment,a.realm,r),d=this.loadRefreshToken(n,a.homeAccountId,a.environment);return this.generateAuthenticationResult(e,{account:a,idToken:c,accessToken:l,refreshToken:d},i,s)}loadAccount(e,n,r,i){if(this.logger.verbose("TokenCache - loading account"),e.account){const c=Yr.createFromAccountInfo(e.account);return this.storage.setAccount(c),c}else if(!i||!n&&!r)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),St(QX);const o=Yr.generateHomeAccountId(n,i.authorityType,this.logger,this.cryptoObj,r),s=r==null?void 0:r.tid,a=g5(this.storage,i,o,bc,r,n,i.hostnameAndPort,s,void 0,void 0,this.logger);return this.storage.setAccount(a),a}loadIdToken(e,n,r,i){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const o=ix(n,r,e.id_token,this.config.auth.clientId,i);return this.storage.setIdTokenCredential(o),o}loadAccessToken(e,n,r,i,o,s){if(n.access_token)if(n.expires_in){if(!n.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null}else return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;else return this.logger.verbose("TokenCache - no access token found in response"),null;this.logger.verbose("TokenCache - loading access token");const a=n.scope?Ar.fromString(n.scope):new Ar(e.scopes),c=s.expiresOn||n.expires_in+new Date().getTime()/1e3,l=s.extendedExpiresOn||(n.ext_expires_in||n.expires_in)+new Date().getTime()/1e3,d=ox(r,i,n.access_token,this.config.auth.clientId,o,a.printScopes(),c,l,bc);return this.storage.setAccessTokenCredential(d),d}loadRefreshToken(e,n,r){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const i=rX(n,r,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return this.storage.setRefreshTokenCredential(i),i}generateAuthenticationResult(e,n,r,i){var d,p,m;let o="",s=[],a=null,c;n!=null&&n.accessToken&&(o=n.accessToken.secret,s=Ar.fromString(n.accessToken.target).asArray(),a=new Date(Number(n.accessToken.expiresOn)*1e3),c=new Date(Number(n.accessToken.extendedExpiresOn)*1e3));const l=n.account;return{authority:i?i.canonicalAuthority:"",uniqueId:n.account.localAccountId,tenantId:n.account.realm,scopes:s,account:l.getAccountInfo(),idToken:((d=n.idToken)==null?void 0:d.secret)||"",idTokenClaims:r||{},accessToken:o,fromCache:!0,expiresOn:a,correlationId:e.correlationId||"",requestId:"",extExpiresOn:c,familyId:((p=n.refreshToken)==null?void 0:p.familyId)||"",tokenType:((m=n==null?void 0:n.accessToken)==null?void 0:m.tokenType)||"",state:e.state||"",cloudGraphHostName:l.cloudGraphHostName||"",msGraphHost:l.msGraphHost||"",fromNativeBroker:!1}}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class SOe extends AX{constructor(e){super(e),this.includeRedirectUri=!1}}/*! @azure/msal-browser v3.26.1 2024-10-08 */class EOe extends jv{constructor(e,n,r,i,o,s,a,c,l,d){super(e,n,r,i,o,s,c,l,d),this.apiId=a}async acquireToken(e){if(!e.code)throw St(XX);const n=await ot(this.initializeAuthorizationRequest.bind(this),Z.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(e,Pt.Silent),r=this.initializeServerTelemetryManager(this.apiId);try{const i={...n,code:e.code},o=await ot(this.getClientConfiguration.bind(this),Z.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account}),s=new SOe(o);this.logger.verbose("Auth code client created");const a=new O5(s,this.browserStorage,i,this.logger,this.performanceClient);return await ot(a.handleCodeResponseFromServer.bind(a),Z.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},n,!1)}catch(i){throw i instanceof Vn&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),i}}logout(){return Promise.reject(St(ux))}}/*! @azure/msal-browser v3.26.1 2024-10-08 */function Wa(t){const e=t==null?void 0:t.idTokenClaims;if(e!=null&&e.tfp||e!=null&&e.acr)return"B2C";if(e!=null&&e.tid){if((e==null?void 0:e.tid)==="9188040d-6c67-4c5b-b112-36a304b66dad")return"MSA"}else return;return"AAD"}function Qw(t,e){try{k5(t)}catch(n){throw e.end({success:!1},n),n}}class fx{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new nv(this.logger,this.performanceClient):ET,this.eventHandler=new QPe(this.logger),this.browserStorage=this.isBrowserEnvironment?new hM(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,FRe(this.config.auth),this.performanceClient):HPe(this.config.auth.clientId,this.logger);const n={cacheLocation:xr.MemoryStorage,temporaryCacheLocation:xr.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new hM(this.config.auth.clientId,n,this.browserCrypto,this.logger,void 0,this.performanceClient),this.tokenCache=new wOe(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this),this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}static async createController(e,n){const r=new fx(e);return await r.initialize(n),r}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,this.eventHandler.emitEvent(at.INITIALIZE_END);return}const n=(e==null?void 0:e.correlationId)||this.getRequestCorrelationId(),r=this.config.system.allowNativeBroker,i=this.performanceClient.startMeasurement(Z.InitializeClientApplication,n);if(this.eventHandler.emitEvent(at.INITIALIZE_START),r)try{this.nativeExtensionProvider=await hc.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(o){this.logger.verbose(o)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),await ot(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),Z.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,n)(this.performanceClient,n)),this.initialized=!0,this.eventHandler.emitEvent(at.INITIALIZE_END),i.end({allowNativeBroker:r,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),gZ(this.initialized),this.isBrowserEnvironment){const n=e||"";let r=this.redirectResponse.get(n);return typeof r>"u"?(r=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(n,r),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),r}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){const n=this.getAllAccounts(),r=this.browserStorage.getCachedNativeRequest(),i=r&&hc.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e,o=i?r==null?void 0:r.correlationId:this.browserStorage.getTemporaryCache(xn.CORRELATION_ID,!0)||"",s=this.performanceClient.startMeasurement(Z.AcquireTokenRedirect,o);this.eventHandler.emitEvent(at.HANDLE_REDIRECT_START,Pt.Redirect);let a;if(i&&this.nativeExtensionProvider){this.logger.trace("handleRedirectPromise - acquiring token from native platform");const c=new sg(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Xn.handleRedirectPromise,this.performanceClient,this.nativeExtensionProvider,r.accountId,this.nativeInternalStorage,r.correlationId);a=ot(c.handleRedirectPromise.bind(c),Z.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,s.event.correlationId)(this.performanceClient,s.event.correlationId)}else{this.logger.trace("handleRedirectPromise - acquiring token from web flow");const c=this.createRedirectClient(o);a=ot(c.handleRedirectPromise.bind(c),Z.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,s.event.correlationId)(e,s)}return a.then(c=>(c?(n.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(at.LOGIN_SUCCESS,Pt.Redirect,c),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(at.ACQUIRE_TOKEN_SUCCESS,Pt.Redirect,c),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),s.end({success:!0,accountType:Wa(c.account)})):s.event.errorCode?s.end({success:!1}):s.discard(),this.eventHandler.emitEvent(at.HANDLE_REDIRECT_END,Pt.Redirect),c)).catch(c=>{const l=c;throw n.length>0?this.eventHandler.emitEvent(at.ACQUIRE_TOKEN_FAILURE,Pt.Redirect,null,l):this.eventHandler.emitEvent(at.LOGIN_FAILURE,Pt.Redirect,null,l),this.eventHandler.emitEvent(at.HANDLE_REDIRECT_END,Pt.Redirect),s.end({success:!1},l),c})}async acquireTokenRedirect(e){const n=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",n);const r=this.performanceClient.startMeasurement(Z.AcquireTokenPreRedirect,n);r.add({accountType:Wa(e.account),scenarioId:e.scenarioId});const i=e.onRedirectNavigate;if(i)e.onRedirectNavigate=s=>{const a=typeof i=="function"?i(s):void 0;return a!==!1?r.end({success:!0}):r.discard(),a};else{const s=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=a=>{const c=typeof s=="function"?s(a):void 0;return c!==!1?r.end({success:!0}):r.discard(),c}}const o=this.getAllAccounts().length>0;try{O9(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),o?this.eventHandler.emitEvent(at.ACQUIRE_TOKEN_START,Pt.Redirect,e):this.eventHandler.emitEvent(at.LOGIN_START,Pt.Redirect,e);let s;return this.nativeExtensionProvider&&this.canUseNative(e)?s=new sg(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Xn.acquireTokenRedirect,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,n).acquireTokenRedirect(e,r).catch(c=>{if(c instanceof cc&&Cm(c))return this.nativeExtensionProvider=void 0,this.createRedirectClient(n).acquireToken(e);if(c instanceof ls)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(n).acquireToken(e);throw this.browserStorage.setInteractionInProgress(!1),c}):s=this.createRedirectClient(n).acquireToken(e),await s}catch(s){throw r.end({success:!1},s),o?this.eventHandler.emitEvent(at.ACQUIRE_TOKEN_FAILURE,Pt.Redirect,null,s):this.eventHandler.emitEvent(at.LOGIN_FAILURE,Pt.Redirect,null,s),s}}acquireTokenPopup(e){const n=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(Z.AcquireTokenPopup,n);r.add({scenarioId:e.scenarioId,accountType:Wa(e.account)});try{this.logger.verbose("acquireTokenPopup called",n),Qw(this.initialized,r),this.browserStorage.setInteractionInProgress(!0)}catch(s){return Promise.reject(s)}const i=this.getAllAccounts();i.length>0?this.eventHandler.emitEvent(at.ACQUIRE_TOKEN_START,Pt.Popup,e):this.eventHandler.emitEvent(at.LOGIN_START,Pt.Popup,e);let o;return this.canUseNative(e)?o=this.acquireTokenNative({...e,correlationId:n},Xn.acquireTokenPopup).then(s=>(this.browserStorage.setInteractionInProgress(!1),r.end({success:!0,isNativeBroker:!0,requestId:s.requestId,accountType:Wa(s.account)}),s)).catch(s=>{if(s instanceof cc&&Cm(s))return this.nativeExtensionProvider=void 0,this.createPopupClient(n).acquireToken(e);if(s instanceof ls)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(n).acquireToken(e);throw this.browserStorage.setInteractionInProgress(!1),s}):o=this.createPopupClient(n).acquireToken(e),o.then(s=>(i.length<this.getAllAccounts().length?this.eventHandler.emitEvent(at.LOGIN_SUCCESS,Pt.Popup,s):this.eventHandler.emitEvent(at.ACQUIRE_TOKEN_SUCCESS,Pt.Popup,s),r.end({success:!0,requestId:s.requestId,accessTokenSize:s.accessToken.length,idTokenSize:s.idToken.length,accountType:Wa(s.account)}),s)).catch(s=>(i.length>0?this.eventHandler.emitEvent(at.ACQUIRE_TOKEN_FAILURE,Pt.Popup,null,s):this.eventHandler.emitEvent(at.LOGIN_FAILURE,Pt.Popup,null,s),r.end({success:!1},s),Promise.reject(s)))}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){var o,s;const n=this.getRequestCorrelationId(e),r={...e,prompt:e.prompt,correlationId:n};this.ssoSilentMeasurement=this.performanceClient.startMeasurement(Z.SsoSilent,n),(o=this.ssoSilentMeasurement)==null||o.add({scenarioId:e.scenarioId,accountType:Wa(e.account)}),Qw(this.initialized,this.ssoSilentMeasurement),(s=this.ssoSilentMeasurement)==null||s.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",n),this.eventHandler.emitEvent(at.SSO_SILENT_START,Pt.Silent,r);let i;return this.canUseNative(r)?i=this.acquireTokenNative(r,Xn.ssoSilent).catch(a=>{if(a instanceof cc&&Cm(a))return this.nativeExtensionProvider=void 0,this.createSilentIframeClient(r.correlationId).acquireToken(r);throw a}):i=this.createSilentIframeClient(r.correlationId).acquireToken(r),i.then(a=>{var c;return this.eventHandler.emitEvent(at.SSO_SILENT_SUCCESS,Pt.Silent,a),(c=this.ssoSilentMeasurement)==null||c.end({success:!0,isNativeBroker:a.fromNativeBroker,requestId:a.requestId,accessTokenSize:a.accessToken.length,idTokenSize:a.idToken.length,accountType:Wa(a.account)}),a}).catch(a=>{var c;throw this.eventHandler.emitEvent(at.SSO_SILENT_FAILURE,Pt.Silent,null,a),(c=this.ssoSilentMeasurement)==null||c.end({success:!1},a),a}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(e){const n=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",n);const r=this.performanceClient.startMeasurement(Z.AcquireTokenByCode,n);Qw(this.initialized,r),this.eventHandler.emitEvent(at.ACQUIRE_TOKEN_BY_CODE_START,Pt.Silent,e),r.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw St(JX);if(e.code){const i=e.code;let o=this.hybridAuthCodeResponses.get(i);return o?(this.logger.verbose("Existing acquireTokenByCode request found",n),r.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",n),o=this.acquireTokenByCodeAsync({...e,correlationId:n}).then(s=>(this.eventHandler.emitEvent(at.ACQUIRE_TOKEN_BY_CODE_SUCCESS,Pt.Silent,s),this.hybridAuthCodeResponses.delete(i),r.end({success:!0,isNativeBroker:s.fromNativeBroker,requestId:s.requestId,accessTokenSize:s.accessToken.length,idTokenSize:s.idToken.length,accountType:Wa(s.account)}),s)).catch(s=>{throw this.hybridAuthCodeResponses.delete(i),this.eventHandler.emitEvent(at.ACQUIRE_TOKEN_BY_CODE_FAILURE,Pt.Silent,null,s),r.end({success:!1},s),s}),this.hybridAuthCodeResponses.set(i,o)),await o}else if(e.nativeAccountId)if(this.canUseNative(e,e.nativeAccountId)){const i=await this.acquireTokenNative({...e,correlationId:n},Xn.acquireTokenByCode,e.nativeAccountId).catch(o=>{throw o instanceof cc&&Cm(o)&&(this.nativeExtensionProvider=void 0),o});return r.end({accountType:Wa(i.account),success:!0}),i}else throw St(eZ);else throw St(ZX)}catch(i){throw this.eventHandler.emitEvent(at.ACQUIRE_TOKEN_BY_CODE_FAILURE,Pt.Silent,null,i),r.end({success:!1},i),i}}async acquireTokenByCodeAsync(e){var i;return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(Z.AcquireTokenByCodeAsync,e.correlationId),(i=this.acquireTokenByCodeAsyncMeasurement)==null||i.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then(o=>{var s;return(s=this.acquireTokenByCodeAsyncMeasurement)==null||s.end({success:!0,fromCache:o.fromCache,isNativeBroker:o.fromNativeBroker,requestId:o.requestId}),o}).catch(o=>{var s;throw(s=this.acquireTokenByCodeAsyncMeasurement)==null||s.end({success:!1},o),o}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(e,n){switch(this.performanceClient.addQueueMeasurement(Z.AcquireTokenFromCache,e.correlationId),n){case Ko.Default:case Ko.AccessToken:case Ko.AccessTokenAndRefreshToken:const r=this.createSilentCacheClient(e.correlationId);return ot(r.acquireToken.bind(r),Z.SilentCacheClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw $e(ul)}}async acquireTokenByRefreshToken(e,n){switch(this.performanceClient.addQueueMeasurement(Z.AcquireTokenByRefreshToken,e.correlationId),n){case Ko.Default:case Ko.AccessTokenAndRefreshToken:case Ko.RefreshToken:case Ko.RefreshTokenAndNetwork:const r=this.createSilentRefreshClient(e.correlationId);return ot(r.acquireToken.bind(r),Z.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw $e(ul)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(Z.AcquireTokenBySilentIframe,e.correlationId);const n=this.createSilentIframeClient(e.correlationId);return ot(n.acquireToken.bind(n),Z.SilentIframeClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const n=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",n),this.logoutRedirect({correlationId:n,...e})}async logoutRedirect(e){const n=this.getRequestCorrelationId(e);return O9(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0),this.createRedirectClient(n).logout(e)}logoutPopup(e){try{const n=this.getRequestCorrelationId(e);return k5(this.initialized),this.browserStorage.setInteractionInProgress(!0),this.createPopupClient(n).logout(e)}catch(n){return Promise.reject(n)}}async clearCache(e){if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, returning early.");return}const n=this.getRequestCorrelationId(e);return this.createSilentCacheClient(n).logout(e)}getAllAccounts(e){return zPe(this.logger,this.browserStorage,this.isBrowserEnvironment,e)}getAccount(e){return $Pe(e,this.logger,this.browserStorage)}getAccountByUsername(e){return WPe(e,this.logger,this.browserStorage)}getAccountByHomeId(e){return KPe(e,this.logger,this.browserStorage)}getAccountByLocalId(e){return GPe(e,this.logger,this.browserStorage)}setActiveAccount(e){qPe(e,this.browserStorage)}getActiveAccount(){return YPe(this.browserStorage)}async hydrateCache(e,n){this.logger.verbose("hydrateCache called");const r=Yr.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return this.browserStorage.setAccount(r),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,n)):this.browserStorage.hydrateCache(e,n)}async acquireTokenNative(e,n,r){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw St(BC);return new sg(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,n,this.performanceClient,this.nativeExtensionProvider,r||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e)}canUseNative(e,n){if(this.logger.trace("canUseNative called"),!hc.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case si.NONE:case si.CONSENT:case si.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace(`canUseNative: prompt = ${e.prompt} is not compatible with native flow, returning false`),!1}return!n&&!this.getNativeAccountId(e)?(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(e){const n=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return n&&n.nativeAccountId||""}createPopupClient(e){return new fOe(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createRedirectClient(e){return new pOe(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentIframeClient(e){return new COe(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Xn.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentCacheClient(e){return new _Z(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentRefreshClient(e){return new _Oe(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentAuthCodeClient(e){return new EOe(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Xn.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,e)}addEventCallback(e,n){return this.eventHandler.addEventCallback(e,n)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return mZ(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))}disableAccountStorageEvents(){typeof window>"u"||(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))}handleAccountCacheChange(e){var n;try{(n=e.key)!=null&&n.includes(ti.ACTIVE_ACCOUNT_FILTERS)&&this.eventHandler.emitEvent(at.ACTIVE_ACCOUNT_CHANGED);const r=e.newValue||e.oldValue;if(!r)return;const i=JSON.parse(r);if(typeof i!="object"||!Yr.isAccountEntity(i))return;const s=Zg.toObject(new Yr,i).getAccountInfo();!e.oldValue&&e.newValue?(this.logger.info("Account was added to cache in a different window"),this.eventHandler.emitEvent(at.ACCOUNT_ADDED,void 0,s)):!e.newValue&&e.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.eventHandler.emitEvent(at.ACCOUNT_REMOVED,void 0,s))}catch{return}}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,n){this.browserStorage.setWrapperMetadata(e,n)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e!=null&&e.correlationId?e.correlationId:this.isBrowserEnvironment?xc():ke.EMPTY_STRING}async loginRedirect(e){const n=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",n),this.acquireTokenRedirect({correlationId:n,...e||k9})}loginPopup(e){const n=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",n),this.acquireTokenPopup({correlationId:n,...e||k9})}async acquireTokenSilent(e){const n=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(Z.AcquireTokenSilent,n);r.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),Qw(this.initialized,r),this.logger.verbose("acquireTokenSilent called",n);const i=e.account||this.getActiveAccount();if(!i)throw St(WX);r.add({accountType:Wa(i)});const o={clientId:this.config.auth.clientId,authority:e.authority||ke.EMPTY_STRING,scopes:e.scopes,homeAccountIdentifier:i.homeAccountId,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,shrOptions:e.shrOptions},s=JSON.stringify(o),a=this.activeSilentTokenRequests.get(s);if(typeof a>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",n);const c=ot(this.acquireTokenSilentAsync.bind(this),Z.AcquireTokenSilentAsync,this.logger,this.performanceClient,n)({...e,correlationId:n},i).then(l=>(this.activeSilentTokenRequests.delete(s),r.end({success:!0,fromCache:l.fromCache,isNativeBroker:l.fromNativeBroker,cacheLookupPolicy:e.cacheLookupPolicy,requestId:l.requestId,accessTokenSize:l.accessToken.length,idTokenSize:l.idToken.length}),l)).catch(l=>{throw this.activeSilentTokenRequests.delete(s),r.end({success:!1},l),l});return this.activeSilentTokenRequests.set(s,c),{...await c,state:e.state}}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",n),r.discard(),{...await a,state:e.state}}async acquireTokenSilentAsync(e,n){const r=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(Z.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(at.ACQUIRE_TOKEN_START,Pt.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",r);const i=await ot(tOe,Z.InitializeSilentRequest,this.logger,this.performanceClient,e.correlationId)(e,n,this.config,this.performanceClient,this.logger),o=e.cacheLookupPolicy||Ko.Default;return this.acquireTokenSilentNoIframe(i,o).catch(async a=>{if(TOe(a,o))if(this.activeIframeRequest)if(o!==Ko.Skip){const[l,d]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${d}`,i.correlationId);const p=this.performanceClient.startMeasurement(Z.AwaitConcurrentIframe,i.correlationId);p.add({awaitIframeCorrelationId:d});const m=await l;if(p.end({success:m}),m)return this.logger.verbose(`Parallel iframe request with correlationId: ${d} succeeded. Retrying cache and/or RT redemption`,i.correlationId),this.acquireTokenSilentNoIframe(i,o);throw this.logger.info(`Iframe request with correlationId: ${d} failed. Interaction is required.`),a}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",i.correlationId),ot(this.acquireTokenBySilentIframe.bind(this),Z.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i);else{let l;return this.activeIframeRequest=[new Promise(d=>{l=d}),i.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",i.correlationId),ot(this.acquireTokenBySilentIframe.bind(this),Z.AcquireTokenBySilentIframe,this.logger,this.performanceClient,i.correlationId)(i).then(d=>(l(!0),d)).catch(d=>{throw l(!1),d}).finally(()=>{this.activeIframeRequest=void 0})}else throw a}).then(a=>(this.eventHandler.emitEvent(at.ACQUIRE_TOKEN_SUCCESS,Pt.Silent,a),e.correlationId&&this.performanceClient.addFields({fromCache:a.fromCache,isNativeBroker:a.fromNativeBroker,requestId:a.requestId},e.correlationId),a)).catch(a=>{throw this.eventHandler.emitEvent(at.ACQUIRE_TOKEN_FAILURE,Pt.Silent,null,a),a}).finally(()=>{document.removeEventListener("visibilitychange",r)})}async acquireTokenSilentNoIframe(e,n){return hc.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,Xn.acquireTokenSilent_silentFlow).catch(async r=>{throw r instanceof cc&&Cm(r)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,$e(ul)):r})):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),ot(this.acquireTokenFromCache.bind(this),Z.AcquireTokenFromCache,this.logger,this.performanceClient,e.correlationId)(e,n).catch(r=>{if(n===Ko.AccessToken)throw r;return this.eventHandler.emitEvent(at.ACQUIRE_TOKEN_NETWORK_START,Pt.Silent,e),ot(this.acquireTokenByRefreshToken.bind(this),Z.AcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,n)}))}}function TOe(t,e){const n=!(t instanceof ls&&t.subError!==cx),r=t.errorCode===Xo.INVALID_GRANT_ERROR||t.errorCode===ul,i=n&&r||t.errorCode===kT||t.errorCode===m5,o=hPe.includes(e);return i&&o}/*! @azure/msal-browser v3.26.1 2024-10-08 */async function IOe(t,e){const n=new Wh(t);return await n.initialize(),fx.createController(n,e)}/*! @azure/msal-browser v3.26.1 2024-10-08 */let xOe=class EZ{static async createPublicClientApplication(e){const n=await IOe(e);return new EZ(e,n)}constructor(e,n){this.controller=n||new fx(new Wh(e))}async initialize(e){return this.controller.initialize(e)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,n){return this.controller.addEventCallback(e,n)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,n){return this.controller.initializeWrapperLibrary(e,n)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,n){return this.controller.hydrateCache(e,n)}clearCache(e){return this.controller.clearCache(e)}};function L9(){let t;try{t=window[xr.SessionStorage];const e=t==null?void 0:t.getItem(gPe);if(Number(e)===1)return de(()=>import("./BrowserPerformanceMeasurement-CIsv1iQ0.js"),[])}catch{}}function DS(){return typeof window<"u"&&typeof window.performance<"u"&&typeof window.performance.now=="function"}function AOe(t){if(!(!t||!DS()))return Math.round(window.performance.now()-t)}class kOe extends iPe{constructor(e,n,r){var i,o;super(e.auth.clientId,e.auth.authority||`${ke.DEFAULT_AUTHORITY}`,new Ol(((i=e.system)==null?void 0:i.loggerOptions)||{},uM,tv),uM,tv,((o=e.telemetry)==null?void 0:o.application)||{appName:"",appVersion:""},n,r)}generateId(){return xc()}getPageVisibility(){var e;return((e=document.visibilityState)==null?void 0:e.toString())||null}deleteIncompleteSubMeasurements(e){var n;(n=L9())==null||n.then(r=>{const i=this.eventsByCorrelationId.get(e.event.correlationId),o=i&&i.eventId===e.event.eventId,s=[];o&&(i!=null&&i.incompleteSubMeasurements)&&i.incompleteSubMeasurements.forEach(a=>{s.push({...a})}),r.BrowserPerformanceMeasurement.flushMeasurements(e.event.correlationId,s)})}startMeasurement(e,n){var a;const r=this.getPageVisibility(),i=super.startMeasurement(e,n),o=DS()?window.performance.now():void 0,s=(a=L9())==null?void 0:a.then(c=>new c.BrowserPerformanceMeasurement(e,i.event.correlationId));return s==null||s.then(c=>c.startMeasurement()),{...i,end:(c,l)=>{const d=i.end({...c,startPageVisibility:r,endPageVisibility:this.getPageVisibility(),durationMs:AOe(o)},l);return s==null||s.then(p=>p.endMeasurement()),this.deleteIncompleteSubMeasurements(i),d},discard:()=>{i.discard(),s==null||s.then(c=>c.flushMeasurement()),this.deleteIncompleteSubMeasurements(i)}}}setPreQueueTime(e,n){if(!DS()){this.logger.trace(`BrowserPerformanceClient: window performance API not available, unable to set telemetry queue time for ${e}`);return}if(!n){this.logger.trace(`BrowserPerformanceClient: correlationId for ${e} not provided, unable to set telemetry queue time`);return}const r=this.preQueueTimeByCorrelationId.get(n);r&&(this.logger.trace(`BrowserPerformanceClient: Incomplete pre-queue ${r.name} found`,n),this.addQueueMeasurement(r.name,n,void 0,!0)),this.preQueueTimeByCorrelationId.set(n,{name:e,time:window.performance.now()})}addQueueMeasurement(e,n,r,i){if(!DS()){this.logger.trace(`BrowserPerformanceClient: window performance API not available, unable to add queue measurement for ${e}`);return}if(!n){this.logger.trace(`BrowserPerformanceClient: correlationId for ${e} not provided, unable to add queue measurement`);return}const o=super.getPreQueueTime(e,n);if(!o)return;const s=window.performance.now(),a=r||super.calculateQueuedTime(o,s);return super.addQueueMeasurement(e,n,a,i)}}/*! @azure/msal-browser-1p v3.26.0 2024-10-08 */const nr={...Z,PairwiseBrokerApplicationInitializeBrokering:"pairwiseBrokerApplicationInitializeBrokering",BrokerClientApplicationHandleBrokerHandshake:"brokerClientApplicationHandleBrokerHandshake",BrokerClientApplicationBrokeredSSOSilentRequest:"brokerClientApplicationBrokeredSSOSilentRequest",BrokerClientApplicationBrokeredSilentRequest:"brokerClientApplicationBrokeredSilentRequest",EmbeddedClientApplicationSendSSOSilentRequest:"embeddedSSOSilent",EmbeddedClientApplicationSendPopupRequest:"embeddedPopup",EmbeddedClientApplicationSendRedirectRequest:"embeddedRedirect",EmbeddedClientApplicationHandleRedirectRequest:"embeddedHandleRedirect",EmbeddedClientApplicationSendSilentRefreshRequest:"embeddedSilentRefresh"},ROe=new Map([[nr.PairwiseBrokerApplicationInitializeBrokering,"PWBInitBrk"],[nr.BrokerClientApplicationHandleBrokerHandshake,"BrkClientHandeBrkHandshake"],[nr.BrokerClientApplicationBrokeredSSOSilentRequest,"BrkClientBrkSSOReq"],[nr.BrokerClientApplicationBrokeredSilentRequest,"BrkClientBrkSltReq"],[nr.EmbeddedClientApplicationSendSSOSilentRequest,"EmbClientSendSSOReq"],[nr.EmbeddedClientApplicationSendPopupRequest,"EmbClientSendPopupReq"],[nr.EmbeddedClientApplicationSendRedirectRequest,"EmbClientSendRedirectReq"],[nr.EmbeddedClientApplicationHandleRedirectRequest,"EmbClientHandleRedirectReq"],[nr.EmbeddedClientApplicationSendSilentRefreshRequest,"EmbClientSendSltRefreshReq"]]),POe=new Set(["brokerInteractionTimeoutMs","brokerMessageTimeoutMs","brokerHandshakeTimeoutMs","brokerIframeTimeoutMs"]);/*! @azure/msal-browser-1p v3.26.0 2024-10-08 */const OOe="msal.request";/*! @azure/msal-browser-1p v3.26.0 2024-10-08 */const NOe="faab4ead691e451eb230afc98a28e0f2-698cf73d-7930-426b-87d8-d36936f6912f-7401",MOe="https://eu-mobile.events.data.microsoft.com/OneCollector/1.0/",D9=`${OOe}.mats-telemetry-profile-id`;class LOe{constructor(e,n,r,i){this.logger=e,this.appName=r,this.appVersion=i,this.eventsToEmit=new Set(n),this.sessionId=cM();const o={instrumentationKey:NOe,endpointUrl:MOe,extensions:[],propertyConfiguration:{gpcDataSharingOptIn:!1},disableCookiesUsage:!0};this.appInsightsMATS=new rD,this.appInsightsMATS.initialize(o,[]),this.logger.verbose("MATSTelemetryReporter: Initialized");try{const s=new fM(xr.LocalStorage),a=s.getItem(D9);if(a!=null&&a.length)this.profileTelemetryId=a;else{const c=cM();this.profileTelemetryId=c,s.setItem(D9,c)}}catch{e.warning("MATSTelemetryReporter: local storage is not available"),this.profileTelemetryId=""}}sendCustomEvent(e){if(!this.eventsToEmit.has(e.name)){this.logger.verbose(`MATSTelemetryReporter: Skipping telemetry for ${e.name}`,e.correlationId);return}const n={...e,appName:this.appName,appVersion:this.appVersion,libraryName:"MSAL-JS",profileTelemetryId:this.profileTelemetryId,sessionId:this.sessionId};delete n.context,delete n.errorStack;const r={name:"actionmsaljs".concat(e.name.toLowerCase()||""),data:n};this.logger.verbose(`MATSTelemetryReporter: Sending ${r.name} for tracking`),this.appInsightsMATS.track(r),e.name===nr.AcquireTokenPreRedirect&&this.appInsightsMATS.flush()}}/*! @azure/msal-browser-1p v3.26.0 2024-10-08 */const DOe="d634483c08244c1ca09af2b2d952c92e-ab2bba03-2ba3-49d8-a82c-ef6da750d8ab-7725";function jOe(t){return Math.random()<=t}class FOe{constructor(e,n,r){this.synthetic=!1,this.redactionRatio=.1,this.logger=e,this.eventsToEmit=new Set(n);const i={instrumentationKey:DOe,extensions:[],propertyConfiguration:{gpcDataSharingOptIn:!1},disableCookiesUsage:!0};this.appInsights=new rD,this.appInsights.initialize(i,[]),this.synthetic=r||!1,this.logger.verbose("PerformanceTelemetryReporter: Initialized")}sendCustomEvent(e){if(!this.eventsToEmit.has(e.name)){this.logger.verbose(`PerformanceTelemetryReporter: Skipping telemetry for ${e.name}`,e.correlationId);return}let n;!e.success||jOe(this.redactionRatio)?(n={...e,appName:void 0,synthetic:this.synthetic},this.logger.verbose(`PerformanceTelemetryReporter: Sending ${n.name} for tracking`)):(n={name:e.name,eventId:e.eventId,correlationId:e.correlationId,requestId:e.requestId,success:e.success,status:e.status,fromCache:e.fromCache,startPageVisibility:e.startPageVisibility,endPageVisibility:e.endPageVisibility,authority:e.authority,durationMs:e.durationMs,startTimeMs:e.startTimeMs,clientId:e.clientId,libraryName:e.libraryName,libraryVersion:e.libraryVersion,accountType:e.accountType,synthetic:this.synthetic,isBroker:e.isBroker,isBackground:e.isBackground},this.logger.verbose(`PerformanceTelemetryReporter: Sending redacted ${n.name} for tracking`));const r={name:e.name,data:n};this.appInsights.track(r),e.name===nr.AcquireTokenPreRedirect&&this.appInsights.flush()}}/*! @azure/msal-browser-1p v3.26.0 2024-10-08 */const Xw=new Set([nr.AcquireTokenSilent,nr.AcquireTokenByCode,nr.AcquireTokenPopup,nr.AcquireTokenRedirect,nr.AcquireTokenPreRedirect,nr.PairwiseBrokerApplicationInitializeBrokering,nr.SsoSilent,nr.EmbeddedClientApplicationSendSSOSilentRequest,nr.EmbeddedClientApplicationSendPopupRequest,nr.EmbeddedClientApplicationSendRedirectRequest,nr.EmbeddedClientApplicationHandleRedirectRequest,nr.EmbeddedClientApplicationSendSilentRefreshRequest]);class UOe{constructor(e,n){var i;this.logger=e;const r=((i=n==null?void 0:n.eventsToEmit)==null?void 0:i.filter(o=>Xw==null?void 0:Xw.has(o)))||[...Xw];this.matsTelemetryReporter=n!=null&&n.enableMATS?new LOe(e,r,n==null?void 0:n.appName,n==null?void 0:n.appVersion):null,this.perfTelemetryReporter=new FOe(e,r,n==null?void 0:n.synthetic)}sendCustomEvent(e){var n;this.perfTelemetryReporter.sendCustomEvent(e),(n=this.matsTelemetryReporter)==null||n.sendCustomEvent(e)}getTelemetryCallback(){this.logger.trace("TelemetryReporter: Attaching callback to send custom metrics.");const e=n=>{n.forEach(r=>{r.name===nr.AcquireTokenByBroker&&(r.name=r.brokerEventName||r.name,r.isBroker=!0,delete r.brokerEventName,this.logger.verbosePii(`TelemetryReporter: Updated broker event ${JSON.stringify(r)}`,r.correlationId)),this.sendCustomEvent(r)})};return this.logger.verbose("TelemetryReporter: Returning callback as telemetry emitted."),e}}/*! @azure/msal-browser-1p v3.26.0 2024-10-08 */const BOe=[Q0.AzurePublic,Q0.AzurePpe];function VOe(t){return t.auth.authority?BOe.some(e=>{var n;return((n=t.auth.authority)==null?void 0:n.indexOf(e.toString()))===0}):!0}class N5 extends xOe{constructor(e,n){var o;let r;const i=typeof window<"u";if(!(n!=null&&n.disabled)&&VOe(e)&&i?(r=((o=e.telemetry)==null?void 0:o.client)||new kOe(e,new Set(POe),new Map(ROe)),super({...e,telemetry:{...e.telemetry,client:r}})):(super(e),r=new OX),this.performanceClient=r,i){const s=new UOe(this.getLogger(),n);this.addPerformanceCallback(s.getTelemetryCallback())}}static async createPublicClientApplication(e,n,r){const i=new N5(e,n);return await i.initialize({correlationId:r}),i}}class HOe{supportsNaa(){return!1}async instantiateMsal(){SQ({apiName:at.INITIALIZE_START,providerType:"microsoft"});const e=await N5.createPublicClientApplication(Ufe,Vfe);return EQ({apiName:at.INITIALIZE_END,providerType:"microsoft"}),e}async handleInteractionRequiredError(e,n){var r;Ls(Qr,null),Ls(ll,{reason:"token-expired",provider:"microsoft",loginHint:(r=n.account)==null?void 0:r.username})}}const zOe=new up($Oe);async function $Oe(){return new HOe}const Eo=new up(WOe);async function WOe(){const t=await zOe.get(),e=await t.instantiateMsal(),n=new Map([["login",null],["graph",null],["oneDrive",null]]);async function r(o,s){const a=Kfe(o),c={account:s,...a};try{return{accessToken:(await e.acquireTokenSilent(c)).accessToken}}catch(l){if(l instanceof ls)return he.trackEvent({name:"system",data:{eventName:"copilotWebAcquireTokenRedirect",eventInfo_requestType:o,eventInfo_traceId:l.traceId,eventInfo_errorMessage:l.errorMessage,eventInfo_errorCode:l.errorCode,eventInfo_correlationId:l.correlationId,eventInfo_timeSinceStartMs:performance.now()-window.appStart}}),t.handleInteractionRequiredError(e,c);if(l instanceof Vn&&(l.errorMessage===dme||parseInt(l.errorCode,10)===iK))throw he.trackEvent({name:"system",data:{eventName:"copilotWebAcquireTokenUnderaged",eventInfo_requestType:o,eventInfo_errorMessage:l.errorMessage,eventInfo_errorCode:l.errorCode,eventInfo_correlationId:l.correlationId}}),new Error(CL);return}}return{msal:e,getMsalAccessToken:async o=>{const s=e.getActiveAccount();if(!s&&!t.supportsNaa())return;const a=n.get(o);if(!a){const c=r(o,s??void 0);n.set(o,c);const l=await c;return n.set(o,null),l}return a}}}function TZ(t){if(t.eventType===at.LOGIN_START){const e=t.payload;TQ({apiName:at.LOGIN_START,authWorkflowAccountType:"microsoft",interactionType:t.interactionType??void 0,correlationId:e.correlationId,prompt:e.prompt,redirectUri:e.redirectUri})}else if(t.eventType===at.LOGIN_SUCCESS||t.eventType===at.SSO_SILENT_SUCCESS){const e=t.payload&&"account"in t.payload?t.payload.account:null,n=e?!Kh(e.tenantId):void 0,r=t.payload;IQ({apiName:t.eventType,authWorkflowAccountType:"microsoft",interactionType:t.interactionType??void 0,correlationId:r.correlationId,authority:r.authority,isMSA:n})}else if(t.eventType===at.LOGOUT_SUCCESS)xQ({apiName:at.LOGOUT_SUCCESS,providerType:"microsoft"});else if(t.eventType===at.ACQUIRE_TOKEN_START||t.eventType===at.ACQUIRE_TOKEN_SUCCESS||t.eventType===at.ACQUIRE_TOKEN_NETWORK_START||t.eventType===at.ACQUIRE_TOKEN_BY_CODE_START||t.eventType===at.ACQUIRE_TOKEN_BY_CODE_SUCCESS){const e=t.payload;GN({authWorkflowAccountType:"microsoft",apiName:t.eventType,extraInfo:{eventInfo_interactionType:t.interactionType??void 0,eventInfo_correlationId:e.correlationId,eventInfo_redirectUri:e.redirectUri,eventInfo_cacheLookupPolicy:e.cacheLookupPolicy,eventInfo_prompt:e.prompt}})}else if(t.eventType===at.LOGIN_FAILURE||t.eventType===at.ACQUIRE_TOKEN_FAILURE||t.eventType===at.SSO_SILENT_FAILURE||t.eventType===at.ACQUIRE_TOKEN_BY_CODE_FAILURE||t.eventType===at.LOGOUT_FAILURE){const e=t.error;gT({authWorkflowAccountType:"microsoft",apiName:t.eventType,errorType:(e==null?void 0:e.name)??"",errorMessage:(e==null?void 0:e.message)??"",errorExtraInfo:{eventInfo_correlationId:e==null?void 0:e.correlationId,eventInfo_errorMessage:e==null?void 0:e.errorMessage,eventInfo_errorCode:e==null?void 0:e.errorCode,eventInfo_name:e==null?void 0:e.name,eventInfo_interactionType:t.interactionType??void 0,eventInfo_subError:e==null?void 0:e.subError}})}else GN({authWorkflowAccountType:"microsoft",apiName:t.eventType,extraInfo:{eventInfo_interactionType:t.interactionType??void 0}})}function Kh(t){return t!==_E}class KOe{constructor(){Se(this,"hasTrackedRedirectError",!1)}async handleRedirect(){var e;try{const{msal:n}=await Eo.get();await n.handleRedirectPromise();const r=await this.getMsalAccount();return r?(n.setActiveAccount(r),{id:((e=r.idTokenClaims)==null?void 0:e.oid)??"",tenantId:r.tenantId,provider:"microsoft",accountType:Kh(r.tenantId)?"AAD":"MSA"}):null}catch(n){this.trackRedirectErrorOncePerSession(n)}return null}async maybeInitializeAccountWithToken(){var n;const e=await this.getAuthToken();if(e){const{msal:r}=await Eo.get(),i=await this.getMsalAccount();return i?(r.setActiveAccount(i),{userAccount:{id:((n=i.idTokenClaims)==null?void 0:n.oid)??"",tenantId:i.tenantId,provider:"microsoft",accountType:Kh(i.tenantId)?"AAD":"MSA"},authToken:e}):null}return null}async logIn(){const{msal:e}=await Eo.get(),n={...aL},r=this.buildRedirectUri();return r&&(n.redirectUri=r),e.loginRedirect(n)}buildRedirectUri(){const{surfaceQueryParam:e}=Qe.instance().config(),n=new URLSearchParams;let r;if(e!=null&&e.useForLoginRedirect)for(const[o,s]of Object.entries(e.params))n.set(o,s);const i=new URLSearchParams(window.location.search).get("back");return i&&n.set("back",i),n.toString()&&(r=`${window.location.origin}?${n}`),r}async logOut(){const{msal:e}=await Eo.get(),n=e.getAllAccounts(),r=e.getActiveAccount();try{for(const i of n)i.tenantId!==_E&&(await e.logoutRedirect({account:i,onRedirectNavigate:()=>!1}),he.setPicassoId(null))}catch(i){console.error(i)}return await e.logoutRedirect({account:r,onRedirectNavigate:()=>!1}),Promise.resolve()}async getAuthToken(){return(await Eo.get()).getMsalAccessToken("login")}async getUserInfo(){const e=await(await Eo.get()).getMsalAccessToken("graph");if(e)return s9(e.accessToken)}async getUserInfoFromToken(e){return s9(e)}supportsTokenType(e){return e===void 0}async getMsalAccount(){const{msal:e}=await Eo.get(),n=e.getAllAccounts();return n.length>1&&GN({authWorkflowAccountType:"microsoft",apiName:"msal:getAllAccounts",extraInfo:{eventInfo_accountCount:n.length}}),n.length===0?null:this.getAccount(n)??null}trackRedirectErrorOncePerSession(e){this.hasTrackedRedirectError||he.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"msalHandleRedirectPromise",eventInfo_details:"Error handling redirect promise",eventInfo_errorMessage:`${e}`}}),this.hasTrackedRedirectError=!0}getAccount(e){for(const n of e)if(n.tenantId===_E)return n;return e[0]}}class hs{constructor(){Se(this,"middlewares",[])}add(e){this.middlewares.push(e)}async run(e){let n={...e};for(const r of this.middlewares)try{n=await r(n)}catch{continue}return n}}const GOe=new hs,j9=new hs,PKe=new hs,OKe=new hs,qOe=new hs,YOe=new hs,QOe=new hs,XOe=new hs,NKe=new hs,MKe=new hs,ZOe=new hs,JOe=new hs,eNe=new hs;var Cg;const zf=class zf{constructor(){Se(this,"providers");this.providers={microsoft:new KOe,auth0:new DAe}}async handleRedirect(){const e=await this.providers.microsoft.handleRedirect();if(e)return e;if(!Qe.instance().config().enableAuth0)return null;const n=await this.providers.auth0.handleRedirect();return n||null}static instance(){return J(zf,Cg)||ht(zf,Cg,new zf),J(zf,Cg)}getCurrentProvider(){const e=cn(Qr);return e?this.providers[e.provider]:null}async getAccountFromProviders(){return this.handleRedirect()}async maybeInitialize(){try{const e=await this.providers.microsoft.maybeInitializeAccountWithToken();if(e)return e;if(!Qe.instance().config().enableAuth0)return null;const n=await this.providers.auth0.maybeInitializeAccountWithToken();if(n)return n}catch(e){e instanceof Error&&Bh({feature:"accountInitialization",errorType:e.name,errorMessage:e.message,exception:e.stack})}return null}setUserAccount(e){Ls(Qr,e),he.setUserAccountType(e==null?void 0:e.accountType)}async getAuthToken(){var r;const e=await j9.run({type:"login"});if(e.isHandled){if(((r=e.authToken)==null?void 0:r.tokenType)!==void 0){const i=LAe(e.authToken.tokenType);he.setUserAccountType(i)}return e.authToken}const n=this.getCurrentProvider();if(!n){const i=await this.handleRedirect();if(i)return this.setUserAccount(i),this.providers[i.provider].getAuthToken();const o=await this.maybeInitialize();if(o){const{authToken:s,userAccount:a}=o;return this.setUserAccount(a),s}return}return n.getAuthToken()}async getUserInfo(){const e=await j9.run({type:"graph"});if(e.isHandled){if(!e.authToken)return;const{tokenType:r,accessToken:i}=e.authToken;if(this.providers.microsoft.supportsTokenType(r))return this.providers.microsoft.getUserInfoFromToken(i);if(this.providers.auth0.supportsTokenType(r)){const o=await this.providers.auth0.getUserInfoFromToken(i);if(o)return o}return}const n=this.getCurrentProvider();if(n)return n.getUserInfo()}logIn(e,n){return this.providers[e].logIn(n)}async logOut(){const e=this.getCurrentProvider();return e&&(await e.logOut(),this.setUserAccount(null)),Promise.resolve()}};Cg=new WeakMap,Rt(zf,Cg,null);let Cd=zf;function IZ(){return null}function xZ({featureOverrides:t,localFeatureOverrides:e,serverFeatures:n,surfaceConfig:r}){var o,s,a,c;const i=new Set([...n]);(o=r.settingsOverrides)!=null&&o.shouldHideShopping&&i.delete("shopping-card"),(s=r.settingsOverrides)!=null&&s.shouldHideMultipleCharacters&&i.delete("multiplecharacters"),r.startInVoice&&i.add("start-in-voice"),(a=r.pages)!=null&&a.enabled?i.add("pages"):((c=r.pages)==null?void 0:c.enabled)===!1&&i.delete("pages");for(const l of t)i.add(l);for(const l of e)i.add(l);return Array.from(i)}function AZ(){return[]}async function M5(){const{msal:t}=await Eo.get();return t.getActiveAccount()}async function kZ(){const t=await M5();return t?Kh(t.tenantId):!1}async function F9(){const t=await M5();if(!(!t||!Kh(t.tenantId)))return t}async function tNe(){const t=await M5();if(!(!t||Kh(t.tenantId)))return t}async function nNe(){return(await Eo.get()).getMsalAccessToken("oneDrive")}const RZ="urlFeatureOverrides";function rNe(){return typeof window>"u"?null:sessionStorage.getItem(RZ)}function PZ(){const t=rNe();return t?t.split(",").map(n=>n):[]}function iNe(){const t=_r("features");return t!=null&&t.trim()&&typeof window<"u"&&sessionStorage.setItem(RZ,t.trim()),PZ()}const oNe={VITE_API_URL:"copilot.microsoft.com/c/api"};async function sNe(t,e){try{return await t.json()}catch(n){throw(n instanceof SyntaxError||n instanceof TypeError||n instanceof DOMException)&&I_e(n,t,e),n}}function OZ(t={}){const{query:e={}}=t,n=new URLSearchParams;for(const[s,a]of Object.entries(e))n.append(s,a);const r=xZ({featureOverrides:PZ(),localFeatureOverrides:AZ(),serverFeatures:[],surfaceConfig:Qe.instance().config()}).join(",");r&&(n.append("features",r),n.append("setflight",r));const i=IZ();i&&n.append("promptBranch",i);const{surfaceQueryParam:o}=Qe.instance().config();if(o)for(const[s,a]of Object.entries(o.params))n.append(s,a);return n}async function U9(t,e){const{VITE_API_URL:n}=oNe,r=n,i={...e,"api-version":"2"},o=await Cd.instance().getAuthToken(),s=await kZ();o&&!s&&(i.accessToken=o.accessToken,o.tokenType&&(i["X-UserIdentityType"]=o.tokenType)),o===void 0&&wQ(t,"getWssAPIUrl");const a=OZ({query:i});return`wss://${r}/${t}?${a}`}function aNe(t,e){let n="";n="https://copilot.microsoft.com/c/api",n+=t;const r=OZ({query:e});return r.toString()&&(n+=`?${r}`),n}async function rv(t,e={}){const{options:n,query:r,analytics:i}=e,o=new Headers(n==null?void 0:n.headers);ln.resolvedLanguage?o.set("X-Search-UILang",ln.resolvedLanguage.toLowerCase()):ln.language&&o.set("X-Search-UILang",ln.language.toLowerCase());const s=await Cd.instance().getAuthToken(),a=await kZ();s&&!a&&(o.set("Authorization",`Bearer ${s.accessToken}`),s.tokenType&&o.set("X-UserIdentityType",s.tokenType)),s===void 0&&wQ(t,"fetchApi");const c=performance.now(),l=await fetch(aNe(t,r),{...n,credentials:"include",headers:o}),d=performance.now();return _Q((i==null?void 0:i.anonymousPath)??t,(n==null?void 0:n.method)??"GET",d-c,l.clone()),$I.trackLatestApiAssignment(l.clone()),l}async function ko({path:t,args:e={}}){var r;const n={method:"POST",...e.options,headers:{"Content-Type":"application/json",...(r=e.options)==null?void 0:r.headers},body:e.body?JSON.stringify(e.body):void 0};return rv(t,{...e,options:n})}async function ci(t,e,n={}){const{analytics:r,onFailedRequest:i}=n,o=(r==null?void 0:r.anonymousPath)??t,s=await rv(t,n);let a=!0;if(!s.ok&&i&&(a=!!i(s)),!a)return{data:void 0,response:{ok:s.ok,status:s.status,headers:s.headers},zodError:void 0};const c=await sNe(s,o);let l,d;const{safe:p}=n.parseOptions??{};if(p){const m=e.safeParse(c);m.error&&z0(m.error,o,!0),l=c,d=m.error}else try{l=e.parse(c)}catch(m){throw m instanceof pi&&z0(m,o,!1),m}return{data:l,response:{ok:s.ok,status:s.status,headers:s.headers},zodError:d}}function cNe(){return ir(J8)!==null?!1:(ka(BD),ka(q0),Ci(J8,"true"),!0)}function NZ(){return parseInt(ir(BD)??"0",10)}function lNe(){return new Date(ir(q0)??new Date().toISOString())}function uNe(t){ir(q0)||Ci(q0,t)}function dNe(){let t;try{t=NZ()}catch{t=0}t<NO&&(t+=1,Ci(BD,`${t}`),t===NO&&uNe(new Date().toISOString()))}function MZ(t){return ci(t,_xe,{options:{method:"POST"}}).then(e=>e.data)}function hx(){const t=oe(lD),{trigger:e}=mL("/conversations",MZ),n=oe(Nr),r=xd(Nr),i=We(aD),o=We(C1e),s=$q(),[a,c]=b.useState(!1);return{startConversationDisabled:a,createConversation:b.useCallback(async(l=!0,d=void 0)=>{if(t){const p=n.get(t);if((p==null?void 0:p.characterId)===d)return s({id:t,shouldNavigateToChat:l}),t}if(!a)try{c(!0);const{id:p}=await e(),m={id:p,updatedAt:new Date().toISOString(),history:[],isNew:!0,characterId:d,streamingState:"idle",continuedAt:null};return r(g=>{g.set(p,m)}),s({id:p,shouldNavigateToChat:l}),i(!0),dNe(),o(),p}catch(p){console.error(p)}finally{c(!1)}},[t,a,n,s,e,r,i,o])}}function Wn(){return pz({select:e=>e.pathname})}function px(){const[t,e]=Lt(B_e),n=Wn();return b.useEffect(()=>{n.endsWith("/chats/new/talk")&&(he.setLandingPage("deepLinkVoiceCall"),e("audioCall"))},[n,e]),[t,()=>e(null)]}const fNe=se(0),hNe=se(null),pNe=se(null),mx=se("center"),L5=se(),mNe=se(void 0),Ks=se(null),gNe=se(null),gx=se(null),D5=se(null),vNe=se(t=>{var r;const e=t(Ul),n=yD(e);return((r=n==null?void 0:n.part.task)==null?void 0:r.type)==="research"}),LZ=se(null),yNe=se(!1),vx=se(new Map),Fv=se(null),bNe=se(t=>{const e=t(Fv);return(e==null?void 0:e.file)??null}),j5=se(null),DZ=se(!1),mM=se(!1),F5="shouldPerformUserMerge";function CNe(t){Ev(F5,String(t))}function _Ne(){dq(F5)}function wNe(){return jh(F5)!=="false"}function LKe(){const t=oe(Ul),e=co(),[n,r]=Lt(q1e),i=je("user-conversation-merge"),o=i&&!e&&t.length>0;return b.useEffect(()=>{i&&CNe(n)},[i,n]),{shouldShowMergeCheckbox:o,shouldMerge:n,setShouldMerge:r}}function gM(t){if(window.clarity)for(const[e,n]of Object.entries(t))window.clarity("set",e,n)}function B9(t){if(window.clarity)for(const e of t)window.clarity("event",e)}function yx(t){const e=io(),n=b.useRef(t);n.current=t,b.useEffect(()=>e.subscribe("onBeforeNavigate",r=>{const{pathChanged:i}=r;i&&n.current(r)}),[e])}let jZ=!0,FZ=!0;function SNe(t){FZ=t}function bx(){return jZ}function ENe(){yx(()=>{FZ||(jZ=!1)})}async function TNe(t){try{return(await ci(`/conversations/${t}/history`,UY,{analytics:{anonymousPath:"/conversations/*/history"}}).then(n=>n.data)).results.length>0}catch{return!1}}async function INe(t){const{conversationIdFromUrl:e,conversationIdFromStart:n}=t;return e&&e!=="new"&&await TNe(e)?{conversationId:e,isNew:!1}:n?{conversationId:n,isNew:!0}:{conversationId:null,isNew:!0}}async function xNe(t){const{pathname:e,conversationIdFromUrl:n,conversationFromUrlExists:r,urlPrompt:i,features:o,isBanned:s,enablePageRedirect:a,deepLinkTarget:c,search:l}=t;if(!a||s||navigator.userAgent.toLowerCase().includes("googlebot")&&e==="/")return null;if(i||n==="new")return{to:c==="audioCall"?"/chats/$conversationId/talk":"/chats/$conversationId",from:e,needsConversationId:!0};if(e.startsWith("/shares"))return e.startsWith("/shares/pages")?o.includes("pages")&&!o.includes("kill-shared-page")?null:ei(e):o.includes("kill-share-conversation")?ei(e):null;if(e.startsWith("/campaigns"))if(e.startsWith("/campaigns/gallery")){if(!o.includes("share-campaign-gallery"))return ei(e)}else return o.includes("share-campaign")?null:ei(e);if(["/pro/subscribe","/pro/ewallet/return"].includes(e)||e==="/fang")return null;if(e.startsWith("/referrals")&&!o.includes("user-referral")||e.startsWith("/subscription")&&!o.includes("cmc-m365-sku"))return ei(e);if(e.startsWith("/memory/narrative"))return o.includes("memory-narrative")?null:ei(e);if(e.endsWith("/talk"))return e.startsWith("/portrait/talk")?{from:e,to:"/portrait",needsConversationId:!1}:ei(e);if(e.startsWith("/chats")&&!r)return ei(e);if(e.startsWith("/pages"))return o.includes("pages")?null:ei(e);if(e.startsWith("/portrait")&&!o.includes("labs-portrait-enabled")||e.startsWith("/labs")&&(e.startsWith("/labs/experiments")&&(!o.includes("labs-v2")||e.startsWith("/labs/experiments/3d-generations")&&!o.includes("labs-3d-generations"))||!o.includes("labs-landing"))||e.startsWith("/login"))return ei(e);if(e.startsWith("/podcasts"))return e.startsWith("/podcasts/user")||e.startsWith("/podcasts/public")?null:ei(e);if(e.includes("/w/landing"))return o.includes("cmc-landing")?null:ei(e);if(e==="/"){if(o.includes("start-in-voice"))return null;const d=l==null?void 0:l.get("back");return ANe(d)&&Qe.instance().config().redirectBackEnabled?{from:"/login",to:new URL(d).pathname,needsConversationId:!1}:ei(e)}return null}function ANe(t){if(!t)return!1;try{if(new URL(t).origin===window.location.origin)return!0;throw new Error("Invalid redirect URL: not from same origin")}catch{throw new Error("Invalid redirect URL, malformed URL")}}function ei(t){return Qe.instance().config().neverStartInChat?{from:t,to:"/"}:{from:t,to:"/chats/$conversationId",needsConversationId:!0}}function kNe(){try{const{timeZone:t}=Intl.DateTimeFormat().resolvedOptions();return t}catch{return}}function U5(t){if(!t)return null;let e=null;const n=new Date(t).toISOString(),r=new Date().toISOString(),i=iCe(n,r,{roundingMethod:"ceil"});return i>24?e="permanent":i>1&&i<=24?e="24-hr":i>0&&i<=1&&(e="1-hr"),e}function B5(t,e,n){if(!t){ka(UN);return}const r=Ht();he.trackEvent({name:"system",data:{eventName:"copilotUserBan",eventInfo_banDuration:t,eventInfo_banSource:e,eventInfo_banExpiryTimestamp:n}}),r.set(mQ,t),r.set($0,"user-banned")}const RNe=v_e();async function PNe(t){let e=jh("sessionId");const n=jh("referralCode");!e&&n&&(e=crypto.randomUUID(),Ev("sessionId",e));const r=wNe(),i={timeZone:kNe(),startNewConversation:!0,teenSupportEnabled:!0,deviceFingerprint:e??void 0,referralCode:n??void 0,correctPersonalizationSetting:!0,performUserMerge:r},o={};RNe&&(o.overrideFeatures="1");const{data:s,response:a,zodError:c}=await ci(t,JIe,{options:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)},parseOptions:{safe:!0},query:o});if($I.trackClientExperimentationAssignment(a.headers),a.status===iK)throw new Error(CL);if(c)throw c;return s}function UZ(){const{i18n:t}=pt(),{showBoundary:e}=dW(),n=We($0),r=We(bW),i=We(Nr),o=We(Fh),s=We(sn),a=We(vQ),c=ds(),[l]=px(),d=Wn(),p=b.useRef(d);p.current=d;const m=hv({strict:!1}),g=b.useRef(m);g.current=m;const C=b.useRef(u_e()),_=oe(gx),S=b.useRef(_);S.current=_;const w=b.useRef(!0),T=b.useRef(!1),{trigger:I}=mL("/start",PNe);return b.useCallback(async A=>{var P;if(!t.language||T.current)return!1;T.current=!0;const k=iNe(),{enablePageRedirect:R,overwriteData:M}=A;try{const{isNewUser:N,banExpiresAt:D,remainingTurns:G,features:U,currentConversationId:W}=await I();Pr.emit("app:start-complete"),he.setFeatures(U),he.setIsNewUser(N),gM({isNewUser:N.toString()});const $=xZ({featureOverrides:[],localFeatureOverrides:AZ(),serverFeatures:U,surfaceConfig:Qe.instance().config()});$.includes("eager-msal")&&(Uh(HN,h.boolean(),!0),$.includes("msal-silent-sso")&&Uh(sQ,h.boolean(),!0)),$.includes("kill-eager-msal")&&ka(HN);const L=U5(D),B=await INe({conversationIdFromUrl:g.current.conversationId,conversationIdFromStart:W});let{conversationId:j}=B;if(!j){const{id:K}=await MZ("/conversations");j=K}const V=await xNe({pathname:p.current,conversationIdFromUrl:g.current.conversationId,conversationFromUrlExists:g.current.conversationId===j,urlPrompt:((P=S.current)==null?void 0:P.prompt)??null,features:$,enablePageRedirect:R,isBanned:!!L,deepLinkTarget:l,search:new URLSearchParams(window.location.search)});i(K=>{if(!M&&K.size>0)return K;const z=new Map([[j,{id:j,updatedAt:new Date().toISOString(),history:[],isNew:B.isNew,characterId:null,streamingState:"idle",continuedAt:null}]]);return!B.isNew&&W&&z.set(W,{id:W,updatedAt:new Date().toISOString(),history:[],isNew:!0,characterId:null,streamingState:"idle",continuedAt:null}),z}),s(K=>K&&!M?K:j),r(K=>K.length>0&&!M?K:$),o(G),a(N),B5(L,"start",D),w.current&&(w.current=!1,V&&await c({...V,params:V.needsConversationId?{conversationId:j}:{},search:C.current}))}catch(N){if(he.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"StartEndpointError",eventInfo_errorMessage:N instanceof Error?N.message:"",eventInfo_details:N instanceof Error?N.stack??"":""}}),N instanceof Error&&N.message===CL)return n("age-verification"),!0;console.error(N),e(N)}finally{SNe(!1)}return!0},[I,i,s,n,r,o,a,c,t.language,e,l])}const V9=Dl.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t)}),tP={dedupe:!0},ONe=(t,e,n)=>{const{cache:r,compare:i,suspense:o,fallbackData:s,revalidateOnMount:a,revalidateIfStale:c,refreshInterval:l,refreshWhenHidden:d,refreshWhenOffline:p,keepPreviousData:m}=n,[g,C,_,S]=js.get(r),[w,T]=Tl(t),I=b.useRef(!1),A=b.useRef(!1),k=b.useRef(w),R=b.useRef(e),M=b.useRef(n),P=()=>M.current,N=()=>P().isVisible()&&P().isOnline(),[D,G,U,W]=tc(r,w),$=b.useRef({}).current,L=st(s)?n.fallback[w]:s,B=(re,ue)=>{for(const xe in $){const Y=xe;if(Y==="data"){if(!i(re[Y],ue[Y])&&(!st(re[Y])||!i(_e,ue[Y])))return!1}else if(ue[Y]!==re[Y])return!1}return!0},j=b.useMemo(()=>{const re=!w||!e?!1:st(a)?P().isPaused()||o?!1:st(c)?!0:c:a,ue=pe=>{const Le=ns(pe);return delete Le._k,re?{isValidating:!0,isLoading:!0,...Le}:Le},xe=D(),Y=W(),ge=ue(xe),Ee=xe===Y?ge:ue(Y);let ye=ge;return[()=>{const pe=ue(D());return B(pe,ye)?(ye.data=pe.data,ye.isLoading=pe.isLoading,ye.isValidating=pe.isValidating,ye.error=pe.error,ye):(ye=pe,pe)},()=>Ee]},[r,w]),V=bI.useSyncExternalStore(b.useCallback(re=>U(w,(ue,xe)=>{B(xe,ue)||re()}),[r,w]),j[0],j[1]),K=!I.current,z=g[w]&&g[w].length>0,H=V.data,q=st(H)?L:H,le=V.error,Ce=b.useRef(q),_e=m?st(H)?Ce.current:H:q,be=z&&!st(le)?!1:K&&!st(a)?a:P().isPaused()?!1:o?st(q)?!1:c:st(q)||c,Pe=!!(w&&e&&K&&be),Oe=st(V.isValidating)?Pe:V.isValidating,Q=st(V.isLoading)?Pe:V.isLoading,ee=b.useCallback(async re=>{const ue=R.current;if(!w||!ue||A.current||P().isPaused())return!1;let xe,Y,ge=!0;const Ee=re||{},ye=!_[w]||!Ee.dedupe,pe=()=>Eh?!A.current&&w===k.current&&I.current:w===k.current,Le={isValidating:!1,isLoading:!1},De=()=>{G(Le)},Xe=()=>{const qe=_[w];qe&&qe[1]===Y&&delete _[w]},mt={isValidating:!0};st(D().data)&&(mt.isLoading=!0);try{if(ye&&(G(mt),n.loadingTimeout&&st(D().data)&&setTimeout(()=>{ge&&pe()&&P().onLoadingSlow(w,n)},n.loadingTimeout),_[w]=[ue(T),Th()]),[xe,Y]=_[w],xe=await xe,ye&&setTimeout(Xe,n.dedupingInterval),!_[w]||_[w][1]!==Y)return ye&&pe()&&P().onDiscarded(w),!1;Le.error=Zn;const qe=C[w];if(!st(qe)&&(Y<=qe[0]||Y<=qe[1]||qe[1]===0))return De(),ye&&pe()&&P().onDiscarded(w),!1;const dt=D().data;Le.data=i(dt,xe)?dt:xe,ye&&pe()&&P().onSuccess(xe,w,n)}catch(qe){Xe();const dt=P(),{shouldRetryOnError:$t}=dt;dt.isPaused()||(Le.error=qe,ye&&pe()&&(dt.onError(qe,w,dt),($t===!0||Qi($t)&&$t(qe))&&(!P().revalidateOnFocus||!P().revalidateOnReconnect||N())&&dt.onErrorRetry(qe,w,dt,nn=>{const Wt=g[w];Wt&&Wt[0]&&Wt[0](Xi.ERROR_REVALIDATE_EVENT,nn)},{retryCount:(Ee.retryCount||0)+1,dedupe:!0})))}return ge=!1,De(),!0},[w,r]),Ie=b.useCallback((...re)=>_I(r,k.current,...re),[]);if(Vs(()=>{R.current=e,M.current=n,st(H)||(Ce.current=H)}),Vs(()=>{if(!w)return;const re=ee.bind(Zn,tP);let ue=0;const Y=pL(w,g,(ge,Ee={})=>{if(ge==Xi.FOCUS_EVENT){const ye=Date.now();P().revalidateOnFocus&&ye>ue&&N()&&(ue=ye+P().focusThrottleInterval,re())}else if(ge==Xi.RECONNECT_EVENT)P().revalidateOnReconnect&&N()&&re();else{if(ge==Xi.MUTATE_EVENT)return ee();if(ge==Xi.ERROR_REVALIDATE_EVENT)return ee(Ee)}});return A.current=!1,k.current=w,I.current=!0,G({_k:T}),be&&(st(q)||El?re():uL(re)),()=>{A.current=!0,Y()}},[w]),Vs(()=>{let re;function ue(){const Y=Qi(l)?l(D().data):l;Y&&re!==-1&&(re=setTimeout(xe,Y))}function xe(){!D().error&&(d||P().isVisible())&&(p||P().isOnline())?ee(tP).then(ue):ue()}return ue(),()=>{re&&(clearTimeout(re),re=-1)}},[l,d,p,w]),b.useDebugValue(_e),o&&st(q)&&w){if(!Eh&&El)throw new Error("Fallback data is required when using suspense in SSR.");R.current=e,M.current=n,A.current=!1;const re=S[w];if(!st(re)){const ue=Ie(re);V9(ue)}if(st(le)){const ue=ee(tP);st(_e)||(ue.status="fulfilled",ue.value=!0),V9(ue)}else throw le}return{mutate:Ie,get data(){return $.data=!0,_e},get error(){return $.error=!0,le},get isValidating(){return $.isValidating=!0,Oe},get isLoading(){return $.isLoading=!0,Q}}},hp=hL(ONe);function NNe(){const{cache:t,mutate:e}=fL(),n=b.useCallback(async()=>{for(const i of t.keys())await e(i,void 0,{revalidate:!1})},[t,e]),r=b.useCallback(async i=>{await e(i,void 0,{revalidate:!1})},[e]);return{clearAllSWRCache:n,clearOneSWRCache:r}}function MNe(){ka(aQ)}function Uv(){const t=UZ(),e=Wn(),n=ds(),{clearAllSWRCache:r}=NNe(),i=async a=>{const{provider:c,opts:l={},onAuthComplete:d,onAuthError:p}=a;await Cd.instance().logIn(c,l).catch(m=>{console.error(m),p==null||p()})},o=async(a=!0)=>{await r(),MNe(),_Ne(),await Cd.instance().logOut().then(async()=>{a&&(await n({to:"/",from:e}),await t({enablePageRedirect:!1,overwriteData:!0}))})};return{login:i,logout:o,switchMicrosoftAccount:async()=>{await o(),await i({provider:"microsoft"})}}}function LNe({accountActionRequired:t,onReload:e}){const{t:n}=pt(),r=tp(),{login:i}=Uv(),{reason:o,provider:s,loginHint:a}=t,c=async m=>{Yt({source:"sessionExpired",scenario:"continueWithMicrosoftWithLoginHint",destination:"continueWithMicrosoftRedirect"}),KR({authWorkflowAccountType:"microsoft",apiName:"msal:reauthStart"});const{msal:g}=await Eo.get();await g.acquireTokenRedirect({...aL,loginHint:m,account:g.getAccountByUsername(m)??void 0,prompt:void 0})},l=async()=>{if(o==="token-expired"&&t.provider==="microsoft"){const{msal:m}=await Eo.get();await m.clearCache()}},d=async(m,g)=>{await l();let C="";switch(m==="microsoft"?(C="MSA",KR({authWorkflowAccountType:"microsoft",apiName:"msal:reauthStart"})):m==="auth0"&&(C=(g==null?void 0:g.connection)==="apple"?"Apple":"Google",KR({authWorkflowAccountType:(g==null?void 0:g.connection)??"google",apiName:al.REAUTH_START})),Yt({source:"sessionExpired",scenario:`continueWith${C}`,destination:`continueWith${C}Redirect`}),m){case"microsoft":i({provider:m});break;case"auth0":i({provider:m,opts:g});break}},p=async()=>{Or({source:"signin",scenario:"sessionExpired"}),await l(),i({provider:"microsoft"})};return y.jsxs(y.Fragment,{children:[y.jsx("h1",{className:"pb-3 text-lg",children:n("authentication.sessionExpired")}),y.jsx("p",{className:"pb-7",children:n("authentication.sessionExpiredMessage")}),o==="token-expired"&&s==="microsoft"&&a&&y.jsx(lt,{onClick:()=>c(a),title:`${n("signInPrompt.continueAs",{name:a})}`,variant:"pill",size:"48-lg",className:"w-full",children:`${n("signInPrompt.continueAs",{name:a})}`}),r?y.jsxs(y.Fragment,{children:[y.jsxs(lt,{onClick:()=>d("microsoft"),title:n("signInPrompt.continueWithMicrosoft"),variant:"pill",size:"48-lg",className:"mt-3 w-full",children:[y.jsx(yI,{className:"size-6"}),n("signInPrompt.continueWithMicrosoft")]}),y.jsxs(lt,{onClick:()=>d("auth0",{connection:"apple"}),title:n("signInPrompt.continueWithApple"),variant:"pill",size:"48-lg",className:"mt-3 w-full",children:[y.jsx(oL,{className:"size-6 text-black dark:text-white"}),n("signInPrompt.continueWithApple")]}),y.jsxs(lt,{onClick:()=>d("auth0",{connection:"google"}),title:n("signInPrompt.continueWithGoogle"),variant:"pill",size:"48-lg",className:"mt-3 w-full",children:[y.jsx(sL,{className:"size-6"}),n("signInPrompt.continueWithGoogle")]})]}):y.jsx(lt,{onClick:p,title:n("common.loginText"),variant:"pill",size:"48-lg",className:"mt-3 w-full",children:n("common.loginText")}),y.jsx(lt,{onClick:e,title:n("signInPrompt.continueWithoutSignIn"),variant:"pill",color:"subtle-dimmed-inverted",size:"48-lg",className:"mt-3 w-full",children:n("signInPrompt.continueWithoutSignIn")})]})}function BZ(t){try{return new URL(t,window.location.origin).origin!==window.location.origin}catch{return!1}}function Cx(t){cn(Tv)&&BZ(t)?Ht().set(mD,t.toString()):window.location.href=t}function _x(){DNe()}function DNe(t){const{surfaceQueryParam:e}=Qe.instance().config(),n=new URL(window.location.href);if(e)for(const[r,i]of Object.entries(e.params))n.searchParams.delete(r),n.searchParams.append(r,i);Cx(n.href)}var jNe=typeof WeakRef<"u",H9=class{constructor(t){jNe&&typeof t=="object"?this._weakRef=new WeakRef(t):this._instance=t}deref(){var t,e;let n;return this._weakRef?(n=(t=this._weakRef)==null?void 0:t.deref(),n||delete this._weakRef):(n=this._instance,(e=n==null?void 0:n.isDisposed)!=null&&e.call(n)&&delete this._instance),n}},Gh="keyborg:focusin",Z0="keyborg:focusout";function FNe(t){const e=t.HTMLElement,n=e.prototype.focus;let r=!1;return e.prototype.focus=function(){r=!0},t.document.createElement("button").focus(),e.prototype.focus=n,r}var nP=!1;function Ac(t){const e=t.focus;e.__keyborgNativeFocus?e.__keyborgNativeFocus.call(t):t.focus()}function UNe(t){const e=t;nP||(nP=FNe(e));const n=e.HTMLElement.prototype.focus;if(n.__keyborgNativeFocus)return;e.HTMLElement.prototype.focus=c;const r=new Set,i=d=>{const p=d.target;if(!p)return;const m=new CustomEvent(Z0,{cancelable:!0,bubbles:!0,composed:!0,detail:{originalEvent:d}});p.dispatchEvent(m)},o=d=>{const p=d.target;if(!p)return;let m=d.composedPath()[0];const g=new Set;for(;m;)m.nodeType===Node.DOCUMENT_FRAGMENT_NODE?(g.add(m),m=m.host):m=m.parentNode;for(const C of r){const _=C.deref();(!_||!g.has(_))&&(r.delete(C),_&&(_.removeEventListener("focusin",o,!0),_.removeEventListener("focusout",i,!0)))}s(p,d.relatedTarget||void 0)},s=(d,p,m)=>{var g;const C=d.shadowRoot;if(C){for(const w of r)if(w.deref()===C)return;C.addEventListener("focusin",o,!0),C.addEventListener("focusout",i,!0),r.add(new H9(C));return}const _={relatedTarget:p,originalEvent:m},S=new CustomEvent(Gh,{cancelable:!0,bubbles:!0,composed:!0,detail:_});S.details=_,(nP||a.lastFocusedProgrammatically)&&(_.isFocusedProgrammatically=d===((g=a.lastFocusedProgrammatically)==null?void 0:g.deref()),a.lastFocusedProgrammatically=void 0),d.dispatchEvent(S)},a=e.__keyborgData={focusInHandler:o,focusOutHandler:i,shadowTargets:r};e.document.addEventListener("focusin",e.__keyborgData.focusInHandler,!0),e.document.addEventListener("focusout",e.__keyborgData.focusOutHandler,!0);function c(){const d=e.__keyborgData;return d&&(d.lastFocusedProgrammatically=new H9(this)),n.apply(this,arguments)}let l=e.document.activeElement;for(;l&&l.shadowRoot;)s(l),l=l.shadowRoot.activeElement;c.__keyborgNativeFocus=n}function BNe(t){const e=t,n=e.HTMLElement.prototype,r=n.focus.__keyborgNativeFocus,i=e.__keyborgData;if(i){e.document.removeEventListener("focusin",i.focusInHandler,!0),e.document.removeEventListener("focusout",i.focusOutHandler,!0);for(const o of i.shadowTargets){const s=o.deref();s&&(s.removeEventListener("focusin",i.focusInHandler,!0),s.removeEventListener("focusout",i.focusOutHandler,!0))}i.shadowTargets.clear(),delete e.__keyborgData}r&&(n.focus=r)}var VNe=500,VZ=0,HNe=class{constructor(t,e){this._isNavigatingWithKeyboard_DO_NOT_USE=!1,this._onFocusIn=r=>{if(this._isMouseOrTouchUsedTimer||this.isNavigatingWithKeyboard)return;const i=r.detail;i.relatedTarget&&(i.isFocusedProgrammatically||i.isFocusedProgrammatically===void 0||(this.isNavigatingWithKeyboard=!0))},this._onMouseDown=r=>{r.buttons===0||r.clientX===0&&r.clientY===0&&r.screenX===0&&r.screenY===0||this._onMouseOrTouch()},this._onMouseOrTouch=()=>{const r=this._win;r&&(this._isMouseOrTouchUsedTimer&&r.clearTimeout(this._isMouseOrTouchUsedTimer),this._isMouseOrTouchUsedTimer=r.setTimeout(()=>{delete this._isMouseOrTouchUsedTimer},1e3)),this.isNavigatingWithKeyboard=!1},this._onKeyDown=r=>{this.isNavigatingWithKeyboard?this._shouldDismissKeyboardNavigation(r)&&this._scheduleDismiss():this._shouldTriggerKeyboardNavigation(r)&&(this.isNavigatingWithKeyboard=!0)},this.id="c"+ ++VZ,this._win=t;const n=t.document;if(e){const r=e.triggerKeys,i=e.dismissKeys;r!=null&&r.length&&(this._triggerKeys=new Set(r)),i!=null&&i.length&&(this._dismissKeys=new Set(i))}n.addEventListener(Gh,this._onFocusIn,!0),n.addEventListener("mousedown",this._onMouseDown,!0),t.addEventListener("keydown",this._onKeyDown,!0),n.addEventListener("touchstart",this._onMouseOrTouch,!0),n.addEventListener("touchend",this._onMouseOrTouch,!0),n.addEventListener("touchcancel",this._onMouseOrTouch,!0),UNe(t)}get isNavigatingWithKeyboard(){return this._isNavigatingWithKeyboard_DO_NOT_USE}set isNavigatingWithKeyboard(t){this._isNavigatingWithKeyboard_DO_NOT_USE!==t&&(this._isNavigatingWithKeyboard_DO_NOT_USE=t,this.update())}dispose(){const t=this._win;if(t){this._isMouseOrTouchUsedTimer&&(t.clearTimeout(this._isMouseOrTouchUsedTimer),this._isMouseOrTouchUsedTimer=void 0),this._dismissTimer&&(t.clearTimeout(this._dismissTimer),this._dismissTimer=void 0),BNe(t);const e=t.document;e.removeEventListener(Gh,this._onFocusIn,!0),e.removeEventListener("mousedown",this._onMouseDown,!0),t.removeEventListener("keydown",this._onKeyDown,!0),e.removeEventListener("touchstart",this._onMouseOrTouch,!0),e.removeEventListener("touchend",this._onMouseOrTouch,!0),e.removeEventListener("touchcancel",this._onMouseOrTouch,!0),delete this._win}}isDisposed(){return!!this._win}update(){var t,e;const n=(e=(t=this._win)==null?void 0:t.__keyborg)==null?void 0:e.refs;if(n)for(const r of Object.keys(n))V5.update(n[r],this.isNavigatingWithKeyboard)}_shouldTriggerKeyboardNavigation(t){var e;if(t.key==="Tab")return!0;const n=(e=this._win)==null?void 0:e.document.activeElement,r=!this._triggerKeys||this._triggerKeys.has(t.keyCode),i=n&&(n.tagName==="INPUT"||n.tagName==="TEXTAREA"||n.isContentEditable);return r&&!i}_shouldDismissKeyboardNavigation(t){var e;return(e=this._dismissKeys)==null?void 0:e.has(t.keyCode)}_scheduleDismiss(){const t=this._win;if(t){this._dismissTimer&&(t.clearTimeout(this._dismissTimer),this._dismissTimer=void 0);const e=t.document.activeElement;this._dismissTimer=t.setTimeout(()=>{this._dismissTimer=void 0;const n=t.document.activeElement;e&&n&&e===n&&(this.isNavigatingWithKeyboard=!1)},VNe)}}},V5=class HZ{constructor(e,n){this._cb=[],this._id="k"+ ++VZ,this._win=e;const r=e.__keyborg;r?(this._core=r.core,r.refs[this._id]=this):(this._core=new HNe(e,n),e.__keyborg={core:this._core,refs:{[this._id]:this}})}static create(e,n){return new HZ(e,n)}static dispose(e){e.dispose()}static update(e,n){e._cb.forEach(r=>r(n))}dispose(){var e;const n=(e=this._win)==null?void 0:e.__keyborg;n!=null&&n.refs[this._id]&&(delete n.refs[this._id],Object.keys(n.refs).length===0&&(n.core.dispose(),delete this._win.__keyborg)),this._cb=[],delete this._core,delete this._win}isNavigatingWithKeyboard(){var e;return!!((e=this._core)!=null&&e.isNavigatingWithKeyboard)}subscribe(e){this._cb.push(e)}unsubscribe(e){const n=this._cb.indexOf(e);n>=0&&this._cb.splice(n,1)}setVal(e){this._core&&(this._core.isNavigatingWithKeyboard=e)}};function zNe(t,e){return V5.create(t,e)}function $Ne(t){V5.dispose(t)}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 *//*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const od="data-tabster",WNe="data-tabster-dummy",zZ=["a[href]","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","*[tabindex]","*[contenteditable]","details > summary","audio[controls]","video[controls]"].join(", "),Cl={EscapeGroupper:1,Restorer:2,Deloser:3},Au={Invisible:0,PartiallyVisible:1,Visible:2},iv={Source:0,Target:1},ya={Both:0,Vertical:1,Horizontal:2,Grid:3,GridLinear:4},Er={ArrowUp:1,ArrowDown:2,ArrowLeft:3,ArrowRight:4,PageUp:5,PageDown:6,Home:7,End:8},jS={Unlimited:0,Limited:1,LimitedTrapFocus:2},z9={Enter:1},KNe={Outside:2};/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */function mi(t,e){var n;return(n=t.storageEntry(e))===null||n===void 0?void 0:n.tabster}function $Z(t,e,n){var r,i;const o=n||t._noop?void 0:e.getAttribute(od);let s=t.storageEntry(e),a;if(o)if(o!==((r=s==null?void 0:s.attr)===null||r===void 0?void 0:r.string))try{const p=JSON.parse(o);if(typeof p!="object")throw new Error(`Value is not a JSON object, got '${o}'.`);a={string:o,object:p}}catch{}else return;else if(!s)return;s||(s=t.storageEntry(e,!0)),s.tabster||(s.tabster={});const c=s.tabster||{},l=((i=s.attr)===null||i===void 0?void 0:i.object)||{},d=(a==null?void 0:a.object)||{};for(const p of Object.keys(l))if(!d[p]){if(p==="root"){const m=c[p];m&&t.root.onRoot(m,!0)}switch(p){case"deloser":case"root":case"groupper":case"modalizer":case"restorer":case"mover":const m=c[p];m&&(m.dispose(),delete c[p]);break;case"observed":delete c[p],t.observedElement&&t.observedElement.onObservedElementUpdate(e);break;case"focusable":case"outline":case"uncontrolled":case"sys":delete c[p];break}}for(const p of Object.keys(d)){const m=d.sys;switch(p){case"deloser":c.deloser?c.deloser.setProps(d.deloser):t.deloser&&(c.deloser=t.deloser.createDeloser(e,d.deloser));break;case"root":c.root?c.root.setProps(d.root):c.root=t.root.createRoot(e,d.root,m),t.root.onRoot(c.root);break;case"modalizer":c.modalizer?c.modalizer.setProps(d.modalizer):t.modalizer&&(c.modalizer=t.modalizer.createModalizer(e,d.modalizer,m));break;case"restorer":c.restorer?c.restorer.setProps(d.restorer):t.restorer&&d.restorer&&(c.restorer=t.restorer.createRestorer(e,d.restorer));break;case"focusable":c.focusable=d.focusable;break;case"groupper":c.groupper?c.groupper.setProps(d.groupper):t.groupper&&(c.groupper=t.groupper.createGroupper(e,d.groupper,m));break;case"mover":c.mover?c.mover.setProps(d.mover):t.mover&&(c.mover=t.mover.createMover(e,d.mover,m));break;case"observed":t.observedElement&&(c.observed=d.observed,t.observedElement.onObservedElementUpdate(e));break;case"uncontrolled":c.uncontrolled=d.uncontrolled;break;case"outline":t.outline&&(c.outline=d.outline);break;case"sys":c.sys=d.sys;break;default:console.error(`Unknown key '${p}' in data-tabster attribute value.`)}}a?s.attr=a:(Object.keys(c).length===0&&(delete s.tabster,delete s.attr),t.storageEntry(e,!1))}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const GNe="tabster:focusin",qNe="tabster:focusout",YNe="tabster:movefocus",QNe="tabster:modalizer:active",XNe="tabster:modalizer:inactive",ZNe="tabster:mover:state",$9="tabster:mover:movefocus",W9="tabster:mover:memorized-element",K9="tabster:groupper:movefocus",vM="tabster:restorer:restore-focus",JNe="tabster:root:focus",eMe="tabster:root:blur",tMe=typeof CustomEvent<"u"?CustomEvent:function(){};class Bl extends tMe{constructor(e,n){super(e,{bubbles:!0,cancelable:!0,composed:!0,detail:n}),this.details=n}}class nMe extends Bl{constructor(e){super(GNe,e)}}class rMe extends Bl{constructor(e){super(qNe,e)}}class sd extends Bl{constructor(e){super(YNe,e)}}class G9 extends Bl{constructor(e){super(ZNe,e)}}class iMe extends Bl{constructor(e){super(QNe,e)}}class oMe extends Bl{constructor(e){super(XNe,e)}}class q9 extends Bl{constructor(){super(vM)}}class sMe extends Bl{constructor(e){super(JNe,e)}}class aMe extends Bl{constructor(e){super(eMe,e)}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const cMe=t=>new MutationObserver(t),lMe=(t,e,n,r)=>t.createTreeWalker(e,n,r),uMe=t=>t?t.parentNode:null,dMe=t=>t?t.parentElement:null,fMe=(t,e)=>!!(e&&(t!=null&&t.contains(e))),hMe=t=>t.activeElement,pMe=(t,e)=>t.querySelector(e),mMe=(t,e)=>Array.prototype.slice.call(t.querySelectorAll(e),0),gMe=(t,e)=>t.getElementById(e),vMe=t=>(t==null?void 0:t.firstChild)||null,yMe=t=>(t==null?void 0:t.lastChild)||null,bMe=t=>(t==null?void 0:t.nextSibling)||null,CMe=t=>(t==null?void 0:t.previousSibling)||null,_Me=t=>(t==null?void 0:t.firstElementChild)||null,wMe=t=>(t==null?void 0:t.lastElementChild)||null,SMe=t=>(t==null?void 0:t.nextElementSibling)||null,EMe=t=>(t==null?void 0:t.previousElementSibling)||null,TMe=(t,e)=>t.appendChild(e),IMe=(t,e,n)=>t.insertBefore(e,n),xMe=t=>{var e;return((e=t.ownerDocument)===null||e===void 0?void 0:e.getSelection())||null},AMe=(t,e)=>t.ownerDocument.getElementsByName(e),Be={createMutationObserver:cMe,createTreeWalker:lMe,getParentNode:uMe,getParentElement:dMe,nodeContains:fMe,getActiveElement:hMe,querySelector:pMe,querySelectorAll:mMe,getElementById:gMe,getFirstChild:vMe,getLastChild:yMe,getNextSibling:bMe,getPreviousSibling:CMe,getFirstElementChild:_Me,getLastElementChild:wMe,getNextElementSibling:SMe,getPreviousElementSibling:EMe,appendChild:TMe,insertBefore:IMe,getSelection:xMe,getElementsByName:AMe};function kMe(t){for(const e of Object.keys(t))Be[e]=t[e]}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */let yM;const Y9=typeof DOMRect<"u"?DOMRect:class{constructor(t,e,n,r){this.left=t||0,this.top=e||0,this.right=(t||0)+(n||0),this.bottom=(e||0)+(r||0)}};let RMe=0;try{document.createTreeWalker(document,NodeFilter.SHOW_ELEMENT),yM=!1}catch{yM=!0}const rP=100;function Vl(t){const e=t();let n=e.__tabsterInstanceContext;return n||(n={elementByUId:{},basics:{Promise:e.Promise||void 0,WeakRef:e.WeakRef||void 0},containerBoundingRectCache:{},lastContainerBoundingRectCacheId:0,fakeWeakRefs:[],fakeWeakRefsStarted:!1},e.__tabsterInstanceContext=n),n}function PMe(t){const e=t.__tabsterInstanceContext;e&&(e.elementByUId={},delete e.WeakRef,e.containerBoundingRectCache={},e.containerBoundingRectCacheTimer&&t.clearTimeout(e.containerBoundingRectCacheTimer),e.fakeWeakRefsTimer&&t.clearTimeout(e.fakeWeakRefsTimer),e.fakeWeakRefs=[],delete t.__tabsterInstanceContext)}function OMe(t){const e=t.__tabsterInstanceContext;return new((e==null?void 0:e.basics.WeakMap)||WeakMap)}function NMe(t){return!!t.querySelector(zZ)}class WZ{constructor(e){this._target=e}deref(){return this._target}static cleanup(e,n){return e._target?n||!z5(e._target.ownerDocument,e._target)?(delete e._target,!0):!1:!0}}class rs{constructor(e,n,r){const i=Vl(e);let o;i.WeakRef?o=new i.WeakRef(n):(o=new WZ(n),i.fakeWeakRefs.push(o)),this._ref=o,this._data=r}get(){const e=this._ref;let n;return e&&(n=e.deref(),n||delete this._ref),n}getData(){return this._data}}function KZ(t,e){const n=Vl(t);n.fakeWeakRefs=n.fakeWeakRefs.filter(r=>!WZ.cleanup(r,e))}function GZ(t){const e=Vl(t);e.fakeWeakRefsStarted||(e.fakeWeakRefsStarted=!0,e.WeakRef=UMe(e)),e.fakeWeakRefsTimer||(e.fakeWeakRefsTimer=t().setTimeout(()=>{e.fakeWeakRefsTimer=void 0,KZ(t),GZ(t)},2*60*1e3))}function MMe(t){const e=Vl(t);e.fakeWeakRefsStarted=!1,e.fakeWeakRefsTimer&&(t().clearTimeout(e.fakeWeakRefsTimer),e.fakeWeakRefsTimer=void 0,e.fakeWeakRefs=[])}function H5(t,e,n){if(e.nodeType!==Node.ELEMENT_NODE)return;const r=yM?n:{acceptNode:n};return Be.createTreeWalker(t,e,NodeFilter.SHOW_ELEMENT,r,!1)}function qZ(t,e){let n=e.__tabsterCacheId;const r=Vl(t),i=n?r.containerBoundingRectCache[n]:void 0;if(i)return i.rect;const o=e.ownerDocument&&e.ownerDocument.documentElement;if(!o)return new Y9;let s=0,a=0,c=o.clientWidth,l=o.clientHeight;if(e!==o){const p=e.getBoundingClientRect();s=Math.max(s,p.left),a=Math.max(a,p.top),c=Math.min(c,p.right),l=Math.min(l,p.bottom)}const d=new Y9(s<c?s:-1,a<l?a:-1,s<c?c-s:0,a<l?l-a:0);return n||(n="r-"+ ++r.lastContainerBoundingRectCacheId,e.__tabsterCacheId=n),r.containerBoundingRectCache[n]={rect:d,element:e},r.containerBoundingRectCacheTimer||(r.containerBoundingRectCacheTimer=window.setTimeout(()=>{r.containerBoundingRectCacheTimer=void 0;for(const p of Object.keys(r.containerBoundingRectCache))delete r.containerBoundingRectCache[p].element.__tabsterCacheId;r.containerBoundingRectCache={}},50)),d}function Q9(t,e,n){const r=YZ(e);if(!r)return!1;const i=qZ(t,r),o=e.getBoundingClientRect(),s=o.height*(1-n),a=Math.max(0,i.top-o.top),c=Math.max(0,o.bottom-i.bottom),l=a+c;return l===0||l<=s}function LMe(t,e,n){const r=YZ(e);if(r){const i=qZ(t,r),o=e.getBoundingClientRect();n?r.scrollTop+=o.top-i.top:r.scrollTop+=o.bottom-i.bottom}}function YZ(t){const e=t.ownerDocument;if(e){for(let n=Be.getParentElement(t);n;n=Be.getParentElement(n))if(n.scrollWidth>n.clientWidth||n.scrollHeight>n.clientHeight)return n;return e.documentElement}return null}function DMe(t){t.__shouldIgnoreFocus=!0}function QZ(t){return!!t.__shouldIgnoreFocus}function jMe(t){const e=new Uint32Array(4);if(t.crypto&&t.crypto.getRandomValues)t.crypto.getRandomValues(e);else if(t.msCrypto&&t.msCrypto.getRandomValues)t.msCrypto.getRandomValues(e);else for(let r=0;r<e.length;r++)e[r]=4294967295*Math.random();const n=[];for(let r=0;r<e.length;r++)n.push(e[r].toString(36));return n.push("|"),n.push((++RMe).toString(36)),n.push("|"),n.push(Date.now().toString(36)),n.join("")}function FS(t,e){const n=Vl(t);let r=e.__tabsterElementUID;return r||(r=e.__tabsterElementUID=jMe(t())),!n.elementByUId[r]&&z5(e.ownerDocument,e)&&(n.elementByUId[r]=new rs(t,e)),r}function X9(t,e){const n=Vl(t);for(const r of Object.keys(n.elementByUId)){const i=n.elementByUId[r],o=i&&i.get();o&&e&&!Be.nodeContains(e,o)||delete n.elementByUId[r]}}function z5(t,e){return Be.nodeContains(t==null?void 0:t.body,e)}function XZ(t,e){const n=t.matches||t.matchesSelector||t.msMatchesSelector||t.webkitMatchesSelector;return n&&n.call(t,e)}function FMe(t){const e=Vl(t);if(e.basics.Promise)return e.basics.Promise;throw new Error("No Promise defined.")}function UMe(t){return t.basics.WeakRef}let BMe=0;class HC{constructor(e,n,r){const i=e.getWindow;this._tabster=e,this._element=new rs(i,n),this._props={...r},this.id="i"+ ++BMe}getElement(){return this._element.get()}getProps(){return this._props}setProps(e){this._props={...e}}}class OT{constructor(e,n,r,i,o){var s;this._focusIn=d=>{if(this._fixedTarget){const m=this._fixedTarget.get();m&&Ac(m);return}const p=this.input;if(this.onFocusIn&&p){const m=d.relatedTarget;this.onFocusIn(this,this._isBackward(!0,p,m),m)}},this._focusOut=d=>{if(this._fixedTarget)return;this.useDefaultAction=!1;const p=this.input;if(this.onFocusOut&&p){const m=d.relatedTarget;this.onFocusOut(this,this._isBackward(!1,p,m),m)}};const a=e(),c=a.document.createElement("i");c.tabIndex=0,c.setAttribute("role","none"),c.setAttribute(WNe,""),c.setAttribute("aria-hidden","true");const l=c.style;l.position="fixed",l.width=l.height="1px",l.opacity="0.001",l.zIndex="-1",l.setProperty("content-visibility","hidden"),DMe(c),this.input=c,this.isFirst=r.isFirst,this.isOutside=n,this._isPhantom=(s=r.isPhantom)!==null&&s!==void 0?s:!1,this._fixedTarget=o,c.addEventListener("focusin",this._focusIn),c.addEventListener("focusout",this._focusOut),c.__tabsterDummyContainer=i,this._isPhantom&&(this._disposeTimer=a.setTimeout(()=>{delete this._disposeTimer,this.dispose()},0),this._clearDisposeTimeout=()=>{this._disposeTimer&&(a.clearTimeout(this._disposeTimer),delete this._disposeTimer),delete this._clearDisposeTimeout})}dispose(){var e;this._clearDisposeTimeout&&this._clearDisposeTimeout();const n=this.input;n&&(delete this._fixedTarget,delete this.onFocusIn,delete this.onFocusOut,delete this.input,n.removeEventListener("focusin",this._focusIn),n.removeEventListener("focusout",this._focusOut),delete n.__tabsterDummyContainer,(e=Be.getParentNode(n))===null||e===void 0||e.removeChild(n))}setTopLeft(e,n){var r;const i=(r=this.input)===null||r===void 0?void 0:r.style;i&&(i.top=`${e}px`,i.left=`${n}px`)}_isBackward(e,n,r){return e&&!r?!this.isFirst:!!(r&&n.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_FOLLOWING)}}const wx={Root:1,Modalizer:2,Mover:3,Groupper:4};class ov{constructor(e,n,r,i,o,s){this._element=n,this._instance=new HMe(e,n,this,r,i,o,s)}_setHandlers(e,n){this._onFocusIn=e,this._onFocusOut=n}moveOut(e){var n;(n=this._instance)===null||n===void 0||n.moveOut(e)}moveOutWithDefaultAction(e,n){var r;(r=this._instance)===null||r===void 0||r.moveOutWithDefaultAction(e,n)}getHandler(e){return e?this._onFocusIn:this._onFocusOut}setTabbable(e){var n;(n=this._instance)===null||n===void 0||n.setTabbable(this,e)}dispose(){this._instance&&(this._instance.dispose(this),delete this._instance),delete this._onFocusIn,delete this._onFocusOut}static moveWithPhantomDummy(e,n,r,i,o){const a=new OT(e.getWindow,!0,{isPhantom:!0,isFirst:!0}).input;if(a){let c,l;if(n.tagName==="BODY")c=n,l=r&&i||!r&&!i?Be.getFirstElementChild(n):null;else{r&&(!i||i&&!e.focusable.isFocusable(n,!1,!0,!0))?(c=n,l=i?n.firstElementChild:null):(c=Be.getParentElement(n),l=r&&i||!r&&!i?n:Be.getNextElementSibling(n));let d,p;do d=r&&i||!r&&!i?Be.getPreviousElementSibling(l):l,p=sv(d),p===n?l=r&&i||!r&&!i?d:Be.getNextElementSibling(d):p=null;while(p)}c!=null&&c.dispatchEvent(new sd({by:"root",owner:c,next:null,relatedEvent:o}))&&(Be.insertBefore(c,a,l),Ac(a))}}static addPhantomDummyWithTarget(e,n,r,i){const s=new OT(e.getWindow,!0,{isPhantom:!0,isFirst:!0},void 0,new rs(e.getWindow,i)).input;if(s){let a,c;NMe(n)&&!r?(a=n,c=Be.getFirstElementChild(n)):(a=Be.getParentElement(n),c=r?n:Be.getNextElementSibling(n)),a&&Be.insertBefore(a,s,c)}}}class VMe{constructor(e){this._updateQueue=new Set,this._lastUpdateQueueTime=0,this._changedParents=new WeakSet,this._dummyElements=[],this._dummyCallbacks=new WeakMap,this._domChanged=n=>{var r;this._changedParents.has(n)||(this._changedParents.add(n),!this._updateDummyInputsTimer&&(this._updateDummyInputsTimer=(r=this._win)===null||r===void 0?void 0:r.call(this).setTimeout(()=>{delete this._updateDummyInputsTimer;for(const i of this._dummyElements){const o=i.get();if(o){const s=this._dummyCallbacks.get(o);if(s){const a=Be.getParentNode(o);(!a||this._changedParents.has(a))&&s()}}}this._changedParents=new WeakSet},rP)))},this._win=e}add(e,n){!this._dummyCallbacks.has(e)&&this._win&&(this._dummyElements.push(new rs(this._win,e)),this._dummyCallbacks.set(e,n),this.domChanged=this._domChanged)}remove(e){this._dummyElements=this._dummyElements.filter(n=>{const r=n.get();return r&&r!==e}),this._dummyCallbacks.delete(e),this._dummyElements.length===0&&delete this.domChanged}dispose(){var e;const n=(e=this._win)===null||e===void 0?void 0:e.call(this);this._updateTimer&&(n==null||n.clearTimeout(this._updateTimer),delete this._updateTimer),this._updateDummyInputsTimer&&(n==null||n.clearTimeout(this._updateDummyInputsTimer),delete this._updateDummyInputsTimer),this._changedParents=new WeakSet,this._dummyCallbacks=new WeakMap,this._dummyElements=[],this._updateQueue.clear(),delete this.domChanged,delete this._win}updatePositions(e){this._win&&(this._updateQueue.add(e),this._lastUpdateQueueTime=Date.now(),this._scheduledUpdatePositions())}_scheduledUpdatePositions(){var e;this._updateTimer||(this._updateTimer=(e=this._win)===null||e===void 0?void 0:e.call(this).setTimeout(()=>{if(delete this._updateTimer,this._lastUpdateQueueTime+rP<=Date.now()){const n=new Map,r=[];for(const i of this._updateQueue)r.push(i(n));this._updateQueue.clear();for(const i of r)i();n.clear()}else this._scheduledUpdatePositions()},rP))}}class HMe{constructor(e,n,r,i,o,s,a){this._wrappers=[],this._isOutside=!1,this._transformElements=new Set,this._onFocusIn=(g,C,_)=>{this._onFocus(!0,g,C,_)},this._onFocusOut=(g,C,_)=>{this._onFocus(!1,g,C,_)},this.moveOut=g=>{var C;const _=this._firstDummy,S=this._lastDummy;if(_&&S){this._ensurePosition();const w=_.input,T=S.input,I=(C=this._element)===null||C===void 0?void 0:C.get();if(w&&T&&I){let A;g?(w.tabIndex=0,A=w):(T.tabIndex=0,A=T),A&&Ac(A)}}},this.moveOutWithDefaultAction=(g,C)=>{var _;const S=this._firstDummy,w=this._lastDummy;if(S&&w){this._ensurePosition();const T=S.input,I=w.input,A=(_=this._element)===null||_===void 0?void 0:_.get();if(T&&I&&A){let k;g?!S.isOutside&&this._tabster.focusable.isFocusable(A,!0,!0,!0)?k=A:(S.useDefaultAction=!0,T.tabIndex=0,k=T):(w.useDefaultAction=!0,I.tabIndex=0,k=I),k&&A.dispatchEvent(new sd({by:"root",owner:A,next:null,relatedEvent:C}))&&Ac(k)}}},this.setTabbable=(g,C)=>{var _,S;for(const T of this._wrappers)if(T.manager===g){T.tabbable=C;break}const w=this._getCurrent();if(w){const T=w.tabbable?0:-1;let I=(_=this._firstDummy)===null||_===void 0?void 0:_.input;I&&(I.tabIndex=T),I=(S=this._lastDummy)===null||S===void 0?void 0:S.input,I&&(I.tabIndex=T)}},this._addDummyInputs=()=>{this._addTimer||(this._addTimer=this._getWindow().setTimeout(()=>{delete this._addTimer,this._ensurePosition(),this._addTransformOffsets()},0))},this._addTransformOffsets=()=>{this._tabster._dummyObserver.updatePositions(this._computeTransformOffsets)},this._computeTransformOffsets=g=>{var C,_;const S=((C=this._firstDummy)===null||C===void 0?void 0:C.input)||((_=this._lastDummy)===null||_===void 0?void 0:_.input),w=this._transformElements,T=new Set;let I=0,A=0;const k=this._getWindow();for(let R=S;R&&R.nodeType===Node.ELEMENT_NODE;R=Be.getParentElement(R)){let M=g.get(R);if(M===void 0){const P=k.getComputedStyle(R).transform;P&&P!=="none"&&(M={scrollTop:R.scrollTop,scrollLeft:R.scrollLeft}),g.set(R,M||null)}M&&(T.add(R),w.has(R)||R.addEventListener("scroll",this._addTransformOffsets),I+=M.scrollTop,A+=M.scrollLeft)}for(const R of w)T.has(R)||R.removeEventListener("scroll",this._addTransformOffsets);return this._transformElements=T,()=>{var R,M;(R=this._firstDummy)===null||R===void 0||R.setTopLeft(I,A),(M=this._lastDummy)===null||M===void 0||M.setTopLeft(I,A)}};const c=n.get();if(!c)throw new Error("No element");this._tabster=e,this._getWindow=e.getWindow,this._callForDefaultAction=a;const l=c.__tabsterDummy;if((l||this)._wrappers.push({manager:r,priority:i,tabbable:!0}),l)return l;c.__tabsterDummy=this;const d=o==null?void 0:o.dummyInputsPosition,p=c.tagName;this._isOutside=d?d===KNe.Outside:(s||p==="UL"||p==="OL"||p==="TABLE")&&!(p==="LI"||p==="TD"||p==="TH"),this._firstDummy=new OT(this._getWindow,this._isOutside,{isFirst:!0},n),this._lastDummy=new OT(this._getWindow,this._isOutside,{isFirst:!1},n);const m=this._firstDummy.input;m&&e._dummyObserver.add(m,this._addDummyInputs),this._firstDummy.onFocusIn=this._onFocusIn,this._firstDummy.onFocusOut=this._onFocusOut,this._lastDummy.onFocusIn=this._onFocusIn,this._lastDummy.onFocusOut=this._onFocusOut,this._element=n,this._addDummyInputs()}dispose(e,n){var r,i,o,s;if((this._wrappers=this._wrappers.filter(c=>c.manager!==e&&!n)).length===0){delete((r=this._element)===null||r===void 0?void 0:r.get()).__tabsterDummy;for(const d of this._transformElements)d.removeEventListener("scroll",this._addTransformOffsets);this._transformElements.clear();const c=this._getWindow();this._addTimer&&(c.clearTimeout(this._addTimer),delete this._addTimer);const l=(i=this._firstDummy)===null||i===void 0?void 0:i.input;l&&this._tabster._dummyObserver.remove(l),(o=this._firstDummy)===null||o===void 0||o.dispose(),(s=this._lastDummy)===null||s===void 0||s.dispose()}}_onFocus(e,n,r,i){var o;const s=this._getCurrent();s&&(!n.useDefaultAction||this._callForDefaultAction)&&((o=s.manager.getHandler(e))===null||o===void 0||o(n,r,i))}_getCurrent(){return this._wrappers.sort((e,n)=>e.tabbable!==n.tabbable?e.tabbable?-1:1:e.priority-n.priority),this._wrappers[0]}_ensurePosition(){var e,n,r;const i=(e=this._element)===null||e===void 0?void 0:e.get(),o=(n=this._firstDummy)===null||n===void 0?void 0:n.input,s=(r=this._lastDummy)===null||r===void 0?void 0:r.input;if(!(!i||!o||!s))if(this._isOutside){const a=Be.getParentNode(i);if(a){const c=Be.getNextSibling(i);c!==s&&Be.insertBefore(a,s,c),Be.getPreviousElementSibling(i)!==o&&Be.insertBefore(a,o,i)}}else{Be.getLastElementChild(i)!==s&&Be.appendChild(i,s);const a=Be.getFirstElementChild(i);a&&a!==o&&a.parentNode&&Be.insertBefore(a.parentNode,o,a)}}}function ZZ(t){let e=null;for(let n=Be.getLastElementChild(t);n;n=Be.getLastElementChild(n))e=n;return e||void 0}function zMe(t,e){let n=t,r=null;for(;n&&!r;)r=e?Be.getPreviousElementSibling(n):Be.getNextElementSibling(n),n=Be.getParentElement(n);return r||void 0}function iP(t,e,n,r){const i=t.storageEntry(e,!0);let o=!1;if(!i.aug){if(r===void 0)return o;i.aug={}}if(r===void 0){if(n in i.aug){const s=i.aug[n];delete i.aug[n],s===null?e.removeAttribute(n):e.setAttribute(n,s),o=!0}}else{let s;n in i.aug||(s=e.getAttribute(n)),s!==void 0&&s!==r&&(i.aug[n]=s,r===null?e.removeAttribute(n):e.setAttribute(n,r),o=!0)}return r===void 0&&Object.keys(i.aug).length===0&&(delete i.aug,t.storageEntry(e,!1)),o}function $Me(t){var e,n;const r=t.ownerDocument,i=(e=r.defaultView)===null||e===void 0?void 0:e.getComputedStyle(t);return t.offsetParent===null&&r.body!==t&&(i==null?void 0:i.position)!=="fixed"||(i==null?void 0:i.visibility)==="hidden"||(i==null?void 0:i.position)==="fixed"&&(i.display==="none"||((n=t.parentElement)===null||n===void 0?void 0:n.offsetParent)===null&&r.body!==t.parentElement)}function bM(t){return t.tagName==="INPUT"&&!!t.name&&t.type==="radio"}function WMe(t){if(!bM(t))return;const e=t.name;let n=Array.from(Be.getElementsByName(t,e)),r;return n=n.filter(i=>bM(i)?(i.checked&&(r=i),!0):!1),{name:e,buttons:new Set(n),checked:r}}function sv(t){var e;return((e=t==null?void 0:t.__tabsterDummyContainer)===null||e===void 0?void 0:e.get())||null}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */function JZ(t,e){return JSON.stringify(t)}function KMe(t,e){for(const n of Object.keys(e)){const r=e[n];r?t[n]=r:delete t[n]}}function GMe(t,e,n){let r;{const i=t.getAttribute(od);if(i)try{r=JSON.parse(i)}catch{}}r||(r={}),KMe(r,e),Object.keys(r).length>0?t.setAttribute(od,JZ(r)):t.removeAttribute(od)}class Z9 extends ov{constructor(e,n,r,i){super(e,n,wx.Root,i,void 0,!0),this._onDummyInputFocus=o=>{var s;if(o.useDefaultAction)this._setFocused(!1);else{this._tabster.keyboardNavigation.setNavigatingWithKeyboard(!0);const a=this._element.get();if(a){this._setFocused(!0);const c=this._tabster.focusedElement.getFirstOrLastTabbable(o.isFirst,{container:a,ignoreAccessibility:!0});if(c){Ac(c);return}}(s=o.input)===null||s===void 0||s.blur()}},this._setHandlers(this._onDummyInputFocus),this._tabster=e,this._setFocused=r}}class qMe extends HC{constructor(e,n,r,i,o){super(e,n,i),this._isFocused=!1,this._setFocused=l=>{var d;if(this._setFocusedTimer&&(this._tabster.getWindow().clearTimeout(this._setFocusedTimer),delete this._setFocusedTimer),this._isFocused===l)return;const p=this._element.get();p&&(l?(this._isFocused=!0,(d=this._dummyManager)===null||d===void 0||d.setTabbable(!1),p.dispatchEvent(new sMe({element:p}))):this._setFocusedTimer=this._tabster.getWindow().setTimeout(()=>{var m;delete this._setFocusedTimer,this._isFocused=!1,(m=this._dummyManager)===null||m===void 0||m.setTabbable(!0),p.dispatchEvent(new aMe({element:p}))},0))},this._onFocusIn=l=>{const d=this._tabster.getParent,p=this._element.get();let m=l.composedPath()[0];do{if(m===p){this._setFocused(!0);return}m=m&&d(m)}while(m)},this._onFocusOut=()=>{this._setFocused(!1)},this._onDispose=r;const s=e.getWindow;this.uid=FS(s,n),this._sys=o,(e.controlTab||e.rootDummyInputs)&&this.addDummyInputs();const c=s().document;c.addEventListener(Gh,this._onFocusIn),c.addEventListener(Z0,this._onFocusOut),this._add()}addDummyInputs(){this._dummyManager||(this._dummyManager=new Z9(this._tabster,this._element,this._setFocused,this._sys))}dispose(){var e;this._onDispose(this);const n=this._tabster.getWindow(),r=n.document;r.removeEventListener(Gh,this._onFocusIn),r.removeEventListener(Z0,this._onFocusOut),this._setFocusedTimer&&(n.clearTimeout(this._setFocusedTimer),delete this._setFocusedTimer),(e=this._dummyManager)===null||e===void 0||e.dispose(),this._remove()}moveOutWithDefaultAction(e,n){const r=this._dummyManager;if(r)r.moveOutWithDefaultAction(e,n);else{const i=this.getElement();i&&Z9.moveWithPhantomDummy(this._tabster,i,!0,e,n)}}_add(){}_remove(){}}class kn{constructor(e,n){this._autoRootWaiting=!1,this._roots={},this._forceDummy=!1,this.rootById={},this._autoRootCreate=()=>{var r;const i=this._win().document,o=i.body;if(o){this._autoRootUnwait(i);const s=this._autoRoot;if(s)return GMe(o,{root:s}),$Z(this._tabster,o),(r=mi(this._tabster,o))===null||r===void 0?void 0:r.root}else this._autoRootWaiting||(this._autoRootWaiting=!0,i.addEventListener("readystatechange",this._autoRootCreate))},this._onRootDispose=r=>{delete this._roots[r.id]},this._tabster=e,this._win=e.getWindow,this._autoRoot=n,e.queueInit(()=>{this._autoRoot&&this._autoRootCreate()})}_autoRootUnwait(e){e.removeEventListener("readystatechange",this._autoRootCreate),this._autoRootWaiting=!1}dispose(){const e=this._win();this._autoRootUnwait(e.document),delete this._autoRoot,Object.keys(this._roots).forEach(n=>{this._roots[n]&&(this._roots[n].dispose(),delete this._roots[n])}),this.rootById={}}createRoot(e,n,r){const i=new qMe(this._tabster,e,this._onRootDispose,n,r);return this._roots[i.id]=i,this._forceDummy&&i.addDummyInputs(),i}addDummyInputs(){this._forceDummy=!0;const e=this._roots;for(const n of Object.keys(e))e[n].addDummyInputs()}static getRootByUId(e,n){const r=e().__tabsterInstance;return r&&r.root.rootById[n]}static getTabsterContext(e,n,r){r===void 0&&(r={});var i,o,s,a;if(!n.ownerDocument)return;const{checkRtl:c,referenceElement:l}=r,d=e.getParent;e.drainInitQueue();let p,m,g,C,_=!1,S,w,T,I,A=l||n;const k={};for(;A&&(!p||c);){const M=mi(e,A);if(c&&T===void 0){const U=A.dir;U&&(T=U.toLowerCase()==="rtl")}if(!M){A=d(A);continue}const P=A.tagName;(M.uncontrolled||P==="IFRAME"||P==="WEBVIEW")&&e.focusable.isVisible(A)&&(I=A),!C&&(!((i=M.focusable)===null||i===void 0)&&i.excludeFromMover)&&!g&&(_=!0);const N=M.modalizer,D=M.groupper,G=M.mover;!m&&N&&(m=N),!g&&D&&(!m||N)&&(m?(!D.isActive()&&D.getProps().tabbability&&m.userId!==((o=e.modalizer)===null||o===void 0?void 0:o.activeId)&&(m=void 0,g=D),w=D):g=D),!C&&G&&(!m||N)&&(!D||A!==n)&&A.contains(n)&&(C=G,S=!!g&&g!==D),M.root&&(p=M.root),!((s=M.focusable)===null||s===void 0)&&s.ignoreKeydown&&Object.assign(k,M.focusable.ignoreKeydown),A=d(A)}if(!p){const M=e.root;M._autoRoot&&!((a=n.ownerDocument)===null||a===void 0)&&a.body&&(p=M._autoRootCreate())}return g&&!C&&(S=!0),p?{root:p,modalizer:m,groupper:g,mover:C,groupperBeforeMover:S,modalizerInGroupper:w,rtl:c?!!T:void 0,uncontrolled:I,excludedFromMover:_,ignoreKeydown:M=>!!k[M.key]}:void 0}static getRoot(e,n){var r;const i=e.getParent;for(let o=n;o;o=i(o)){const s=(r=mi(e,o))===null||r===void 0?void 0:r.root;if(s)return s}}onRoot(e,n){n?delete this.rootById[e.uid]:this.rootById[e.uid]=e}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class eJ{constructor(){this._callbacks=[]}dispose(){this._callbacks=[],delete this._val}subscribe(e){const n=this._callbacks;n.indexOf(e)<0&&n.push(e)}subscribeFirst(e){const n=this._callbacks,r=n.indexOf(e);r>=0&&n.splice(r,1),n.unshift(e)}unsubscribe(e){const n=this._callbacks.indexOf(e);n>=0&&this._callbacks.splice(n,1)}setVal(e,n){this._val!==e&&(this._val=e,this._callCallbacks(e,n))}getVal(){return this._val}trigger(e,n){this._callCallbacks(e,n)}_callCallbacks(e,n){this._callbacks.forEach(r=>r(e,n))}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class YMe{constructor(e){this._tabster=e}dispose(){}getProps(e){const n=mi(this._tabster,e);return n&&n.focusable||{}}isFocusable(e,n,r,i){return XZ(e,zZ)&&(n||e.tabIndex!==-1)?(r||this.isVisible(e))&&(i||this.isAccessible(e)):!1}isVisible(e){if(!e.ownerDocument||e.nodeType!==Node.ELEMENT_NODE||$Me(e))return!1;const n=e.ownerDocument.body.getBoundingClientRect();return!(n.width===0&&n.height===0)}isAccessible(e){var n;for(let r=e;r;r=Be.getParentElement(r)){const i=mi(this._tabster,r);if(this._isHidden(r)||!((n=i==null?void 0:i.focusable)===null||n===void 0?void 0:n.ignoreAriaDisabled)&&this._isDisabled(r))return!1}return!0}_isDisabled(e){return e.hasAttribute("disabled")}_isHidden(e){var n;const r=e.getAttribute("aria-hidden");return!!(r&&r.toLowerCase()==="true"&&!(!((n=this._tabster.modalizer)===null||n===void 0)&&n.isAugmented(e)))}findFirst(e,n){return this.findElement({...e},n)}findLast(e,n){return this.findElement({isBackward:!0,...e},n)}findNext(e,n){return this.findElement({...e},n)}findPrev(e,n){return this.findElement({...e,isBackward:!0},n)}findDefault(e,n){return this.findElement({...e,acceptCondition:r=>this.isFocusable(r,e.includeProgrammaticallyFocusable)&&!!this.getProps(r).isDefault},n)||null}findAll(e){return this._findElements(!0,e)||[]}findElement(e,n){const r=this._findElements(!1,e,n);return r&&r[0]}_findElements(e,n,r){var i,o,s;const{container:a,currentElement:c=null,includeProgrammaticallyFocusable:l,useActiveModalizer:d,ignoreAccessibility:p,modalizerId:m,isBackward:g,onElement:C}=n;r||(r={});const _=[];let{acceptCondition:S}=n;const w=!!S;if(!a)return null;S||(S=k=>this.isFocusable(k,l,!1,p));const T={container:a,modalizerUserId:m===void 0&&d?(i=this._tabster.modalizer)===null||i===void 0?void 0:i.activeId:m||((s=(o=kn.getTabsterContext(this._tabster,a))===null||o===void 0?void 0:o.modalizer)===null||s===void 0?void 0:s.userId),from:c||a,isBackward:g,isFindAll:e,acceptCondition:S,hasCustomCondition:w,includeProgrammaticallyFocusable:l,ignoreAccessibility:p,cachedGrouppers:{},cachedRadioGroups:{}},I=H5(a.ownerDocument,a,k=>this._acceptElement(k,T));if(!I)return null;const A=k=>{var R,M;const P=(R=T.foundElement)!==null&&R!==void 0?R:T.foundBackward;return P&&_.push(P),e?P&&(T.found=!1,delete T.foundElement,delete T.foundBackward,delete T.fromCtx,T.from=P,C&&!C(P))?!1:!!(P||k):(P&&r&&(r.uncontrolled=(M=kn.getTabsterContext(this._tabster,P))===null||M===void 0?void 0:M.uncontrolled),!!(k&&!P))};if(c||(r.outOfDOMOrder=!0),c&&Be.nodeContains(a,c))I.currentNode=c;else if(g){const k=ZZ(a);if(!k)return null;if(this._acceptElement(k,T)===NodeFilter.FILTER_ACCEPT&&!A(!0))return T.skippedFocusable&&(r.outOfDOMOrder=!0),_;I.currentNode=k}do g?I.previousNode():I.nextNode();while(A());return T.skippedFocusable&&(r.outOfDOMOrder=!0),_.length?_:null}_acceptElement(e,n){var r,i,o;if(n.found)return NodeFilter.FILTER_ACCEPT;const s=n.foundBackward;if(s&&(e===s||!Be.nodeContains(s,e)))return n.found=!0,n.foundElement=s,NodeFilter.FILTER_ACCEPT;const a=n.container;if(e===a)return NodeFilter.FILTER_SKIP;if(!Be.nodeContains(a,e)||sv(e)||Be.nodeContains(n.rejectElementsFrom,e))return NodeFilter.FILTER_REJECT;const c=n.currentCtx=kn.getTabsterContext(this._tabster,e);if(!c)return NodeFilter.FILTER_SKIP;if(QZ(e))return this.isFocusable(e,void 0,!0,!0)&&(n.skippedFocusable=!0),NodeFilter.FILTER_SKIP;if(!n.hasCustomCondition&&(e.tagName==="IFRAME"||e.tagName==="WEBVIEW"))return this.isVisible(e)&&((r=c.modalizer)===null||r===void 0?void 0:r.userId)===((i=this._tabster.modalizer)===null||i===void 0?void 0:i.activeId)?(n.found=!0,n.rejectElementsFrom=n.foundElement=e,NodeFilter.FILTER_ACCEPT):NodeFilter.FILTER_REJECT;if(!n.ignoreAccessibility&&!this.isAccessible(e))return this.isFocusable(e,!1,!0,!0)&&(n.skippedFocusable=!0),NodeFilter.FILTER_REJECT;let l,d=n.fromCtx;d||(d=n.fromCtx=kn.getTabsterContext(this._tabster,n.from));const p=d==null?void 0:d.mover;let m=c.groupper,g=c.mover;if(l=(o=this._tabster.modalizer)===null||o===void 0?void 0:o.acceptElement(e,n),l!==void 0&&(n.skippedFocusable=!0),l===void 0&&(m||g||p)){const C=m==null?void 0:m.getElement(),_=p==null?void 0:p.getElement();let S=g==null?void 0:g.getElement();if(S&&Be.nodeContains(_,S)&&Be.nodeContains(a,_)&&(!C||!g||Be.nodeContains(_,C))&&(g=p,S=_),C){if(C===a||!Be.nodeContains(a,C))m=void 0;else if(!Be.nodeContains(C,e))return NodeFilter.FILTER_REJECT}if(S){if(!Be.nodeContains(a,S))g=void 0;else if(!Be.nodeContains(S,e))return NodeFilter.FILTER_REJECT}m&&g&&(S&&C&&!Be.nodeContains(C,S)?g=void 0:m=void 0),m&&(l=m.acceptElement(e,n)),g&&(l=g.acceptElement(e,n))}if(l===void 0&&(l=n.acceptCondition(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP,l===NodeFilter.FILTER_SKIP&&this.isFocusable(e,!1,!0,!0)&&(n.skippedFocusable=!0)),l===NodeFilter.FILTER_ACCEPT&&!n.found){if(!n.isFindAll&&bM(e)&&!e.checked){const C=e.name;let _=n.cachedRadioGroups[C];if(_||(_=WMe(e),_&&(n.cachedRadioGroups[C]=_)),_!=null&&_.checked&&_.checked!==e)return NodeFilter.FILTER_SKIP}n.isBackward?(n.foundBackward=e,l=NodeFilter.FILTER_SKIP):(n.found=!0,n.foundElement=e)}return l}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const gr={Tab:"Tab",Enter:"Enter",Escape:"Escape",PageUp:"PageUp",PageDown:"PageDown",End:"End",Home:"Home",ArrowLeft:"ArrowLeft",ArrowUp:"ArrowUp",ArrowRight:"ArrowRight",ArrowDown:"ArrowDown"};/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */function QMe(t,e){var n;const r=t.getParent;let i=e;do{const o=(n=mi(t,i))===null||n===void 0?void 0:n.uncontrolled;if(o&&t.uncontrolled.isUncontrolledCompletely(i,!!o.completely))return i;i=r(i)}while(i)}const J9={[Cl.Restorer]:0,[Cl.Deloser]:1,[Cl.EscapeGroupper]:2};class vr extends eJ{constructor(e,n){super(),this._init=()=>{const r=this._win(),i=r.document;i.addEventListener(Gh,this._onFocusIn,!0),i.addEventListener(Z0,this._onFocusOut,!0),r.addEventListener("keydown",this._onKeyDown,!0);const o=Be.getActiveElement(i);o&&o!==i.body&&this._setFocusedElement(o),this.subscribe(this._onChanged)},this._onFocusIn=r=>{const i=r.composedPath()[0];i&&this._setFocusedElement(i,r.detail.relatedTarget,r.detail.isFocusedProgrammatically)},this._onFocusOut=r=>{var i;this._setFocusedElement(void 0,(i=r.detail)===null||i===void 0?void 0:i.originalEvent.relatedTarget)},this._validateFocusedElement=r=>{},this._onKeyDown=r=>{if(r.key!==gr.Tab||r.ctrlKey)return;const i=this.getVal();if(!i||!i.ownerDocument||i.contentEditable==="true")return;const o=this._tabster,s=o.controlTab,a=kn.getTabsterContext(o,i);if(!a||a.ignoreKeydown(r))return;const c=r.shiftKey,l=vr.findNextTabbable(o,a,void 0,i,void 0,c,!0),d=a.root.getElement();if(!d)return;const p=l==null?void 0:l.element,m=QMe(o,i);if(p){const g=l.uncontrolled;if(a.uncontrolled||Be.nodeContains(g,i)){if(!l.outOfDOMOrder&&g===a.uncontrolled||m&&!Be.nodeContains(m,p))return;ov.addPhantomDummyWithTarget(o,i,c,p);return}if(g&&o.focusable.isVisible(g)||p.tagName==="IFRAME"&&o.focusable.isVisible(p)){d.dispatchEvent(new sd({by:"root",owner:d,next:p,relatedEvent:r}))&&ov.moveWithPhantomDummy(o,g??p,!1,c,r);return}(s||l!=null&&l.outOfDOMOrder)&&d.dispatchEvent(new sd({by:"root",owner:d,next:p,relatedEvent:r}))&&(r.preventDefault(),r.stopImmediatePropagation(),Ac(p))}else!m&&d.dispatchEvent(new sd({by:"root",owner:d,next:null,relatedEvent:r}))&&a.root.moveOutWithDefaultAction(c,r)},this._onChanged=(r,i)=>{var o,s;if(r)r.dispatchEvent(new nMe(i));else{const a=(o=this._lastVal)===null||o===void 0?void 0:o.get();if(a){const c={...i},l=kn.getTabsterContext(this._tabster,a),d=(s=l==null?void 0:l.modalizer)===null||s===void 0?void 0:s.userId;d&&(c.modalizerId=d),a.dispatchEvent(new rMe(c))}}},this._tabster=e,this._win=n,e.queueInit(this._init)}dispose(){super.dispose();const e=this._win(),n=e.document;n.removeEventListener(Gh,this._onFocusIn,!0),n.removeEventListener(Z0,this._onFocusOut,!0),e.removeEventListener("keydown",this._onKeyDown,!0),this.unsubscribe(this._onChanged);const r=this._asyncFocus;r&&(e.clearTimeout(r.timeout),delete this._asyncFocus),delete vr._lastResetElement,delete this._nextVal,delete this._lastVal}static forgetMemorized(e,n){var r,i;let o=vr._lastResetElement,s=o&&o.get();s&&Be.nodeContains(n,s)&&delete vr._lastResetElement,s=(i=(r=e._nextVal)===null||r===void 0?void 0:r.element)===null||i===void 0?void 0:i.get(),s&&Be.nodeContains(n,s)&&delete e._nextVal,o=e._lastVal,s=o&&o.get(),s&&Be.nodeContains(n,s)&&delete e._lastVal}getFocusedElement(){return this.getVal()}getLastFocusedElement(){var e;let n=(e=this._lastVal)===null||e===void 0?void 0:e.get();return(!n||n&&!z5(n.ownerDocument,n))&&(this._lastVal=n=void 0),n}focus(e,n,r,i){return this._tabster.focusable.isFocusable(e,n,!1,r)?(e.focus({preventScroll:i}),!0):!1}focusDefault(e){const n=this._tabster.focusable.findDefault({container:e});return n?(this._tabster.focusedElement.focus(n),!0):!1}getFirstOrLastTabbable(e,n){var r;const{container:i,ignoreAccessibility:o}=n;let s;if(i){const a=kn.getTabsterContext(this._tabster,i);a&&(s=(r=vr.findNextTabbable(this._tabster,a,i,void 0,void 0,!e,o))===null||r===void 0?void 0:r.element)}return s&&!Be.nodeContains(i,s)&&(s=void 0),s||void 0}_focusFirstOrLast(e,n){const r=this.getFirstOrLastTabbable(e,n);return r?(this.focus(r,!1,!0),!0):!1}focusFirst(e){return this._focusFirstOrLast(!0,e)}focusLast(e){return this._focusFirstOrLast(!1,e)}resetFocus(e){if(!this._tabster.focusable.isVisible(e))return!1;if(this._tabster.focusable.isFocusable(e,!0,!0,!0))this.focus(e);else{const n=e.getAttribute("tabindex"),r=e.getAttribute("aria-hidden");e.tabIndex=-1,e.setAttribute("aria-hidden","true"),vr._lastResetElement=new rs(this._win,e),this.focus(e,!0,!0),this._setOrRemoveAttribute(e,"tabindex",n),this._setOrRemoveAttribute(e,"aria-hidden",r)}return!0}requestAsyncFocus(e,n,r){const i=this._tabster.getWindow(),o=this._asyncFocus;if(o){if(J9[e]>J9[o.source])return;i.clearTimeout(o.timeout)}this._asyncFocus={source:e,callback:n,timeout:i.setTimeout(()=>{this._asyncFocus=void 0,n()},r)}}cancelAsyncFocus(e){const n=this._asyncFocus;(n==null?void 0:n.source)===e&&(this._tabster.getWindow().clearTimeout(n.timeout),this._asyncFocus=void 0)}_setOrRemoveAttribute(e,n,r){r===null?e.removeAttribute(n):e.setAttribute(n,r)}_setFocusedElement(e,n,r){var i,o;if(this._tabster._noop)return;const s={relatedTarget:n};if(e){const c=(i=vr._lastResetElement)===null||i===void 0?void 0:i.get();if(vr._lastResetElement=void 0,c===e||QZ(e))return;s.isFocusedProgrammatically=r;const l=kn.getTabsterContext(this._tabster,e),d=(o=l==null?void 0:l.modalizer)===null||o===void 0?void 0:o.userId;d&&(s.modalizerId=d)}const a=this._nextVal={element:e?new rs(this._win,e):void 0,detail:s};e&&e!==this._val&&this._validateFocusedElement(e),this._nextVal===a&&this.setVal(e,s),this._nextVal=void 0}setVal(e,n){super.setVal(e,n),e&&(this._lastVal=new rs(this._win,e))}static findNextTabbable(e,n,r,i,o,s,a){const c=r||n.root.getElement();if(!c)return null;let l=null;const d=vr._isTabbingTimer,p=e.getWindow();d&&p.clearTimeout(d),vr.isTabbing=!0,vr._isTabbingTimer=p.setTimeout(()=>{delete vr._isTabbingTimer,vr.isTabbing=!1},0);const m=n.modalizer,g=n.groupper,C=n.mover,_=S=>{if(l=S.findNextTabbable(i,o,s,a),i&&!(l!=null&&l.element)){const w=S!==m&&Be.getParentElement(S.getElement());if(w){const T=kn.getTabsterContext(e,i,{referenceElement:w});if(T){const I=S.getElement(),A=s?I:I&&ZZ(I)||I;A&&(l=vr.findNextTabbable(e,T,r,A,w,s,a),l&&(l.outOfDOMOrder=!0))}}}};if(g&&C)_(n.groupperBeforeMover?g:C);else if(g)_(g);else if(C)_(C);else if(m)_(m);else{const S={container:c,currentElement:i,referenceElement:o,ignoreAccessibility:a,useActiveModalizer:!0},w={};l={element:e.focusable[s?"findPrev":"findNext"](S,w),outOfDOMOrder:w.outOfDOMOrder,uncontrolled:w.uncontrolled}}return l}}vr.isTabbing=!1;/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class XMe extends ov{constructor(e,n,r,i){super(r,e,wx.Groupper,i,!0),this._setHandlers((o,s,a)=>{var c,l;const d=e.get(),p=o.input;if(d&&p){const m=kn.getTabsterContext(r,p);if(m){let g;g=(c=n.findNextTabbable(a||void 0,void 0,s,!0))===null||c===void 0?void 0:c.element,g||(g=(l=vr.findNextTabbable(r,m,void 0,o.isOutside?p:zMe(d,!s),void 0,s,!0))===null||l===void 0?void 0:l.element),g&&Ac(g)}}})}}class ZMe extends HC{constructor(e,n,r,i,o){super(e,n,i),this._shouldTabInside=!1,this.makeTabbable(!1),this._onDispose=r,e.controlTab||(this.dummyManager=new XMe(this._element,this,e,o))}dispose(){var e;this._onDispose(this),this._element.get(),(e=this.dummyManager)===null||e===void 0||e.dispose(),delete this.dummyManager,delete this._first}findNextTabbable(e,n,r,i){const o=this.getElement();if(!o)return null;const s=sv(e)===o;if(!this._shouldTabInside&&e&&Be.nodeContains(o,e)&&!s)return{element:void 0,outOfDOMOrder:!0};const a=this.getFirst(!0);if(!e||!Be.nodeContains(o,e)||s)return{element:a,outOfDOMOrder:!0};const c=this._tabster;let l=null,d=!1,p;if(this._shouldTabInside&&a){const m={container:o,currentElement:e,referenceElement:n,ignoreAccessibility:i,useActiveModalizer:!0},g={};l=c.focusable[r?"findPrev":"findNext"](m,g),d=!!g.outOfDOMOrder,!l&&this._props.tabbability===jS.LimitedTrapFocus&&(l=c.focusable[r?"findLast":"findFirst"]({container:o,ignoreAccessibility:i,useActiveModalizer:!0},g),d=!0),p=g.uncontrolled}return{element:l,uncontrolled:p,outOfDOMOrder:d}}makeTabbable(e){this._shouldTabInside=e||!this._props.tabbability}isActive(e){var n;const r=this.getElement()||null;let i=!0;for(let s=Be.getParentElement(r);s;s=Be.getParentElement(s)){const a=(n=mi(this._tabster,s))===null||n===void 0?void 0:n.groupper;a&&(a._shouldTabInside||(i=!1))}let o=i?this._props.tabbability?this._shouldTabInside:!1:void 0;if(o&&e){const s=this._tabster.focusedElement.getFocusedElement();s&&(o=s!==this.getFirst(!0))}return o}getFirst(e){var n;const r=this.getElement();let i;if(r){if(e&&this._tabster.focusable.isFocusable(r))return r;i=(n=this._first)===null||n===void 0?void 0:n.get(),i||(i=this._tabster.focusable.findFirst({container:r,useActiveModalizer:!0})||void 0,i&&this.setFirst(i))}return i}setFirst(e){e?this._first=new rs(this._tabster.getWindow,e):delete this._first}acceptElement(e,n){const r=n.cachedGrouppers,i=Be.getParentElement(this.getElement()),o=i&&kn.getTabsterContext(this._tabster,i),s=o==null?void 0:o.groupper,a=o!=null&&o.groupperBeforeMover?s:void 0;let c;const l=m=>{let g=r[m.id],C;return g?C=g.isActive:(C=this.isActive(!0),g=r[m.id]={isActive:C}),C};if(a&&(c=a.getElement(),!l(a)&&c&&n.container!==c&&Be.nodeContains(n.container,c)))return n.skippedFocusable=!0,NodeFilter.FILTER_REJECT;const d=l(this),p=this.getElement();if(p&&d!==!0){if(p===e&&s&&(c||(c=s.getElement()),c&&!l(s)&&Be.nodeContains(n.container,c)&&c!==n.container)||p!==e&&Be.nodeContains(p,e))return n.skippedFocusable=!0,NodeFilter.FILTER_REJECT;const m=r[this.id];let g;if("first"in m?g=m.first:g=m.first=this.getFirst(!0),g&&n.acceptCondition(g))return n.rejectElementsFrom=p,n.skippedFocusable=!0,g!==n.from?(n.found=!0,n.foundElement=g,NodeFilter.FILTER_ACCEPT):NodeFilter.FILTER_REJECT}}}class JMe{constructor(e,n){this._current={},this._grouppers={},this._init=()=>{const r=this._win();this._tabster.focusedElement.subscribeFirst(this._onFocus);const i=r.document,o=Be.getActiveElement(i);o&&this._onFocus(o),i.addEventListener("mousedown",this._onMouseDown,!0),r.addEventListener("keydown",this._onKeyDown,!0),r.addEventListener(K9,this._onMoveFocus)},this._onGroupperDispose=r=>{delete this._grouppers[r.id]},this._onFocus=r=>{r&&this._updateCurrent(r)},this._onMouseDown=r=>{let i=r.target;for(;i&&!this._tabster.focusable.isFocusable(i);)i=this._tabster.getParent(i);i&&this._updateCurrent(i)},this._onKeyDown=r=>{if(r.key!==gr.Enter&&r.key!==gr.Escape||r.ctrlKey||r.altKey||r.shiftKey||r.metaKey)return;const i=this._tabster.focusedElement.getFocusedElement();i&&this.handleKeyPress(i,r)},this._onMoveFocus=r=>{var i;const o=r.composedPath()[0],s=(i=r.detail)===null||i===void 0?void 0:i.action;o&&s!==void 0&&!r.defaultPrevented&&(s===z9.Enter?this._enterGroupper(o):this._escapeGroupper(o),r.stopImmediatePropagation())},this._tabster=e,this._win=n,e.queueInit(this._init)}dispose(){const e=this._win();this._tabster.focusedElement.cancelAsyncFocus(Cl.EscapeGroupper),this._current={},this._updateTimer&&(e.clearTimeout(this._updateTimer),delete this._updateTimer),this._tabster.focusedElement.unsubscribe(this._onFocus),e.document.removeEventListener("mousedown",this._onMouseDown,!0),e.removeEventListener("keydown",this._onKeyDown,!0),e.removeEventListener(K9,this._onMoveFocus),Object.keys(this._grouppers).forEach(n=>{this._grouppers[n]&&(this._grouppers[n].dispose(),delete this._grouppers[n])})}createGroupper(e,n,r){const i=this._tabster,o=new ZMe(i,e,this._onGroupperDispose,n,r);this._grouppers[o.id]=o;const s=i.focusedElement.getFocusedElement();return s&&Be.nodeContains(e,s)&&!this._updateTimer&&(this._updateTimer=this._win().setTimeout(()=>{delete this._updateTimer,s===i.focusedElement.getFocusedElement()&&this._updateCurrent(s)},0)),o}forgetCurrentGrouppers(){this._current={}}_updateCurrent(e){var n;this._updateTimer&&(this._win().clearTimeout(this._updateTimer),delete this._updateTimer);const r=this._tabster,i={};for(let o=r.getParent(e);o;o=r.getParent(o)){const s=(n=mi(r,o))===null||n===void 0?void 0:n.groupper;if(s){i[s.id]=!0,this._current[s.id]=s;const a=s.isActive()||e!==o&&(!s.getProps().delegated||s.getFirst(!1)!==e);s.makeTabbable(a)}}for(const o of Object.keys(this._current)){const s=this._current[o];s.id in i||(s.makeTabbable(!1),s.setFirst(void 0),delete this._current[o])}}_enterGroupper(e,n){const r=this._tabster,i=kn.getTabsterContext(r,e),o=(i==null?void 0:i.groupper)||(i==null?void 0:i.modalizerInGroupper),s=o==null?void 0:o.getElement();if(o&&s&&(e===s||o.getProps().delegated&&e===o.getFirst(!1))){const a=r.focusable.findNext({container:s,currentElement:e,useActiveModalizer:!0});if(a&&(!n||n&&s.dispatchEvent(new sd({by:"groupper",owner:s,next:a,relatedEvent:n}))))return n&&(n.preventDefault(),n.stopImmediatePropagation()),a.focus(),a}return null}_escapeGroupper(e,n,r){const i=this._tabster,o=kn.getTabsterContext(i,e);let s=(o==null?void 0:o.groupper)||(o==null?void 0:o.modalizerInGroupper);const a=s==null?void 0:s.getElement();if(s&&a&&Be.nodeContains(a,e)){let c;if(e!==a||r)c=s.getFirst(!0);else{const l=Be.getParentElement(a),d=l?kn.getTabsterContext(i,l):void 0;s=d==null?void 0:d.groupper,c=s==null?void 0:s.getFirst(!0)}if(c&&(!n||n&&a.dispatchEvent(new sd({by:"groupper",owner:a,next:c,relatedEvent:n}))))return s&&s.makeTabbable(!1),c.focus(),c}return null}moveFocus(e,n){return n===z9.Enter?this._enterGroupper(e):this._escapeGroupper(e)}handleKeyPress(e,n,r){const i=this._tabster,o=kn.getTabsterContext(i,e);if(o&&(o!=null&&o.groupper||o!=null&&o.modalizerInGroupper)){if(i.focusedElement.cancelAsyncFocus(Cl.EscapeGroupper),o.ignoreKeydown(n))return;if(n.key===gr.Enter)this._enterGroupper(e,n);else if(n.key===gr.Escape){const s=i.focusedElement.getFocusedElement();i.focusedElement.requestAsyncFocus(Cl.EscapeGroupper,()=>{s!==i.focusedElement.getFocusedElement()&&(r&&!s||!r)||this._escapeGroupper(e,n,r)},0)}}}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class e2e extends eJ{constructor(e){super(),this._onChange=n=>{this.setVal(n,void 0)},this._keyborg=zNe(e()),this._keyborg.subscribe(this._onChange)}dispose(){super.dispose(),this._keyborg&&(this._keyborg.unsubscribe(this._onChange),$Ne(this._keyborg),delete this._keyborg)}setNavigatingWithKeyboard(e){var n;(n=this._keyborg)===null||n===void 0||n.setVal(e)}isNavigatingWithKeyboard(){var e;return!!(!((e=this._keyborg)===null||e===void 0)&&e.isNavigatingWithKeyboard())}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */let t2e=0;const oP="aria-hidden";class n2e extends ov{constructor(e,n,r){super(n,e,wx.Modalizer,r),this._setHandlers((i,o)=>{var s,a;const c=e.get(),l=c&&((s=kn.getRoot(n,c))===null||s===void 0?void 0:s.getElement()),d=i.input;let p;if(l&&d){const m=sv(d),g=kn.getTabsterContext(n,m||d);g&&(p=(a=vr.findNextTabbable(n,g,l,d,void 0,o,!0))===null||a===void 0?void 0:a.element),p&&Ac(p)}})}}class r2e extends HC{constructor(e,n,r,i,o,s){super(e,n,i),this._wasFocused=0,this.userId=i.id,this._onDispose=r,this._activeElements=s,e.controlTab||(this.dummyManager=new n2e(this._element,e,o))}makeActive(e){if(this._isActive!==e){this._isActive=e;const n=this.getElement();if(n){const r=this._activeElements,i=r.map(o=>o.get()).indexOf(n);e?i<0&&r.push(new rs(this._tabster.getWindow,n)):i>=0&&r.splice(i,1)}this._dispatchEvent(e)}}focused(e){return e||(this._wasFocused=++t2e),this._wasFocused}setProps(e){e.id&&(this.userId=e.id),this._props={...e}}dispose(){var e;this.makeActive(!1),this._onDispose(this),(e=this.dummyManager)===null||e===void 0||e.dispose(),delete this.dummyManager,this._activeElements=[],this._remove()}isActive(){return!!this._isActive}contains(e){return Be.nodeContains(this.getElement(),e)}findNextTabbable(e,n,r,i){var o,s;if(!this.getElement())return null;const c=this._tabster;let l=null,d=!1,p;const m=e&&((o=kn.getRoot(c,e))===null||o===void 0?void 0:o.getElement());if(m){const g={container:m,currentElement:e,referenceElement:n,ignoreAccessibility:i,useActiveModalizer:!0},C={};l=c.focusable[r?"findPrev":"findNext"](g,C),!l&&this._props.isTrapped&&(!((s=c.modalizer)===null||s===void 0)&&s.activeId)?(l=c.focusable[r?"findLast":"findFirst"]({container:m,ignoreAccessibility:i,useActiveModalizer:!0},C),l===null&&(l=e),d=!0):d=!!C.outOfDOMOrder,p=C.uncontrolled}return{element:l,uncontrolled:p,outOfDOMOrder:d}}_dispatchEvent(e,n){const r=this.getElement();let i=!1;if(r){const o=n?this._activeElements.map(s=>s.get()):[r];for(const s of o)if(s){const a={id:this.userId,element:r},c=e?new iMe(a):new oMe(a);s.dispatchEvent(c),c.defaultPrevented&&(i=!0)}}return i}_remove(){}}class i2e{constructor(e,n,r){this._onModalizerDispose=o=>{const s=o.id,a=o.userId,c=this._parts[a];if(delete this._modalizers[s],c&&(delete c[s],Object.keys(c).length===0)){delete this._parts[a];const l=this._activationHistory,d=[];let p;for(let m=l.length;m--;){const g=l[m];g!==a&&g!==p&&(p=g,(g||d.length>0)&&d.unshift(g))}if(this._activationHistory=d,this.activeId===a){const m=d[0],g=m?Object.values(this._parts[m])[0]:void 0;this.setActive(g)}}},this._onKeyDown=o=>{var s;if(o.key!==gr.Escape)return;const a=this._tabster,c=a.focusedElement.getFocusedElement();if(c){const l=kn.getTabsterContext(a,c),d=l==null?void 0:l.modalizer;if(l&&!l.groupper&&(d!=null&&d.isActive())&&!l.ignoreKeydown(o)){const p=d.userId;if(p){const m=this._parts[p];if(m){const g=Object.keys(m).map(C=>{var _;const S=m[C],w=S.getElement();let T;return w&&(T=(_=mi(a,w))===null||_===void 0?void 0:_.groupper),S&&w&&T?{el:w,focusedSince:S.focused(!0)}:{focusedSince:0}}).filter(C=>C.focusedSince>0).sort((C,_)=>C.focusedSince>_.focusedSince?-1:C.focusedSince<_.focusedSince?1:0);if(g.length){const C=g[0].el;C&&((s=a.groupper)===null||s===void 0||s.handleKeyPress(C,o,!0))}}}}}},this._onFocus=(o,s)=>{var a;const c=this._tabster,l=o&&kn.getTabsterContext(c,o);if(!l||!o)return;const d=this._augMap;for(let C=o;C;C=c.getParent(C))d.has(C)&&(d.delete(C),iP(c,C,oP));let p=l.modalizer;const m=mi(c,o),g=m==null?void 0:m.modalizer;if(g&&(g.focused(),g.userId===this.activeId&&m.groupper)){const C=c.getParent(o),_=C&&((a=kn.getTabsterContext(c,C))===null||a===void 0?void 0:a.modalizer);if(_)p=_;else{this.setActive(void 0);return}}if(p==null||p.focused(),(p==null?void 0:p.userId)===this.activeId){this.currentIsOthersAccessible=p==null?void 0:p.getProps().isOthersAccessible;return}if(s.isFocusedProgrammatically||this.currentIsOthersAccessible||p!=null&&p.getProps().isAlwaysAccessible)this.setActive(p);else{const C=this._win();C.clearTimeout(this._restoreModalizerFocusTimer),this._restoreModalizerFocusTimer=C.setTimeout(()=>this._restoreModalizerFocus(o),100)}},this._tabster=e,this._win=e.getWindow,this._modalizers={},this._parts={},this._augMap=new WeakMap,this._aug=[],this._alwaysAccessibleSelector=n,this._accessibleCheck=r,this._activationHistory=[],this.activeElements=[],e.controlTab||e.root.addDummyInputs(),this._win().addEventListener("keydown",this._onKeyDown,!0),e.queueInit(()=>{this._tabster.focusedElement.subscribe(this._onFocus)})}dispose(){const e=this._win();e.removeEventListener("keydown",this._onKeyDown,!0),Object.keys(this._modalizers).forEach(n=>{this._modalizers[n]&&(this._modalizers[n].dispose(),delete this._modalizers[n])}),e.clearTimeout(this._restoreModalizerFocusTimer),e.clearTimeout(this._hiddenUpdateTimer),this._parts={},delete this.activeId,this.activeElements=[],this._augMap=new WeakMap,this._aug=[],this._tabster.focusedElement.unsubscribe(this._onFocus)}createModalizer(e,n,r){var i;const o=new r2e(this._tabster,e,this._onModalizerDispose,n,r,this.activeElements),s=o.id,a=n.id;this._modalizers[s]=o;let c=this._parts[a];c||(c=this._parts[a]={}),c[s]=o;const l=(i=this._tabster.focusedElement.getFocusedElement())!==null&&i!==void 0?i:null;return e!==l&&Be.nodeContains(e,l)&&(a!==this.activeId?this.setActive(o):o.makeActive(!0)),o}isAugmented(e){return this._augMap.has(e)}hiddenUpdate(){this._hiddenUpdateTimer||(this._hiddenUpdateTimer=this._win().setTimeout(()=>{delete this._hiddenUpdateTimer,this._hiddenUpdate()},250))}setActive(e){const n=e==null?void 0:e.userId,r=this.activeId;if(r===n)return;if(this.activeId=n,r){const o=this._parts[r];if(o)for(const s of Object.keys(o))o[s].makeActive(!1)}if(n){const o=this._parts[n];if(o)for(const s of Object.keys(o))o[s].makeActive(!0)}this.currentIsOthersAccessible=e==null?void 0:e.getProps().isOthersAccessible,this.hiddenUpdate();const i=this._activationHistory;i[0]!==n&&(n!==void 0||i.length>0)&&i.unshift(n)}focus(e,n,r){const i=this._tabster,o=kn.getTabsterContext(i,e),s=o==null?void 0:o.modalizer;if(s){this.setActive(s);const a=s.getProps(),c=s.getElement();if(c){if(n===void 0&&(n=a.isNoFocusFirst),!n&&i.keyboardNavigation.isNavigatingWithKeyboard()&&i.focusedElement.focusFirst({container:c})||(r===void 0&&(r=a.isNoFocusDefault),!r&&i.focusedElement.focusDefault(c)))return!0;i.focusedElement.resetFocus(c)}}return!1}activate(e){var n;const r=e?(n=kn.getTabsterContext(this._tabster,e))===null||n===void 0?void 0:n.modalizer:void 0;return!e||r?(this.setActive(r),!0):!1}acceptElement(e,n){var r;const i=n.modalizerUserId,o=(r=n.currentCtx)===null||r===void 0?void 0:r.modalizer;if(i)for(const a of this.activeElements){const c=a.get();if(c&&(Be.nodeContains(e,c)||c===e))return NodeFilter.FILTER_SKIP}const s=i===(o==null?void 0:o.userId)||!i&&(o!=null&&o.getProps().isAlwaysAccessible)?void 0:NodeFilter.FILTER_SKIP;return s!==void 0&&(n.skippedFocusable=!0),s}_hiddenUpdate(){var e;const n=this._tabster,r=n.getWindow().document.body,i=this.activeId,o=this._parts,s=[],a=[],c=this._alwaysAccessibleSelector,l=c?Array.from(Be.querySelectorAll(r,c)):[],d=[];for(const w of Object.keys(o)){const T=o[w];for(const I of Object.keys(T)){const A=T[I],k=A.getElement(),M=A.getProps().isAlwaysAccessible;k&&(w===i?(d.push(k),this.currentIsOthersAccessible||s.push(k)):M?l.push(k):a.push(k))}}const p=this._augMap,m=s.length>0?[...s,...l]:void 0,g=[],C=new WeakMap,_=(w,T)=>{var I;const A=w.tagName;if(A==="SCRIPT"||A==="STYLE")return;let k=!1;p.has(w)?T?k=!0:(p.delete(w),iP(n,w,oP)):T&&!(!((I=this._accessibleCheck)===null||I===void 0)&&I.call(this,w,d))&&iP(n,w,oP,"true")&&(p.set(w,!0),k=!0),k&&(g.push(new rs(n.getWindow,w)),C.set(w,!0))},S=w=>{var T;for(let I=Be.getFirstElementChild(w);I;I=Be.getNextElementSibling(I)){let A=!1,k=!1,R=!1;if(m){const M=n.getParent(I);for(const P of m){if(I===P){A=!0;break}if(Be.nodeContains(I,P)){k=!0;break}else Be.nodeContains(P,M)&&(R=!0)}k||!((T=I.__tabsterElementFlags)===null||T===void 0)&&T.noDirectAriaHidden?S(I):!A&&!R&&_(I,!0)}else _(I,!1)}};m||l.forEach(w=>_(w,!1)),a.forEach(w=>_(w,!0)),r&&S(r),(e=this._aug)===null||e===void 0||e.map(w=>w.get()).forEach(w=>{w&&!C.get(w)&&_(w,!1)}),this._aug=g,this._augMap=C}_restoreModalizerFocus(e){var n;const r=e==null?void 0:e.ownerDocument;if(!e||!r)return;const i=this._tabster.focusedElement.getFocusedElement(),o=i&&((n=kn.getTabsterContext(this._tabster,i))===null||n===void 0?void 0:n.modalizer);if(!i||i&&(o==null?void 0:o.userId)===this.activeId)return;const s=this._tabster,a=kn.getTabsterContext(s,e),c=a==null?void 0:a.modalizer,l=this.activeId;if(!c&&!l||c&&l===c.userId)return;const d=a==null?void 0:a.root.getElement();if(d){let p=s.focusable.findFirst({container:d,useActiveModalizer:!0});if(p){if(e.compareDocumentPosition(p)&document.DOCUMENT_POSITION_PRECEDING&&(p=s.focusable.findLast({container:d,useActiveModalizer:!0}),!p))throw new Error("Something went wrong.");s.focusedElement.focus(p);return}}e.blur()}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */const o2e=["input","textarea","*[contenteditable]"].join(", ");class s2e extends ov{constructor(e,n,r,i){super(n,e,wx.Mover,i),this._onFocusDummyInput=o=>{var s,a;const c=this._element.get(),l=o.input;if(c&&l){const d=kn.getTabsterContext(this._tabster,c);let p;d&&(p=(s=vr.findNextTabbable(this._tabster,d,void 0,l,void 0,!o.isFirst,!0))===null||s===void 0?void 0:s.element);const m=(a=this._getMemorized())===null||a===void 0?void 0:a.get();m&&this._tabster.focusable.isFocusable(m)&&(p=m),p&&Ac(p)}},this._tabster=n,this._getMemorized=r,this._setHandlers(this._onFocusDummyInput)}}const sP=1,e7=2,t7=3;class a2e extends HC{constructor(e,n,r,i,o){var s;super(e,n,i),this._visible={},this._onIntersection=c=>{for(const l of c){const d=l.target,p=FS(this._win,d);let m,g=this._fullyVisible;if(l.intersectionRatio>=.25?(m=l.intersectionRatio>=.75?Au.Visible:Au.PartiallyVisible,m===Au.Visible&&(g=p)):m=Au.Invisible,this._visible[p]!==m){m===void 0?(delete this._visible[p],g===p&&delete this._fullyVisible):(this._visible[p]=m,this._fullyVisible=g);const C=this.getState(d);C&&d.dispatchEvent(new G9(C))}}},this._win=e.getWindow,this.visibilityTolerance=(s=i.visibilityTolerance)!==null&&s!==void 0?s:.8,(this._props.trackState||this._props.visibilityAware)&&(this._intersectionObserver=new IntersectionObserver(this._onIntersection,{threshold:[0,.25,.5,.75,1]}),this._observeState()),this._onDispose=r;const a=()=>i.memorizeCurrent?this._current:void 0;e.controlTab||(this.dummyManager=new s2e(this._element,e,a,o))}dispose(){var e;this._onDispose(this),this._intersectionObserver&&(this._intersectionObserver.disconnect(),delete this._intersectionObserver),delete this._current,delete this._fullyVisible,delete this._allElements,delete this._updateQueue,this._unobserve&&(this._unobserve(),delete this._unobserve);const n=this._win();this._setCurrentTimer&&(n.clearTimeout(this._setCurrentTimer),delete this._setCurrentTimer),this._updateTimer&&(n.clearTimeout(this._updateTimer),delete this._updateTimer),(e=this.dummyManager)===null||e===void 0||e.dispose(),delete this.dummyManager}setCurrent(e){e?this._current=new rs(this._win,e):this._current=void 0,(this._props.trackState||this._props.visibilityAware)&&!this._setCurrentTimer&&(this._setCurrentTimer=this._win().setTimeout(()=>{var n;delete this._setCurrentTimer;const r=[];this._current!==this._prevCurrent&&(r.push(this._current),r.push(this._prevCurrent),this._prevCurrent=this._current);for(const i of r){const o=i==null?void 0:i.get();if(o&&((n=this._allElements)===null||n===void 0?void 0:n.get(o))===this){const s=this._props;if(o&&(s.visibilityAware!==void 0||s.trackState)){const a=this.getState(o);a&&o.dispatchEvent(new G9(a))}}}}))}getCurrent(){var e;return((e=this._current)===null||e===void 0?void 0:e.get())||null}findNextTabbable(e,n,r,i){const o=this.getElement(),s=o&&sv(e)===o;if(!o)return null;let a=null,c=!1,l;if(this._props.tabbable||s||e&&!Be.nodeContains(o,e)){const d={currentElement:e,referenceElement:n,container:o,ignoreAccessibility:i,useActiveModalizer:!0},p={};a=this._tabster.focusable[r?"findPrev":"findNext"](d,p),c=!!p.outOfDOMOrder,l=p.uncontrolled}return{element:a,uncontrolled:l,outOfDOMOrder:c}}acceptElement(e,n){var r,i;if(!vr.isTabbing)return!((r=n.currentCtx)===null||r===void 0)&&r.excludedFromMover?NodeFilter.FILTER_REJECT:void 0;const{memorizeCurrent:o,visibilityAware:s,hasDefault:a=!0}=this._props,c=this.getElement();if(c&&(o||s||a)&&(!Be.nodeContains(c,n.from)||sv(n.from)===c)){let l;if(o){const d=(i=this._current)===null||i===void 0?void 0:i.get();d&&n.acceptCondition(d)&&(l=d)}if(!l&&a&&(l=this._tabster.focusable.findDefault({container:c,useActiveModalizer:!0})),!l&&s&&(l=this._tabster.focusable.findElement({container:c,useActiveModalizer:!0,isBackward:n.isBackward,acceptCondition:d=>{var p;const m=FS(this._win,d),g=this._visible[m];return c!==d&&!!(!((p=this._allElements)===null||p===void 0)&&p.get(d))&&n.acceptCondition(d)&&(g===Au.Visible||g===Au.PartiallyVisible&&(s===Au.PartiallyVisible||!this._fullyVisible))}})),l)return n.found=!0,n.foundElement=l,n.rejectElementsFrom=c,n.skippedFocusable=!0,NodeFilter.FILTER_ACCEPT}}_observeState(){const e=this.getElement();if(this._unobserve||!e||typeof MutationObserver>"u")return;const n=this._win(),r=this._allElements=new WeakMap,i=this._tabster.focusable;let o=this._updateQueue=[];const s=Be.createMutationObserver(g=>{for(const C of g){const _=C.target,S=C.removedNodes,w=C.addedNodes;if(C.type==="attributes")C.attributeName==="tabindex"&&o.push({element:_,type:e7});else{for(let T=0;T<S.length;T++)o.push({element:S[T],type:t7});for(let T=0;T<w.length;T++)o.push({element:w[T],type:sP})}}p()}),a=(g,C)=>{var _,S;const w=r.get(g);w&&C&&((_=this._intersectionObserver)===null||_===void 0||_.unobserve(g),r.delete(g)),!w&&!C&&(r.set(g,this),(S=this._intersectionObserver)===null||S===void 0||S.observe(g))},c=g=>{const C=i.isFocusable(g);r.get(g)?C||a(g,!0):C&&a(g)},l=g=>{const{mover:C}=m(g);if(C&&C!==this)if(C.getElement()===g&&i.isFocusable(g))a(g);else return;const _=H5(n.document,g,S=>{const{mover:w,groupper:T}=m(S);if(w&&w!==this)return NodeFilter.FILTER_REJECT;const I=T==null?void 0:T.getFirst(!0);return T&&T.getElement()!==S&&I&&I!==S?NodeFilter.FILTER_REJECT:(i.isFocusable(S)&&a(S),NodeFilter.FILTER_SKIP)});if(_)for(_.currentNode=g;_.nextNode(););},d=g=>{r.get(g)&&a(g,!0);for(let _=Be.getFirstElementChild(g);_;_=Be.getNextElementSibling(_))d(_)},p=()=>{!this._updateTimer&&o.length&&(this._updateTimer=n.setTimeout(()=>{delete this._updateTimer;for(const{element:g,type:C}of o)switch(C){case e7:c(g);break;case sP:l(g);break;case t7:d(g);break}o=this._updateQueue=[]},0))},m=g=>{const C={};for(let _=g;_;_=Be.getParentElement(_)){const S=mi(this._tabster,_);if(S&&(S.groupper&&!C.groupper&&(C.groupper=S.groupper),S.mover)){C.mover=S.mover;break}}return C};o.push({element:e,type:sP}),p(),s.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["tabindex"]}),this._unobserve=()=>{s.disconnect()}}getState(e){const n=FS(this._win,e);if(n in this._visible){const r=this._visible[n]||Au.Invisible;return{isCurrent:this._current?this._current.get()===e:void 0,visibility:r}}}}function c2e(t,e,n,r,i,o,s,a){const c=n<i?i-n:s<t?t-s:0,l=r<o?o-r:a<e?e-a:0;return c===0?l:l===0?c:Math.sqrt(c*c+l*l)}class l2e{constructor(e,n){this._init=()=>{const r=this._win();r.addEventListener("keydown",this._onKeyDown,!0),r.addEventListener($9,this._onMoveFocus),r.addEventListener(W9,this._onMemorizedElement),this._tabster.focusedElement.subscribe(this._onFocus)},this._onMoverDispose=r=>{delete this._movers[r.id]},this._onFocus=r=>{var i;let o=r,s=r;for(let a=Be.getParentElement(r);a;a=Be.getParentElement(a)){const c=(i=mi(this._tabster,a))===null||i===void 0?void 0:i.mover;c&&(c.setCurrent(s),o=void 0),!o&&this._tabster.focusable.isFocusable(a)&&(o=s=a)}},this._onKeyDown=async r=>{var i;if(this._ignoredInputTimer&&(this._win().clearTimeout(this._ignoredInputTimer),delete this._ignoredInputTimer),(i=this._ignoredInputResolve)===null||i===void 0||i.call(this,!1),r.ctrlKey||r.altKey||r.shiftKey||r.metaKey)return;const o=r.key;let s;if(o===gr.ArrowDown?s=Er.ArrowDown:o===gr.ArrowRight?s=Er.ArrowRight:o===gr.ArrowUp?s=Er.ArrowUp:o===gr.ArrowLeft?s=Er.ArrowLeft:o===gr.PageDown?s=Er.PageDown:o===gr.PageUp?s=Er.PageUp:o===gr.Home?s=Er.Home:o===gr.End&&(s=Er.End),!s)return;const a=this._tabster.focusedElement.getFocusedElement();!a||await this._isIgnoredInput(a,o)||this._moveFocus(a,s,r)},this._onMoveFocus=r=>{var i;const o=r.composedPath()[0],s=(i=r.detail)===null||i===void 0?void 0:i.key;o&&s!==void 0&&!r.defaultPrevented&&(this._moveFocus(o,s),r.stopImmediatePropagation())},this._onMemorizedElement=r=>{var i;const o=r.composedPath()[0];let s=(i=r.detail)===null||i===void 0?void 0:i.memorizedElement;if(o){const a=kn.getTabsterContext(this._tabster,o),c=a==null?void 0:a.mover;c&&(s&&!Be.nodeContains(c.getElement(),s)&&(s=void 0),c.setCurrent(s),r.stopImmediatePropagation())}},this._tabster=e,this._win=n,this._movers={},e.queueInit(this._init)}dispose(){var e;const n=this._win();this._tabster.focusedElement.unsubscribe(this._onFocus),(e=this._ignoredInputResolve)===null||e===void 0||e.call(this,!1),this._ignoredInputTimer&&(n.clearTimeout(this._ignoredInputTimer),delete this._ignoredInputTimer),n.removeEventListener("keydown",this._onKeyDown,!0),n.removeEventListener($9,this._onMoveFocus),n.removeEventListener(W9,this._onMemorizedElement),Object.keys(this._movers).forEach(r=>{this._movers[r]&&(this._movers[r].dispose(),delete this._movers[r])})}createMover(e,n,r){const i=new a2e(this._tabster,e,this._onMoverDispose,n,r);return this._movers[i.id]=i,i}moveFocus(e,n){return this._moveFocus(e,n)}_moveFocus(e,n,r){var i,o;const s=this._tabster,a=kn.getTabsterContext(s,e,{checkRtl:!0});if(!a||!a.mover||a.excludedFromMover||r&&a.ignoreKeydown(r))return null;const c=a.mover,l=c.getElement();if(a.groupperBeforeMover){const P=a.groupper;if(P&&!P.isActive(!0)){for(let N=Be.getParentElement(P.getElement());N&&N!==l;N=Be.getParentElement(N))if(!((o=(i=mi(s,N))===null||i===void 0?void 0:i.groupper)===null||o===void 0)&&o.isActive(!0))return null}else return null}if(!l)return null;const d=s.focusable,p=c.getProps(),m=p.direction||ya.Both,g=m===ya.Both,C=g||m===ya.Vertical,_=g||m===ya.Horizontal,S=m===ya.GridLinear,w=S||m===ya.Grid,T=p.cyclic;let I,A,k,R=0,M=0;if(w&&(k=e.getBoundingClientRect(),R=Math.ceil(k.left),M=Math.floor(k.right)),a.rtl&&(n===Er.ArrowRight?n=Er.ArrowLeft:n===Er.ArrowLeft&&(n=Er.ArrowRight)),n===Er.ArrowDown&&C||n===Er.ArrowRight&&(_||w))if(I=d.findNext({currentElement:e,container:l,useActiveModalizer:!0}),I&&w){const P=Math.ceil(I.getBoundingClientRect().left);!S&&M>P&&(I=void 0)}else!I&&T&&(I=d.findFirst({container:l,useActiveModalizer:!0}));else if(n===Er.ArrowUp&&C||n===Er.ArrowLeft&&(_||w))if(I=d.findPrev({currentElement:e,container:l,useActiveModalizer:!0}),I&&w){const P=Math.floor(I.getBoundingClientRect().right);!S&&P>R&&(I=void 0)}else!I&&T&&(I=d.findLast({container:l,useActiveModalizer:!0}));else if(n===Er.Home)w?d.findElement({container:l,currentElement:e,useActiveModalizer:!0,isBackward:!0,acceptCondition:P=>{var N;if(!d.isFocusable(P))return!1;const D=Math.ceil((N=P.getBoundingClientRect().left)!==null&&N!==void 0?N:0);return P!==e&&R<=D?!0:(I=P,!1)}}):I=d.findFirst({container:l,useActiveModalizer:!0});else if(n===Er.End)w?d.findElement({container:l,currentElement:e,useActiveModalizer:!0,acceptCondition:P=>{var N;if(!d.isFocusable(P))return!1;const D=Math.ceil((N=P.getBoundingClientRect().left)!==null&&N!==void 0?N:0);return P!==e&&R>=D?!0:(I=P,!1)}}):I=d.findLast({container:l,useActiveModalizer:!0});else if(n===Er.PageUp){if(d.findElement({currentElement:e,container:l,useActiveModalizer:!0,isBackward:!0,acceptCondition:P=>d.isFocusable(P)?Q9(this._win,P,c.visibilityTolerance)?(I=P,!1):!0:!1}),w&&I){const P=Math.ceil(I.getBoundingClientRect().left);d.findElement({currentElement:I,container:l,useActiveModalizer:!0,acceptCondition:N=>{if(!d.isFocusable(N))return!1;const D=Math.ceil(N.getBoundingClientRect().left);return R<D||P>=D?!0:(I=N,!1)}})}A=!1}else if(n===Er.PageDown){if(d.findElement({currentElement:e,container:l,useActiveModalizer:!0,acceptCondition:P=>d.isFocusable(P)?Q9(this._win,P,c.visibilityTolerance)?(I=P,!1):!0:!1}),w&&I){const P=Math.ceil(I.getBoundingClientRect().left);d.findElement({currentElement:I,container:l,useActiveModalizer:!0,isBackward:!0,acceptCondition:N=>{if(!d.isFocusable(N))return!1;const D=Math.ceil(N.getBoundingClientRect().left);return R>D||P<=D?!0:(I=N,!1)}})}A=!0}else if(w){const P=n===Er.ArrowUp,N=R,D=Math.ceil(k.top),G=M,U=Math.floor(k.bottom);let W,$,L=0;d.findAll({container:l,currentElement:e,isBackward:P,onElement:B=>{const j=B.getBoundingClientRect(),V=Math.ceil(j.left),K=Math.ceil(j.top),z=Math.floor(j.right),H=Math.floor(j.bottom);if(P&&D<H||!P&&U>K)return!0;const q=Math.ceil(Math.min(G,z))-Math.floor(Math.max(N,V)),le=Math.ceil(Math.min(G-N,z-V));if(q>0&&le>=q){const Ce=q/le;Ce>L&&(W=B,L=Ce)}else if(L===0){const Ce=c2e(N,D,G,U,V,K,z,H);($===void 0||Ce<$)&&($=Ce,W=B)}else if(L>0)return!1;return!0}}),I=W}return I&&(!r||r&&l.dispatchEvent(new sd({by:"mover",owner:l,next:I,relatedEvent:r})))?(A!==void 0&&LMe(this._win,I,A),r&&(r.preventDefault(),r.stopImmediatePropagation()),Ac(I),I):null}async _isIgnoredInput(e,n){if(e.getAttribute("aria-expanded")==="true"&&e.hasAttribute("aria-activedescendant"))return!0;if(XZ(e,o2e)){let r=0,i=0,o=0,s;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"){const a=e.type;if(o=(e.value||"").length,a==="email"||a==="number"){if(o){const l=Be.getSelection(e);if(l){const d=l.toString().length,p=n===gr.ArrowLeft||n===gr.ArrowUp;if(l.modify("extend",p?"backward":"forward","character"),d!==l.toString().length)return l.modify("extend",p?"forward":"backward","character"),!0;o=0}}}else{const l=e.selectionStart;if(l===null)return a==="hidden";r=l||0,i=e.selectionEnd||0}}else e.contentEditable==="true"&&(s=new(FMe(this._win))(a=>{this._ignoredInputResolve=g=>{delete this._ignoredInputResolve,a(g)};const c=this._win();this._ignoredInputTimer&&c.clearTimeout(this._ignoredInputTimer);const{anchorNode:l,focusNode:d,anchorOffset:p,focusOffset:m}=Be.getSelection(e)||{};this._ignoredInputTimer=c.setTimeout(()=>{var g,C,_;delete this._ignoredInputTimer;const{anchorNode:S,focusNode:w,anchorOffset:T,focusOffset:I}=Be.getSelection(e)||{};if(S!==l||w!==d||T!==p||I!==m){(g=this._ignoredInputResolve)===null||g===void 0||g.call(this,!1);return}if(r=T||0,i=I||0,o=((C=e.textContent)===null||C===void 0?void 0:C.length)||0,S&&w&&Be.nodeContains(e,S)&&Be.nodeContains(e,w)&&S!==e){let A=!1;const k=R=>{if(R===S)A=!0;else if(R===w)return!0;const M=R.textContent;if(M&&!Be.getFirstChild(R)){const N=M.length;A?w!==S&&(i+=N):(r+=N,i+=N)}let P=!1;for(let N=Be.getFirstChild(R);N&&!P;N=N.nextSibling)P=k(N);return P};k(e)}(_=this._ignoredInputResolve)===null||_===void 0||_.call(this,!0)},0)}));if(s&&!await s||r!==i||r>0&&(n===gr.ArrowLeft||n===gr.ArrowUp||n===gr.Home)||r<o&&(n===gr.ArrowRight||n===gr.ArrowDown||n===gr.End))return!0}return!1}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */function u2e(t,e,n,r){if(typeof MutationObserver>"u")return()=>{};const i=e.getWindow;let o;const s=d=>{var p,m,g,C,_;const S=new Set;for(const w of d){const T=w.target,I=w.removedNodes,A=w.addedNodes;if(w.type==="attributes")w.attributeName===od&&(S.has(T)||n(e,T));else{for(let k=0;k<I.length;k++){const R=I[k];S.add(R),a(R,!0),(m=(p=e._dummyObserver).domChanged)===null||m===void 0||m.call(p,T)}for(let k=0;k<A.length;k++)a(A[k]),(C=(g=e._dummyObserver).domChanged)===null||C===void 0||C.call(g,T)}}S.clear(),(_=e.modalizer)===null||_===void 0||_.hiddenUpdate()};function a(d,p){o||(o=Vl(i).elementByUId),c(d,p);const m=H5(t,d,g=>c(g,p));if(m)for(;m.nextNode(););}function c(d,p){var m;if(!d.getAttribute)return NodeFilter.FILTER_SKIP;const g=d.__tabsterElementUID;return g&&o&&(p?delete o[g]:(m=o[g])!==null&&m!==void 0||(o[g]=new rs(i,d))),(mi(e,d)||d.hasAttribute(od))&&n(e,d,p),NodeFilter.FILTER_SKIP}const l=Be.createMutationObserver(s);return r&&a(i().document.body),l.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:[od]}),()=>{l.disconnect()}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class d2e{constructor(e){this._isUncontrolledCompletely=e}isUncontrolledCompletely(e,n){var r;const i=(r=this._isUncontrolledCompletely)===null||r===void 0?void 0:r.call(this,e,n);return i===void 0?n:i}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class f2e extends HC{constructor(e,n,r){var i;if(super(e,n,r),this._hasFocus=!1,this._onFocusOut=o=>{var s;const a=(s=this._element)===null||s===void 0?void 0:s.get();a&&o.relatedTarget===null&&a.dispatchEvent(new q9),a&&!Be.nodeContains(a,o.relatedTarget)&&(this._hasFocus=!1)},this._onFocusIn=()=>{this._hasFocus=!0},this._props.type===iv.Source){const o=(i=this._element)===null||i===void 0?void 0:i.get();o==null||o.addEventListener("focusout",this._onFocusOut),o==null||o.addEventListener("focusin",this._onFocusIn),this._hasFocus=Be.nodeContains(o,o&&Be.getActiveElement(o.ownerDocument))}}dispose(){var e;if(this._props.type===iv.Source){const n=(e=this._element)===null||e===void 0?void 0:e.get();n==null||n.removeEventListener("focusout",this._onFocusOut),n==null||n.removeEventListener("focusin",this._onFocusIn),this._hasFocus&&this._tabster.getWindow().document.body.dispatchEvent(new q9)}}}class Sx{constructor(e){this._stack=[],this._getWindow=e}push(e){var n;((n=this._stack[this._stack.length-1])===null||n===void 0?void 0:n.get())!==e&&(this._stack.length>Sx.DEPTH&&this._stack.shift(),this._stack.push(new rs(this._getWindow,e)))}pop(e){e===void 0&&(e=()=>!0);var n;const r=this._getWindow().document;for(let i=this._stack.length-1;i>=0;i--){const o=(n=this._stack.pop())===null||n===void 0?void 0:n.get();if(o&&Be.nodeContains(r.body,Be.getParentElement(o))&&e(o))return o}}}Sx.DEPTH=10;class h2e{constructor(e){this._onRestoreFocus=n=>{var r,i;this._focusedElementState.cancelAsyncFocus(Cl.Restorer);const o=n.composedPath()[0];if(o){const s=(i=(r=mi(this._tabster,o))===null||r===void 0?void 0:r.restorer)===null||i===void 0?void 0:i.getProps().id;this._focusedElementState.requestAsyncFocus(Cl.Restorer,()=>this._restoreFocus(o,s),0)}},this._onFocusIn=n=>{var r;if(!n)return;const i=mi(this._tabster,n);((r=i==null?void 0:i.restorer)===null||r===void 0?void 0:r.getProps().type)===iv.Target&&this._history.push(n)},this._restoreFocus=(n,r)=>{var i;const o=this._getWindow().document;if(Be.getActiveElement(o)!==o.body||!this._keyboardNavState.isNavigatingWithKeyboard()&&Be.nodeContains(o.body,n))return;const s=a=>{var c,l;const d=(l=(c=mi(this._tabster,a))===null||c===void 0?void 0:c.restorer)===null||l===void 0?void 0:l.getProps();return d?d.id:null};(i=this._history.pop(a=>r===s(a)))===null||i===void 0||i.focus()},this._tabster=e,this._getWindow=e.getWindow,this._getWindow().addEventListener(vM,this._onRestoreFocus),this._history=new Sx(this._getWindow),this._keyboardNavState=e.keyboardNavigation,this._focusedElementState=e.focusedElement,this._focusedElementState.subscribe(this._onFocusIn)}dispose(){const e=this._getWindow();this._focusedElementState.unsubscribe(this._onFocusIn),this._focusedElementState.cancelAsyncFocus(Cl.Restorer),e.removeEventListener(vM,this._onRestoreFocus)}createRestorer(e,n){const r=new f2e(this._tabster,e,n);return n.type===iv.Target&&Be.getActiveElement(e.ownerDocument)===e&&this._history.push(e),r}}/*!
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Licensed under the MIT License.
 */class p2e{constructor(e){this.keyboardNavigation=e.keyboardNavigation,this.focusedElement=e.focusedElement,this.focusable=e.focusable,this.root=e.root,this.uncontrolled=e.uncontrolled,this.core=e}}class m2e{constructor(e,n){var r,i;this._forgetMemorizedElements=[],this._wrappers=new Set,this._initQueue=[],this._version="8.5.3",this._noop=!1,this.getWindow=()=>{if(!this._win)throw new Error("Using disposed Tabster.");return this._win},this._storage=OMe(e),this._win=e;const o=this.getWindow;n!=null&&n.DOMAPI&&kMe({...n.DOMAPI}),this.keyboardNavigation=new e2e(o),this.focusedElement=new vr(this,o),this.focusable=new YMe(this),this.root=new kn(this,n==null?void 0:n.autoRoot),this.uncontrolled=new d2e((n==null?void 0:n.checkUncontrolledCompletely)||(n==null?void 0:n.checkUncontrolledTrappingFocus)),this.controlTab=(r=n==null?void 0:n.controlTab)!==null&&r!==void 0?r:!0,this.rootDummyInputs=!!(n!=null&&n.rootDummyInputs),this._dummyObserver=new VMe(o),this.getParent=(i=n==null?void 0:n.getParent)!==null&&i!==void 0?i:Be.getParentNode,this.internal={stopObserver:()=>{this._unobserve&&(this._unobserve(),delete this._unobserve)},resumeObserver:s=>{if(!this._unobserve){const a=o().document;this._unobserve=u2e(a,this,$Z,s)}}},GZ(o),this.queueInit(()=>{this.internal.resumeObserver(!0)})}_mergeProps(e){var n;e&&(this.getParent=(n=e.getParent)!==null&&n!==void 0?n:this.getParent)}createTabster(e,n){const r=new p2e(this);return e||this._wrappers.add(r),this._mergeProps(n),r}disposeTabster(e,n){n?this._wrappers.clear():this._wrappers.delete(e),this._wrappers.size===0&&this.dispose()}dispose(){var e,n,r,i,o,s,a,c;this.internal.stopObserver();const l=this._win;l==null||l.clearTimeout(this._initTimer),delete this._initTimer,this._initQueue=[],this._forgetMemorizedElements=[],l&&this._forgetMemorizedTimer&&(l.clearTimeout(this._forgetMemorizedTimer),delete this._forgetMemorizedTimer),(e=this.outline)===null||e===void 0||e.dispose(),(n=this.crossOrigin)===null||n===void 0||n.dispose(),(r=this.deloser)===null||r===void 0||r.dispose(),(i=this.groupper)===null||i===void 0||i.dispose(),(o=this.mover)===null||o===void 0||o.dispose(),(s=this.modalizer)===null||s===void 0||s.dispose(),(a=this.observedElement)===null||a===void 0||a.dispose(),(c=this.restorer)===null||c===void 0||c.dispose(),this.keyboardNavigation.dispose(),this.focusable.dispose(),this.focusedElement.dispose(),this.root.dispose(),this._dummyObserver.dispose(),MMe(this.getWindow),X9(this.getWindow),this._storage=new WeakMap,this._wrappers.clear(),l&&(PMe(l),delete l.__tabsterInstance,delete this._win)}storageEntry(e,n){const r=this._storage;let i=r.get(e);return i?n===!1&&Object.keys(i).length===0&&r.delete(e):n===!0&&(i={},r.set(e,i)),i}forceCleanup(){this._win&&(this._forgetMemorizedElements.push(this._win.document.body),!this._forgetMemorizedTimer&&(this._forgetMemorizedTimer=this._win.setTimeout(()=>{delete this._forgetMemorizedTimer;for(let e=this._forgetMemorizedElements.shift();e;e=this._forgetMemorizedElements.shift())X9(this.getWindow,e),vr.forgetMemorized(this.focusedElement,e)},0),KZ(this.getWindow,!0)))}queueInit(e){var n;this._win&&(this._initQueue.push(e),this._initTimer||(this._initTimer=(n=this._win)===null||n===void 0?void 0:n.setTimeout(()=>{delete this._initTimer,this.drainInitQueue()},0)))}drainInitQueue(){if(!this._win)return;const e=this._initQueue;this._initQueue=[],e.forEach(n=>n())}}function g2e(t,e){let n=w2e(t);return n?n.createTabster(!1,e):(n=new m2e(t,e),t.__tabsterInstance=n,n.createTabster())}function v2e(t){const e=t.core;return e.groupper||(e.groupper=new JMe(e,e.getWindow)),e.groupper}function y2e(t){const e=t.core;return e.mover||(e.mover=new l2e(e,e.getWindow)),e.mover}function b2e(t,e,n){const r=t.core;return r.modalizer||(r.modalizer=new i2e(r,e,n)),r.modalizer}function C2e(t){const e=t.core;return e.restorer||(e.restorer=new h2e(e)),e.restorer}function _2e(t,e){t.core.disposeTabster(t,e)}function w2e(t){return t.__tabsterInstance}const tJ=b.createContext(void 0),S2e={targetDocument:typeof document=="object"?document:void 0,dir:"ltr"};tJ.Provider;function E2e(){var t;return(t=b.useContext(tJ))!==null&&t!==void 0?t:S2e}const T2e={current:0},I2e=b.createContext(void 0);function x2e(){var t;return(t=b.useContext(I2e))!==null&&t!==void 0?t:T2e}const nJ=b.createContext(void 0);nJ.Provider;function A2e(){return b.useContext(nJ)||""}function k2e(t="fui-",e){"use no memo";const n=x2e(),r=A2e(),i=JH.useId;if(i){const o=i(),s=b.useMemo(()=>o.replace(/:/g,""),[o]);return e||`${r}${t}${s}`}return b.useMemo(()=>e||`${r}${t}${++n.current}`,[r,t,e,n])}function R2e(t){return t&&!!t._virtual}function P2e(t){return R2e(t)&&t._virtual.parent||null}function O2e(t,e={}){if(!t)return null;if(!e.skipVirtual){const r=P2e(t);if(r)return r}const n=t.parentNode;return n&&n.nodeType===Node.DOCUMENT_FRAGMENT_NODE?n.host:n}const N2e=t=>t;function M2e(t){const e=(t==null?void 0:t.defaultView)||void 0,n=e==null?void 0:e.__tabsterShadowDOMAPI;if(e)return g2e(e,{autoRoot:{},controlTab:!1,getParent:O2e,checkUncontrolledTrappingFocus:r=>{var i;return!!(!((i=r.firstElementChild)===null||i===void 0)&&i.hasAttribute("data-is-focus-trap-zone-bumper"))},DOMAPI:n})}function Ex(t=N2e){const{targetDocument:e}=E2e(),n=b.useRef(null);return b.useEffect(()=>{const r=M2e(e);if(r)return n.current=t(r),()=>{_2e(r),n.current=null}},[e,t]),n}const NT=t=>{Ex();const e=JZ(t);return b.useMemo(()=>({[od]:e}),[e])},rJ=(t={})=>{const{circular:e,axis:n,memorizeCurrent:r=!0,tabbable:i,ignoreDefaultKeydown:o,unstable_hasDefault:s}=t;return Ex(y2e),NT({mover:{cyclic:!!e,direction:L2e(n??"vertical"),memorizeCurrent:r,tabbable:i,hasDefault:s},...o&&{focusable:{ignoreKeydown:o}}})};function L2e(t){switch(t){case"horizontal":return ya.Horizontal;case"grid":return ya.Grid;case"grid-linear":return ya.GridLinear;case"both":return ya.Both;case"vertical":default:return ya.Vertical}}const iJ=t=>(Ex(v2e),NT({groupper:{tabbability:D2e(t==null?void 0:t.tabBehavior)},focusable:{ignoreKeydown:t==null?void 0:t.ignoreDefaultKeydown}})),D2e=t=>{switch(t){case"unlimited":return jS.Unlimited;case"limited":return jS.Limited;case"limited-trap-focus":return jS.LimitedTrapFocus;default:return}},j2e="data-tabster-never-hide",F2e=t=>t.hasAttribute(j2e);function U2e(t){b2e(t,void 0,F2e),C2e(t)}const oJ=(t={})=>{const{trapFocus:e,alwaysFocusable:n,legacyTrapFocus:r}=t;Ex(U2e);const i=k2e("modal-",t.id),o=NT({restorer:{type:iv.Source},...e&&{modalizer:{id:i,isOthersAccessible:!e,isAlwaysAccessible:n,isTrapped:r&&e}}}),s=NT({restorer:{type:iv.Target}});return{modalAttributes:o,triggerAttributes:s}},Tx={type:"spring",mass:2.8,stiffness:280,damping:40},B2e={type:"spring",mass:1.8,stiffness:320,damping:40},DKe={type:"spring",mass:1.8,stiffness:440,damping:40},CM={type:"spring",mass:1.4,stiffness:320,damping:40},sJ={type:"spring",mass:1,stiffness:1200,damping:40},aJ={type:"spring",mass:1.8,stiffness:640,damping:40},V2e={type:"spring",mass:3.2,stiffness:640,damping:40},Gs={type:"spring",mass:1,stiffness:280,damping:40},jKe={duration:1.2,ease:"easeInOut",repeat:3,repeatType:"reverse",type:"tween"},cJ=.2,lJ=.25,H2e=1.5,z2e=[.16,1,.3,1];function $2e(t,e){const{children:n,id:r,className:i,mode:o="wait",duration:s=zs.default,exitDuration:a=zs.default,exitDelay:c=0,delay:l=0,delayChildren:d=0,onAnimationComplete:p,"data-testid":m,initial:g="initial"}=t;return y.jsx(Rr,{mode:o,children:n&&y.jsx(ct.div,{animate:"animate",exit:"exit",ref:e,initial:g,variants:{initial:Vt,animate:Rn,exit:{...Vt,transition:{duration:a,delay:c}}},transition:{duration:s,ease:"easeInOut",delay:l,delayChildren:d},className:i,onAnimationComplete:p,"data-testid":m,children:n},r)})}const _i=b.forwardRef($2e),zC=t=>b.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...t},b.createElement("path",{d:"M4.20889 10.7327C3.9232 11.0326 3.93475 11.5074 4.23467 11.7931C4.5346 12.0788 5.00933 12.0672 5.29502 11.7673L11.2495 5.516V20.25C11.2495 20.6642 11.5853 21 11.9995 21C12.4137 21 12.7495 20.6642 12.7495 20.25V5.51565L18.7043 11.7673C18.99 12.0672 19.4648 12.0788 19.7647 11.7931C20.0646 11.5074 20.0762 11.0326 19.7905 10.7327L12.7238 3.31379C12.5627 3.14474 12.3573 3.04477 12.1438 3.01386C12.0971 3.00477 12.0489 3 11.9995 3C11.9498 3 11.9012 3.00483 11.8543 3.01406C11.6412 3.04518 11.4363 3.14509 11.2756 3.31379L4.20889 10.7327Z"})),FKe=Object.freeze(Object.defineProperty({__proto__:null,default:zC},Symbol.toStringTag,{value:"Module"})),Hs=t=>b.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...t},b.createElement("path",{d:"M4.39705 4.55379L4.46967 4.46967C4.73594 4.2034 5.1526 4.1792 5.44621 4.39705L5.53033 4.46967L12 10.939L18.4697 4.46967C18.7626 4.17678 19.2374 4.17678 19.5303 4.46967C19.8232 4.76256 19.8232 5.23744 19.5303 5.53033L13.061 12L19.5303 18.4697C19.7966 18.7359 19.8208 19.1526 19.6029 19.4462L19.5303 19.5303C19.2641 19.7966 18.8474 19.8208 18.5538 19.6029L18.4697 19.5303L12 13.061L5.53033 19.5303C5.23744 19.8232 4.76256 19.8232 4.46967 19.5303C4.17678 19.2374 4.17678 18.7626 4.46967 18.4697L10.939 12L4.46967 5.53033C4.2034 5.26406 4.1792 4.8474 4.39705 4.55379L4.46967 4.46967L4.39705 4.55379Z",fill:"currentColor"})),UKe=Object.freeze(Object.defineProperty({__proto__:null,default:Hs},Symbol.toStringTag,{value:"Module"}));function $5(){const[t,e]=b.useState(document.body.dir==="rtl");return b.useEffect(()=>{const n=new MutationObserver(()=>{e(document.body.dir==="rtl")});return n.observe(document.body,{attributes:!0,attributeFilter:["dir"]}),()=>n.disconnect()},[]),t}const aP=zs.default,qh=b.forwardRef((t,e)=>{const{isOpen:n,onBack:r,headerText:i,children:o,onClose:s,className:a,disableCloseOutside:c,headerTextClassName:l,headerClassName:d,trapFocus:p=!1,variant:m="modal"}=t,{t:g}=pt(),C=b.useId(),{modalAttributes:_}=oJ({trapFocus:p,legacyTrapFocus:p,alwaysFocusable:p}),S=p?_:{},w=$5()?-1:1,T=R=>{(c??!s)||R.target===R.currentTarget&&s()},I=R=>{R.stopPropagation()},A=m==="drawer",k=A?{initial:{x:`${w*100}%`},animate:{x:0,transition:CM},exit:{x:`${w*100}%`,transition:{duration:aP}}}:void 0;return y.jsx(_i,{id:String(n),mode:"sync",duration:aP,exitDuration:aP,className:fe("fixed inset-0",Un.modal),children:n&&y.jsxs("div",{...S,role:"dialog","aria-modal":"true","aria-labelledby":i?C:void 0,children:[y.jsx("div",{className:fe("fixed inset-0 bg-stone-850/30 backdrop-blur-[10px] dark:bg-midnight-850/70",Un.modalBackground)}),y.jsx("div",{className:fe("fixed inset-0 flex",A?"items-start justify-end":"items-center justify-center",Un.modal),onClick:T,children:y.jsxs(ct.div,{...k,className:En("t-custom-scrollbar flex flex-col gap-3 border border-white/10 bg-background-150 p-6 shadow-xl dark:bg-background-250",A?"h-full w-80":"min-h-[150px] rounded-4xl",a),onClick:I,ref:R=>{typeof e=="function"?e(R):e&&(e.current=R)},children:[y.jsxs("div",{className:fe("flex items-center justify-between gap-2",d),children:[r&&y.jsx(lt,{variant:"square",color:"subtle-dimmed-inverted",size:"32-xs",title:g("common.backText"),"aria-label":g("common.backText"),onClick:r,children:y.jsx(zC,{className:"size-5 -rotate-90"})}),i&&y.jsx("span",{id:C,className:fe("text-foreground-800 text-md-strong",l),children:i}),s&&y.jsx(lt,{className:!r&&!i?"ms-auto":"",variant:"square",color:"subtle-dimmed-inverted",size:"32-xs",title:g("common.closeText"),"aria-label":g("common.closeText"),onClick:s,children:y.jsx(Hs,{className:"size-5"})})]}),o]})})]})})});qh.displayName="Modal";function uJ(t){const{accountActionRequired:e}=t;return y.jsx(qh,{isOpen:!0,children:y.jsx(W2e,{accountActionRequired:e})})}function W2e(t){const{accountActionRequired:e}=t,{reason:n}=e;b.useEffect(()=>{he.trackEvent({name:"system",data:{eventName:"copilotWebBackgroundAccountChange",eventInfo_action:"shown",eventInfo_reason:n}})},[n]);const r=async()=>{if(he.trackEvent({name:"system",data:{eventName:"copilotWebBackgroundAccountChange",eventInfo_action:"reload",eventInfo_reason:n}}),n==="token-expired"&&e.provider==="microsoft"){const{msal:i}=await Eo.get();await i.clearCache()}_x()};return n==="login"||n==="logout"?y.jsx("div",{className:"flex max-w-72 flex-col items-center p-1 text-center",children:y.jsx(Ffe,{reason:n,onReload:r})}):y.jsx("div",{className:"flex max-w-96 flex-col items-center p-1 text-center",children:y.jsx(LNe,{accountActionRequired:e,onReload:r})})}function W5(t,e){if(t){if(t.indexOf("-")!==-1)return t;if(e)return`${t}-${e}`}else if(e)return e;return"en-US"}function Ix(){return typeof window<"u"}function Pd(t){return dJ(t)?(t.nodeName||"").toLowerCase():"#document"}function is(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Oc(t){var e;return(e=(dJ(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function dJ(t){return Ix()?t instanceof Node||t instanceof is(t).Node:!1}function Cr(t){return Ix()?t instanceof Element||t instanceof is(t).Element:!1}function Gr(t){return Ix()?t instanceof HTMLElement||t instanceof is(t).HTMLElement:!1}function _M(t){return!Ix()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof is(t).ShadowRoot}function $C(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=us(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function K2e(t){return["table","td","th"].includes(Pd(t))}function xx(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function K5(t){const e=Ax(),n=Cr(t)?us(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function G2e(t){let e=Ml(t);for(;Gr(e)&&!_l(e);){if(K5(e))return e;if(xx(e))return null;e=Ml(e)}return null}function Ax(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _l(t){return["html","body","#document"].includes(Pd(t))}function us(t){return is(t).getComputedStyle(t)}function kx(t){return Cr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ml(t){if(Pd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||_M(t)&&t.host||Oc(t);return _M(e)?e.host:e}function fJ(t){const e=Ml(t);return _l(e)?t.ownerDocument?t.ownerDocument.body:t.body:Gr(e)&&$C(e)?e:fJ(e)}function ad(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=fJ(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=is(i);if(o){const a=wM(s);return e.concat(s,s.visualViewport||[],$C(i)?i:[],a&&n?ad(a):[])}return e.concat(i,ad(i,[],n))}function wM(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function rl(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function wo(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&_M(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function q2e(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function hJ(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}function pJ(t){return t.mozInputSource===0&&t.isTrusted?!0:SM()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function mJ(t){return Q2e()?!1:!SM()&&t.width===0&&t.height===0||SM()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function Y2e(){return/apple/i.test(navigator.vendor)}function SM(){const t=/android/i;return t.test(q2e())||t.test(hJ())}function Q2e(){return hJ().includes("jsdom/")}function n7(t,e){return["mouse","pen"].includes(t)}function X2e(t){return"nativeEvent"in t}function Z2e(t){return t.matches("html,body")}function Ds(t){return(t==null?void 0:t.ownerDocument)||document}function cP(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function Bf(t){return"composedPath"in t?t.composedPath()[0]:t.target}const J2e="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function gJ(t){return Gr(t)&&t.matches(J2e)}function fi(t){t.preventDefault(),t.stopPropagation()}function vJ(t){return t?t.getAttribute("role")==="combobox"&&gJ(t):!1}const _d=Math.min,Zo=Math.max,MT=Math.round,Bm=Math.floor,wd=t=>({x:t,y:t}),eLe={left:"right",right:"left",bottom:"top",top:"bottom"},tLe={start:"end",end:"start"};function EM(t,e,n){return Zo(t,_d(e,n))}function Bv(t,e){return typeof t=="function"?t(e):t}function Sd(t){return t.split("-")[0]}function Vv(t){return t.split("-")[1]}function yJ(t){return t==="x"?"y":"x"}function G5(t){return t==="y"?"height":"width"}function Yh(t){return["top","bottom"].includes(Sd(t))?"y":"x"}function q5(t){return yJ(Yh(t))}function nLe(t,e,n){n===void 0&&(n=!1);const r=Vv(t),i=q5(t),o=G5(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=LT(s)),[s,LT(s)]}function rLe(t){const e=LT(t);return[TM(t),e,TM(e)]}function TM(t){return t.replace(/start|end/g,e=>tLe[e])}function iLe(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function oLe(t,e,n,r){const i=Vv(t);let o=iLe(Sd(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(TM)))),o}function LT(t){return t.replace(/left|right|bottom|top/g,e=>eLe[e])}function sLe(t){return{top:0,right:0,bottom:0,left:0,...t}}function bJ(t){return typeof t!="number"?sLe(t):{top:t,right:t,bottom:t,left:t}}function DT(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var aLe=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],jT=aLe.join(","),CJ=typeof Element>"u",av=CJ?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,FT=!CJ&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},UT=function t(e,n){var r;n===void 0&&(n=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),o=i===""||i==="true",s=o||n&&e&&t(e.parentNode);return s},cLe=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},lLe=function(e,n,r){if(UT(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(jT));return n&&av.call(e,jT)&&i.unshift(e),i=i.filter(r),i},uLe=function t(e,n,r){for(var i=[],o=Array.from(e);o.length;){var s=o.shift();if(!UT(s,!1))if(s.tagName==="SLOT"){var a=s.assignedElements(),c=a.length?a:s.children,l=t(c,!0,r);r.flatten?i.push.apply(i,l):i.push({scopeParent:s,candidates:l})}else{var d=av.call(s,jT);d&&r.filter(s)&&(n||!e.includes(s))&&i.push(s);var p=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),m=!UT(p,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(p&&m){var g=t(p===!0?s.children:p.children,!0,r);r.flatten?i.push.apply(i,g):i.push({scopeParent:s,candidates:g})}else o.unshift.apply(o,s.children)}}return i},_J=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},wJ=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||cLe(e))&&!_J(e)?0:e.tabIndex},dLe=function(e,n){var r=wJ(e);return r<0&&n&&!_J(e)?0:r},fLe=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},SJ=function(e){return e.tagName==="INPUT"},hLe=function(e){return SJ(e)&&e.type==="hidden"},pLe=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},mLe=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},gLe=function(e){if(!e.name)return!0;var n=e.form||FT(e),r=function(a){return n.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var o=mLe(i,e.form);return!o||o===e},vLe=function(e){return SJ(e)&&e.type==="radio"},yLe=function(e){return vLe(e)&&!gLe(e)},bLe=function(e){var n,r=e&&FT(e),i=(n=r)===null||n===void 0?void 0:n.host,o=!1;if(r&&r!==e){var s,a,c;for(o=!!((s=i)!==null&&s!==void 0&&(a=s.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(c=e.ownerDocument)!==null&&c!==void 0&&c.contains(e));!o&&i;){var l,d,p;r=FT(i),i=(l=r)===null||l===void 0?void 0:l.host,o=!!((d=i)!==null&&d!==void 0&&(p=d.ownerDocument)!==null&&p!==void 0&&p.contains(i))}}return o},r7=function(e){var n=e.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},CLe=function(e,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=av.call(e,"details>summary:first-of-type"),s=o?e.parentElement:e;if(av.call(s,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var c=e.parentElement,l=FT(e);if(c&&!c.shadowRoot&&i(c)===!0)return r7(e);e.assignedSlot?e=e.assignedSlot:!c&&l!==e.ownerDocument?e=l.host:e=c}e=a}if(bLe(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return r7(e);return!1},_Le=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return av.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},wLe=function(e,n){return!(n.disabled||UT(n)||hLe(n)||CLe(n,e)||pLe(n)||_Le(n))},IM=function(e,n){return!(yLe(n)||wJ(n)<0||!wLe(e,n))},SLe=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},ELe=function t(e){var n=[],r=[];return e.forEach(function(i,o){var s=!!i.scopeParent,a=s?i.scopeParent:i,c=dLe(a,s),l=s?t(i.candidates):a;c===0?s?n.push.apply(n,l):n.push(a):r.push({documentOrder:o,tabIndex:c,item:i,isScope:s,content:l})}),r.sort(fLe).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(n)},Rx=function(e,n){n=n||{};var r;return n.getShadowRoot?r=uLe([e],n.includeContainer,{filter:IM.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:SLe}):r=lLe(e,n.includeContainer,IM.bind(null,n)),ELe(r)},TLe=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return av.call(e,jT)===!1?!1:IM(n,e)};function i7(t,e,n){let{reference:r,floating:i}=t;const o=Yh(e),s=q5(e),a=G5(s),c=Sd(e),l=o==="y",d=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,m=r[a]/2-i[a]/2;let g;switch(c){case"top":g={x:d,y:r.y-i.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:p};break;case"left":g={x:r.x-i.width,y:p};break;default:g={x:r.x,y:r.y}}switch(Vv(e)){case"start":g[s]-=m*(n&&l?-1:1);break;case"end":g[s]+=m*(n&&l?-1:1);break}return g}const ILe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(e));let l=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:p}=i7(l,r,c),m=r,g={},C=0;for(let _=0;_<a.length;_++){const{name:S,fn:w}=a[_],{x:T,y:I,data:A,reset:k}=await w({x:d,y:p,initialPlacement:r,placement:m,strategy:i,middlewareData:g,rects:l,platform:s,elements:{reference:t,floating:e}});d=T??d,p=I??p,g={...g,[S]:{...g[S],...A}},k&&C<=50&&(C++,typeof k=="object"&&(k.placement&&(m=k.placement),k.rects&&(l=k.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):k.rects),{x:d,y:p}=i7(l,m,c)),_=-1)}return{x:d,y:p,placement:m,strategy:i,middlewareData:g}};async function Y5(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:m=!1,padding:g=0}=Bv(e,t),C=bJ(g),S=a[m?p==="floating"?"reference":"floating":p],w=DT(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(S)))==null||n?S:S.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:l,rootBoundary:d,strategy:c})),T=p==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,I=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),A=await(o.isElement==null?void 0:o.isElement(I))?await(o.getScale==null?void 0:o.getScale(I))||{x:1,y:1}:{x:1,y:1},k=DT(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:T,offsetParent:I,strategy:c}):T);return{top:(w.top-k.top+C.top)/A.y,bottom:(k.bottom-w.bottom+C.bottom)/A.y,left:(w.left-k.left+C.left)/A.x,right:(k.right-w.right+C.right)/A.x}}const xLe=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:c}=e,{element:l,padding:d=0}=Bv(t,e)||{};if(l==null)return{};const p=bJ(d),m={x:n,y:r},g=q5(i),C=G5(g),_=await s.getDimensions(l),S=g==="y",w=S?"top":"left",T=S?"bottom":"right",I=S?"clientHeight":"clientWidth",A=o.reference[C]+o.reference[g]-m[g]-o.floating[C],k=m[g]-o.reference[g],R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l));let M=R?R[I]:0;(!M||!await(s.isElement==null?void 0:s.isElement(R)))&&(M=a.floating[I]||o.floating[C]);const P=A/2-k/2,N=M/2-_[C]/2-1,D=_d(p[w],N),G=_d(p[T],N),U=D,W=M-_[C]-G,$=M/2-_[C]/2+P,L=EM(U,$,W),B=!c.arrow&&Vv(i)!=null&&$!==L&&o.reference[C]/2-($<U?D:G)-_[C]/2<0,j=B?$<U?$-U:$-W:0;return{[g]:m[g]+j,data:{[g]:L,centerOffset:$-L-j,...B&&{alignmentOffset:j}},reset:B}}}),ALe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:c,elements:l}=e,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:_=!0,...S}=Bv(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const w=Sd(i),T=Yh(a),I=Sd(a)===a,A=await(c.isRTL==null?void 0:c.isRTL(l.floating)),k=m||(I||!_?[LT(a)]:rLe(a)),R=C!=="none";!m&&R&&k.push(...oLe(a,_,C,A));const M=[a,...k],P=await Y5(e,S),N=[];let D=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&N.push(P[w]),p){const $=nLe(i,s,A);N.push(P[$[0]],P[$[1]])}if(D=[...D,{placement:i,overflows:N}],!N.every($=>$<=0)){var G,U;const $=(((G=o.flip)==null?void 0:G.index)||0)+1,L=M[$];if(L)return{data:{index:$,overflows:D},reset:{placement:L}};let B=(U=D.filter(j=>j.overflows[0]<=0).sort((j,V)=>j.overflows[1]-V.overflows[1])[0])==null?void 0:U.placement;if(!B)switch(g){case"bestFit":{var W;const j=(W=D.filter(V=>{if(R){const K=Yh(V.placement);return K===T||K==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(K=>K>0).reduce((K,z)=>K+z,0)]).sort((V,K)=>V[1]-K[1])[0])==null?void 0:W[0];j&&(B=j);break}case"initialPlacement":B=a;break}if(i!==B)return{reset:{placement:B}}}return{}}}};async function kLe(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Sd(n),a=Vv(n),c=Yh(n)==="y",l=["left","top"].includes(s)?-1:1,d=o&&c?-1:1,p=Bv(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:C}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof C=="number"&&(g=a==="end"?C*-1:C),c?{x:g*d,y:m*l}:{x:m*l,y:g*d}}const RLe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,c=await kLe(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:o+c.y,data:{...c,placement:s}}}}},PLe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:S=>{let{x:w,y:T}=S;return{x:w,y:T}}},...c}=Bv(t,e),l={x:n,y:r},d=await Y5(e,c),p=Yh(Sd(i)),m=yJ(p);let g=l[m],C=l[p];if(o){const S=m==="y"?"top":"left",w=m==="y"?"bottom":"right",T=g+d[S],I=g-d[w];g=EM(T,g,I)}if(s){const S=p==="y"?"top":"left",w=p==="y"?"bottom":"right",T=C+d[S],I=C-d[w];C=EM(T,C,I)}const _=a.fn({...e,[m]:g,[p]:C});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[m]:o,[p]:s}}}}}},OLe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:c=()=>{},...l}=Bv(t,e),d=await Y5(e,l),p=Sd(i),m=Vv(i),g=Yh(i)==="y",{width:C,height:_}=o.floating;let S,w;p==="top"||p==="bottom"?(S=p,w=m===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(w=p,S=m==="end"?"top":"bottom");const T=_-d.top-d.bottom,I=C-d.left-d.right,A=_d(_-d[S],T),k=_d(C-d[w],I),R=!e.middlewareData.shift;let M=A,P=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=I),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(M=T),R&&!m){const D=Zo(d.left,0),G=Zo(d.right,0),U=Zo(d.top,0),W=Zo(d.bottom,0);g?P=C-2*(D!==0||G!==0?D+G:Zo(d.left,d.right)):M=_-2*(U!==0||W!==0?U+W:Zo(d.top,d.bottom))}await c({...e,availableWidth:P,availableHeight:M});const N=await s.getDimensions(a.floating);return C!==N.width||_!==N.height?{reset:{rects:!0}}:{}}}};function EJ(t){const e=us(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Gr(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=MT(n)!==o||MT(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function Q5(t){return Cr(t)?t:t.contextElement}function ag(t){const e=Q5(t);if(!Gr(e))return wd(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=EJ(e);let s=(o?MT(n.width):n.width)/r,a=(o?MT(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const NLe=wd(0);function TJ(t){const e=is(t);return!Ax()||!e.visualViewport?NLe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function MLe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==is(t)?!1:e}function Qh(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=Q5(t);let s=wd(1);e&&(r?Cr(r)&&(s=ag(r)):s=ag(t));const a=MLe(o,n,r)?TJ(o):wd(0);let c=(i.left+a.x)/s.x,l=(i.top+a.y)/s.y,d=i.width/s.x,p=i.height/s.y;if(o){const m=is(o),g=r&&Cr(r)?is(r):r;let C=m,_=wM(C);for(;_&&r&&g!==C;){const S=ag(_),w=_.getBoundingClientRect(),T=us(_),I=w.left+(_.clientLeft+parseFloat(T.paddingLeft))*S.x,A=w.top+(_.clientTop+parseFloat(T.paddingTop))*S.y;c*=S.x,l*=S.y,d*=S.x,p*=S.y,c+=I,l+=A,C=is(_),_=wM(C)}}return DT({width:d,height:p,x:c,y:l})}function LLe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=Oc(r),a=e?xx(e.floating):!1;if(r===s||a&&o)return n;let c={scrollLeft:0,scrollTop:0},l=wd(1);const d=wd(0),p=Gr(r);if((p||!p&&!o)&&((Pd(r)!=="body"||$C(s))&&(c=kx(r)),Gr(r))){const m=Qh(r);l=ag(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+d.x,y:n.y*l.y-c.scrollTop*l.y+d.y}}function DLe(t){return Array.from(t.getClientRects())}function xM(t,e){const n=kx(t).scrollLeft;return e?e.left+n:Qh(Oc(t)).left+n}function jLe(t){const e=Oc(t),n=kx(t),r=t.ownerDocument.body,i=Zo(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Zo(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+xM(t);const a=-n.scrollTop;return us(r).direction==="rtl"&&(s+=Zo(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function FLe(t,e){const n=is(t),r=Oc(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;const l=Ax();(!l||l&&e==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:a,y:c}}function ULe(t,e){const n=Qh(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Gr(t)?ag(t):wd(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,c=i*o.x,l=r*o.y;return{width:s,height:a,x:c,y:l}}function o7(t,e,n){let r;if(e==="viewport")r=FLe(t,n);else if(e==="document")r=jLe(Oc(t));else if(Cr(e))r=ULe(e,n);else{const i=TJ(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return DT(r)}function IJ(t,e){const n=Ml(t);return n===e||!Cr(n)||_l(n)?!1:us(n).position==="fixed"||IJ(n,e)}function BLe(t,e){const n=e.get(t);if(n)return n;let r=ad(t,[],!1).filter(a=>Cr(a)&&Pd(a)!=="body"),i=null;const o=us(t).position==="fixed";let s=o?Ml(t):t;for(;Cr(s)&&!_l(s);){const a=us(s),c=K5(s);!c&&a.position==="fixed"&&(i=null),(o?!c&&!i:!c&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||$C(s)&&!c&&IJ(t,s))?r=r.filter(d=>d!==s):i=a,s=Ml(s)}return e.set(t,r),r}function VLe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?xx(e)?[]:BLe(e,this._c):[].concat(n),r],a=s[0],c=s.reduce((l,d)=>{const p=o7(e,d,i);return l.top=Zo(p.top,l.top),l.right=_d(p.right,l.right),l.bottom=_d(p.bottom,l.bottom),l.left=Zo(p.left,l.left),l},o7(e,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function HLe(t){const{width:e,height:n}=EJ(t);return{width:e,height:n}}function zLe(t,e,n){const r=Gr(e),i=Oc(e),o=n==="fixed",s=Qh(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const c=wd(0);if(r||!r&&!o)if((Pd(e)!=="body"||$C(i))&&(a=kx(e)),r){const g=Qh(e,!0,o,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else i&&(c.x=xM(i));let l=0,d=0;if(i&&!r&&!o){const g=i.getBoundingClientRect();d=g.top+a.scrollTop,l=g.left+a.scrollLeft-xM(i,g)}const p=s.left+a.scrollLeft-c.x-l,m=s.top+a.scrollTop-c.y-d;return{x:p,y:m,width:s.width,height:s.height}}function lP(t){return us(t).position==="static"}function s7(t,e){if(!Gr(t)||us(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Oc(t)===n&&(n=n.ownerDocument.body),n}function xJ(t,e){const n=is(t);if(xx(t))return n;if(!Gr(t)){let i=Ml(t);for(;i&&!_l(i);){if(Cr(i)&&!lP(i))return i;i=Ml(i)}return n}let r=s7(t,e);for(;r&&K2e(r)&&lP(r);)r=s7(r,e);return r&&_l(r)&&lP(r)&&!K5(r)?n:r||G2e(t)||n}const $Le=async function(t){const e=this.getOffsetParent||xJ,n=this.getDimensions,r=await n(t.floating);return{reference:zLe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function WLe(t){return us(t).direction==="rtl"}const KLe={convertOffsetParentRelativeRectToViewportRelativeRect:LLe,getDocumentElement:Oc,getClippingRect:VLe,getOffsetParent:xJ,getElementRects:$Le,getClientRects:DLe,getDimensions:HLe,getScale:ag,isElement:Cr,isRTL:WLe};function GLe(t,e){let n=null,r;const i=Oc(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const{left:l,top:d,width:p,height:m}=t.getBoundingClientRect();if(a||e(),!p||!m)return;const g=Bm(d),C=Bm(i.clientWidth-(l+p)),_=Bm(i.clientHeight-(d+m)),S=Bm(l),T={rootMargin:-g+"px "+-C+"px "+-_+"px "+-S+"px",threshold:Zo(0,_d(1,c))||1};let I=!0;function A(k){const R=k[0].intersectionRatio;if(R!==c){if(!I)return s();R?s(!1,R):r=setTimeout(()=>{s(!1,1e-7)},1e3)}I=!1}try{n=new IntersectionObserver(A,{...T,root:i.ownerDocument})}catch{n=new IntersectionObserver(A,T)}n.observe(t)}return s(!0),o}function WC(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,l=Q5(t),d=i||o?[...l?ad(l):[],...ad(e)]:[];d.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),o&&w.addEventListener("resize",n)});const p=l&&a?GLe(l,n):null;let m=-1,g=null;s&&(g=new ResizeObserver(w=>{let[T]=w;T&&T.target===l&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var I;(I=g)==null||I.observe(e)})),n()}),l&&!c&&g.observe(l),g.observe(e));let C,_=c?Qh(t):null;c&&S();function S(){const w=Qh(t);_&&(w.x!==_.x||w.y!==_.y||w.width!==_.width||w.height!==_.height)&&n(),_=w,C=requestAnimationFrame(S)}return n(),()=>{var w;d.forEach(T=>{i&&T.removeEventListener("scroll",n),o&&T.removeEventListener("resize",n)}),p==null||p(),(w=g)==null||w.disconnect(),g=null,c&&cancelAnimationFrame(C)}}const qLe=RLe,YLe=PLe,QLe=ALe,XLe=OLe,a7=xLe,ZLe=(t,e,n)=>{const r=new Map,i={platform:KLe,...n},o={...i.platform,_c:r};return ILe(t,e,{...i,platform:o})};var US=typeof document<"u"?b.useLayoutEffect:b.useEffect;function BT(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!BT(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!BT(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function AJ(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function c7(t,e){const n=AJ(t);return Math.round(e*n)/n}function uP(t){const e=b.useRef(t);return US(()=>{e.current=t}),e}function kJ(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:c,open:l}=t,[d,p]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=b.useState(r);BT(m,r)||g(r);const[C,_]=b.useState(null),[S,w]=b.useState(null),T=b.useCallback(V=>{V!==R.current&&(R.current=V,_(V))},[]),I=b.useCallback(V=>{V!==M.current&&(M.current=V,w(V))},[]),A=o||C,k=s||S,R=b.useRef(null),M=b.useRef(null),P=b.useRef(d),N=c!=null,D=uP(c),G=uP(i),U=uP(l),W=b.useCallback(()=>{if(!R.current||!M.current)return;const V={placement:e,strategy:n,middleware:m};G.current&&(V.platform=G.current),ZLe(R.current,M.current,V).then(K=>{const z={...K,isPositioned:U.current!==!1};$.current&&!BT(P.current,z)&&(P.current=z,cI.flushSync(()=>{p(z)}))})},[m,e,n,G,U]);US(()=>{l===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,p(V=>({...V,isPositioned:!1})))},[l]);const $=b.useRef(!1);US(()=>($.current=!0,()=>{$.current=!1}),[]),US(()=>{if(A&&(R.current=A),k&&(M.current=k),A&&k){if(D.current)return D.current(A,k,W);W()}},[A,k,W,D,N]);const L=b.useMemo(()=>({reference:R,floating:M,setReference:T,setFloating:I}),[T,I]),B=b.useMemo(()=>({reference:A,floating:k}),[A,k]),j=b.useMemo(()=>{const V={position:n,left:0,top:0};if(!B.floating)return V;const K=c7(B.floating,d.x),z=c7(B.floating,d.y);return a?{...V,transform:"translate("+K+"px, "+z+"px)",...AJ(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:z}},[n,a,B.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:W,refs:L,elements:B,floatingStyles:j}),[d,W,L,B,j])}const JLe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?a7({element:r.current,padding:i}).fn(n):{}:r?a7({element:r,padding:i}).fn(n):{}}}},Px=(t,e)=>({...qLe(t),options:[t,e]}),Ox=(t,e)=>({...YLe(t),options:[t,e]}),X5=(t,e)=>({...QLe(t),options:[t,e]}),RJ=(t,e)=>({...XLe(t),options:[t,e]}),eDe=(t,e)=>({...JLe(t),options:[t,e]});function l7(t){return b.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})},t)}const PJ={...JH},tDe=PJ.useInsertionEffect,nDe=tDe||(t=>t());function Ni(t){const e=b.useRef(()=>{});return nDe(()=>{e.current=t}),b.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}const Z5="ArrowUp",KC="ArrowDown",cd="ArrowLeft",ld="ArrowRight";function Zw(t,e,n){return Math.floor(t/e)!==n}function Zb(t,e){return e<0||e>=t.current.length}function dP(t,e){return Ri(t,{disabledIndices:e})}function u7(t,e){return Ri(t,{decrement:!0,startingIndex:t.current.length,disabledIndices:e})}function Ri(t,e){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:i,amount:o=1}=e===void 0?{}:e;const s=t.current;let a=n;do a+=r?-o:o;while(a>=0&&a<=s.length-1&&BS(s,a,i));return a}function rDe(t,e){let{event:n,orientation:r,loop:i,rtl:o,cols:s,disabledIndices:a,minIndex:c,maxIndex:l,prevIndex:d,stopEvent:p=!1}=e,m=d;if(n.key===Z5){if(p&&fi(n),d===-1)m=l;else if(m=Ri(t,{startingIndex:m,amount:s,decrement:!0,disabledIndices:a}),i&&(d-s<c||m<0)){const g=d%s,C=l%s,_=l-(C-g);C===g?m=l:m=C>g?_:_-s}Zb(t,m)&&(m=d)}if(n.key===KC&&(p&&fi(n),d===-1?m=c:(m=Ri(t,{startingIndex:d,amount:s,disabledIndices:a}),i&&d+s>l&&(m=Ri(t,{startingIndex:d%s-s,amount:s,disabledIndices:a}))),Zb(t,m)&&(m=d)),r==="both"){const g=Bm(d/s);n.key===(o?cd:ld)&&(p&&fi(n),d%s!==s-1?(m=Ri(t,{startingIndex:d,disabledIndices:a}),i&&Zw(m,s,g)&&(m=Ri(t,{startingIndex:d-d%s-1,disabledIndices:a}))):i&&(m=Ri(t,{startingIndex:d-d%s-1,disabledIndices:a})),Zw(m,s,g)&&(m=d)),n.key===(o?ld:cd)&&(p&&fi(n),d%s!==0?(m=Ri(t,{startingIndex:d,decrement:!0,disabledIndices:a}),i&&Zw(m,s,g)&&(m=Ri(t,{startingIndex:d+(s-d%s),decrement:!0,disabledIndices:a}))):i&&(m=Ri(t,{startingIndex:d+(s-d%s),decrement:!0,disabledIndices:a})),Zw(m,s,g)&&(m=d));const C=Bm(l/s)===g;Zb(t,m)&&(i&&C?m=n.key===(o?ld:cd)?l:Ri(t,{startingIndex:d-d%s-1,disabledIndices:a}):m=d)}return m}function iDe(t,e,n){const r=[];let i=0;return t.forEach((o,s)=>{let{width:a,height:c}=o,l=!1;for(n&&(i=0);!l;){const d=[];for(let p=0;p<a;p++)for(let m=0;m<c;m++)d.push(i+p+m*e);i%e+a<=e&&d.every(p=>r[p]==null)?(d.forEach(p=>{r[p]=s}),l=!0):i++}}),[...r]}function oDe(t,e,n,r,i){if(t===-1)return-1;const o=n.indexOf(t),s=e[t];switch(i){case"tl":return o;case"tr":return s?o+s.width-1:o;case"bl":return s?o+(s.height-1)*r:o;case"br":return n.lastIndexOf(t)}}function sDe(t,e){return e.flatMap((n,r)=>t.includes(n)?[r]:[])}function BS(t,e,n){if(n)return n.includes(e);const r=t[e];return r==null||r.hasAttribute("disabled")||r.getAttribute("aria-disabled")==="true"}var kr=typeof document<"u"?b.useLayoutEffect:b.useEffect;let d7=!1,aDe=0;const f7=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+aDe++;function cDe(){const[t,e]=b.useState(()=>d7?f7():void 0);return kr(()=>{t==null&&e(f7())},[]),b.useEffect(()=>{d7=!0},[]),t}const lDe=PJ.useId,Nx=lDe||cDe,BKe=b.forwardRef(function(e,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:o,shift:s}},width:a=14,height:c=7,tipRadius:l=0,strokeWidth:d=0,staticOffset:p,stroke:m,d:g,style:{transform:C,..._}={},...S}=e,w=Nx(),[T,I]=b.useState(!1);if(kr(()=>{if(!i)return;us(i).direction==="rtl"&&I(!0)},[i]),!i)return null;const[A,k]=r.split("-"),R=A==="top"||A==="bottom";let M=p;(R&&s!=null&&s.x||!R&&s!=null&&s.y)&&(M=null);const P=d*2,N=P/2,D=a/2*(l/-8+1),G=c/2*l/4,U=!!g,W=M&&k==="end"?"bottom":"top";let $=M&&k==="end"?"right":"left";M&&T&&($=k==="end"?"left":"right");const L=(o==null?void 0:o.x)!=null?M||o.x:"",B=(o==null?void 0:o.y)!=null?M||o.y:"",j=g||"M0,0"+(" H"+a)+(" L"+(a-D)+","+(c-G))+(" Q"+a/2+","+c+" "+D+","+(c-G))+" Z",V={top:U?"rotate(180deg)":"",left:U?"rotate(90deg)":"rotate(-90deg)",bottom:U?"":"rotate(180deg)",right:U?"rotate(-90deg)":"rotate(90deg)"}[A];return y.jsxs("svg",{...S,"aria-hidden":!0,ref:n,width:U?a:a+P,height:a,viewBox:"0 0 "+a+" "+(c>a?c:a),style:{position:"absolute",pointerEvents:"none",[$]:L,[W]:B,[A]:R||U?"100%":"calc(100% - "+P/2+"px)",transform:[V,C].filter(K=>!!K).join(" "),..._},children:[P>0&&y.jsx("path",{clipPath:"url(#"+w+")",fill:"none",stroke:m,strokeWidth:P+(g?0:1),d:j}),y.jsx("path",{stroke:P&&!g?S.fill:"none",d:j}),y.jsx("clipPath",{id:w,children:y.jsx("rect",{x:-N,y:N*(U?-1:1),width:a+P,height:a})})]})});function uDe(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const dDe=b.createContext(null),fDe=b.createContext(null),J5=()=>{var t;return((t=b.useContext(dDe))==null?void 0:t.id)||null},Mx=()=>b.useContext(fDe);function J0(t){return"data-floating-ui-"+t}function lc(t){const e=b.useRef(t);return kr(()=>{e.current=t}),e}let h7=0;function Pf(t,e){e===void 0&&(e={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:i=!1}=e;r&&cancelAnimationFrame(h7);const o=()=>t==null?void 0:t.focus({preventScroll:n});i?o():h7=requestAnimationFrame(o)}function p7(t,e){var n;let r=[],i=(n=t.find(o=>o.id===e))==null?void 0:n.parentId;for(;i;){const o=t.find(s=>s.id===i);i=o==null?void 0:o.parentId,o&&(r=r.concat(o))}return r}function cg(t,e){let n=t.filter(i=>{var o;return i.parentId===e&&((o=i.context)==null?void 0:o.open)}),r=n;for(;r.length;)r=t.filter(i=>{var o;return(o=r)==null?void 0:o.some(s=>{var a;return i.parentId===s.id&&((a=i.context)==null?void 0:a.open)})}),n=n.concat(r);return n}function hDe(t,e){let n,r=-1;function i(o,s){s>r&&(n=o,r=s),cg(t,o).forEach(c=>{i(c.id,s+1)})}return i(e,0),t.find(o=>o.id===n)}let sm=new WeakMap,Jw=new WeakSet,eS={},fP=0;const pDe=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,OJ=t=>t&&(t.host||OJ(t.parentNode)),mDe=(t,e)=>e.map(n=>{if(t.contains(n))return n;const r=OJ(n);return t.contains(r)?r:null}).filter(n=>n!=null);function gDe(t,e,n,r){const i="data-floating-ui-inert",o=r?"inert":n?"aria-hidden":null,s=mDe(e,t),a=new Set,c=new Set(s),l=[];eS[i]||(eS[i]=new WeakMap);const d=eS[i];s.forEach(p),m(e),a.clear();function p(g){!g||a.has(g)||(a.add(g),g.parentNode&&p(g.parentNode))}function m(g){!g||c.has(g)||[].forEach.call(g.children,C=>{if(Pd(C)!=="script")if(a.has(C))m(C);else{const _=o?C.getAttribute(o):null,S=_!==null&&_!=="false",w=sm.get(C)||0,T=o?w+1:w,I=(d.get(C)||0)+1;sm.set(C,T),d.set(C,I),l.push(C),T===1&&S&&Jw.add(C),I===1&&C.setAttribute(i,""),!S&&o&&C.setAttribute(o,"true")}})}return fP++,()=>{l.forEach(g=>{const C=sm.get(g)||0,_=o?C-1:C,S=(d.get(g)||0)-1;sm.set(g,_),d.set(g,S),_||(!Jw.has(g)&&o&&g.removeAttribute(o),Jw.delete(g)),S||g.removeAttribute(i)}),fP--,fP||(sm=new WeakMap,sm=new WeakMap,Jw=new WeakSet,eS={})}}function m7(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=Ds(t[0]).body;return gDe(t.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,e,n)}const Lx=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function NJ(t,e){const n=Rx(t,Lx());e==="prev"&&n.reverse();const r=n.indexOf(rl(Ds(t)));return n.slice(r+1)[0]}function MJ(){return NJ(document.body,"next")}function LJ(){return NJ(document.body,"prev")}function Jb(t,e){const n=e||t.currentTarget,r=t.relatedTarget;return!r||!wo(n,r)}function vDe(t){Rx(t,Lx()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function g7(t){t.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const Dx={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let yDe;function v7(t){t.key==="Tab"&&(t.target,clearTimeout(yDe))}const VT=b.forwardRef(function(e,n){const[r,i]=b.useState();kr(()=>(Y2e()&&i("button"),document.addEventListener("keydown",v7),()=>{document.removeEventListener("keydown",v7)}),[]);const o={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[J0("focus-guard")]:"",style:Dx};return y.jsx("span",{...e,...o})}),DJ=b.createContext(null),y7=J0("portal");function bDe(t){t===void 0&&(t={});const{id:e,root:n}=t,r=Nx(),i=jJ(),[o,s]=b.useState(null),a=b.useRef(null);return kr(()=>()=>{o==null||o.remove(),queueMicrotask(()=>{a.current=null})},[o]),kr(()=>{if(!r||a.current)return;const c=e?document.getElementById(e):null;if(!c)return;const l=document.createElement("div");l.id=r,l.setAttribute(y7,""),c.appendChild(l),a.current=l,s(l)},[e,r]),kr(()=>{if(n===null||!r||a.current)return;let c=n||(i==null?void 0:i.portalNode);c&&!Cr(c)&&(c=c.current),c=c||document.body;let l=null;e&&(l=document.createElement("div"),l.id=e,c.appendChild(l));const d=document.createElement("div");d.id=r,d.setAttribute(y7,""),c=l||c,c.appendChild(d),a.current=d,s(d)},[e,n,r,i]),o}function e3(t){const{children:e,id:n,root:r,preserveTabOrder:i=!0}=t,o=bDe({id:n,root:r}),[s,a]=b.useState(null),c=b.useRef(null),l=b.useRef(null),d=b.useRef(null),p=b.useRef(null),m=s==null?void 0:s.modal,g=s==null?void 0:s.open,C=!!s&&!s.modal&&s.open&&i&&!!(r||o);return b.useEffect(()=>{if(!o||!i||m)return;function _(S){o&&Jb(S)&&(S.type==="focusin"?g7:vDe)(o)}return o.addEventListener("focusin",_,!0),o.addEventListener("focusout",_,!0),()=>{o.removeEventListener("focusin",_,!0),o.removeEventListener("focusout",_,!0)}},[o,i,m]),b.useEffect(()=>{o&&(g||g7(o))},[g,o]),y.jsxs(DJ.Provider,{value:b.useMemo(()=>({preserveTabOrder:i,beforeOutsideRef:c,afterOutsideRef:l,beforeInsideRef:d,afterInsideRef:p,portalNode:o,setFocusManagerState:a}),[i,o]),children:[C&&o&&y.jsx(VT,{"data-type":"outside",ref:c,onFocus:_=>{if(Jb(_,o)){var S;(S=d.current)==null||S.focus()}else{const w=LJ()||(s==null?void 0:s.domReference);w==null||w.focus()}}}),C&&o&&y.jsx("span",{"aria-owns":o.id,style:Dx}),o&&cI.createPortal(e,o),C&&o&&y.jsx(VT,{"data-type":"outside",ref:l,onFocus:_=>{if(Jb(_,o)){var S;(S=p.current)==null||S.focus()}else{const w=MJ()||(s==null?void 0:s.domReference);w==null||w.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1,_.nativeEvent,"focus-out"))}}})]})}const jJ=()=>b.useContext(DJ),AM="data-floating-ui-focusable";function kM(t){return t?t.hasAttribute(AM)?t:t.querySelector("["+AM+"]")||t:null}const CDe=20;let Of=[];function hP(t){Of=Of.filter(e=>e.isConnected),t&&Pd(t)!=="body"&&(Of.push(t),Of.length>CDe&&(Of=Of.slice(-20)))}function b7(){return Of.slice().reverse().find(t=>t.isConnected)}function _De(t){const e=Lx();return TLe(t,e)?t:Rx(t,e)[0]||t}const wDe=b.forwardRef(function(e,n){return y.jsx("button",{...e,type:"button",ref:n,tabIndex:-1,style:Dx})});function jx(t){const{context:e,children:n,disabled:r=!1,order:i=["content"],guards:o=!0,initialFocus:s=0,returnFocus:a=!0,restoreFocus:c=!1,modal:l=!0,visuallyHiddenDismiss:d=!1,closeOnFocusOut:p=!0,outsideElementsInert:m=!1}=t,{open:g,onOpenChange:C,events:_,dataRef:S,elements:{domReference:w,floating:T}}=e,I=Ni(()=>{var Q;return(Q=S.current.floatingContext)==null?void 0:Q.nodeId}),A=typeof s=="number"&&s<0,k=vJ(w)&&A,R=pDe(),M=R?o:!0,P=!M||R&&m,N=lc(i),D=lc(s),G=lc(a),U=Mx(),W=jJ(),$=b.useRef(null),L=b.useRef(null),B=b.useRef(!1),j=b.useRef(!1),V=b.useRef(-1),K=W!=null,z=kM(T),H=Ni(function(Q){return Q===void 0&&(Q=z),Q?Rx(Q,Lx()):[]}),q=Ni(Q=>{const ee=H(Q);return N.current.map(Ie=>w&&Ie==="reference"?w:z&&Ie==="floating"?z:ee).filter(Boolean).flat()});b.useEffect(()=>{if(r||!l)return;function Q(Ie){if(Ie.key==="Tab"){wo(z,rl(Ds(z)))&&H().length===0&&!k&&fi(Ie);const re=q(),ue=Bf(Ie);N.current[0]==="reference"&&ue===w&&(fi(Ie),Ie.shiftKey?Pf(re[re.length-1]):Pf(re[1])),N.current[1]==="floating"&&ue===z&&Ie.shiftKey&&(fi(Ie),Pf(re[0]))}}const ee=Ds(z);return ee.addEventListener("keydown",Q),()=>{ee.removeEventListener("keydown",Q)}},[r,w,z,l,N,k,H,q]),b.useEffect(()=>{if(r||!T)return;function Q(ee){const Ie=Bf(ee),ue=H().indexOf(Ie);ue!==-1&&(V.current=ue)}return T.addEventListener("focusin",Q),()=>{T.removeEventListener("focusin",Q)}},[r,T,H]),b.useEffect(()=>{if(r||!p)return;function Q(){j.current=!0,setTimeout(()=>{j.current=!1})}function ee(Ie){const re=Ie.relatedTarget;queueMicrotask(()=>{const ue=I(),xe=!(wo(w,re)||wo(T,re)||wo(re,T)||wo(W==null?void 0:W.portalNode,re)||re!=null&&re.hasAttribute(J0("focus-guard"))||U&&(cg(U.nodesRef.current,ue).find(Y=>{var ge,Ee;return wo((ge=Y.context)==null?void 0:ge.elements.floating,re)||wo((Ee=Y.context)==null?void 0:Ee.elements.domReference,re)})||p7(U.nodesRef.current,ue).find(Y=>{var ge,Ee,ye;return[(ge=Y.context)==null?void 0:ge.elements.floating,kM((Ee=Y.context)==null?void 0:Ee.elements.floating)].includes(re)||((ye=Y.context)==null?void 0:ye.elements.domReference)===re})));if(c&&xe&&rl(Ds(z))===Ds(z).body){Gr(z)&&z.focus();const Y=V.current,ge=H(),Ee=ge[Y]||ge[ge.length-1]||z;Gr(Ee)&&Ee.focus()}(k||!l)&&re&&xe&&!j.current&&re!==b7()&&(B.current=!0,C(!1,Ie,"focus-out"))})}if(T&&Gr(w))return w.addEventListener("focusout",ee),w.addEventListener("pointerdown",Q),T.addEventListener("focusout",ee),()=>{w.removeEventListener("focusout",ee),w.removeEventListener("pointerdown",Q),T.removeEventListener("focusout",ee)}},[r,w,T,z,l,U,W,C,p,c,H,k,I]);const le=b.useRef(null),Ce=b.useRef(null),_e=l7([le,W==null?void 0:W.beforeInsideRef]),be=l7([Ce,W==null?void 0:W.afterInsideRef]);b.useEffect(()=>{var Q;if(r||!T)return;const ee=Array.from((W==null||(Q=W.portalNode)==null?void 0:Q.querySelectorAll("["+J0("portal")+"]"))||[]),Ie=U&&!l?p7(U==null?void 0:U.nodesRef.current,I()).map(xe=>{var Y;return(Y=xe.context)==null?void 0:Y.elements.floating}):[],re=[T,...ee,...Ie,$.current,L.current,le.current,Ce.current,W==null?void 0:W.beforeOutsideRef.current,W==null?void 0:W.afterOutsideRef.current,N.current.includes("reference")||k?w:null].filter(xe=>xe!=null),ue=l||k?m7(re,!P,P):m7(re);return()=>{ue()}},[r,w,T,l,N,W,k,M,P,U,I]),kr(()=>{if(r||!Gr(z))return;const Q=Ds(z),ee=rl(Q);queueMicrotask(()=>{const Ie=q(z),re=D.current,ue=(typeof re=="number"?Ie[re]:re.current)||z,xe=wo(z,ee);!A&&!xe&&g&&Pf(ue,{preventScroll:ue===z})})},[r,g,z,A,q,D]),kr(()=>{if(r||!z)return;let Q=!1;const ee=Ds(z),Ie=rl(ee);let ue=S.current.openEvent;hP(Ie);function xe(Ee){let{open:ye,reason:pe,event:Le,nested:De}=Ee;ye&&(ue=Le),pe==="escape-key"&&w&&hP(w),["hover","safe-polygon"].includes(pe)&&Le.type==="mouseleave"&&(B.current=!0),pe==="outside-press"&&(De?(B.current=!1,Q=!0):B.current=!(pJ(Le)||mJ(Le)))}_.on("openchange",xe);const Y=ee.createElement("span");Y.setAttribute("tabindex","-1"),Y.setAttribute("aria-hidden","true"),Object.assign(Y.style,Dx),K&&w&&w.insertAdjacentElement("afterend",Y);function ge(){return typeof G.current=="boolean"?b7()||Y:G.current.current||Y}return()=>{_.off("openchange",xe);const Ee=rl(ee),ye=wo(T,Ee)||U&&cg(U.nodesRef.current,I()).some(De=>{var Xe;return wo((Xe=De.context)==null?void 0:Xe.elements.floating,Ee)});(ye||ue&&["click","mousedown"].includes(ue.type))&&w&&hP(w);const Le=ge();queueMicrotask(()=>{const De=_De(Le);G.current&&!B.current&&Gr(De)&&(!(De!==Ee&&Ee!==ee.body)||ye)&&De.focus({preventScroll:Q}),Y.remove()})}},[r,T,z,G,S,_,U,K,w,I]),b.useEffect(()=>{queueMicrotask(()=>{B.current=!1})},[r]),kr(()=>{if(!r&&W)return W.setFocusManagerState({modal:l,closeOnFocusOut:p,open:g,onOpenChange:C,domReference:w}),()=>{W.setFocusManagerState(null)}},[r,W,l,g,C,p,w]),kr(()=>{if(r||!z||typeof MutationObserver!="function"||A)return;const Q=()=>{const Ie=z.getAttribute("tabindex"),re=H(),ue=rl(Ds(T)),xe=re.indexOf(ue);xe!==-1&&(V.current=xe),N.current.includes("floating")||ue!==w&&re.length===0?Ie!=="0"&&z.setAttribute("tabindex","0"):Ie!=="-1"&&z.setAttribute("tabindex","-1")};Q();const ee=new MutationObserver(Q);return ee.observe(z,{childList:!0,subtree:!0,attributes:!0}),()=>{ee.disconnect()}},[r,T,z,w,N,H,A]);function Pe(Q){return r||!d||!l?null:y.jsx(wDe,{ref:Q==="start"?$:L,onClick:ee=>C(!1,ee.nativeEvent),children:typeof d=="string"?d:"Dismiss"})}const Oe=!r&&M&&(l?!k:!0)&&(K||l);return y.jsxs(y.Fragment,{children:[Oe&&y.jsx(VT,{"data-type":"inside",ref:_e,onFocus:Q=>{if(l){const Ie=q();Pf(i[0]==="reference"?Ie[0]:Ie[Ie.length-1])}else if(W!=null&&W.preserveTabOrder&&W.portalNode)if(B.current=!1,Jb(Q,W.portalNode)){const Ie=MJ()||w;Ie==null||Ie.focus()}else{var ee;(ee=W.beforeOutsideRef.current)==null||ee.focus()}}}),!k&&Pe("start"),n,Pe("end"),Oe&&y.jsx(VT,{"data-type":"inside",ref:be,onFocus:Q=>{if(l)Pf(q()[0]);else if(W!=null&&W.preserveTabOrder&&W.portalNode)if(p&&(B.current=!0),Jb(Q,W.portalNode)){const Ie=LJ()||w;Ie==null||Ie.focus()}else{var ee;(ee=W.afterOutsideRef.current)==null||ee.focus()}}})]})}function C7(t){return Gr(t.target)&&t.target.tagName==="BUTTON"}function _7(t){return gJ(t)}function FJ(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,elements:{domReference:o}}=t,{enabled:s=!0,event:a="click",toggle:c=!0,ignoreMouse:l=!1,keyboardHandlers:d=!0,stickIfOpen:p=!0}=e,m=b.useRef(),g=b.useRef(!1),C=b.useMemo(()=>({onPointerDown(_){m.current=_.pointerType},onMouseDown(_){const S=m.current;_.button===0&&a!=="click"&&(n7(S)&&l||(n&&c&&(!(i.current.openEvent&&p)||i.current.openEvent.type==="mousedown")?r(!1,_.nativeEvent,"click"):(_.preventDefault(),r(!0,_.nativeEvent,"click"))))},onClick(_){const S=m.current;if(a==="mousedown"&&m.current){m.current=void 0;return}n7(S)&&l||(n&&c&&(!(i.current.openEvent&&p)||i.current.openEvent.type==="click")?r(!1,_.nativeEvent,"click"):r(!0,_.nativeEvent,"click"))},onKeyDown(_){m.current=void 0,!(_.defaultPrevented||!d||C7(_))&&(_.key===" "&&!_7(o)&&(_.preventDefault(),g.current=!0),_.key==="Enter"&&r(!(n&&c),_.nativeEvent,"click"))},onKeyUp(_){_.defaultPrevented||!d||C7(_)||_7(o)||_.key===" "&&g.current&&(g.current=!1,r(!(n&&c),_.nativeEvent,"click"))}}),[i,o,a,l,d,r,n,p,c]);return b.useMemo(()=>s?{reference:C}:{},[s,C])}const SDe={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},EDe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},w7=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t==null?void 0:t.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t==null?void 0:t.outsidePress)!=null?n:!0}};function UJ(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,elements:i,dataRef:o}=t,{enabled:s=!0,escapeKey:a=!0,outsidePress:c=!0,outsidePressEvent:l="pointerdown",referencePress:d=!1,referencePressEvent:p="pointerdown",ancestorScroll:m=!1,bubbles:g,capture:C}=e,_=Mx(),S=Ni(typeof c=="function"?c:()=>!1),w=typeof c=="function"?S:c,T=b.useRef(!1),I=b.useRef(!1),{escapeKey:A,outsidePress:k}=w7(g),{escapeKey:R,outsidePress:M}=w7(C),P=b.useRef(!1),N=Ni(L=>{var B;if(!n||!s||!a||L.key!=="Escape"||P.current)return;const j=(B=o.current.floatingContext)==null?void 0:B.nodeId,V=_?cg(_.nodesRef.current,j):[];if(!A&&(L.stopPropagation(),V.length>0)){let K=!0;if(V.forEach(z=>{var H;if((H=z.context)!=null&&H.open&&!z.context.dataRef.current.__escapeKeyBubbles){K=!1;return}}),!K)return}r(!1,X2e(L)?L.nativeEvent:L,"escape-key")}),D=Ni(L=>{var B;const j=()=>{var V;N(L),(V=Bf(L))==null||V.removeEventListener("keydown",j)};(B=Bf(L))==null||B.addEventListener("keydown",j)}),G=Ni(L=>{var B;const j=T.current;T.current=!1;const V=I.current;if(I.current=!1,l==="click"&&V||j||typeof w=="function"&&!w(L))return;const K=Bf(L),z="["+J0("inert")+"]",H=Ds(i.floating).querySelectorAll(z);let q=Cr(K)?K:null;for(;q&&!_l(q);){const be=Ml(q);if(_l(be)||!Cr(be))break;q=be}if(H.length&&Cr(K)&&!Z2e(K)&&!wo(K,i.floating)&&Array.from(H).every(be=>!wo(q,be)))return;if(Gr(K)&&$){const be=_l(K),Pe=us(K),Oe=/auto|scroll/,Q=be||Oe.test(Pe.overflowX),ee=be||Oe.test(Pe.overflowY),Ie=Q&&K.clientWidth>0&&K.scrollWidth>K.clientWidth,re=ee&&K.clientHeight>0&&K.scrollHeight>K.clientHeight,ue=Pe.direction==="rtl",xe=re&&(ue?L.offsetX<=K.offsetWidth-K.clientWidth:L.offsetX>K.clientWidth),Y=Ie&&L.offsetY>K.clientHeight;if(xe||Y)return}const le=(B=o.current.floatingContext)==null?void 0:B.nodeId,Ce=_&&cg(_.nodesRef.current,le).some(be=>{var Pe;return cP(L,(Pe=be.context)==null?void 0:Pe.elements.floating)});if(cP(L,i.floating)||cP(L,i.domReference)||Ce)return;const _e=_?cg(_.nodesRef.current,le):[];if(_e.length>0){let be=!0;if(_e.forEach(Pe=>{var Oe;if((Oe=Pe.context)!=null&&Oe.open&&!Pe.context.dataRef.current.__outsidePressBubbles){be=!1;return}}),!be)return}r(!1,L,"outside-press")}),U=Ni(L=>{var B;const j=()=>{var V;G(L),(V=Bf(L))==null||V.removeEventListener(l,j)};(B=Bf(L))==null||B.addEventListener(l,j)});b.useEffect(()=>{if(!n||!s)return;o.current.__escapeKeyBubbles=A,o.current.__outsidePressBubbles=k;let L=-1;function B(H){r(!1,H,"ancestor-scroll")}function j(){window.clearTimeout(L),P.current=!0}function V(){L=window.setTimeout(()=>{P.current=!1},Ax()?5:0)}const K=Ds(i.floating);a&&(K.addEventListener("keydown",R?D:N,R),K.addEventListener("compositionstart",j),K.addEventListener("compositionend",V)),w&&K.addEventListener(l,M?U:G,M);let z=[];return m&&(Cr(i.domReference)&&(z=ad(i.domReference)),Cr(i.floating)&&(z=z.concat(ad(i.floating))),!Cr(i.reference)&&i.reference&&i.reference.contextElement&&(z=z.concat(ad(i.reference.contextElement)))),z=z.filter(H=>{var q;return H!==((q=K.defaultView)==null?void 0:q.visualViewport)}),z.forEach(H=>{H.addEventListener("scroll",B,{passive:!0})}),()=>{a&&(K.removeEventListener("keydown",R?D:N,R),K.removeEventListener("compositionstart",j),K.removeEventListener("compositionend",V)),w&&K.removeEventListener(l,M?U:G,M),z.forEach(H=>{H.removeEventListener("scroll",B)}),window.clearTimeout(L)}},[o,i,a,w,l,n,r,m,s,A,k,N,R,D,G,M,U]),b.useEffect(()=>{T.current=!1},[w,l]);const W=b.useMemo(()=>({onKeyDown:N,...d&&{[SDe[p]]:L=>{r(!1,L.nativeEvent,"reference-press")},...p!=="click"&&{onClick(L){r(!1,L.nativeEvent,"reference-press")}}}}),[N,r,d,p]),$=b.useMemo(()=>({onKeyDown:N,onMouseDown(){I.current=!0},onMouseUp(){I.current=!0},[EDe[l]]:()=>{T.current=!0}}),[N,l]);return b.useMemo(()=>s?{reference:W,floating:$}:{},[s,W,$])}function TDe(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=Nx(),o=b.useRef({}),[s]=b.useState(()=>uDe()),a=J5()!=null,[c,l]=b.useState(r.reference),d=Ni((g,C,_)=>{o.current.openEvent=g?C:void 0,s.emit("openchange",{open:g,event:C,reason:_,nested:a}),n==null||n(g,C,_)}),p=b.useMemo(()=>({setPositionReference:l}),[]),m=b.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return b.useMemo(()=>({dataRef:o,open:e,onOpenChange:d,elements:m,events:s,floatingId:i,refs:p}),[e,d,m,s,i,p])}function Fx(t){t===void 0&&(t={});const{nodeId:e}=t,n=TDe({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[o,s]=b.useState(null),[a,c]=b.useState(null),d=(i==null?void 0:i.domReference)||o,p=b.useRef(null),m=Mx();kr(()=>{d&&(p.current=d)},[d]);const g=kJ({...t,elements:{...i,...a&&{reference:a}}}),C=b.useCallback(I=>{const A=Cr(I)?{getBoundingClientRect:()=>I.getBoundingClientRect(),contextElement:I}:I;c(A),g.refs.setReference(A)},[g.refs]),_=b.useCallback(I=>{(Cr(I)||I===null)&&(p.current=I,s(I)),(Cr(g.refs.reference.current)||g.refs.reference.current===null||I!==null&&!Cr(I))&&g.refs.setReference(I)},[g.refs]),S=b.useMemo(()=>({...g.refs,setReference:_,setPositionReference:C,domReference:p}),[g.refs,_,C]),w=b.useMemo(()=>({...g.elements,domReference:d}),[g.elements,d]),T=b.useMemo(()=>({...g,...r,refs:S,elements:w,nodeId:e}),[g,S,w,e,r]);return kr(()=>{r.dataRef.current.floatingContext=T;const I=m==null?void 0:m.nodesRef.current.find(A=>A.id===e);I&&(I.context=T)}),b.useMemo(()=>({...g,context:T,refs:S,elements:w}),[g,S,w,T])}const S7="active",E7="selected";function pP(t,e,n){const r=new Map,i=n==="item";let o=t;if(i&&t){const{[S7]:s,[E7]:a,...c}=t;o=c}return{...n==="floating"&&{tabIndex:-1,[AM]:""},...o,...e.map(s=>{const a=s?s[n]:null;return typeof a=="function"?t?a(t):null:a}).concat(t).reduce((s,a)=>(a&&Object.entries(a).forEach(c=>{let[l,d]=c;if(!(i&&[S7,E7].includes(l)))if(l.indexOf("on")===0){if(r.has(l)||r.set(l,[]),typeof d=="function"){var p;(p=r.get(l))==null||p.push(d),s[l]=function(){for(var m,g=arguments.length,C=new Array(g),_=0;_<g;_++)C[_]=arguments[_];return(m=r.get(l))==null?void 0:m.map(S=>S(...C)).find(S=>S!==void 0)}}}else s[l]=d}),s),{})}}function BJ(t){t===void 0&&(t=[]);const e=t.map(a=>a==null?void 0:a.reference),n=t.map(a=>a==null?void 0:a.floating),r=t.map(a=>a==null?void 0:a.item),i=b.useCallback(a=>pP(a,t,"reference"),e),o=b.useCallback(a=>pP(a,t,"floating"),n),s=b.useCallback(a=>pP(a,t,"item"),r);return b.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:s}),[i,o,s])}function Ux(t,e,n){switch(t){case"vertical":return e;case"horizontal":return n;default:return e||n}}function T7(t,e){return Ux(e,t===Z5||t===KC,t===cd||t===ld)}function mP(t,e,n){return Ux(e,t===KC,n?t===cd:t===ld)||t==="Enter"||t===" "||t===""}function IDe(t,e,n){return Ux(e,n?t===cd:t===ld,t===KC)}function I7(t,e,n){return Ux(e,n?t===ld:t===cd,t===Z5)}function xDe(t,e){const{open:n,onOpenChange:r,elements:i}=t,{listRef:o,activeIndex:s,onNavigate:a=()=>{},enabled:c=!0,selectedIndex:l=null,allowEscape:d=!1,loop:p=!1,nested:m=!1,rtl:g=!1,virtual:C=!1,focusItemOnOpen:_="auto",focusItemOnHover:S=!0,openOnArrowKeyDown:w=!0,disabledIndices:T=void 0,orientation:I="vertical",cols:A=1,scrollItemIntoView:k=!0,virtualItemRef:R,itemSizes:M,dense:P=!1}=e,N=kM(i.floating),D=lc(N),G=J5(),U=Mx(),W=Ni(()=>{a(B.current===-1?null:B.current)}),$=vJ(i.domReference),L=b.useRef(_),B=b.useRef(l??-1),j=b.useRef(null),V=b.useRef(!0),K=b.useRef(W),z=b.useRef(!!i.floating),H=b.useRef(n),q=b.useRef(!1),le=b.useRef(!1),Ce=lc(T),_e=lc(n),be=lc(k),Pe=lc(l),[Oe,Q]=b.useState(),[ee,Ie]=b.useState(),re=Ni(()=>{function pe(Xe){C?(Q(Xe.id),U==null||U.events.emit("virtualfocus",Xe),R&&(R.current=Xe)):Pf(Xe,{sync:q.current,preventScroll:!0})}const Le=o.current[B.current];Le&&pe(Le),(q.current?Xe=>Xe():requestAnimationFrame)(()=>{const Xe=o.current[B.current]||Le;if(!Xe)return;Le||pe(Xe);const mt=be.current;mt&&xe&&(le.current||!V.current)&&(Xe.scrollIntoView==null||Xe.scrollIntoView(typeof mt=="boolean"?{block:"nearest",inline:"nearest"}:mt))})});kr(()=>{c&&(n&&i.floating?L.current&&l!=null&&(le.current=!0,B.current=l,W()):z.current&&(B.current=-1,K.current()))},[c,n,i.floating,l,W]),kr(()=>{if(c&&n&&i.floating)if(s==null){if(q.current=!1,Pe.current!=null)return;if(z.current&&(B.current=-1,re()),(!H.current||!z.current)&&L.current&&(j.current!=null||L.current===!0&&j.current==null)){let pe=0;const Le=()=>{o.current[0]==null?(pe<2&&(pe?requestAnimationFrame:queueMicrotask)(Le),pe++):(B.current=j.current==null||mP(j.current,I,g)||m?dP(o,Ce.current):u7(o,Ce.current),j.current=null,W())};Le()}}else Zb(o,s)||(B.current=s,re(),le.current=!1)},[c,n,i.floating,s,Pe,m,o,I,g,W,re,Ce]),kr(()=>{var pe;if(!c||i.floating||!U||C||!z.current)return;const Le=U.nodesRef.current,De=(pe=Le.find(qe=>qe.id===G))==null||(pe=pe.context)==null?void 0:pe.elements.floating,Xe=rl(Ds(i.floating)),mt=Le.some(qe=>qe.context&&wo(qe.context.elements.floating,Xe));De&&!mt&&V.current&&De.focus({preventScroll:!0})},[c,i.floating,U,G,C]),kr(()=>{if(!c||!U||!C||G)return;function pe(Le){Ie(Le.id),R&&(R.current=Le)}return U.events.on("virtualfocus",pe),()=>{U.events.off("virtualfocus",pe)}},[c,U,C,G,R]),kr(()=>{K.current=W,H.current=n,z.current=!!i.floating}),kr(()=>{n||(j.current=null)},[n]);const ue=s!=null,xe=b.useMemo(()=>{function pe(De){if(!n)return;const Xe=o.current.indexOf(De);Xe!==-1&&B.current!==Xe&&(B.current=Xe,W())}return{onFocus(De){let{currentTarget:Xe}=De;q.current=!0,pe(Xe)},onClick:De=>{let{currentTarget:Xe}=De;return Xe.focus({preventScroll:!0})},...S&&{onMouseMove(De){let{currentTarget:Xe}=De;q.current=!0,le.current=!1,pe(Xe)},onPointerLeave(De){let{pointerType:Xe}=De;if(!(!V.current||Xe==="touch")&&(q.current=!0,B.current=-1,W(),!C)){var mt;(mt=D.current)==null||mt.focus({preventScroll:!0})}}}}},[n,D,S,o,W,C]),Y=Ni(pe=>{if(V.current=!1,q.current=!0,pe.which===229||!_e.current&&pe.currentTarget===D.current)return;if(m&&I7(pe.key,I,g)){fi(pe),r(!1,pe.nativeEvent,"list-navigation"),Gr(i.domReference)&&(C?U==null||U.events.emit("virtualfocus",i.domReference):i.domReference.focus());return}const Le=B.current,De=dP(o,T),Xe=u7(o,T);if($||(pe.key==="Home"&&(fi(pe),B.current=De,W()),pe.key==="End"&&(fi(pe),B.current=Xe,W())),A>1){const mt=M||Array.from({length:o.current.length},()=>({width:1,height:1})),qe=iDe(mt,A,P),dt=qe.findIndex(Wt=>Wt!=null&&!BS(o.current,Wt,T)),$t=qe.reduce((Wt,Ye,et)=>Ye!=null&&!BS(o.current,Ye,T)?et:Wt,-1),nn=qe[rDe({current:qe.map(Wt=>Wt!=null?o.current[Wt]:null)},{event:pe,orientation:I,loop:p,rtl:g,cols:A,disabledIndices:sDe([...T||o.current.map((Wt,Ye)=>BS(o.current,Ye)?Ye:void 0),void 0],qe),minIndex:dt,maxIndex:$t,prevIndex:oDe(B.current>Xe?De:B.current,mt,qe,A,pe.key===KC?"bl":pe.key===(g?cd:ld)?"tr":"tl"),stopEvent:!0})];if(nn!=null&&(B.current=nn,W()),I==="both")return}if(T7(pe.key,I)){if(fi(pe),n&&!C&&rl(pe.currentTarget.ownerDocument)===pe.currentTarget){B.current=mP(pe.key,I,g)?De:Xe,W();return}mP(pe.key,I,g)?p?B.current=Le>=Xe?d&&Le!==o.current.length?-1:De:Ri(o,{startingIndex:Le,disabledIndices:T}):B.current=Math.min(Xe,Ri(o,{startingIndex:Le,disabledIndices:T})):p?B.current=Le<=De?d&&Le!==-1?o.current.length:Xe:Ri(o,{startingIndex:Le,decrement:!0,disabledIndices:T}):B.current=Math.max(De,Ri(o,{startingIndex:Le,decrement:!0,disabledIndices:T})),Zb(o,B.current)&&(B.current=-1),W()}}),ge=b.useMemo(()=>C&&n&&ue&&{"aria-activedescendant":ee||Oe},[C,n,ue,ee,Oe]),Ee=b.useMemo(()=>({"aria-orientation":I==="both"?void 0:I,...$?{}:ge,onKeyDown:Y,onPointerMove(){V.current=!0}}),[ge,Y,I,$]),ye=b.useMemo(()=>{function pe(De){_==="auto"&&pJ(De.nativeEvent)&&(L.current=!0)}function Le(De){L.current=_,_==="auto"&&mJ(De.nativeEvent)&&(L.current=!0)}return{...ge,onKeyDown(De){V.current=!1;const Xe=De.key.startsWith("Arrow"),mt=["Home","End"].includes(De.key),qe=Xe||mt,dt=IDe(De.key,I,g),$t=I7(De.key,I,g),nn=T7(De.key,I),Wt=(m?dt:nn)||De.key==="Enter"||De.key.trim()==="";if(C&&n){const Re=U==null?void 0:U.nodesRef.current.find(Fe=>Fe.parentId==null),Me=U&&Re?hDe(U.nodesRef.current,Re.id):null;if(qe&&Me&&R){const Fe=new KeyboardEvent("keydown",{key:De.key,bubbles:!0});if(dt||$t){var Ye,et;const ut=((Ye=Me.context)==null?void 0:Ye.elements.domReference)===De.currentTarget,_t=$t&&!ut?(et=Me.context)==null?void 0:et.elements.domReference:dt?o.current.find(it=>(it==null?void 0:it.id)===Oe):null;_t&&(fi(De),_t.dispatchEvent(Fe),Ie(void 0))}if((nn||mt)&&Me.context&&Me.context.open&&Me.parentId&&De.currentTarget!==Me.context.elements.domReference){var te;fi(De),(te=Me.context.elements.domReference)==null||te.dispatchEvent(Fe);return}}return Y(De)}if(!(!n&&!w&&Xe)){if(Wt&&(j.current=m&&nn?null:De.key),m){dt&&(fi(De),n?(B.current=dP(o,Ce.current),W()):r(!0,De.nativeEvent,"list-navigation"));return}nn&&(l!=null&&(B.current=l),fi(De),!n&&w?r(!0,De.nativeEvent,"list-navigation"):Y(De),n&&W())}},onFocus(){n&&!C&&(B.current=-1,W())},onPointerDown:Le,onPointerEnter:Le,onMouseDown:pe,onClick:pe}},[Oe,ge,Y,Ce,_,o,m,W,r,n,w,I,g,l,U,C,R]);return b.useMemo(()=>c?{reference:ye,floating:Ee,item:xe}:{},[c,ye,Ee,xe])}const ADe=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function VJ(t,e){var n;e===void 0&&(e={});const{open:r,floatingId:i}=t,{enabled:o=!0,role:s="dialog"}=e,a=(n=ADe.get(s))!=null?n:s,c=Nx(),d=J5()!=null,p=b.useMemo(()=>a==="tooltip"||s==="label"?{["aria-"+(s==="label"?"labelledby":"describedby")]:r?i:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":a==="alertdialog"?"dialog":a,"aria-controls":r?i:void 0,...a==="listbox"&&{role:"combobox"},...a==="menu"&&{id:c},...a==="menu"&&d&&{role:"menuitem"},...s==="select"&&{"aria-autocomplete":"none"},...s==="combobox"&&{"aria-autocomplete":"list"}},[a,i,d,r,c,s]),m=b.useMemo(()=>{const C={id:i,...a&&{role:a}};return a==="tooltip"||s==="label"?C:{...C,...a==="menu"&&{"aria-labelledby":c}}},[a,i,c,s]),g=b.useCallback(C=>{let{active:_,selected:S}=C;const w={role:"option",..._&&{id:i+"-option"}};switch(s){case"select":return{...w,"aria-selected":_&&S};case"combobox":return{...w,..._&&{"aria-selected":!0}}}return{}},[i,s]);return b.useMemo(()=>o?{reference:p,floating:m,item:g}:{},[o,p,m,g])}function kDe(t,e){var n;const{open:r,dataRef:i}=t,{listRef:o,activeIndex:s,onMatch:a,onTypingChange:c,enabled:l=!0,findMatch:d=null,resetMs:p=750,ignoreKeys:m=[],selectedIndex:g=null}=e,C=b.useRef(),_=b.useRef(""),S=b.useRef((n=g??s)!=null?n:-1),w=b.useRef(null),T=Ni(a),I=Ni(c),A=lc(d),k=lc(m);kr(()=>{r&&(clearTimeout(C.current),w.current=null,_.current="")},[r]),kr(()=>{if(r&&_.current===""){var D;S.current=(D=g??s)!=null?D:-1}},[r,g,s]);const R=Ni(D=>{D?i.current.typing||(i.current.typing=D,I(D)):i.current.typing&&(i.current.typing=D,I(D))}),M=Ni(D=>{function G(B,j,V){const K=A.current?A.current(j,V):j.find(z=>(z==null?void 0:z.toLocaleLowerCase().indexOf(V.toLocaleLowerCase()))===0);return K?B.indexOf(K):-1}const U=o.current;if(_.current.length>0&&_.current[0]!==" "&&(G(U,U,_.current)===-1?R(!1):D.key===" "&&fi(D)),U==null||k.current.includes(D.key)||D.key.length!==1||D.ctrlKey||D.metaKey||D.altKey)return;r&&D.key!==" "&&(fi(D),R(!0)),U.every(B=>{var j,V;return B?((j=B[0])==null?void 0:j.toLocaleLowerCase())!==((V=B[1])==null?void 0:V.toLocaleLowerCase()):!0})&&_.current===D.key&&(_.current="",S.current=w.current),_.current+=D.key,clearTimeout(C.current),C.current=setTimeout(()=>{_.current="",S.current=w.current,R(!1)},p);const $=S.current,L=G(U,[...U.slice(($||0)+1),...U.slice(0,($||0)+1)],_.current);L!==-1?(T(L),w.current=L):D.key!==" "&&(_.current="",R(!1))}),P=b.useMemo(()=>({onKeyDown:M}),[M]),N=b.useMemo(()=>({onKeyDown:M,onKeyUp(D){D.key===" "&&R(!1)}}),[M,R]);return b.useMemo(()=>l?{reference:P,floating:N}:{},[l,P,N])}const Xh=t=>b.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},b.createElement("g",{id:"Chevron"},b.createElement("path",{id:"Shape",d:"M8.46967 4.21967C8.17678 4.51256 8.17678 4.98744 8.46967 5.28033L15.1893 12L8.46967 18.7197C8.17678 19.0126 8.17678 19.4874 8.46967 19.7803C8.76256 20.0732 9.23744 20.0732 9.53033 19.7803L16.7803 12.5303C17.0732 12.2374 17.0732 11.7626 16.7803 11.4697L9.53033 4.21967C9.23744 3.92678 8.76256 3.92678 8.46967 4.21967Z",fill:"currentColor"}))),VKe=Object.freeze(Object.defineProperty({__proto__:null,default:Xh},Symbol.toStringTag,{value:"Module"})),RDe={top:36,bottom:36,left:24,right:24};function tS(t){const{ariaLabelId:e,options:n,renderOption:r,onSelect:i,value:o,id:s,actionLabel:a,placeholder:c,className:l,menuClassName:d,expandIconClassName:p,disabled:m=!1,isValid:g=!0,supportsBrowserAutofill:C,supportsTypeahead:_=!1,autoComplete:S,boundary:w,padding:T=RDe}=t,[I,A]=b.useState(!1),[k,R]=b.useState(null),M=n.findIndex(be=>be.key===o),P=b.useRef([]),N=b.useRef([]),D=b.useCallback(be=>{var Oe;const Pe=(Oe=n[be])==null?void 0:Oe.key;Pe&&i(Pe)},[i,n]),{refs:G,floatingStyles:U,context:W}=Fx({placement:"bottom-start",strategy:"absolute",open:I,onOpenChange:A,whileElementsMounted:WC,middleware:[X5({padding:T}),RJ({boundary:w,apply({rects:be,elements:Pe,availableHeight:Oe}){Object.assign(Pe.floating.style,{maxHeight:`${Oe}px`,minWidth:`${be.reference.width}px`})},padding:T})]}),$=FJ(W,{event:"mousedown",enabled:!m}),L=UJ(W),B=VJ(W,{role:"listbox"}),j=xDe(W,{listRef:P,activeIndex:k,selectedIndex:M,onNavigate:R,loop:!0,focusItemOnHover:!1,openOnArrowKeyDown:!m}),V=kDe(W,{enabled:_,listRef:N,activeIndex:k,onMatch:I?R:D}),{getReferenceProps:K,getFloatingProps:z,getItemProps:H}=BJ([L,B,j,$,V]),q=b.useCallback(be=>{i(be),A(!1)},[i]),le=M>-1?r(n[M]):y.jsx("div",{className:"truncate text-foreground-550 dark:text-slate-400",children:c}),Ce=b.useCallback(be=>{m||i(be.currentTarget.value)},[i,m]),_e=b.useRef(null);return y.jsxs(y.Fragment,{children:[C&&y.jsx("select",{"aria-hidden":!0,className:"hidden",onChange:Ce,autoComplete:S,disabled:m,children:n.map(be=>y.jsx("option",{value:be.key,children:be.text},be.key))}),y.jsxs("button",{role:"combobox",type:"button",id:s,ref:G.setReference,"aria-labelledby":e,"aria-autocomplete":"none","aria-invalid":!g,"aria-disabled":m,className:fe("flex w-full cursor-pointer items-center justify-between gap-2 rounded-2xl bg-black/5 px-[1.125rem] py-4 dark:bg-midnight-550/25",l,m&&"pointer-events-none opacity-50"),...K(),children:[y.jsx("div",{className:"min-w-0",children:le}),y.jsxs("div",{className:fe("flex min-h-[26px] shrink-0 grow items-center justify-end gap-2",p),children:[a&&y.jsx("span",{children:a}),y.jsx(Xh,{className:"size-6 rotate-90"})]})]}),y.jsx("div",{ref:_e}),I&&y.jsx(e3,{root:_e.current,children:y.jsx(jx,{context:W,modal:!1,children:y.jsx("div",{ref:G.setFloating,style:U,className:fe("flex overflow-hidden rounded-2xl shadow-md",d),...z(),children:y.jsx("div",{className:fe("flex w-full flex-col p-2",bfe),children:y.jsx("div",{className:fe("vertical-scrollbar overflow-y-auto py-1 pe-1"),children:n.map((be,Pe)=>y.jsx("div",{ref:Oe=>{P.current[Pe]=Oe,N.current[Pe]=be.text},role:"option",tabIndex:Pe===k?0:-1,"aria-selected":Pe===M&&Pe===k,className:"relative cursor-default rounded-xl px-3 py-2 -outline-offset-2 hover:bg-black/5 dark:hover:bg-white/8",...H({onClick(){q(be.key)},onKeyDown(Oe){Oe.key==="Enter"&&(Oe.preventDefault(),q(be.key))}}),children:r(be)},be.key))})})})})})]})}function x7(t){const{htmlFor:e,content:n,required:r,className:i,afterContent:o}=t;return y.jsxs("div",{className:"flex items-center",children:[y.jsxs("label",{htmlFor:e,className:fe("flex items-center gap-0.5 text-foreground-900",i),children:[n,r&&y.jsx("span",{className:"text-system-red-550 dark:text-system-red-350",children:"*"})]}),o]})}function PDe(t){return["/login","/fang","/referrals","/referrals/rules","/memory/narrative"].includes(t)}function Po(){const t=Wn();return(Qe.instance().config().sidebarNavigation??!1)&&!PDe(t)}function Bx(){const t=Wn();return t==="/discover"||t==="/"}const A7="absolute size-full";function Ll(t){var p;const{isBottomFade:e,forceGradient:n,isFixed:r,overrideGradientType:i}=t,o=Po(),s=Bx(),a=Wn(),c=n===!0||s||a==="/login",l=i??(a==="/login"?"authentication":"discover"),d=(p=Qe.instance().config().uiOverrides)==null?void 0:p.showSolidBackgroundColor;return y.jsxs("div",{className:fe(r?"fixed":"absolute",e?"-inset-x-4 bottom-0 h-dvh":"inset-0","overflow-hidden"),children:[y.jsx("div",{className:fe(A7,o||d?"bg-stone-150":"bg-gradient-chat-light","dark:bg-midnight-850 dark:bg-none")}),y.jsx(Rr,{children:c&&y.jsx(ct.div,{className:fe(A7,l==="discover"&&"bg-gradient-discover-light dark:bg-gradient-discover-dark",l==="authentication"&&"bg-gradient-authentication-light dark:bg-gradient-authentication-dark"),initial:"initial",animate:"animate",exit:"exit",variants:{initial:Vt,animate:Rn,exit:Vt},transition:Tx},a)})]})}const ODe=se([]);function HJ(){var c;const[t,e]=Lt(ODe),n=b.useRef([]);b.useEffect(()=>{const l=n.current,d=t;if(l.length>d.length){const p=l.filter((g,C)=>C>=d.length),m=p.length;for(let g=m-1;g>=0;g-=1){const C=p[g];C!=null&&C.defer&&C.defer()}}n.current=t},[t]);const r=t.length>0?(c=t[t.length-1])==null?void 0:c.page:void 0,i=l=>o([l]),o=l=>{const d=l.map(p=>({page:p,defer:void 0}));e(p=>[...p,...d])};return{currentPage:r,pushPage:i,pushPages:o,goBackOrClose:()=>{e(l=>l.length<=0?l:l.slice(0,-1))},closeSettings:()=>{e([])}}}const eC="https://www.bing.com/new/termsofuse",cv="https://go.microsoft.com/fwlink/?LinkId=521839",HT="https://www.microsoft.com/microsoft-copilot/learn/?form=MG0AUO&OCID=MG0AUO#faqs",gP="hover:underline focus:underline";function k7(t){var e,n;return((n=(e=Qe.instance().config()).textOverrides)==null?void 0:n.call(e,t))??t}function HKe(t){const{component:e="link",buttonClassName:n}=t,r=oe(sn),{pushPage:i}=HJ(),o=(s,a)=>{Or({source:"complianceLinks",scenario:s,conversationId:r,destination:a})};return y.jsx("div",{className:fe("flex w-full flex-wrap justify-center gap-x-5 gap-y-1 text-black/80 text-2xs dark:text-white/80",e==="button"?"flex-col p-0":"px-5 py-2"),children:e==="link"?y.jsx(NDe,{handleAnalytics:o}):y.jsx(MDe,{handleAnalytics:o,className:n??"",setPage:i})})}function NDe(t){const{handleAnalytics:e}=t;return y.jsxs(y.Fragment,{children:[y.jsx(Ju,{href:cv,title:Ae(k7("settings.privacyLink")),className:gP,onClick:()=>e("privacy",cv),children:Ae(k7("settings.privacyLink"))}),y.jsx(Ju,{href:eC,title:Ae("settings.termsOfServiceLink"),className:gP,onClick:()=>e("terms",eC),children:Ae("settings.termsOfServiceLink")}),y.jsx(Ju,{href:HT,title:Ae("settings.faqLink"),className:gP,onClick:()=>e("faq",HT),children:Ae("settings.faqLink")})]})}function MDe(t){const{handleAnalytics:e,className:n,setPage:r}=t,i=(o,s)=>{var d;e(o,s);const c=(d=Qe.instance().config().settingsOverrides)==null?void 0:d.shouldShowPolicyTermsQRCodes,l={privacy:"privacyStatement",terms:"terms",faq:"faq"};c&&o in l?r==null||r(l[o]):window.open(s,"_blank")};return y.jsxs(y.Fragment,{children:[y.jsx(lt,{role:"menuitem",variant:"rect",color:"subtle-dimmed-inverted",className:n,title:Ae("settings.privacyLink"),onClick:()=>i("privacy",cv),children:y.jsx("span",{children:Ae("settings.privacyLink")})}),y.jsx(lt,{role:"menuitem",variant:"rect",color:"subtle-dimmed-inverted",className:n,title:Ae("settings.termsOfServiceLink"),onClick:()=>i("terms",eC),children:y.jsx("span",{children:Ae("settings.termsOfServiceLink")})}),y.jsx(lt,{role:"menuitem",variant:"rect",color:"subtle-dimmed-inverted",className:n,title:Ae("settings.faqLink"),onClick:()=>i("faq",HT),children:y.jsx("span",{children:Ae("settings.faqLink")})})]})}const R7={...CC,"United Kingdom":"UK"},P7={termsLink:y.jsx(O7,{link:eC}),privacyLink:y.jsx(O7,{link:cv})};function O7(t){const{children:e,link:n}=t;return y.jsx(Ju,{className:"underline",href:n,title:"",children:e})}function LDe(t,e,n){const r=new Date(n,e-1,t);return sq(r)&&r.getFullYear()===n&&r.getMonth()===e-1&&r.getDate()===t}function DDe(t,e,n){const r=new Date(n,e-1,t),i=i_e(new Date);return r<=i}const vP="border-2 border-system-red-550/50 bg-system-red-550/10 text-system-red-550 dark:text-system-red-350";function jDe(){const[t,e]=b.useState(!1),[n,r]=b.useState(void 0),[i,o]=b.useState(void 0);b.useEffect(()=>{async function P(){const N=await MAe();o(N)}P()},[]),b.useEffect(()=>{const P=new URLSearchParams(window.location.search);P.delete("code"),P.delete("state"),P.delete("error"),window.history.replaceState({},document.title,`${window.location.pathname}?${P}`)},[]),b.useEffect(()=>{i&&Mv({page:"auth0AccountVerificationPage",scenario:"auth0Verification",customData:JSON.stringify({accountType:i})})},[i]);const[s,a]=b.useState(""),[c,l]=b.useState(""),[d,p]=b.useState(""),[m,g]=b.useState(R7["United States"]),{i18n:C}=pt(),_=W5(C.resolvedLanguage),S=new Intl.NumberFormat(_,{minimumIntegerDigits:2,useGrouping:!1}),w=new Intl.NumberFormat(_,{minimumIntegerDigits:4,useGrouping:!1});b.useEffect(()=>{e(!!!(c&&d&&s&&m))},[c,d,s,m]);const T=[{key:"01",text:Ae("common.date.month.january")},{key:"02",text:Ae("common.date.month.february")},{key:"03",text:Ae("common.date.month.march")},{key:"04",text:Ae("common.date.month.april")},{key:"05",text:Ae("common.date.month.may")},{key:"06",text:Ae("common.date.month.june")},{key:"07",text:Ae("common.date.month.july")},{key:"08",text:Ae("common.date.month.august")},{key:"09",text:Ae("common.date.month.september")},{key:"10",text:Ae("common.date.month.october")},{key:"11",text:Ae("common.date.month.november")},{key:"12",text:Ae("common.date.month.december")}],I=Object.entries(R7).sort().map(([P,N])=>({key:N,text:P})),A=Array.from({length:31},(P,N)=>{const D=N+1,G=S.format(D);return{key:D.toString(),text:G}}),k=Array.from({length:125},(P,N)=>{const D=new Date().getFullYear()-N,G=w.format(D);return{key:`${new Date().getFullYear()-N}`,text:G}}),R=P=>y.jsx("p",{children:P.text}),M=async()=>{const P=parseInt(s,10),N=parseInt(c,10),D=parseInt(d,10);if(!LDe(D,N,P)){Yt({source:"auth0AccountVerificationPage",scenario:"auth0VerificationInvalidDate",destination:"auth0AccountVerificationPage",customData:JSON.stringify({accountType:i})}),r(!1);return}if(!DDe(D,N,P)){Yt({source:"auth0AccountVerificationPage",scenario:"auth0VerificationNotAdult",destination:"auth0AccountVerificationPage",customData:JSON.stringify({accountType:i})}),r(!1);return}const W=og(new Date(P,N-1,D),"yyyy-MM-dd");r(!0);const $=await NAe(W,m);if(!$){Yt({source:"auth0AccountVerificationPage",scenario:"auth0VerificationNotSuccessfulInvalidToken",destination:"auth0AccountVerificationPage",customData:JSON.stringify({accountType:i})}),r(!1);return}const{ageGroup:L}=$,B=L===Ff.NOT_ADULT,j=L===Ff.ADULT;if(!(B||j)){Yt({source:"auth0AccountVerificationPage",scenario:"auth0VerificationNotSuccessfulNotTeenOrAdult",destination:"auth0AccountVerificationPage",customData:JSON.stringify({accountType:i})}),r(!1);return}Yt({source:"auth0AccountVerificationPage",scenario:"auth0VerificationSuccessful",destination:"auth0AccountVerificationPage",customData:JSON.stringify({accountType:i})}),_x()};return y.jsxs(y.Fragment,{children:[y.jsx(Ll,{forceGradient:!0,overrideGradientType:"authentication"}),y.jsxs("section",{className:"relative m-auto flex min-h-dvh max-w-[500px] flex-col items-center justify-center gap-3 overflow-y-auto px-5 py-12 text-center",children:[y.jsx("h1",{className:"mb-4 text-center font-semibold text-xl sm:text-2xl",children:Ae("error.auth0VerificationTitle")}),y.jsx("p",{children:Ae("error.auth0VerificationDescription")}),y.jsxs("div",{className:"mt-12 w-full",children:[y.jsx(x7,{className:"mb-2 text-base",htmlFor:"birthdate-month",content:Ae("error.auth0VerificationBirthdate"),required:!0}),y.jsxs("div",{id:"birthdate-group",className:"flex gap-2",children:[y.jsx(tS,{renderOption:R,options:T,onSelect:P=>l(P),id:"birthdate-month","aria-labelledby":"birthdate-group",placeholder:Ae("dates.month"),className:fe("flex-1",qu,n===!1&&vP),value:c,isValid:n,menuClassName:Un.dropdownMenuOverModal}),y.jsx(tS,{renderOption:R,options:A,onSelect:P=>p(P),id:"birthdate-day","aria-labelledby":"birthdate-group",placeholder:Ae("dates.day"),className:fe("flex-1",qu,n===!1&&vP),value:d,menuClassName:Un.dropdownMenuOverModal}),y.jsx(tS,{renderOption:R,options:k,onSelect:P=>a(P),id:"birthdate-year","aria-labelledby":"birthdate-group",placeholder:Ae("dates.year"),className:fe("flex-1",qu,n===!1&&vP),value:s,menuClassName:Un.dropdownMenuOverModal})]}),n===!1&&y.jsx("div",{className:fe("mt-2 text-start text-system-red-550 text-sm dark:text-system-red-350"),children:Ae("error.authh0VerificationAgeError")})]}),y.jsxs("div",{className:"mt-12 w-full",children:[y.jsx(x7,{className:"mb-2 text-base",htmlFor:"country",content:Ae("error.auth0VerificationCountryRegion"),required:!0}),y.jsx(tS,{renderOption:R,options:I,onSelect:P=>g(P),id:"country","aria-labelledby":"country-group",placeholder:Ae("error.auth0VerificationCountryRegion"),className:fe("flex-1",qu),value:m,menuClassName:Un.dropdownMenuOverModal})]}),y.jsxs("div",{className:"mt-12 w-full text-black text-2xs dark:text-white/90",children:[y.jsx(ma,{i18nKey:Ae("error.auth0VerificationDisclaimer"),components:{termsLink:P7.termsLink,privacyLink:P7.privacyLink}}),y.jsx(lt,{className:"mt-4 w-full",color:"strong",size:"56-xl",variant:"rect",onClick:M,title:Ae("common.continue"),disabled:t,children:Ae("common.continue")})]})]})]})}function N7(t){var e,n;return((n=(e=Qe.instance().config()).textOverrides)==null?void 0:n.call(e,t))??t}const yP="w-full";function FDe(){const{switchMicrosoftAccount:t,logout:e,login:n}=Uv(),{t:r}=pt(),i=tp(),o=async()=>{await t()},s=async(l,d)=>{switch(await e(),l){case"microsoft":n({provider:l});break;case"auth0":n({provider:l,opts:d});break}},a=Qe.instance().config().hideAgeVerificationButton!==!0,c=Qe.instance().config().hideAgeVerificationSwitchAccountButton!==!0;return y.jsxs(y.Fragment,{children:[y.jsx(Ll,{forceGradient:!0}),y.jsxs("section",{className:"relative z-10 m-auto flex h-dvh max-w-96 flex-col items-center justify-center gap-3 px-5 text-center",children:[y.jsx("h1",{className:"text-2xl",children:r(N7("error.ageVerificationTitle"))}),y.jsx("h2",{className:"text-foreground-600",children:r(N7("error.ageVerification"))}),a&&y.jsx(lt,{className:"mt-6 w-full",color:"default",size:"56-xl",variant:"rect",title:r("error.ageVerificationVerifyAge"),onClick:()=>{Cx(cme)},children:r("error.ageVerificationVerifyAge")}),a&&y.jsx("div",{className:"text-balance text-foreground-600",children:r("error.ageVerificationOr")}),i?y.jsxs(y.Fragment,{children:[y.jsxs(lt,{onClick:()=>s("microsoft"),color:"default",title:r("signInPrompt.continueWithMicrosoft"),variant:"pill",size:"56-xl",className:fe(yP),children:[y.jsx(yI,{className:"size-6"}),r("signInPrompt.continueWithMicrosoft")]}),y.jsxs(lt,{onClick:()=>s("auth0",{connection:"apple"}),color:"default",variant:"pill",size:"56-xl",title:r("signInPrompt.continueWithApple"),className:fe(yP),children:[y.jsx(oL,{className:"size-6 text-black dark:text-white"}),r("signInPrompt.continueWithApple")]}),y.jsxs(lt,{onClick:()=>s("auth0",{connection:"google"}),color:"default",variant:"pill",size:"56-xl",title:r("signInPrompt.continueWithGoogle"),className:fe(yP),children:[y.jsx(sL,{className:"size-6"}),r("signInPrompt.continueWithGoogle")]})]}):c&&y.jsx(lt,{className:"w-full",color:"default",size:"56-xl",variant:"rect",title:r("error.ageVerificationSwitchAccount"),onClick:o,children:r("error.ageVerificationSwitchAccount")})]})]})}function UDe(){const t=oe(Qr);return(t==null?void 0:t.provider)==="auth0"?y.jsx(jDe,{}):y.jsx(FDe,{})}const zJ=t=>b.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...t},b.createElement("path",{d:"M12 4.5C7.85786 4.5 4.5 7.85786 4.5 12C4.5 16.1421 7.85786 19.5 12 19.5C16.1421 19.5 19.5 16.1421 19.5 12C19.5 11.6236 19.4723 11.2538 19.4188 10.8923C19.3515 10.4382 19.6839 10 20.1429 10C20.5138 10 20.839 10.2562 20.8953 10.6228C20.9642 11.0718 21 11.5317 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C14.3051 3 16.4077 3.86656 18 5.29168V4.25C18 3.83579 18.3358 3.5 18.75 3.5C19.1642 3.5 19.5 3.83579 19.5 4.25V7.25C19.5 7.66421 19.1642 8 18.75 8H15.75C15.3358 8 15 7.66421 15 7.25C15 6.83579 15.3358 6.5 15.75 6.5H17.0991C15.7609 5.25883 13.9691 4.5 12 4.5Z",fill:"currentColor"})),zKe=Object.freeze(Object.defineProperty({__proto__:null,default:zJ},Symbol.toStringTag,{value:"Module"}));function BDe(t){const{t:e}=pt(),{onBtnClick:n=()=>{}}=t;return y.jsxs("section",{className:"relative z-10 m-auto flex h-full max-w-96 flex-col items-center justify-center gap-3 px-5 text-center",children:[y.jsx("h1",{className:"text-2xl",children:e("error.unhandledErrorTitle")}),y.jsx("h2",{className:"text-foreground-600",children:e("error.unhandledError")}),y.jsxs(lt,{className:"mt-6 w-full",color:"default",size:"56-xl",variant:"rect",title:e("error.unhandledErrorReload"),onClick:n,children:[y.jsx(zJ,{className:"size-6"}),e("error.unhandledErrorReload")]})]})}function t3(){return y.jsxs("main",{className:"relative size-full overflow-hidden",children:[y.jsx(Ll,{forceGradient:!0}),y.jsx(BDe,{onBtnClick:()=>{_x()}})]})}const $J=b.createContext(void 0);function VDe(t,e){return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}function n3(t){const e=typeof window<"u"?window.matchMedia(t):null,[n,r]=b.useState(e==null?void 0:e.matches);return b.useEffect(()=>{e&&VDe(e,i=>r(i.matches))},[t,e]),!!n}const WJ={sm:"640",md:"768",lg:"1024",xl:"1280"};function gi(t){const{breakpoint:e}=t,n=WJ[e];return!n3(`(min-width: ${n}px)`)}function HDe(t){const{breakpoint:e}=t,r=`(min-width: ${WJ[e]}px)`,i=typeof window<"u"?window.matchMedia(r):null;return!(i!=null&&i.matches)}function r3(){const t=gi({breakpoint:"sm"});return(Qe.instance().config().responsiveFullWidthSidebarEnabled??!1)&&t}const M7=Dl.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t)}),bP={dedupe:!0},zDe=(t,e,n)=>{const{cache:r,compare:i,suspense:o,fallbackData:s,revalidateOnMount:a,revalidateIfStale:c,refreshInterval:l,refreshWhenHidden:d,refreshWhenOffline:p,keepPreviousData:m}=n,[g,C,_,S]=js.get(r),[w,T]=Tl(t),I=b.useRef(!1),A=b.useRef(!1),k=b.useRef(w),R=b.useRef(e),M=b.useRef(n),P=()=>M.current,N=()=>P().isVisible()&&P().isOnline(),[D,G,U,W]=tc(r,w),$=b.useRef({}).current,L=st(s)?n.fallback[w]:s,B=(re,ue)=>{for(const xe in $){const Y=xe;if(Y==="data"){if(!i(re[Y],ue[Y])&&(!st(re[Y])||!i(_e,ue[Y])))return!1}else if(ue[Y]!==re[Y])return!1}return!0},j=b.useMemo(()=>{const re=!w||!e?!1:st(a)?P().isPaused()||o?!1:st(c)?!0:c:a,ue=pe=>{const Le=ns(pe);return delete Le._k,re?{isValidating:!0,isLoading:!0,...Le}:Le},xe=D(),Y=W(),ge=ue(xe),Ee=xe===Y?ge:ue(Y);let ye=ge;return[()=>{const pe=ue(D());return B(pe,ye)?(ye.data=pe.data,ye.isLoading=pe.isLoading,ye.isValidating=pe.isValidating,ye.error=pe.error,ye):(ye=pe,pe)},()=>Ee]},[r,w]),V=bI.useSyncExternalStore(b.useCallback(re=>U(w,(ue,xe)=>{B(xe,ue)||re()}),[r,w]),j[0],j[1]),K=!I.current,z=g[w]&&g[w].length>0,H=V.data,q=st(H)?L:H,le=V.error,Ce=b.useRef(q),_e=m?st(H)?Ce.current:H:q,be=z&&!st(le)?!1:K&&!st(a)?a:P().isPaused()?!1:o?st(q)?!1:c:st(q)||c,Pe=!!(w&&e&&K&&be),Oe=st(V.isValidating)?Pe:V.isValidating,Q=st(V.isLoading)?Pe:V.isLoading,ee=b.useCallback(async re=>{const ue=R.current;if(!w||!ue||A.current||P().isPaused())return!1;let xe,Y,ge=!0;const Ee=re||{},ye=!_[w]||!Ee.dedupe,pe=()=>Eh?!A.current&&w===k.current&&I.current:w===k.current,Le={isValidating:!1,isLoading:!1},De=()=>{G(Le)},Xe=()=>{const qe=_[w];qe&&qe[1]===Y&&delete _[w]},mt={isValidating:!0};st(D().data)&&(mt.isLoading=!0);try{if(ye&&(G(mt),n.loadingTimeout&&st(D().data)&&setTimeout(()=>{ge&&pe()&&P().onLoadingSlow(w,n)},n.loadingTimeout),_[w]=[ue(T),Th()]),[xe,Y]=_[w],xe=await xe,ye&&setTimeout(Xe,n.dedupingInterval),!_[w]||_[w][1]!==Y)return ye&&pe()&&P().onDiscarded(w),!1;Le.error=Zn;const qe=C[w];if(!st(qe)&&(Y<=qe[0]||Y<=qe[1]||qe[1]===0))return De(),ye&&pe()&&P().onDiscarded(w),!1;const dt=D().data;Le.data=i(dt,xe)?dt:xe,ye&&pe()&&P().onSuccess(xe,w,n)}catch(qe){Xe();const dt=P(),{shouldRetryOnError:$t}=dt;dt.isPaused()||(Le.error=qe,ye&&pe()&&(dt.onError(qe,w,dt),($t===!0||Qi($t)&&$t(qe))&&(!P().revalidateOnFocus||!P().revalidateOnReconnect||N())&&dt.onErrorRetry(qe,w,dt,nn=>{const Wt=g[w];Wt&&Wt[0]&&Wt[0](Xi.ERROR_REVALIDATE_EVENT,nn)},{retryCount:(Ee.retryCount||0)+1,dedupe:!0})))}return ge=!1,De(),!0},[w,r]),Ie=b.useCallback((...re)=>_I(r,k.current,...re),[]);if(Vs(()=>{R.current=e,M.current=n,st(H)||(Ce.current=H)}),Vs(()=>{if(!w)return;const re=ee.bind(Zn,bP);let ue=0;const Y=pL(w,g,(ge,Ee={})=>{if(ge==Xi.FOCUS_EVENT){const ye=Date.now();P().revalidateOnFocus&&ye>ue&&N()&&(ue=ye+P().focusThrottleInterval,re())}else if(ge==Xi.RECONNECT_EVENT)P().revalidateOnReconnect&&N()&&re();else{if(ge==Xi.MUTATE_EVENT)return ee();if(ge==Xi.ERROR_REVALIDATE_EVENT)return ee(Ee)}});return A.current=!1,k.current=w,I.current=!0,G({_k:T}),be&&(st(q)||El?re():uL(re)),()=>{A.current=!0,Y()}},[w]),Vs(()=>{let re;function ue(){const Y=Qi(l)?l(D().data):l;Y&&re!==-1&&(re=setTimeout(xe,Y))}function xe(){!D().error&&(d||P().isVisible())&&(p||P().isOnline())?ee(bP).then(ue):ue()}return ue(),()=>{re&&(clearTimeout(re),re=-1)}},[l,d,p,w]),b.useDebugValue(_e),o&&st(q)&&w){if(!Eh&&El)throw new Error("Fallback data is required when using suspense in SSR.");R.current=e,M.current=n,A.current=!1;const re=S[w];if(!st(re)){const ue=Ie(re);M7(ue)}if(st(le)){const ue=ee(bP);st(_e)||(ue.status="fulfilled",ue.value=!0),M7(ue)}else throw le}return{mutate:Ie,get data(){return $.data=!0,_e},get error(){return $.error=!0,le},get isValidating(){return $.isValidating=!0,Oe},get isLoading(){return $.isLoading=!0,Q}}},$De=hL(zDe),WDe=t=>Tl(t?t(0,null):null)[0],CP=Promise.resolve(),KDe=t=>(e,n,r)=>{const i=b.useRef(!1),{cache:o,initialSize:s=1,revalidateAll:a=!1,persistSize:c=!1,revalidateFirstPage:l=!0,revalidateOnMount:d=!1,parallel:p=!1}=r,[,,,m]=js.get(dL);let g;try{g=WDe(e),g&&(g=DW+g)}catch{}const[C,_,S]=tc(o,g),w=b.useCallback(()=>st(C()._l)?s:C()._l,[o,g,s]);bI.useSyncExternalStore(b.useCallback(P=>g?S(g,()=>{P()}):()=>{},[o,g]),w,w);const T=b.useCallback(()=>{const P=C()._l;return st(P)?s:P},[g,s]),I=b.useRef(T());Vs(()=>{if(!i.current){i.current=!0;return}g&&_({_l:c?I.current:T()})},[g,o]);const A=d&&!i.current,k=t(g,async P=>{const N=C()._i,D=C()._r;_({_r:Zn});const G=[],U=T(),[W]=tc(o,P),$=W().data,L=[];let B=null;for(let j=0;j<U;++j){const[V,K]=Tl(e(j,p?null:B));if(!V)break;const[z,H]=tc(o,V);let q=z().data;const le=a||N||st(q)||l&&!j&&!st($)||A||$&&!st($[j])&&!r.compare($[j],q);if(n&&(typeof D=="function"?D(q,K):le)){const Ce=async()=>{if(!(V in m))q=await n(K);else{const be=m[V];delete m[V],q=await be}H({data:q,_k:K}),G[j]=q};p?L.push(Ce):await Ce()}else G[j]=q;p||(B=q)}return p&&await Promise.all(L.map(j=>j())),_({_i:Zn}),G},r),R=b.useCallback(function(P,N){const D=typeof N=="boolean"?{revalidate:N}:N||{},G=D.revalidate!==!1;return g?(G&&(st(P)?_({_i:!0,_r:D.revalidate}):_({_i:!1,_r:D.revalidate})),arguments.length?k.mutate(P,{...D,revalidate:G}):k.mutate()):CP},[g,o]),M=b.useCallback(P=>{if(!g)return CP;const[,N]=tc(o,g);let D;if(Qi(P)?D=P(T()):typeof P=="number"&&(D=P),typeof D!="number")return CP;N({_l:D}),I.current=D;const G=[],[U]=tc(o,g);let W=null;for(let $=0;$<D;++$){const[L]=Tl(e($,W)),[B]=tc(o,L),j=L?B().data:Zn;if(st(j))return R(U().data);G.push(j),W=j}return R(G)},[g,o,R,T]);return{size:T(),setSize:M,mutate:R,get data(){return k.data},get error(){return k.error},get isValidating(){return k.isValidating},get isLoading(){return k.isLoading}}},GDe=UW($De,KDe);function i3(t,e){const{data:n,error:r,isLoading:i,size:o,setSize:s,mutate:a}=GDe(e,t,{revalidateFirstPage:!1}),c=b.useCallback(async()=>{await a()},[a]),l=b.useCallback(async()=>{await s(o+1)},[s,o]),d=n==null?void 0:n[o-1],p=o>0&&!!n&&typeof d>"u",m=i||p,g=d?!!e(o+1,d):!1;return{loader:{loading:m,hasNextPage:g,error:r,onLoadMore:l,data:n},refetch:c}}function qDe(t,e){if(!(e!=null&&e.next)&&t>0)return null;const n={url:"/pages",isFirstPage:t===0};return e!=null&&e.next&&(n.args={cursor:e.next}),n}function YDe(t={}){const{disabled:e=!1}=t,n=Ra("kill-shared-page"),r=b.useCallback(async({url:i,args:o})=>{const s={...o,...n?{}:{"api-version":"2"}};return await ci(i,YIe,{query:s,analytics:{anonymousPath:"/pages"}}).then(c=>c.data)},[n]);return i3(r,e?()=>null:qDe)}function QDe(){const t=je("pages"),e=je("pages-anonymous"),n=co();return{canCreatePageForSignedOut:e&&t,canCreatePage:(n||e)&&t}}function $Ke(){Yt({pageName:"chatPage",sectionName:"chatResponse",source:"addToPage"})}function WKe(t){Yt({pageName:"addToPage",source:t})}function XDe(){Yt({sectionName:"actionMenu",source:"createNewPage"})}function ZDe(t){Yt({pageName:t,source:"openPage"})}function KKe(){Yt({pageName:"pages",sectionName:"editBar",source:"askCopilot"})}function GKe(t,e){Yt({pageName:"pages",sectionName:"suggestions",source:t==="accept"?"applyRevision":"reject",customData:JSON.stringify({eventInfo_pageId:e})})}const qKe=["createPage","addToExistingPage","openPageOnChat","openPageOnHistory","copyPage"];function YKe(t,e,n){FC({feature:"page",scenario:t,duration:Math.round(e),customData:JSON.stringify({eventInfo_pageId:n})})}function QKe(){Yt({pageName:"pages",source:"hyperlinkInPages"})}function XKe({sectionName:t,pageId:e}){Yt({sectionName:t,source:"deletePage",customData:JSON.stringify({eventInfo_pageId:e})})}function ZKe({sectionName:t,pageId:e}){Yt({sectionName:t,source:"renamePage",customData:JSON.stringify({eventInfo_pageId:e})})}function JKe(t){he.trackEvent({name:"interaction",data:{eventName:"copilotPagesEdited",eventInfo_customData:JSON.stringify({eventInfo_pageId:t})}})}function eGe(t){const{pageName:e,sectionName:n,pageId:r}=t;Yt({pageName:e,sectionName:n,source:"pagesSharing",customData:JSON.stringify({eventInfo_pageId:r})})}function tGe(t){const{sectionName:e,pageId:n}=t;Yt({sectionName:e,source:"removePagesSharing",customData:JSON.stringify({eventInfo_pageId:n})})}const nGe=["pagesHistory","direct"];function rGe(t){he.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionPage:"pagesSharing",eventInfo_impressionScenario:t}})}const iGe=["responsePreviewedPage","chatCreateNewPage","chatAddToExistingPage","chatDirectToNewPage","pagesHistory","actionMenuCreateNewPage","makeACopyViewerPage","makeACopyOwnerPage","makeACopyViewOnly","makeACopyPagesHistory"];function oGe(t){he.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionPage:"pages",eventInfo_impressionScenario:t}})}function sGe(t){const{pageName:e,sectionName:n,pageId:r}=t;Yt({pageName:e,sectionName:n,source:"makePagesCopy",customData:JSON.stringify({eventInfo_pageId:r})})}const JDe=h.union([h.literal("open"),h.literal("close")]),KJ=h.object({sidebarVisibility:JDe.optional()});function e5e(t){Uh(oQ,KJ,{sidebarVisibility:t})}function GJ(){var t;return((t=Pc(oQ,KJ))==null?void 0:t.sidebarVisibility)??"close"}function t5e(){return!Qe.instance().config().sidebarNavigation||HDe({breakpoint:"md"})?!1:GJ()!=="close"}const Od=se(t5e());function n5e(){const t=ds(),e=io(),n=We(Od);return b.useCallback(async({pageId:r,closeSidebar:i,sourcePage:o,impressionScenario:s,featureLatencyInfo:a})=>{ZDe(o),i&&n(!1),await t({to:"/pages/$pageId",params:{pageId:r},from:e.state.location.pathname,state:{...a,impressionScenario:s}})},[t,e.state.location.pathname,n])}const r5e=se(t=>t(Hv).isOpen||t(qJ)),Hv=se({isOpen:!1,scenario:null}),qJ=se(t=>{const e=t(Fh);return e===null?!1:e===0||t(Eq).includes(e)}),i5e=se(t=>{const e=t(qJ),n=t(yC("location-prompt")),r=t(Ul).filter(({author:o})=>o==="human").length,i=!!ir(uAe);return e||!n||i?!1:r===Qpe}),L7="/pages";async function o5e(t,e){const n=await ko({path:"/pages",args:{body:{title:t,content:e},analytics:{anonymousPath:L7}}}),r=await n.json(),i=XIe.safeParse(r);if(!n.ok&&i.success)throw new Error(i.data.errorCode);try{return KIe.parse(r)}catch(o){throw o instanceof pi&&z0(o,L7,!1),o}}function s5e(){const{canCreatePage:t,canCreatePageForSignedOut:e}=QDe(),{t:n}=pt(),r=We(L5),[i,o]=b.useState(!1),s=tp(),a=We(Ks),c=We(Hv),l=n5e();return{creatingPage:i,createPage:t?async({content:p,sourcePage:m,impressionScenario:g,featureLatencyInfo:C})=>{o(!0);try{const{id:_}=await o5e("",p);await l({pageId:_,closeSidebar:!0,sourcePage:m,impressionScenario:g,featureLatencyInfo:C})}catch(_){_ instanceof Error&&_.message==="page-count-exceeded"&&e?(a(s?"prompt-3p-sign-in":"prompt-sign-in"),c({isOpen:!0,scenario:"sidebarActionCreatePage",reason:"pageLimitReached"})):r({title:n("common.somethingWrong"),message:n("pages.errorCreatingMessage")})}finally{o(!1)}}:null}}function a5e(t){const{callback:e,signInScenario:n,onShowSignIn:r,signInReason:i}=t,o=co(),s=We(Hv);return(...a)=>{if(!o){s({isOpen:!0,scenario:n,reason:i}),r&&typeof r=="function"&&r();return}e(...a)}}function o3(){const{createConversation:t}=hx(),e=We(mx);return{startNewConversation:()=>{t(),e("center")}}}function s3({defaultValue:t,controlledValue:e,onChange:n}){const r=e!==void 0,[i,o]=b.useState(t);return b.useEffect(()=>{r&&o(e)},[e,r]),{state:r?e:i,setState:c=>{r||o(c),n==null||n(c)}}}function a3(t){const{renderTrigger:e,triggerClick:n,children:r,className:i,options:o,isOpen:s,onIsOpenChange:a}=t,{state:c,setState:l}=s3({controlledValue:s,defaultValue:!1,onChange:a}),{disableFocusManager:d=!1}=o??{},{refs:p,x:m,y:g,strategy:C,context:_}=Fx({open:c,placement:(o==null?void 0:o.placement)??"bottom-end",onOpenChange:l,middleware:[Px((o==null?void 0:o.offset)??1),X5({fallbackAxisSideDirection:"end"}),Ox()],whileElementsMounted:WC}),S=FJ(_),w=UJ(_),T=VJ(_,{role:(o==null?void 0:o.roleType)??"dialog"}),{getReferenceProps:I,getFloatingProps:A}=BJ([S,w,T]),k=R=>{o!=null&&o.stopReferencePropagation&&R.stopPropagation(),n==null||n(R)};return y.jsxs(y.Fragment,{children:[e==null?void 0:e({ref:p.setReference,...I({onClick:k})},c),c&&y.jsx(e3,{children:y.jsx(jx,{context:_,modal:!1,disabled:d,children:y.jsx("div",{ref:p.setFloating,style:{position:C,top:`${g}px`,insetInlineStart:`${m}px`},...A({onClick:R=>{o!=null&&o.stopFloatingPropagation&&R.stopPropagation(),o!=null&&o.hideOnMenuClick&&l(!1)}}),className:fe("start-0 flex rounded-2xl p-1.5 shadow-xl",Un.modal,i),children:r})})})]})}function YJ(t){const{buttonSize:e}=t,{t:n}=pt(),{startNewConversation:r}=o3(),{createPage:i}=s5e(),o=co(),s=je("pages-anonymous"),{refetch:a}=YDe({disabled:!o&&!s}),c=async()=>{XDe(),await(i==null?void 0:i({content:"",sourcePage:"createNewPage",impressionScenario:"actionMenuCreateNewPage",featureLatencyInfo:{scenario:"createPage",startTimestamp:Date.now()}})),await a()},l=a5e({callback:c,signInScenario:"sidebarActionCreatePage",signInReason:"createPage"}),d=async()=>{!o&&s?c():l()};return y.jsx(a3,{options:{placement:"bottom-end",hideOnMenuClick:!0},className:kc,renderTrigger:p=>y.jsx(lt,{...p,title:n("sidebar.actions.menuTitle"),color:"subtle-dimmed-inverted",variant:"rect",size:e,className:"!min-w-7 !px-0",children:y.jsx(Xh,{className:"size-3.5 rotate-90"})}),children:y.jsxs("div",{className:"flex flex-col gap-2",children:[y.jsx(lt,{color:"subtle-dimmed-inverted",size:"40-base",variant:"rect",alignment:"start",title:n("sidebar.actions.newChat"),onClick:r,children:n("sidebar.actions.newChat")}),y.jsx(lt,{color:"subtle-dimmed-inverted",size:"40-base",alignment:"start",variant:"rect",title:n("sidebar.actions.newPage"),onClick:()=>{setTimeout(()=>{d()},0)},children:n("sidebar.actions.newPage")})]})})}const QJ=t=>b.createElement("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},b.createElement("path",{d:"M9.15898 16.8666C9.36292 17.0528 9.67918 17.0384 9.86536 16.8345C10.0515 16.6305 10.0371 16.3143 9.8332 16.1281L3.66535 10.4974H17.4961C17.7722 10.4974 17.9961 10.2735 17.9961 9.99736C17.9961 9.72122 17.7722 9.49736 17.4961 9.49736H3.66824L9.8332 3.86927C10.0371 3.68309 10.0515 3.36684 9.86536 3.16289C9.67918 2.95895 9.36292 2.94456 9.15898 3.13074L2.24263 9.44478C2.10268 9.57254 2.02285 9.74008 2.00314 9.91323C1.99851 9.94058 1.99609 9.96869 1.99609 9.99736C1.99609 10.0242 1.99821 10.0506 2.00229 10.0763C2.02047 10.2522 2.10058 10.4229 2.24263 10.5526L9.15898 16.8666Z",fill:"currentColor"})),aGe=Object.freeze(Object.defineProperty({__proto__:null,default:QJ},Symbol.toStringTag,{value:"Module"})),XJ=t=>b.createElement("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},b.createElement("path",{d:"M2 4.5C2 4.22386 2.22386 4 2.5 4H13.5C13.7761 4 14 4.22386 14 4.5C14 4.77614 13.7761 5 13.5 5H2.5C2.22386 5 2 4.77614 2 4.5ZM2 14.5C2 14.2239 2.22386 14 2.5 14H12.5C12.7761 14 13 14.2239 13 14.5C13 14.7761 12.7761 15 12.5 15H2.5C2.22386 15 2 14.7761 2 14.5ZM2.5 9C2.22386 9 2 9.22386 2 9.5C2 9.77614 2.22386 10 2.5 10H17.5C17.7761 10 18 9.77614 18 9.5C18 9.22386 17.7761 9 17.5 9H2.5Z",fill:"currentColor"})),cGe=Object.freeze(Object.defineProperty({__proto__:null,default:XJ},Symbol.toStringTag,{value:"Module"})),Vx=t=>b.createElement("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},b.createElement("mask",{id:"mask0_21044_3802",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:20,height:20},b.createElement("path",{d:"M19.7803 1.28033C20.0732 0.987435 20.0732 0.512561 19.7803 0.219669C19.4874 -0.0732238 19.0125 -0.0732228 18.7196 0.219671L8.71967 10.2197L8.25 11.75L9.78033 11.2803L19.7803 1.28033ZM4.25 1C2.45507 1 1 2.45508 1 4.25V15.75C1 17.5449 2.45507 19 4.25 19H15.75C17.5449 19 19 17.5449 19 15.75V7.75C19 7.33579 18.6642 7 18.25 7C17.8358 7 17.5 7.33579 17.5 7.75V15.75C17.5 16.7165 16.7165 17.5 15.75 17.5H4.25C3.2835 17.5 2.5 16.7165 2.5 15.75V4.25C2.5 3.2835 3.2835 2.5 4.25 2.5H12.25C12.6642 2.5 13 2.16421 13 1.75C13 1.33579 12.6642 1 12.25 1H4.25Z",fill:"currentColor"})),b.createElement("g",{mask:"url(#mask0_21044_3802)"},b.createElement("rect",{width:24,height:24,transform:"translate(-2 -2)",fill:"currentColor"}))),lGe=Object.freeze(Object.defineProperty({__proto__:null,default:Vx},Symbol.toStringTag,{value:"Module"}));function c5e(){const[t,e]=b.useState(!1);return b.useEffect(()=>{async function n(){const i=await(Qe.instance().config().isConversationHistoryHidden??(()=>Promise.resolve(!1)))();e(i)}n().catch(()=>{})},[]),t}function Hx(){const t=Wn();return t.startsWith("/podcasts")||t.startsWith("/sharing/podcasts")}function l5e(t){const{open:e,toggle:n}=t,{startNewConversation:r}=o3(),[i]=Lt(cs),o=oe(xv),{t:s}=pt(),a=je("pages"),c=Wn(),l=Hx(),d=i==="chat-only"||e,p=!c5e(),m=!e&&(c.startsWith("/daily")||c.endsWith("/talk")||l||c.startsWith("/labs/experiments/3d-generations"));return y.jsx("div",{className:fe("pointer-events-none absolute start-0 top-0 w-full p-1 pe-3.5",Un.sidebar),children:y.jsx("div",{className:"relative",children:y.jsxs("div",{className:"absolute flex min-w-full items-center justify-between gap-1 p-1",children:[y.jsx(Rr,{children:m&&y.jsx(ct.div,{className:fe("pointer-events-auto absolute inset-0 rounded-2xl border border-stroke-100 shadow-md dark:border-stroke-300",kc),initial:"initial",animate:"animate",exit:"exit",variants:{initial:Vt,animate:Rn,exit:Vt},transition:Gs})}),y.jsxs("div",{className:"pointer-events-auto flex shrink-0 items-center gap-1","data-theme":o&&!e?o.theme:void 0,children:[(p||d&&e)&&y.jsx(lt,{title:s(e?"sidebar.close":"sidebar.open"),className:"after:absolute after:inset-0 after:rounded-lg hover:after:bg-black/3 dark:hover:after:bg-white/5",color:"subtle-dimmed-inverted",variant:"square",size:"28-xxs",onClick:()=>{Yt({source:"sidebarToggle",pageName:c,customData:JSON.stringify({isOpen:e})}),n()},testId:"sidebar-toggle-button",children:e?y.jsx(QJ,{className:"size-4"}):y.jsx(XJ,{className:"size-4"})}),d&&(p||!e)&&y.jsxs("div",{className:"flex rounded-lg hover:bg-black/3 dark:hover:bg-white/5",children:[y.jsx(lt,{title:s("composer.startNewChat"),color:"subtle-dimmed-inverted",variant:"square",size:"28-xxs",onClick:()=>{Yt({source:"sidebarNewConversation",destination:"/chat",pageName:c,customData:JSON.stringify({isOpen:e})}),r()},children:y.jsx(Vx,{className:"size-4"})}),a&&y.jsx(YJ,{buttonSize:"28-xxs"})]})]})]})})})}const D7=65,u5e=100;function j7({count:t=1}){const e=b.useMemo(()=>Array.from({length:t},()=>`${Math.floor(Math.random()*(u5e-D7+1))+D7}%`),[t]);return y.jsx("div",{className:"flex flex-col gap-5 px-3 py-1",children:e.map((n,r)=>y.jsx("div",{style:{width:n},className:fe("relative h-5 overflow-hidden rounded-lg bg-background-300 opacity-30 dark:bg-background-250 dark:opacity-40","border border-background-300 dark:border-background-250","after:absolute after:-start-[300%] after:end-0 after:start-0 after:h-full","after:opacity-50 dark:after:opacity-5","after:bg-gradient-to-r after:from-transparent after:via-white after:to-transparent","after:bg-[length:80%_100%] after:bg-no-repeat","after:animate-[shimmer-translate_2s_infinite]")},r))})}const d5e="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/labs-entry-BqXQ5OEs.png",ZJ=t=>b.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},b.createElement("path",{d:"M19.2501 11.0017C20.2166 11.0017 21.0001 11.7852 21.0001 12.7517V19.2517C21.0001 20.2182 20.2166 21.0017 19.2501 21.0017H14.7501C13.7836 21.0017 13.0001 20.2182 13.0001 19.2517V12.7517C13.0001 11.7852 13.7836 11.0017 14.7501 11.0017H19.2501ZM9.26831 15.0141C10.2348 15.0141 11.0183 15.7976 11.0183 16.7641V19.2517C11.0183 20.2182 10.2348 21.0017 9.26831 21.0017H4.75391C3.78741 21.0017 3.00391 20.2182 3.00391 19.2517V16.7641C3.00391 15.7976 3.78741 15.0141 4.75391 15.0141H9.26831ZM19.2501 12.5017H14.7501C14.612 12.5017 14.5001 12.6136 14.5001 12.7517V19.2517C14.5001 19.3898 14.612 19.5017 14.7501 19.5017H19.2501C19.3882 19.5017 19.5001 19.3898 19.5001 19.2517V12.7517C19.5001 12.6136 19.3882 12.5017 19.2501 12.5017ZM9.26831 16.5141H4.75391C4.61584 16.5141 4.50391 16.626 4.50391 16.7641V19.2517C4.50391 19.3898 4.61584 19.5017 4.75391 19.5017H9.26831C9.40639 19.5017 9.51831 19.3898 9.51831 19.2517V16.7641C9.51831 16.626 9.40639 16.5141 9.26831 16.5141ZM9.25391 3C10.2204 3 11.0039 3.7835 11.0039 4.75V11.25C11.0039 12.1682 10.2968 12.9212 9.39743 12.9942L9.25391 13H4.75391C3.78741 13 3.00391 12.2165 3.00391 11.25V4.75C3.00391 3.7835 3.78741 3 4.75391 3H9.25391ZM9.25391 4.5H4.75391C4.61584 4.5 4.50391 4.61193 4.50391 4.75V11.25C4.50391 11.3881 4.61584 11.5 4.75391 11.5H9.25391L9.31123 11.4934C9.42167 11.4675 9.50391 11.3683 9.50391 11.25V4.75C9.50391 4.61193 9.39198 4.5 9.25391 4.5ZM19.2501 3C20.2166 3 21.0001 3.7835 21.0001 4.75V7.25C21.0001 8.2165 20.2166 9 19.2501 9H14.7501C13.7836 9 13.0001 8.2165 13.0001 7.25V4.75C13.0001 3.7835 13.7836 3 14.7501 3H19.2501ZM14.7501 4.5C14.612 4.5 14.5001 4.61193 14.5001 4.75V7.25C14.5001 7.38807 14.612 7.5 14.7501 7.5H19.2501C19.3882 7.5 19.5001 7.38807 19.5001 7.25V4.75C19.5001 4.61193 19.3882 4.5 19.2501 4.5H14.7501Z",fill:"currentColor"})),uGe=Object.freeze(Object.defineProperty({__proto__:null,default:ZJ},Symbol.toStringTag,{value:"Module"}));function F7(t){return t?{x:t.scrollLeft,y:t.scrollTop}:{x:0,y:0}}function f5e(t){const[e,n]=b.useState(F7(t.current));return b.useEffect(()=>{const r=t.current;let i=null;if(r===null)return()=>{};function o(){i===null&&(i=window.requestAnimationFrame(()=>{n(F7(r)),i=null}))}return r.addEventListener("scroll",o),()=>r.removeEventListener("scroll",o)}),e}function c3(t){const{provider:e="microsoft",scenario:n,from:r}=t,i=tp(),o=ds(),{login:s}=Uv();return b.useCallback(async()=>{if(n&&Or({source:"signin",scenario:n}),i){await o({from:r,to:"/login"});return}await s({provider:e})},[r,o,i,s,e,n])}const l3=t=>b.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...t},b.createElement("path",{d:"M17.7545 14.0002C18.9966 14.0002 20.0034 15.007 20.0034 16.2491V16.8245C20.0034 17.7188 19.6838 18.5836 19.1023 19.263C17.5329 21.0965 15.1457 22.0013 12.0004 22.0013C8.8545 22.0013 6.46849 21.0962 4.90219 19.2619C4.32242 18.583 4.00391 17.7195 4.00391 16.8267V16.2491C4.00391 15.007 5.01076 14.0002 6.25278 14.0002H17.7545ZM17.7545 15.5002H6.25278C5.83919 15.5002 5.50391 15.8355 5.50391 16.2491V16.8267C5.50391 17.3624 5.69502 17.8805 6.04287 18.2878C7.29618 19.7555 9.26206 20.5013 12.0004 20.5013C14.7387 20.5013 16.7063 19.7555 17.9627 18.2876C18.3117 17.8799 18.5034 17.361 18.5034 16.8245V16.2491C18.5034 15.8355 18.1681 15.5002 17.7545 15.5002ZM12.0004 2.00488C14.7618 2.00488 17.0004 4.24346 17.0004 7.00488C17.0004 9.76631 14.7618 12.0049 12.0004 12.0049C9.23894 12.0049 7.00036 9.76631 7.00036 7.00488C7.00036 4.24346 9.23894 2.00488 12.0004 2.00488ZM12.0004 3.50488C10.0674 3.50488 8.50036 5.07189 8.50036 7.00488C8.50036 8.93788 10.0674 10.5049 12.0004 10.5049C13.9334 10.5049 15.5004 8.93788 15.5004 7.00488C15.5004 5.07189 13.9334 3.50488 12.0004 3.50488Z"})),dGe=Object.freeze(Object.defineProperty({__proto__:null,default:l3},Symbol.toStringTag,{value:"Module"}));function h5e(t){const{onClick:e,testId:n,className:r}=t;return y.jsxs(lt,{variant:"rect",color:"default",size:"40-base",className:fe("h-12 items-center justify-center shadow-lg backdrop-blur-md",r),testId:n,onClick:e,title:Ae("common.loginText"),children:[y.jsx("span",{className:"ms-2",children:Ae("common.loginText")}),y.jsx(l3,{className:"size-6","alt-text":Ae("common.profileImage")})]})}const U7="sticky bg-sidebar-light dark:bg-sidebar-dark",B7="before:pointer-events-none before:absolute before:h-10 before:w-full before:from-sidebar-light before:to-transparent dark:before:from-sidebar-dark",p5e="bg-labs-light dark:bg-labs-dark",m5e=b.lazy(()=>de(()=>import("./sidebar-pages-ByLiCZ5A.js"),__vite__mapDeps([212,213])).then(t=>({default:t.SidebarPages}))),g5e=b.lazy(()=>de(()=>import("./conversations-BWzTb-Yi.js"),__vite__mapDeps([214,215,216,217,218,213,219])));function v5e(){const{t}=pt(),e=Wn(),n=ds(),r=c3({scenario:"conversationsAnonymous",from:e}),i=co(),o=je("pages"),s=je("pages-sidebar-empty-cta"),a=je("pages-anonymous"),c=(i||s||a)&&o,l=a&&!i,d=je("labs-landing");je("share-campaign-gallery");const p=Bx(),m=p||e==="/daily",g=e.startsWith("/labs");e.startsWith("/campaigns/gallery");const C=oe(tx),_=b.useRef(null),{y:S}=f5e(_),w=S>0,T=r3(),I=We(Od);return y.jsx("div",{className:fe("h-screen px-1 py-2",T?"w-full":"w-sidebar"),children:y.jsx("div",{className:"t-custom-scrollbar h-full overflow-y-auto overflow-x-hidden",ref:_,children:y.jsxs("div",{className:"flex min-h-full w-full flex-col px-2",children:[y.jsxs("div",{className:fe(U7,B7,"top-0 z-10 flex flex-col gap-px pb-3 pt-[72px]","before:bottom-0 before:top-full before:bg-gradient-to-b before:opacity-90",w&&"after:absolute after:bottom-0 after:mx-1 after:w-[calc(100%-8px)] after:border-b after:border-black/8 dark:after:border-white/10",T&&"whitespace-nowrap"),children:[y.jsx(lt,{className:fe("flex-col px-2.5 py-2",m&&"!bg-black/5 dark:!bg-white/8"),title:t("composer.goToHome"),color:"subtle-dimmed-inverted",onClick:async()=>{p?T&&I(!1):(Yt({source:"sidebarDiscoverButton",destination:"/",pageName:e}),await n({to:"/",from:e}))},testId:"sidebar-discover-button",children:y.jsxs("span",{className:"flex w-full items-center gap-3",children:[y.jsx("span",{className:"relative flex size-10 shrink-0 items-center justify-center bg-spot-peach-350/40 text-salmon-600 squircle-16 dark:bg-slate-650/60 dark:text-foreground-750",children:y.jsx(ZJ,{className:"size-6"})}),y.jsxs("span",{className:"flex flex-1 flex-col",children:[y.jsx("span",{className:"h-6 w-full text-start text-base-strong",children:t("sidebar.discover")}),y.jsx("span",{className:"w-full text-start text-foreground-650 text-xs",children:t("sidebar.discoverDescription")})]})]})}),d&&y.jsx(lt,{className:fe("flex-col px-2.5 py-2",g&&"!bg-black/5 dark:!bg-white/8"),title:t("sidebar.labsDescription"),color:"subtle-dimmed-inverted",onClick:async()=>{Yt({source:"sidebarLabsButton",destination:"/labs",pageName:e}),await n({to:"/labs",from:e}),T&&g&&I(!1)},children:y.jsxs("span",{className:"flex w-full items-center gap-3",children:[y.jsx("span",{className:fe("relative flex size-10 shrink-0 items-center justify-center text-salmon-600 squircle-16 dark:text-foreground-750",p5e),children:y.jsx("img",{src:d5e,alt:t("sidebar.labs"),className:"size-6"})}),y.jsxs("span",{className:"flex flex-1 flex-col",children:[y.jsx("span",{className:"h-6 w-full text-start text-base-strong",children:t("sidebar.labs")}),y.jsx("span",{className:"w-full text-start text-foreground-650 text-xs",children:t("sidebar.labsDescription")})]})]})}),hme]}),y.jsxs("div",{className:"relative flex grow flex-col py-5",children:[c&&y.jsx(b.Suspense,{fallback:null,children:y.jsx(m5e,{})}),y.jsx("h2",{className:"mb-5 flex gap-2 px-3 align-middle text-base-strong",children:t("sidebar.conversations")}),C?y.jsx(b.Suspense,{fallback:y.jsx(j7,{count:16}),children:y.jsx(g5e,{inSidebar:!0})}):y.jsx(j7,{count:16})]}),y.jsx("div",{className:fe(U7,B7,"bottom-0 before:bottom-full before:bg-gradient-to-t"),children:l&&y.jsx(h5e,{className:"m-3",onClick:r})})]})})})}const y5e="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/copilot-wordmark-DvWA6bVb.svg",GC=t=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 120 120",fill:"none",...t},b.createElement("defs",null,b.createElement("radialGradient",{id:"a",cx:0,cy:0,r:1,gradientTransform:"matrix(-27.40125 -33.47302 31.47539 -25.76598 95.512 51.286)",gradientUnits:"userSpaceOnUse"},b.createElement("stop",{offset:.096,stopColor:"#00AEFF"}),b.createElement("stop",{offset:.773,stopColor:"#2253CE"}),b.createElement("stop",{offset:1,stopColor:"#0736C4"})),b.createElement("radialGradient",{id:"b",cx:0,cy:0,r:1,gradientTransform:"rotate(51.84 -70.254 70.14)scale(39.9779 38.7796)",gradientUnits:"userSpaceOnUse"},b.createElement("stop",{stopColor:"#FFB657"}),b.createElement("stop",{offset:.634,stopColor:"#FF5F3D"}),b.createElement("stop",{offset:.923,stopColor:"#C02B3C"})),b.createElement("radialGradient",{id:"e",cx:0,cy:0,r:1,gradientTransform:"matrix(-31.67773 90.58917 -108.5232 -37.949 103.796 30.703)",gradientUnits:"userSpaceOnUse"},b.createElement("stop",{offset:.066,stopColor:"#8C48FF"}),b.createElement("stop",{offset:.5,stopColor:"#F2598A"}),b.createElement("stop",{offset:.896,stopColor:"#FFB152"})),b.createElement("linearGradient",{id:"c",x1:31.75,x2:37.471,y1:18.75,y2:84.938,gradientUnits:"userSpaceOnUse"},b.createElement("stop",{offset:.156,stopColor:"#0D91E1"}),b.createElement("stop",{offset:.487,stopColor:"#52B471"}),b.createElement("stop",{offset:.652,stopColor:"#98BD42"}),b.createElement("stop",{offset:.937,stopColor:"#FFC800"})),b.createElement("linearGradient",{id:"d",x1:36.75,x2:39.874,y1:10,y2:82.213,gradientUnits:"userSpaceOnUse"},b.createElement("stop",{stopColor:"#3DCBFF"}),b.createElement("stop",{offset:.247,stopColor:"#0588F7",stopOpacity:0})),b.createElement("linearGradient",{id:"f",x1:106.964,x2:106.923,y1:33.365,y2:53.037,gradientUnits:"userSpaceOnUse"},b.createElement("stop",{offset:.058,stopColor:"#F8ADFA"}),b.createElement("stop",{offset:.708,stopColor:"#A86EDD",stopOpacity:0}))),b.createElement("path",{fill:"url(#a)",d:"M85.855 18.313A11.574 11.574 0 0 0 74.75 10h-3.379a11.574 11.574 0 0 0-11.384 9.485L54.2 51.018l1.436-4.913a11.574 11.574 0 0 1 11.11-8.327H86.38l8.235 3.207 7.937-3.207h-2.316a11.574 11.574 0 0 1-11.105-8.313z"}),b.createElement("path",{fill:"url(#b)",d:"M36.326 101.64A11.574 11.574 0 0 0 47.445 110h7.176c6.276 0 11.409-5.002 11.57-11.277l.781-30.405-1.634 5.583a11.574 11.574 0 0 1-11.108 8.321H34.432l-7.058-3.829-7.641 3.83h2.278c5.154 0 9.687 3.408 11.119 8.36z"}),b.createElement("path",{fill:"url(#c)",d:"M74.248 10H34.15c-11.457 0-18.33 15.142-22.913 30.283-5.43 17.939-12.534 41.93 8.02 41.93H36.57c5.174 0 9.716-3.421 11.138-8.396 3.01-10.531 8.286-28.903 12.43-42.889 2.105-7.107 3.86-13.211 6.551-17.012C68.2 11.785 70.715 10 74.248 10"}),b.createElement("path",{fill:"url(#d)",d:"M74.248 10H34.15c-11.457 0-18.33 15.142-22.913 30.283-5.43 17.939-12.534 41.93 8.02 41.93H36.57c5.174 0 9.716-3.421 11.138-8.396 3.01-10.531 8.286-28.903 12.43-42.889 2.105-7.107 3.86-13.211 6.551-17.012C68.2 11.785 70.715 10 74.248 10"}),b.createElement("path",{fill:"url(#e)",d:"M46.744 110h40.099c11.456 0 18.33-15.144 22.913-30.288 5.429-17.942 12.533-41.937-8.02-41.937H84.422a11.576 11.576 0 0 0-11.138 8.396c-3.01 10.533-8.286 28.909-12.43 42.897-2.106 7.109-3.86 13.214-6.552 17.016-1.51 2.131-4.025 3.916-7.558 3.916"}),b.createElement("path",{fill:"url(#f)",d:"M46.744 110h40.099c11.456 0 18.33-15.144 22.913-30.288 5.429-17.942 12.533-41.937-8.02-41.937H84.422a11.576 11.576 0 0 0-11.138 8.396c-3.01 10.533-8.286 28.909-12.43 42.897-2.106 7.109-3.86 13.214-6.552 17.016-1.51 2.131-4.025 3.916-7.558 3.916"})),fGe=Object.freeze(Object.defineProperty({__proto__:null,default:GC},Symbol.toStringTag,{value:"Module"})),JJ=t=>b.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...t},b.createElement("path",{d:"M3.75 8.5C3.75 8.08579 4.08579 7.75 4.5 7.75H5.75C6.16421 7.75 6.5 8.08579 6.5 8.5C6.5 8.91421 6.16421 9.25 5.75 9.25H4.5C4.08579 9.25 3.75 8.91421 3.75 8.5ZM3.75 12C3.75 11.5858 4.08579 11.25 4.5 11.25H5.75C6.16421 11.25 6.5 11.5858 6.5 12C6.5 12.4142 6.16421 12.75 5.75 12.75H4.5C4.08579 12.75 3.75 12.4142 3.75 12ZM3.75 15.5C3.75 15.0858 4.08579 14.75 4.5 14.75H5.75C6.16421 14.75 6.5 15.0858 6.5 15.5C6.5 15.9142 6.16421 16.25 5.75 16.25H4.5C4.08579 16.25 3.75 15.9142 3.75 15.5ZM4.25 3C2.45507 3 1 4.45507 1 6.25V17.75C1 19.5449 2.45508 21 4.25 21H19.75C21.5449 21 23 19.5449 23 17.75V6.25C23 4.45507 21.5449 3 19.75 3H4.25ZM19.75 19.5H9V4.5H19.75C20.7165 4.5 21.5 5.2835 21.5 6.25V17.75C21.5 18.7165 20.7165 19.5 19.75 19.5ZM4.25 4.5H7.5V19.5H4.25C3.2835 19.5 2.5 18.7165 2.5 17.75V6.25C2.5 5.2835 3.2835 4.5 4.25 4.5Z",fill:"currentColor"})),hGe=Object.freeze(Object.defineProperty({__proto__:null,default:JJ},Symbol.toStringTag,{value:"Module"}));function xo({url:t,className:e}){return y.jsx("div",{className:e,style:{WebkitMaskImage:`url(${t})`,maskImage:`url(${t})`,backgroundColor:"currentColor",WebkitMaskRepeat:"no-repeat",maskRepeat:"no-repeat",WebkitMaskPosition:"center",maskPosition:"center",WebkitMaskSize:"contain",maskSize:"contain"}})}function b5e(t){const{open:e,toggle:n}=t,{startNewConversation:r}=o3(),[i]=Lt(cs),o=oe(xv),{t:s}=pt(),a=je("pages"),c=Wn(),l=Hx(),d=i==="chat-only"||e,p=!e&&(c.startsWith("/daily")||c.endsWith("/talk")||l||c.startsWith("/labs/experiments/3d-generations"));return y.jsx("div",{className:fe("pointer-events-none absolute start-0 top-0 w-full p-2.5 pe-3.5",Un.sidebar),children:y.jsx("div",{className:"relative",children:y.jsxs("div",{className:"absolute flex min-w-full items-center justify-between gap-1 p-1",children:[y.jsx(Rr,{children:p&&y.jsx(ct.div,{className:fe("pointer-events-auto absolute inset-0 rounded-2xl border border-stroke-100 shadow-md dark:border-stroke-300",kc),initial:"initial",animate:"animate",exit:"exit",variants:{initial:Vt,animate:Rn,exit:Vt},transition:Gs})}),y.jsx(_i,{className:"flex items-center",delay:zs.default,duration:zs.slow,children:e&&y.jsxs(lt,{role:"link",title:s("sidebar.homepageLink"),className:"pointer-events-auto absolute start-0 flex items-center gap-2.5 px-3.5",color:"subtle-dimmed-inverted",testId:"sidebar-copilot-brand-button",onClick:async()=>{Yt({source:"sidebarBrandButton",destination:"/chat",pageName:c}),await r()},children:[y.jsx(GC,{className:"size-6"}),y.jsx("span",{className:"text-md-strong",children:y.jsx(xo,{url:y5e,className:"h-[18px] w-[58px]"})})]})}),y.jsxs("div",{className:"pointer-events-auto flex shrink-0 items-center gap-1","data-theme":o&&!e?o.theme:void 0,children:[y.jsx(lt,{title:s(e?"sidebar.close":"sidebar.open"),className:"after:absolute after:inset-0 after:rounded-xl hover:after:bg-black/3 dark:hover:after:bg-white/5",color:"subtle-dimmed-inverted",variant:"square",size:"36-sm",onClick:()=>{Yt({source:"sidebarToggle",pageName:c,customData:JSON.stringify({isOpen:e})}),n()},testId:"sidebar-toggle-button",children:y.jsx(JJ,{className:"size-6"})}),d&&y.jsxs("div",{className:"flex rounded-xl hover:bg-black/3 dark:hover:bg-white/5",children:[y.jsx(lt,{title:s("composer.startNewChat"),color:"subtle-dimmed-inverted",variant:"square",size:"36-sm",onClick:()=>{Yt({source:"sidebarNewConversation",destination:"/chat",pageName:c,customData:JSON.stringify({isOpen:e})}),r()},children:y.jsx(Vx,{className:"size-5"})}),a&&y.jsx(YJ,{buttonSize:"36-sm"})]})]})]})})})}function C5e(){const[t,e]=Lt(Od),n=gi({breakpoint:"md"}),r=b.useRef(n),i=Qe.instance().config().useCompactSidebarHeader??!1;yx(()=>{n&&e(!1)}),b.useEffect(()=>{r.current===!1&&n&&e(!1),r.current===!0&&!n&&e(GJ()==="open"),r.current=n},[n,e]);const o=()=>{e(s=>!s),n||e5e(t?"close":"open")};return y.jsxs(y.Fragment,{children:[y.jsx(Rr,{children:n&&t&&y.jsx(ct.div,{className:"fixed inset-0 bg-black/30",onClick:()=>e(!1),initial:"initial",animate:"animate",exit:"exit",variants:{initial:Vt,animate:Rn,exit:Vt},transition:Gs})}),y.jsxs(ct.div,{className:fe("relative w-full bg-sidebar-light dark:bg-sidebar-dark",t&&"h-full"),layout:"position",children:[i?y.jsx(l5e,{open:t,toggle:o}):y.jsx(b5e,{open:t,toggle:o}),y.jsx(Rr,{children:t&&y.jsx(ct.div,{className:"overflow-hidden",initial:"initial",animate:"animate",exit:"exit",variants:{initial:Vt,animate:Rn,exit:Vt},transition:Gs,children:y.jsx(v5e,{})})})]})]})}const _5e=324,V7="bg-sidebar-light dark:bg-sidebar-dark";function w5e(t){const{children:e}=t,n=document.getElementById("app"),r=$5(),i=gi({breakpoint:"md"}),o=Po(),a=oe(Od)&&o,[c,l]=b.useState(!1),d=oe(cs),p=r3();b.useEffect(()=>{n&&n.style.setProperty("--layout-offset-y",o&&a&&!i?`${Ka}px`:"0px")},[n,o,a,i]);const m=a&&!i,g=d==="side-by-side",C=p?"100%":_5e;return y.jsxs("div",{className:fe("flex h-full overflow-hidden",V7),children:[o&&y.jsx(ct.div,{className:fe("h-full will-change-auto",i?"absolute":"relative",i&&V7,i&&Un.sidebar),initial:{width:a?C:0},animate:{width:a?C:0},transition:Gs,onAnimationStart:()=>l(!0),onAnimationComplete:()=>l(!1),children:y.jsx(C5e,{})}),y.jsx(ct.main,{className:fe("relative w-full min-w-0 will-change-auto","before:fixed before:inset-2 before:start-[324px] before:rounded-[10px] before:shadow-lg","after:pointer-events-none after:fixed after:inset-2 after:start-[324px] after:rounded-[10px] after:border after:border-transparent after:transition-opacity dark:after:border-white/12 dark:after:border-s-white/8",m&&!c?"after:opacity-100 after:duration-1000":"after:opacity-0 after:duration-0"),initial:{paddingTop:m||g?Ka:0,paddingBottom:!g&&m?Ka:0,paddingLeft:m&&r?Ka:0,paddingRight:m&&!r?Ka:0},animate:{paddingTop:m||g?Ka:0,paddingBottom:!g&&m?Ka:0,paddingLeft:m&&r||!m&&g?Ka:0,paddingRight:m&&!r||!m&&g?Ka:0},transition:i?{duration:0}:Gs,children:e})]})}function eee(t){const{deferred:e=!1}=t??{},n=pz(),[r,i]=Lt(Tq),o=We(gx);b.useEffect(()=>{const c=m_e();c&&i(c)},[n.search,i]);const s=b.useCallback(()=>{i(null)},[i]),a=b.useCallback(c=>{c&&o({source:"promptInUrl",prompt:c})},[o]);return b.useEffect(()=>{r&&!e&&a(r)},[e,a,r]),{prompt:r,handler:e?a:void 0,clear:s}}function S5e(){const t=je("prompt-pt-learn-partial"),e=je("prompt-pt-learn-full"),n=je("prompt-pt-learn-fill"),r=je("prompt-pt-advice-partial"),i=je("prompt-pt-advice-full"),o=je("prompt-pt-advice-fill"),s=je("prompt-pt-ideas-partial"),a=je("prompt-pt-ideas-full"),c=je("prompt-pt-ideas-fill"),l=je("prompt-pt-msn-answers"),d=je("prompt-pt-msn-headlines"),p=je("prompt-pt-msn-events"),m=je("prompt-pt-msn-answers-full"),g=je("prompt-pt-msn-headlines-full"),C=je("prompt-pt-msn-events-full"),_=he.getFormCode();let S=null,w=!1,T=!1,I=!1;switch(_){case"NTPCHB":{t||e||n?S="teach":r||i||o?S="advice":(s||a||c)&&(S="ideas"),w=t||r||s,T=e||i||a,I=n||o||c;break}case"MSNCHB":{l||m?S="answers":d||g?S="headlines":(p||C)&&(S="events"),T=m||g||C,I=l||d||p;break}default:S=null}let A=null;w?A="prefix":(T||I)&&(A="complete");let k=null;return w||I?k="partial":T&&(k="full"),{formCode:_,treatment:S,lengthVariant:A,passthroughType:k}}function E5e(){var e;const t=oe(dQ);if(t)return{character:{id:t.id,locationId:(e=t.location)==null?void 0:e.id}}}function u3(){var C,_;const t=je("labs-actions"),e=!!oe(jC),n=je("labs-actions-skipprocheck"),r=je("freemium-actions-upsell")&&Qe.instance().config().proSubscription.enabled,i=co(),o=!!oe(GD),s=oe(fs),a=!s||ame.includes(s),c=((C=Qe.instance().config().actions)==null?void 0:C.overrideFreemiumActionsUpsellFeatureEnabled)??!1,l=(r||c)&&i&&!o&&!a,d=oe(NS),p=((_=Qe.instance().config().actions)==null?void 0:_.overrideLabsActionsFeatureEnabled)??!1,[m,g]=b.useState(!1);return b.useEffect(()=>{async function S(){var T;await(((T=Qe.instance().config().actions)==null?void 0:T.enableActions)??(()=>Promise.resolve(!1)))()&&g(!0)}S().catch(()=>{})},[g,d]),(p||t)&&(e||n||l)&&m}function d3(){const t=xd(Nr),e=We(aD);return b.useCallback((n,r)=>{t(i=>{const o=i.get(n);if(o){const{history:s}=o;r(s);const a=s.at(-1);if(a){const c=new Date(o.updatedAt),l=new Date(a.createdAt);c<l&&(o.updatedAt=a.createdAt)}s.length>2&&(o.isNew=!1,e(!0))}return i})},[t,e])}function T5e(){const t=je("bing-uet");b.useEffect(()=>{if(!t)return()=>{};const e=()=>{if(!window.UET)return;window.uetq=window.uetq??[];const r={ti:"355026945",enableAutoSpaTracking:!0};window.uetq=new window.UET(r),window.uetq.push("pageLoad")},n=document.createElement("script");return n.src="https://bat.bing.com/bat.js",n.async=!0,n.onload=e,document.head.appendChild(n),()=>{document.head.removeChild(n)}},[t])}let H7=!1;function I5e(){H7||(H7=!0,window.uetq=window.uetq??[],window.uetq.push("event","outbound_click",{}))}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var x5e=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),A5e=Object.prototype.hasOwnProperty;function RM(t,e){return A5e.call(t,e)}function PM(t){if(Array.isArray(t)){for(var e=new Array(t.length),n=0;n<e.length;n++)e[n]=""+n;return e}if(Object.keys)return Object.keys(t);var r=[];for(var i in t)RM(t,i)&&r.push(i);return r}function ts(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}function OM(t){for(var e=0,n=t.length,r;e<n;){if(r=t.charCodeAt(e),r>=48&&r<=57){e++;continue}return!1}return!0}function Nf(t){return t.indexOf("/")===-1&&t.indexOf("~")===-1?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function tee(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function NM(t){if(t===void 0)return!0;if(t){if(Array.isArray(t)){for(var e=0,n=t.length;e<n;e++)if(NM(t[e]))return!0}else if(typeof t=="object"){for(var r=PM(t),i=r.length,o=0;o<i;o++)if(NM(t[r[o]]))return!0}}return!1}function z7(t,e){var n=[t];for(var r in e){var i=typeof e[r]=="object"?JSON.stringify(e[r],null,2):e[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var nee=function(t){x5e(e,t);function e(n,r,i,o,s){var a=this.constructor,c=t.call(this,z7(n,{name:r,index:i,operation:o,tree:s}))||this;return c.name=r,c.index=i,c.operation=o,c.tree=s,Object.setPrototypeOf(c,a.prototype),c.message=z7(n,{name:r,index:i,operation:o,tree:s}),c}return e}(Error),br=nee,k5e=ts,Vm={add:function(t,e,n){return t[e]=this.value,{newDocument:n}},remove:function(t,e,n){var r=t[e];return delete t[e],{newDocument:n,removed:r}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:function(t,e,n){var r=zT(n,this.path);r&&(r=ts(r));var i=Ch(n,{op:"remove",path:this.from}).removed;return Ch(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(t,e,n){var r=zT(n,this.from);return Ch(n,{op:"add",path:this.path,value:ts(r)}),{newDocument:n}},test:function(t,e,n){return{newDocument:n,test:tC(t[e],this.value)}},_get:function(t,e,n){return this.value=t[e],{newDocument:n}}},R5e={add:function(t,e,n){return OM(e)?t.splice(e,0,this.value):t[e]=this.value,{newDocument:n,index:e}},remove:function(t,e,n){var r=t.splice(e,1);return{newDocument:n,removed:r[0]}},replace:function(t,e,n){var r=t[e];return t[e]=this.value,{newDocument:n,removed:r}},move:Vm.move,copy:Vm.copy,test:Vm.test,_get:Vm._get};function zT(t,e){if(e=="")return t;var n={op:"_get",path:e};return Ch(t,n),n.value}function Ch(t,e,n,r,i,o){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(e,0,t,e.path):$T(e,0)),e.path===""){var s={newDocument:t};if(e.op==="add")return s.newDocument=e.value,s;if(e.op==="replace")return s.newDocument=e.value,s.removed=t,s;if(e.op==="move"||e.op==="copy")return s.newDocument=zT(t,e.from),e.op==="move"&&(s.removed=t),s;if(e.op==="test"){if(s.test=tC(t,e.value),s.test===!1)throw new br("Test operation failed","TEST_OPERATION_FAILED",o,e,t);return s.newDocument=t,s}else{if(e.op==="remove")return s.removed=t,s.newDocument=null,s;if(e.op==="_get")return e.value=t,s;if(n)throw new br("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,e,t);return s}}else{r||(t=ts(t));var a=e.path||"",c=a.split("/"),l=t,d=1,p=c.length,m=void 0,g=void 0,C=void 0;for(typeof n=="function"?C=n:C=$T;;){if(g=c[d],g&&g.indexOf("~")!=-1&&(g=tee(g)),i&&(g=="__proto__"||g=="prototype"&&d>0&&c[d-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&m===void 0&&(l[g]===void 0?m=c.slice(0,d).join("/"):d==p-1&&(m=e.path),m!==void 0&&C(e,0,t,m)),d++,Array.isArray(l)){if(g==="-")g=l.length;else{if(n&&!OM(g))throw new br("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,e,t);OM(g)&&(g=~~g)}if(d>=p){if(n&&e.op==="add"&&g>l.length)throw new br("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,e,t);var s=R5e[e.op].call(e,l,g,t);if(s.test===!1)throw new br("Test operation failed","TEST_OPERATION_FAILED",o,e,t);return s}}else if(d>=p){var s=Vm[e.op].call(e,l,g,t);if(s.test===!1)throw new br("Test operation failed","TEST_OPERATION_FAILED",o,e,t);return s}if(l=l[g],n&&d<p&&(!l||typeof l!="object"))throw new br("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,e,t)}}}function lg(t,e,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(e))throw new br("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(t=ts(t));for(var o=new Array(e.length),s=0,a=e.length;s<a;s++)o[s]=Ch(t,e[s],n,!0,i,s),t=o[s].newDocument;return o.newDocument=t,o}function P5e(t,e,n){var r=Ch(t,e);if(r.test===!1)throw new br("Test operation failed","TEST_OPERATION_FAILED",n,e,t);return r.newDocument}function $T(t,e,n,r){if(typeof t!="object"||t===null||Array.isArray(t))throw new br("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,t,n);if(Vm[t.op]){if(typeof t.path!="string")throw new br("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,t,n);if(t.path.indexOf("/")!==0&&t.path.length>0)throw new br('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,t,n);if((t.op==="move"||t.op==="copy")&&typeof t.from!="string")throw new br("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&t.value===void 0)throw new br("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,t,n);if((t.op==="add"||t.op==="replace"||t.op==="test")&&NM(t.value))throw new br("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,t,n);if(n){if(t.op=="add"){var i=t.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new br("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,t,n)}else if(t.op==="replace"||t.op==="remove"||t.op==="_get"){if(t.path!==r)throw new br("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,t,n)}else if(t.op==="move"||t.op==="copy"){var s={op:"_get",path:t.from,value:void 0},a=ree([s],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new br("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,t,n)}}}else throw new br("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,t,n)}function ree(t,e,n){try{if(!Array.isArray(t))throw new br("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)lg(ts(e),ts(t),n||!0);else{n=n||$T;for(var r=0;r<t.length;r++)n(t[r],r,e,void 0)}}catch(i){if(i instanceof br)return i;throw i}}function tC(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=Array.isArray(t),r=Array.isArray(e),i,o,s;if(n&&r){if(o=t.length,o!=e.length)return!1;for(i=o;i--!==0;)if(!tC(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(t);if(o=a.length,o!==Object.keys(e).length)return!1;for(i=o;i--!==0;)if(!e.hasOwnProperty(a[i]))return!1;for(i=o;i--!==0;)if(s=a[i],!tC(t[s],e[s]))return!1;return!0}return t!==t&&e!==e}const O5e=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:br,_areEquals:tC,applyOperation:Ch,applyPatch:lg,applyReducer:P5e,deepClone:k5e,getValueByPointer:zT,validate:ree,validator:$T},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var f3=new WeakMap,N5e=function(){function t(e){this.observers=new Map,this.obj=e}return t}(),M5e=function(){function t(e,n){this.callback=e,this.observer=n}return t}();function L5e(t){return f3.get(t)}function D5e(t,e){return t.observers.get(e)}function j5e(t,e){t.observers.delete(e.callback)}function F5e(t,e){e.unobserve()}function U5e(t,e){var n=[],r,i=L5e(t);if(!i)i=new N5e(t),f3.set(t,i);else{var o=D5e(i,e);r=o&&o.observer}if(r)return r;if(r={},i.value=ts(t),e){r.callback=e,r.next=null;var s=function(){MM(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(s)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=t,r.unobserve=function(){MM(r),clearTimeout(r.next),j5e(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(e,new M5e(e,r)),r}function MM(t,e){e===void 0&&(e=!1);var n=f3.get(t.object);h3(n.value,t.object,t.patches,"",e),t.patches.length&&lg(n.value,t.patches);var r=t.patches;return r.length>0&&(t.patches=[],t.callback&&t.callback(r)),r}function h3(t,e,n,r,i){if(e!==t){typeof e.toJSON=="function"&&(e=e.toJSON());for(var o=PM(e),s=PM(t),a=!1,c=s.length-1;c>=0;c--){var l=s[c],d=t[l];if(RM(e,l)&&!(e[l]===void 0&&d!==void 0&&Array.isArray(e)===!1)){var p=e[l];typeof d=="object"&&d!=null&&typeof p=="object"&&p!=null&&Array.isArray(d)===Array.isArray(p)?h3(d,p,n,r+"/"+Nf(l),i):d!==p&&(i&&n.push({op:"test",path:r+"/"+Nf(l),value:ts(d)}),n.push({op:"replace",path:r+"/"+Nf(l),value:ts(p)}))}else Array.isArray(t)===Array.isArray(e)?(i&&n.push({op:"test",path:r+"/"+Nf(l),value:ts(d)}),n.push({op:"remove",path:r+"/"+Nf(l)}),a=!0):(i&&n.push({op:"test",path:r,value:t}),n.push({op:"replace",path:r,value:e}))}if(!(!a&&o.length==s.length))for(var c=0;c<o.length;c++){var l=o[c];!RM(t,l)&&e[l]!==void 0&&n.push({op:"add",path:r+"/"+Nf(l),value:ts(e[l])})}}}function B5e(t,e,n){n===void 0&&(n=!1);var r=[];return h3(t,e,r,"",n),r}const V5e=Object.freeze(Object.defineProperty({__proto__:null,compare:B5e,generate:MM,observe:U5e,unobserve:F5e},Symbol.toStringTag,{value:"Module"}));Object.assign({},O5e,V5e,{JsonPatchError:nee,deepClone:ts,escapePathComponent:Nf,unescapePathComponent:tee});function H5e(t){var n;const e=[];for(const r of t){if(r.type!=="product"&&r.type!=="propertyPromotion"&&r.type!=="tourActivity")return null;if(!r.tags)continue;if(r.tags.length>1)return null;const i=r.tags[0];if(!(!i||!i.value))if(e.length===0)e.push(i);else{if(((n=e[0])==null?void 0:n.category)!==i.category)return null;e.find(o=>o.value===i.value)||e.push(i)}}return e}function pGe(t,e){var n;return t!=null&&t.length?JSON.stringify({tagCategory:(n=t[0])==null?void 0:n.category,tagValue:(e==null?void 0:e.value)??"recommended",tagPosition:e?t.indexOf(e)+1:null,tagCount:t.length}):""}function z5e(t){return t.every(e=>e.type==="product"||e.type==="propertyPromotion"||e.type==="tourActivity")}function mGe(t,e,n){let r=t;return e!=null&&e.length&&n?r=t.filter(i=>{var o;return i.tags&&((o=i.tags[0])==null?void 0:o.value)===n.value}):e!=null&&e.length&&!n&&(r=t.filter(i=>!i.tags)),r}class $5e{constructor(e){Se(this,"startTime",0);Se(this,"timeToFirstToken",0);Se(this,"receivedFirstToken",!1);Se(this,"receivedLastToken",!1);Se(this,"currentAdditionalData");Se(this,"currentMessageId","");Se(this,"receivedMessageTime",0);Se(this,"startMessageTime",0);Se(this,"mostRecentTokenTime",0);this.startTime=e}resetStartTime(e){this.startTime=e,this.timeToFirstToken=0}onBeforeSend(){this.receivedFirstToken=!1,this.receivedLastToken=!1}onSent(e){this.currentAdditionalData=e}onReceived(e){this.receivedMessageTime=performance.now(),he.trackEvent({name:"system",data:{eventName:"copilotChatRequest",eventInfo_additionalData:this.currentAdditionalData,eventInfo_duration:this.receivedMessageTime-this.startTime,eventInfo_conversationId:e.conversationId,eventInfo_messageId:this.currentMessageId,eventInfo_mode:e.chatMode}})}onStartMessage(e){this.startMessageTime=performance.now(),this.currentMessageId=e.messageId,this.receivedMessageTime||(this.receivedMessageTime=this.startTime),he.trackEvent({name:"system",data:{eventName:"copilotChatReqToResp",eventInfo_duration:this.startMessageTime-this.receivedMessageTime,eventInfo_additionalData:this.currentAdditionalData,eventInfo_conversationId:e.conversationId,eventInfo_messageId:e.messageId,eventInfo_mode:e.chatMode}})}onFirstToken(e,n,r){if(!this.receivedFirstToken&&e===this.currentMessageId){const i=performance.now()-this.startTime;this.timeToFirstToken=i,this.receivedFirstToken=!0,he.trackEvent({name:"system",data:{eventName:"copilotChatRespToReceived",eventInfo_additionalData:this.currentAdditionalData,eventInfo_conversationId:r,eventInfo_duration:performance.now()-this.receivedMessageTime,eventInfo_messageId:e,eventInfo_mode:n}}),he.trackEvent({name:"system",data:{eventName:"copilotFirstTokenReceived",eventInfo_conversationId:r,eventInfo_messageId:e,eventInfo_duration:i,eventInfo_mode:n,eventInfo_additionalData:this.currentAdditionalData}})}this.mostRecentTokenTime=performance.now()}onLastToken(e){const{citationCount:n,imageCount:r,messageId:i,inputMethod:o,conversationId:s,chatMode:a}=e;if(!this.receivedLastToken&&i===this.currentMessageId){const c=this.mostRecentTokenTime-this.startTime;this.receivedLastToken=!0,he.trackEvent({name:"system",data:{eventName:"copilotResponseRender",eventInfo_conversationId:s,eventInfo_messageId:i,eventInfo_numCitations:n,eventInfo_numImagesGenerated:r,eventInfo_inputMethod:o,eventInfo_responseMethod:"text",eventInfo_mode:a,eventInfo_additionalData:this.currentAdditionalData,eventInfo_landingPage:he.getLandingPage(),eventInfo_firstToLastTokenDuration:c-this.timeToFirstToken}}),he.trackEvent({name:"system",data:{eventName:"copilotLastTokenReceived",eventInfo_conversationId:s,eventInfo_messageId:i,eventInfo_duration:c,eventInfo_mode:a,eventInfo_additionalData:this.currentAdditionalData}}),he.trackEvent({name:"system",data:{eventName:"copilotChatE2E",eventInfo_conversationId:s,eventInfo_messageId:i,eventInfo_duration:performance.now()-this.startTime,eventInfo_mode:a,eventInfo_additionalData:this.currentAdditionalData}}),this.currentAdditionalData=void 0}}onAdsRender(e){const n=performance.now()-this.startTime,{ads:r}=e,o=(r==null?void 0:r.find(c=>c.type==="miniShowroom"))??(r&&r.length>0?r[0]:void 0),s=r&&z5e(r)?H5e(r):[],a=r==null?void 0:r.find(c=>c.type==="mainShowroom");he.trackEvent({name:"system",data:{eventName:"copilotAdsSignal",eventInfo_scenario:"render",eventInfo_adType:o==null?void 0:o.type,eventInfo_adCount:r==null?void 0:r.length,eventInfo_rguid:e.requestId,eventInfo_messageId:e.messageId,eventInfo_conversationId:e.conversationId,eventInfo_duration:n,eventInfo_additionalData:JSON.stringify({eventType:e.eventType,adTags:s!=null&&s.length?s:void 0,brandId:a==null?void 0:a.brandId})}})}onSubmitMessageBlocked(e,n,r){he.trackEvent({name:"interaction",data:{eventName:"copilotUserInputBlocked",eventInfo_inputMethod:n,eventInfo_mode:e,eventInfo_messageId:this.currentMessageId,eventInfo_conversationId:r,eventInfo_duration:performance.now()-this.startTime,eventInfo_additionalData:this.currentAdditionalData}})}onImageGenerationStart(e){const{messageId:n,conversationId:r,chatMode:i}=e,s=performance.now()-this.startTime;he.trackEvent({name:"system",data:{eventName:"copilotFeatureLatency",eventInfo_scenario:"ImageGenStarted",eventInfo_messageId:n,eventInfo_conversationId:r,eventInfo_mode:i,eventInfo_duration:s}})}onImageReceived(e){const{messageId:n,conversationId:r,chatMode:i}=e,o=performance.now()-this.startTime;he.trackEvent({name:"system",data:{eventName:"copilotFeatureLatency",eventInfo_scenario:"ImageGenReceived",eventInfo_messageId:n,eventInfo_conversationId:r,eventInfo_mode:i,eventInfo_duration:o}})}onPartialImageReceived(e){const{messageId:n,imageGenPhase:r,conversationId:i,chatMode:o}=e,s=performance.now()-this.startTime;he.trackEvent({name:"system",data:{eventName:"copilotFeatureLatency",eventInfo_scenario:"PartialImageGenReceived",eventInfo_messageId:n,eventInfo_conversationId:i,eventInfo_mode:o,eventInfo_duration:s,eventInfo_customData:`${r}`}})}}function W5e(t,e,n){switch(t.type){case"research":return{type:"task",task:{id:t.id,type:t.type,contents:[],partialOutput:[],inlineCitations:[],status:"pending"},partId:e};case"computerUse":return{type:"task",task:{id:t.id,conversationId:t.conversationId,type:t.type,status:"running",updatedAt:n},partId:e};case"podcast":return{type:"task",task:{id:t.id,type:t.type,status:t.status,podcast:t.podcast,updatedAt:t.updatedAt??n},partId:e};default:return null}}const p3=se(null);function K5e({path:t,args:e,onLoad:n,alt:r,...i}){const{data:o,isLoading:s}=hp(t,async a=>{const l=await(await rv(a,e)).blob();return URL.createObjectURL(l)});return b.useEffect(()=>{!s&&n&&n()},[s,n]),s?y.jsx("div",{...i}):y.jsx("img",{...i,src:o,alt:r})}const $7=Ht();function G5e(t){var e,n,r;if(t.status==="completed"){const i=$7.get(sn);if(QC.latestLocation.pathname.startsWith("/chats")&&i&&t.conversationId===i)return;$7.set(p3,{iconProvider:()=>{var o,s,a;return y.jsx(K5e,{path:`/podcasts/user/${(o=t.podcast)==null?void 0:o.id}/Files/${(a=(s=t.podcast)==null?void 0:s.thumbnail)==null?void 0:a.name}`,className:"rounded-xl object-cover"})},title:Ae("podcasts.generationNotification.title"),subtitle:((e=t.podcast)==null?void 0:e.title)??"",action:{type:"GO_TO_PAGE",to:`/podcasts/user/${(n=t.podcast)==null?void 0:n.id}`},trackingArgs:{scenario:"podcastGenerationNotification",customData:JSON.stringify({podcastId:(r=t.podcast)==null?void 0:r.id})},dismissAfter:3e4})}}const W7=Ht();function q5e(t,e){const n=W7.get(sn);if(!n||n===e)return;const r={title:Ae("research.generationNotification.title"),subtitle:Ae("research.generationNotification.subTitle"),link:Ae("research.generationNotification.subTitleLink"),action:{type:"GO_TO_PAGE",to:`/chats/${e}`},dismissable:!0,trackingArgs:{scenario:"researchCompletionNotification",customData:JSON.stringify({researchId:t.id,sourceConversationId:e})}};W7.set(p3,r)}const Y5e=Ht();function Q5e({entryAd:t,mainAd:e,messageId:n,partId:r,conversationId:i}){let o=!1;const s=Y5e.get(xv);return(!s&&t&&e||(s==null?void 0:s.conversationId)===i&&!t&&e&&e.brandId===s.brandId)&&(o=!0),o||he.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"AdsError",eventInfo_details:JSON.stringify({messageId:n,partId:r,conversationId:i,hasEntryAd:!!t,hasMainAd:!!e,mainAdBrandId:e==null?void 0:e.brandId,isShowroomOpened:!!s,showroomBrandId:s==null?void 0:s.brandId}),eventInfo_errorMessage:`Unexpcted showroom data received when showroom is ${s?"opened":"closed"}`}}),o}function X5e({card:t,messageId:e,partId:n,conversationState:r,conversationId:i}){const{ads:o}=t;if(r.timing.onAdsRender({requestId:t.requestId,messageId:e,conversationId:i,eventType:"card",ads:o}),o!=null&&o.some(s=>s.type==="mainShowroom"||s.type==="miniShowroom")){const s=o[0],a=(s==null?void 0:s.type)==="miniShowroom",c=a?s:void 0,l=a?o[1]:s;if(!Q5e({entryAd:c,partId:n,conversationId:i,messageId:e,mainAd:(l==null?void 0:l.type)==="mainShowroom"?l:void 0}))return}mr(i,s=>{const a=Co(s,e);a&&a.content.push({type:"card",partId:n,card:t})})}const Z5e=h.discriminatedUnion("actionName",[YSe]),J5e=Ht();function e3e(t){J5e.set(Nr,e=>Id(e,n=>{for(const{title:r,id:i,updatedAt:o,continuedAt:s}of t){const a=n.get(i);a?(a.title=r,a.id=i,a.updatedAt=o,a.continuedAt=s):n.set(i,{id:i,title:r,updatedAt:o,history:[],streamingState:"idle",continuedAt:s})}}))}const t3e=Ht();function n3e(t,e,n){i3e(t.map(r=>r3e(r,e,n)).filter(r=>r!==void 0))}function r3e(t,e,n){switch(t.type){case"research":return{id:t.id,conversationId:e,type:t.type,status:t.status,updatedAt:""};case"computerUse":return{id:t.id,conversationId:t.conversationId??"",type:t.type,status:t.status,updatedAt:t.updatedAt??"",title:t.title??"",lastScreenshot:t.lastScreenshot};case"podcast":return{id:t.id,conversationId:e,status:t.status==="completed"?"completed":"running",type:t.type,podcast:t.podcast,updatedAt:t.updatedAt??n};default:return}}function i3e(t){t3e.set(Aa,n=>Id(n,r=>{for(const i of t){const o=r.get(i.id);if(o)o.title=i.title,o.conversationId=i.conversationId,o.updatedAt=i.updatedAt,o.status=i.status,o.type=i.type,o.type==="computerUse"&&i.type==="computerUse"&&(o.lastScreenshot=i.lastScreenshot);else{const s={id:i.id,title:i.title,conversationId:i.conversationId,updatedAt:i.updatedAt,status:i.status,type:i.type};s.type==="computerUse"&&i.type==="computerUse"&&(s.chainOfThought=[],s.lastScreenshot=i.lastScreenshot),i.type==="podcast"&&s.type==="podcast"&&(s.podcast=i.podcast),r.set(i.id,s)}}}));const e=t.filter(n=>n.type==="computerUse"&&n.conversationId).map(n=>{const{conversationId:r,title:i,updatedAt:o}=n;return{id:r??"",title:i,updatedAt:o,continuedAt:null,history:[],streamingState:"idle"}});e3e(e)}const iee="cf-turnstile",o3e=`#${iee}`;function s3e(){const t=oe(OS),e=oe(Rd);return Ra("kill-cf-turnstile")?null:y.jsx(qh,{isOpen:t,className:"w-3/4 sm:w-[350px]",children:y.jsx("div",{id:iee,className:"flex flex-1 items-center justify-center","data-theme":e})})}const a3e=new up(()=>new Promise((t,e)=>{const n=setTimeout(()=>{e(new Error("CF Turnstile script took too long to load"))},15e3),r=document.createElement("script");r.type="text/javascript",r.defer=!0,r.src="https://challenges.cloudflare.com/turnstile/v0/api.js",r.onload=()=>{clearTimeout(n),t()},r.onerror=()=>{clearTimeout(n),e(new Error("Failed to load turnstile script"))},document.body.appendChild(r)}));async function c3e(t){if(ch("kill-cf-turnstile")||cn(OS))return;const n=Ht();he.trackEvent({name:"system",data:{eventName:"copilotTurnstileEvent",eventInfo_stage:"attempt"}}),cI.flushSync(()=>{n.set(OS,!0)});try{await a3e.get()}catch{n.set($0,"cf-turnstile");return}try{window.turnstile.render(o3e,{sitekey:"0x4AAAAAAAg146IpY3lPNWte",callback:async r=>{t(r),window.turnstile.remove(),n.set(OS,!1),he.trackEvent({name:"system",data:{eventName:"copilotTurnstileEvent",eventInfo_stage:"success"}})},"error-callback":r=>{he.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"turnstileRenderErrorCallback",eventInfo_details:"Error rendering CF Turnstile.",eventInfo_errorMessage:r}})}})}catch(r){he.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"turnstileRender",eventInfo_details:"Error rendering CF Turnstile",eventInfo_errorMessage:r instanceof Error?r.message:""}}),n.set($0,"cf-turnstile")}}function WT(t,e){return t?Date.now()-parseInt(t,10)<=e:!1}function m3(t,e){return!t||parseInt(t,10)<e}var $H;const zi=($H=Qe.instance().config().crossPromotion)==null?void 0:$H.aggressive;var WH,KH,GH,qH,YH;const pp={"thumbs-up":{cardFeature:"cross-promo-card-thumbsup",popupFeature:"cross-promo-popup-thumbsup",cardConfig:(WH=zi==null?void 0:zi.card)==null?void 0:WH.thumbsUp,popupConfig:(KH=zi==null?void 0:zi.popup)==null?void 0:KH.thumbsUp},copied:{cardFeature:void 0,popupFeature:"cross-promo-popup-copied",cardConfig:void 0,popupConfig:(GH=zi==null?void 0:zi.popup)==null?void 0:GH.copied},engaging:{cardFeature:void 0,popupFeature:"cross-promo-popup-engaging",cardConfig:void 0,popupConfig:(qH=zi==null?void 0:zi.popup)==null?void 0:qH.engaging},"think-deeper":{cardFeature:void 0,popupFeature:"cross-promo-popup-think-deeper",cardConfig:void 0,popupConfig:(YH=zi==null?void 0:zi.popup)==null?void 0:YH.thinkDeeper}};function l3e(){return{type:"popup",title:Ae("crossSelling.aggressivePromotion.popup.thumbsUpTitle"),subTitle:Ae("crossSelling.aggressivePromotion.popup.thumbsUpSubTitle"),images:pp["thumbs-up"].popupConfig}}function u3e(){return{type:"card",title:Ae("crossSelling.aggressivePromotion.card.thumbsUpTitle"),subTitle:Ae("crossSelling.aggressivePromotion.card.thumbsUpSubTitle"),images:pp["thumbs-up"].cardConfig}}function d3e(){return{type:"popup",title:Ae("crossSelling.aggressivePromotion.popup.copiedTitle"),subTitle:Ae("crossSelling.aggressivePromotion.popup.copiedSubTitle"),images:pp.copied.popupConfig}}function f3e(){return{type:"popup",title:Ae("crossSelling.aggressivePromotion.popup.engagingTitle"),subTitle:Ae("crossSelling.aggressivePromotion.popup.engagingSubTitle"),images:pp.engaging.popupConfig}}function h3e(){return{type:"popup",title:Ae("crossSelling.aggressivePromotion.popup.thinkDeeperTitle"),subTitle:Ae("crossSelling.aggressivePromotion.popup.thinkDeeperSubTitle"),images:pp["think-deeper"].popupConfig}}function oee(t){const n=Ht().get(gD),r=n===!0?!1:n!==void 0,i=ir(VD),o=!WT(i,2*wE),s=ir(pT),a=m3(s,2);r&&m3e(t)&&o&&a&&g3e(t)}let K7=!1;function p3e(){const e=Ht().get(so);!K7&&(e==="reasoning"||e==="research")&&(oee("think-deeper"),K7=!0)}function m3e(t){return Eb(t)||see(t)}function Eb(t){const e=pp[t];return Kt(e.popupFeature)&&e.popupConfig!==void 0}function see(t){const e=pp[t];return e.cardFeature!==void 0&&Kt(e.cardFeature)&&e.cardConfig!==void 0&&!mq()}function g3e(t){const e=Ht();t==="thumbs-up"&&Eb(t)?e.set(sl,l3e()):t==="thumbs-up"&&see(t)?e.set(sl,u3e()):t==="copied"&&Eb(t)?e.set(sl,d3e()):t==="engaging"&&Eb(t)?e.set(sl,f3e()):t==="think-deeper"&&Eb(t)&&e.set(sl,h3e())}const _P=se({counter:0,isActive:!0});function v3e(){const t=Ht(),e=t.get(_P);if(!e.isActive)return;const n=e.counter+1;n===ume?(oee("engaging"),t.set(_P,{counter:n,isActive:!1})):t.set(_P,{counter:n,isActive:e.isActive})}const gGe="group/ai-message-item space-y-3 break-words",vGe=new Map([["1c","1C:Enterprise"],["abnf","Augmented Backus-Naur Form"],["accesslog","Apache Access Log"],["actionscript","ActionScript"],["ada","Ada"],["ado","Stata"],["adoc","AsciiDoc"],["ahk","AutoHotkey"],["angelscript","AngelScript"],["apache","Apache config"],["apacheconf","Apache config"],["applescript","AppleScript"],["arcade","ArcGIS Arcade"],["arduino","Arduino"],["arm","ARM Assembly"],["armasm","ARM Assembly"],["as","ActionScript"],["asc","AngelScript"],["asciidoc","AsciiDoc"],["aspectj","AspectJ"],["atom","HTML, XML"],["autohotkey","AutoHotkey"],["autoit","AutoIt"],["avrasm","AVR Assembly"],["awk","Awk"],["axapta","X++"],["bash","Bash"],["basic","BASIC"],["bat","Batch file (DOS)"],["bf","Brainfuck"],["bind","DNS Zone"],["bnf","Backus–Naur Form"],["brainfuck","Brainfuck"],["c","C"],["c#","C#"],["c++","C++"],["cal","C/AL"],["capnp","Cap’n Proto"],["capnproto","Cap’n Proto"],["cc","C++"],["ceylon","Ceylon"],["cjs","JavaScript"],["clean","Clean"],["clj","Clojure"],["clojure","Clojure"],["clojure-repl","Clojure REPL"],["cls","Caché Object Script"],["cmake","CMake"],["cmake.in","CMake"],["cmd","Batch file (DOS)"],["coffee","CoffeeScript"],["coffeescript","CoffeeScript"],["console","Shell Session"],["coq","Coq"],["cos","Caché Object Script"],["cpp","C++"],["cr","Crystal"],["craftcms","Twig"],["crm","crmsh"],["crmsh","crmsh"],["crystal","Crystal"],["cs","C#"],["csharp","C#"],["cson","CoffeeScript"],["csp","CSP"],["css","CSS"],["cts","TypeScript"],["cxx","C++"],["d","D"],["dart","Dart"],["dcl","Clean"],["delphi","Delphi"],["dfm","Delphi"],["diff","Diff"],["django","Django"],["dns","DNS Zone"],["do","Stata"],["docker","Dockerfile"],["dockerfile","Dockerfile"],["dos","Batch file (DOS)"],["dpr","Delphi"],["dsconfig","dsconfig"],["dst","Dust"],["dts","Device Tree"],["dust","Dust"],["ebnf","Extended Backus-Naur Form"],["edn","Clojure"],["elixir","Elixir"],["elm","Elm"],["erb","ERB"],["erl","Erlang"],["erlang","Erlang"],["erlang-repl","Erlang REPL"],["ex","Elixir"],["excel","Excel formulae"],["exs","Elixir"],["f#","F#"],["f90","Fortran"],["f95","Fortran"],["feature","Gherkin"],["fix","FIX"],["flix","Flix"],["fortran","Fortran"],["fs","F#"],["fsharp","F#"],["gams","GAMS"],["gauss","GAUSS"],["gcode","G-code (ISO 6983)"],["gemspec","Ruby"],["gherkin","Gherkin"],["glsl","GLSL"],["gml","GML"],["gms","GAMS"],["go","Go"],["golang","Go"],["golo","Golo"],["gql","GraphQL"],["gradle","Gradle"],["graph","Roboconf"],["graphql","GraphQL"],["groovy","Groovy"],["gss","GAUSS"],["gyp","Python"],["h","C"],["h++","C++"],["haml","HAML"],["handlebars","Handlebars"],["haskell","Haskell"],["haxe","Haxe"],["hbs","Handlebars"],["hh","C++"],["hpp","C++"],["hs","Haskell"],["hsp","HSP"],["html","HTML, XML"],["html.handlebars","Handlebars"],["html.hbs","Handlebars"],["htmlbars","Handlebars"],["http","HTTP"],["https","HTTP"],["hx","Haxe"],["hxx","C++"],["hy","Hy"],["hylang","Hy"],["i7","Inform 7"],["iced","CoffeeScript"],["icl","Clean"],["inform7","Inform 7"],["ini","TOML, also INI"],["ino","Arduino"],["instances","Roboconf"],["ipython","Python"],["irb","Ruby"],["irpf90","IRPF90"],["isbl","ISBL"],["java","Java"],["javascript","JavaScript"],["jboss-cli","JBoss CLI"],["jinja","Django"],["jldoctest","Julia REPL"],["js","JavaScript"],["json","JSON"],["jsonc","JSON"],["jsp","Java"],["jsx","JavaScript"],["julia","Julia"],["julia-repl","Julia REPL"],["k","Q"],["kdb","Q"],["kotlin","Kotlin"],["kt","Kotlin"],["kts","Kotlin"],["lasso","Lasso"],["lassoscript","Lasso"],["latex","LaTeX"],["ldif","LDIF"],["leaf","Leaf"],["less","Less"],["lisp","Lisp"],["livecodeserver","LiveCode"],["livescript","LiveScript"],["llvm","LLVM IR"],["ls","Lasso"],["ls","LiveScript"],["lsl","LSL (Linden Scripting Language)"],["lua","Lua"],["m","Mercury"],["mak","Makefile"],["make","Makefile"],["makefile","Makefile"],["markdown","Markdown"],["mathematica","Mathematica"],["matlab","Matlab"],["maxima","Maxima"],["md","Markdown"],["mel","MEL"],["mercury","Mercury"],["mikrotik","MikroTik RouterOS script"],["mips","MIPS Assembly"],["mipsasm","MIPS Assembly"],["mizar","Mizar"],["mjs","JavaScript"],["mk","Makefile"],["mkd","Markdown"],["mkdown","Markdown"],["ml","OCaml"],["ml","SML (Standard ML)"],["mm","Objective-C"],["mma","Mathematica"],["mojolicious","Mojolicious"],["monkey","Monkey"],["moo","Mercury"],["moon","MoonScript"],["moonscript","MoonScript"],["mts","TypeScript"],["n1ql","N1QL"],["nc","G-code (ISO 6983)"],["nestedtext","Nested Text"],["nginx","Nginx config"],["nginxconf","Nginx config"],["nim","Nim"],["nix","Nix"],["nixos","Nix"],["node-repl","Node REPL"],["nsis","NSIS"],["nt","Nested Text"],["obj-c","Objective-C"],["obj-c++","Objective-C"],["objc","Objective-C"],["objective-c++","Objective-C"],["objectivec","Objective-C"],["ocaml","OCaml"],["openscad","OpenSCAD"],["osascript","AppleScript"],["oxygene","Oxygene"],["p21","STEP Part 21"],["parser3","Parser3"],["pas","Delphi"],["pascal","Delphi"],["patch","Diff"],["pb","PureBASIC"],["pbi","PureBASIC"],["pcmk","crmsh"],["pde","Processing"],["perl","Perl"],["pf","Packet Filter config"],["pf.conf","Packet Filter config"],["pgsql","PostgreSQL"],["php","php"],["php-template","PHP template"],["pl","Perl"],["plaintext","Plain text"],["plist","HTML, XML"],["pm","Perl"],["podspec","Ruby"],["pony","Pony"],["postgres","PostgreSQL"],["postgresql","PostgreSQL"],["powershell","PowerShell"],["pp","Puppet"],["processing","Processing"],["profile","Python profiler"],["prolog","Prolog"],["properties",".properties"],["proto","Protocol Buffers"],["protobuf","Protocol Buffers"],["ps","PowerShell"],["ps1","PowerShell"],["puppet","Puppet"],["purebasic","PureBASIC"],["pwsh","PowerShell"],["py","Python"],["pycon","python-repl"],["python","Python"],["python-repl","python-repl"],["q","Q"],["qml","QML"],["qt","QML"],["r","R"],["rb","Ruby"],["re","ReasonML"],["reasonml","ReasonML"],["rib","RenderMan RIB"],["roboconf","Roboconf"],["routeros","MikroTik RouterOS script"],["rs","Rust"],["rsl","RenderMan RSL"],["rss","HTML, XML"],["ruby","Ruby"],["ruleslanguage","Oracle Rules Language"],["rust","Rust"],["sas","SAS"],["scad","OpenSCAD"],["scala","Scala"],["scheme","Scheme"],["sci","Scilab"],["scilab","Scilab"],["scm","Scheme"],["scss","SCSS"],["sh","Bash"],["shell","Shell Session"],["shellsession","Shell Session"],["smali","Smali"],["smalltalk","Smalltalk"],["sml","SML (Standard ML)"],["sqf","SQF"],["sql","SQL"],["st","Smalltalk"],["stan","Stan"],["stanfuncs","Stan"],["stata","Stata"],["step","STEP Part 21"],["step21","STEP Part 21"],["stp","STEP Part 21"],["styl","Stylus"],["stylus","Stylus"],["subunit","SubUnit"],["sv","Verilog"],["svg","HTML, XML"],["svh","Verilog"],["swift","Swift"],["taggerscript","Tagger Script"],["tao","XL"],["tap","Test Anything Protocol"],["tcl","Tcl"],["tex","LaTeX"],["text","Plain text"],["thor","Ruby"],["thrift","Thrift"],["tk","Tcl"],["toml","TOML, also INI"],["tp","TP"],["ts","TypeScript"],["tsx","TypeScript"],["twig","Twig"],["txt","Plain text"],["typescript","TypeScript"],["v","Verilog"],["vala","Vala"],["vb","Visual Basic .NET"],["vbnet","Visual Basic .NET"],["vbs","VBScript"],["vbscript","VBScript"],["vbscript-html","VBScript in HTML"],["verilog","Verilog"],["vhdl","VHDL"],["vim","Vim Script"],["wasm","WebAssembly"],["wildfly-cli","JBoss CLI"],["wl","Mathematica"],["wren","Wren"],["wsf","HTML, XML"],["x++","X++"],["x86asm","Intel x86 Assembly"],["xhtml","HTML, XML"],["xjb","HTML, XML"],["xl","XL"],["xls","Excel formulae"],["xlsx","Excel formulae"],["xml","HTML, XML"],["xpath","XQuery"],["xq","XQuery"],["xqm","XQuery"],["xquery","XQuery"],["xsd","HTML, XML"],["xsl","HTML, XML"],["yaml","YAML"],["yml","YAML"],["zep","Zephir"],["zephir","Zephir"],["zone","DNS Zone"],["zsh","Bash"]]),aee="&#95;{{{CITATION{{{&#95;",y3e="{";function cee(t,e){return`[${aee}${t}${y3e}](${e})`}const b3e=new RegExp(`\\[${aee}.*?\\)`,"g");function yGe(t){return t.replace(b3e,"")}const C3e=2500,_3e=255,zx=bL(new Map),bGe=se(null),w3e=se(Zpe),S3e=se(_3e),E3e=se(C3e);function T3e(t,e,n){return`${t}_${e}_${n}`}function I3e(t,e){Ht().set(zx,r=>{const i=r.get(t)??[],o=[];for(const s of e.editTargets){const a={id:T3e(e.id,s.startIndex,s.endIndex),pageSuggestionId:e.id,startIndex:s.startIndex,endIndex:s.endIndex,text:e.text};o.push(a)}r.set(t,[...i,...o])})}function CGe(t,e){Ht().set(zx,r=>{const i=r.get(t);i&&r.set(t,i.filter(o=>o.id!==e))})}function _Ge(t){Ht().set(zx,n=>{n.delete(t)})}function x3e(t,e,n){Ht().set(zx,i=>{const o=i.get(t);if(o){const s=o.filter(a=>a.pageSuggestionId===e);for(const a of s)a.text===void 0&&(a.text=""),a.text+=n}})}function A3e(t){const{card:e,messageId:n,conversationId:r}=t,i={eventName:"copilotImpression",eventInfo_impressionPage:"chat",eventInfo_impressionScenario:"answerCardReceived",eventInfo_answerCardType:e.type,eventInfo_messageId:n,eventInfo_conversationId:r};switch(e.type){case"image":i.eventInfo_answerCardContentLength=e.images.length;break;case"localEntity":i.eventInfo_answerCardContentLength=e.entities.length;break;case"financeChart":i.eventInfo_answerCardScenario=e.instrument.securityType;break}he.trackEvent({name:"system",data:i})}function k3e(t){const{card:e,messageId:n,conversationId:r}=t,i=performance.now(),o=cn(_q);if(!o)return;const s={eventName:"copilotAnswerCardReceived",eventInfo_messageId:n,eventInfo_conversationId:r,eventInfo_cardType:e.type,eventInfo_duration:i-o};he.trackEvent({name:"system",data:s})}function R3e(t){const{message:e,conversationId:n}=t;for(const r of e.content)switch(r.type){case"card":A3e({card:r.card,messageId:e.id,conversationId:n}),k3e({card:r.card,messageId:e.id,conversationId:n});break}}async function P3e(t){he.setSettings({userConsentModelTraining:!t.optOutOfTraining,userConsentPersonalization:!t.optOutOfPersonalization,userSettingPhoneConnection:!t.optOutOfPhoneConnection,userSettingGenUI:!t.optInToGenerativeUI}),await ko({path:"/user/settings",args:{options:{method:"PATCH"},body:{optOutOfTraining:t.optOutOfTraining,optOutOfPersonalization:t.optOutOfPersonalization,optInToVoiceTraining:t.optInToVoiceTraining,optOutOfPhoneConnection:t.optOutOfPhoneConnection,optInToGenerativeUI:t.optInToGenerativeUI,allowBiometricDataUse:t.allowBiometricDataUse,allowOneDriveReads:t.allowOneDriveReads,features:t.features}}})}async function O3e(){var e,n;const t=await ci("/user",RY,{parseOptions:{safe:!0},query:{"api-version":"2"}}).then(r=>r.data);Ht().set(WD,((e=t.remainingCalls)==null?void 0:e.podcastGeneration)??null),Ht().set(KD,((n=t.remainingCalls)==null?void 0:n.research)??null)}const On=Ht();function G7(t){return{chatMode:"chat",timing:new $5e(t),citationCount:0,imageCount:0,inputMethod:"text"}}class N3e{constructor(e){Se(this,"ws");Se(this,"conversationMetadata",new Map);Se(this,"conversationIdByMessageId",new Map);Se(this,"messageIdByTaskId",new Map);Se(this,"latestMessagePartIdentifier",null);this.ws=e,this.send=this.send.bind(this),this.regenerate=this.regenerate.bind(this),this.sendChallengeResponse=this.sendChallengeResponse.bind(this),this.resetConversationState=this.resetConversationState.bind(this),this.resetConversationTiming=this.resetConversationTiming.bind(this),this.setConversationIdByMessageId=this.setConversationIdByMessageId.bind(this),this.setMessageIdByTaskId=this.setMessageIdByTaskId.bind(this),this.onSubmitMessageBlocked=this.onSubmitMessageBlocked.bind(this),this.callBeforeSendForConversation=this.callBeforeSendForConversation.bind(this),this.callOnSentForConversation=this.callOnSentForConversation.bind(this),this.setChatModeForConversation=this.setChatModeForConversation.bind(this),this.setInputMethodForConversation=this.setInputMethodForConversation.bind(this),this.setUserMessageForConversation=this.setUserMessageForConversation.bind(this),this.processEvent=this.processEvent.bind(this)}getConversationState(e){return this.conversationMetadata.has(e)||this.conversationMetadata.set(e,G7(performance.now())),this.conversationMetadata.get(e)}get latestMessagePartId(){return this.latestMessagePartIdentifier}resetConversationState(e,n){this.conversationMetadata.set(e,G7(n))}resetConversationTiming(e,n){this.getConversationState(e).timing.resetStartTime(n)}setConversationIdByMessageId(e){const{messageId:n,conversationId:r}=e;this.conversationIdByMessageId.set(n,r)}setMessageIdByTaskId(e){const{taskId:n,messageId:r}=e;this.messageIdByTaskId.set(n,r)}onSubmitMessageBlocked(e){const{timing:n,chatMode:r,inputMethod:i}=this.getConversationState(e);n.onSubmitMessageBlocked(r,i,e)}callBeforeSendForConversation(e){this.getConversationState(e).timing.onBeforeSend()}callOnSentForConversation(e,n){this.getConversationState(e).timing.onSent(n)}setChatModeForConversation(e,n){const r=this.getConversationState(e);r.chatMode=n}setInputMethodForConversation(e,n){const r=this.getConversationState(e);r.inputMethod=n}setUserMessageForConversation(e,n){const r=this.getConversationState(e);r.lastUserMessage=n}send(e){const{content:n,conversationId:r,data:i,mode:o,context:s}=e,a={event:"send",conversationId:r,content:Array.isArray(n)?n:[n],mode:o,context:s,...i};this.ws.send(JSON.stringify(a))}sendChallengeResponse(e){this.ws.send(JSON.stringify({event:"challengeResponse",token:e.token,method:e.method}))}regenerate(e){const{messageId:n,mode:r}=e,i={event:"regenerate",messageId:n,mode:r};this.ws.send(JSON.stringify(i))}processEvent(e){switch("id"in e&&(this.latestMessagePartIdentifier=e.id??null),e.event){case"received":this.handleReceived(e);break;case"connected":this.handleConnected(e);break;case"emojiReaction":this.handleEmojiReaction(e);break;case"startMessage":this.handleStartMessage(e);break;case"appendText":this.handleAppendText(e);break;case"replaceText":this.handleReplaceText(e);break;case"invokeAction":this.handleInvokeAction(e);break;case"citation":this.handleCitation(e);break;case"generatingImage":this.handleGeneratingImage(e);break;case"imageGenerated":this.handleImageGenerated(e);break;case"partialImageGenerated":this.handlePartialImageGenerated(e);break;case"imageGenerationFailed":this.handleImageGenerationFailed(e);break;case"generatingCard":this.handleGeneratingCard(e);break;case"cardGenerationFailed":this.handleCardGenerationFailed(e);break;case"page":this.handlePage(e);break;case"titleUpdate":this.handleTitleUpdate(e);break;case"challenge":this.handleChallenge();break;case"card":this.handleCard(e);break;case"taskStart":this.handleTaskStart(e);break;case"taskUpdate":this.handleTaskUpdate(e);break;case"error":this.handleError(e);break;case"banned":this.handleBanned(e);break;case"suggestedFollowups":this.handleSuggestedFollowups(e);break;case"done":this.handleDone(e);break;case"startSuggestion":this.handleStartSuggestion(e);break;case"appendSuggestion":this.handleAppendSuggestion(e);break}}clearAllStreamingStates(){const e=On.get(Nr);for(const n of e.values())ju(n.id,r=>{r.streamingState="idle"})}handleReceived(e){const{messageId:n,conversationId:r}=e;this.conversationIdByMessageId.set(n,r);const i=this.getConversationState(r);i.timing.onReceived({messageId:n,conversationId:r,chatMode:i.chatMode}),B9([`humanMessage_${n}`,`conversation_${r}`]),On.set(Fh,o=>o&&!WN()?o-1:o),mr(r,o=>{const s=o.at(-1);(s==null?void 0:s.author)==="human"&&(s.id=n)}),v3e()}handleConnected(e){$I.trackLatestChatConnectedAssignment(e)}handleEmojiReaction(e){const{messageId:n,emoji:r}=e,i=this.conversationIdByMessageId.get(n);i&&mr(i,o=>{const s=Ewe(o,n);s&&(s.emojiReaction=r)})}handleStartMessage(e){const{messageId:n,conversationId:r,createdAt:i}=e;this.conversationIdByMessageId.set(n,r);const o=this.getConversationState(r),{chatMode:s}=o;o.citationCount=0,o.timing.onStartMessage({messageId:n,conversationId:r,chatMode:s}),Kt("multiplecharacters")&&On.set(yh,"responding"),B9([`aiMesssage_${n}`,`conversation_${r}`]);const a={id:n,createdAt:i,author:"ai",content:[],mode:s};ju(r,c=>{c.streamingState="streaming"}),mr(r,c=>{c.length===0&&Hq(On.get(Aa),r)||c.push(a)})}handleAppendText(e){const{text:n,messageId:r,partId:i}=e,o=this.conversationIdByMessageId.get(r);if(!o)return;const s=this.getConversationState(o);s.timing.onFirstToken(r,s.chatMode,o),mr(o,a=>{const c=Co(a,r);if(c){MS(o,c.id);let l=Yy(c.content,i);if(!l)l={type:"text",text:"",partId:i},c.content.push(l);else if(l.type!=="text"){console.error(`appendText event with partId that is not a text item. Item is of type ${l.type}`,e);return}l.text=l.text.concat(n)}})}handleReplaceText(e){const{text:n,messageId:r,partId:i}=e,o=this.conversationIdByMessageId.get(r);o&&mr(o,s=>{const a=Co(s,r);if(a){MS(o,a.id);let c=Yy(a.content,i);if(!c)c={type:"text",text:"",partId:i},a.content.push(c);else if(c.type!=="text"){console.error("replaceText event with partId that is not a text item",e);return}c.text=n,c.citations=void 0}})}handleCitation(e){const{title:n,url:r,messageId:i,publisher:o,iconUrl:s}=e,a=this.conversationIdByMessageId.get(i);if(!a)return;const c=this.getConversationState(a);T_e(r,a,i),mr(a,l=>{const d=Co(l,i);if(d){MS(a,d.id);const p=Twe(d.content);if(p){p.citations||(p.citations=[]);const m=p.citations.find(C=>C.url===r);let g;m?g=m.index:(c.citationCount+=1,g=`${c.citationCount}`,p.citations.push({index:g,url:r,iconUrl:s,title:n,publisher:o})),p.text=p.text.concat(cee(g,r))}}})}handleGeneratingImage(e){const{prompt:n,messageId:r,partId:i,progressionText:o}=e,s=this.conversationIdByMessageId.get(r);if(!s)return;const a=this.getConversationState(s);a.timing.onImageGenerationStart({messageId:r,conversationId:s,chatMode:a.chatMode}),mr(s,c=>{const l=Co(c,r);l&&l.content.push({type:"image",prompt:n,partId:i,partialGenerationStep:0,status:"generating",progressionText:o})})}handleImageGenerated(e){const{url:n,partId:r,messageId:i}=e,o=this.conversationIdByMessageId.get(i);if(!o)return;const s=this.getConversationState(o);s.imageCount+=1,s.timing.onImageReceived({messageId:i,conversationId:o,chatMode:s.chatMode}),mr(o,a=>{const c=Co(a,i);if(c){const l=Yy(c.content,r);(l==null?void 0:l.type)==="image"&&(l.isPartiallyLoading=!1,l.url=n,l.partialGenerationStep=void 0,l.status="generated",l.progressionText=void 0)}})}handlePartialImageGenerated(e){const{content:n,messageId:r,partId:i}=e,o=this.conversationIdByMessageId.get(r);if(!o)return;const s=this.getConversationState(o);mr(o,a=>{const c=Co(a,r);if(c){const l=Yy(c.content,i);if((l==null?void 0:l.type)==="image"){l.isPartiallyLoading=!0,l.url=`data:image/png;base64,${n}`;const d=(l.partialGenerationStep??0)+1;l.partialGenerationStep=d,l.status="generating",s.timing.onPartialImageReceived({messageId:r,conversationId:o,chatMode:s.chatMode,imageGenPhase:d})}}})}getImageGenerationErrorMessage(e){switch(e){case"not-signed-in":return Ae("error.imageGenerationFailedSignedOut");case"throttled":return Ae("error.imageGenerationFailedThrottled");case"blocked":return Ae("error.imageGenerationFailedBlocked");default:return Ae("error.imageGenerationFailed")}}handleImageGenerationFailed(e){const{messageId:n,partId:r,errorCode:i}=e,o=this.conversationIdByMessageId.get(n);if(!o)return;mr(o,a=>{const c=Co(a,n);c&&(c.content=c.content.filter(l=>l.type!=="image"||l.partId!==r))});const s=this.getImageGenerationErrorMessage(i);i==="not-signed-in"&&On.set(Hv,{isOpen:!0,scenario:null,reason:"imageGeneration"}),Bw(s,o)}handleCardGenerationFailed(e){const n=On.get(wb);if(n&&this.isGeneratedCards(n)){On.set(wb,void 0);const r=this.conversationIdByMessageId.get(e.messageId);if(!r)return;n==="quiz"&&Bw(Ae("quizCard.generatedQuizFailed"),r)}}handleGeneratingCard(e){const{type:n}=e;this.isGeneratedCards(n)&&On.set(wb,n)}isGeneratedCards(e){return nQ.safeParse(e).success}handleTitleUpdate(e){const{conversationId:n,title:r}=e;On.set(Nr,i=>Id(i,o=>{const s=o.get(n);s&&(s.title=r)}))}handleCard(e){const{messageId:n,partId:r,card:i}=e,o=this.conversationIdByMessageId.get(n);if(!o)return;const s=this.getConversationState(o);if(i.type==="ads"){X5e({card:i,messageId:n,partId:r,conversationState:s,conversationId:o});return}mr(o,a=>{const c=Co(a,n);c&&c.content.push({type:"card",partId:r,card:i})})}handleBanned(e){const{expiresAt:n}=e,r=U5(n);r&&B5(r,"chat",n)}handlePage(e){const{messageId:n,page:r,partId:i}=e,o=this.conversationIdByMessageId.get(n);o&&(mr(o,s=>{const a=Co(s,n);a&&a.content.push({type:"page",partId:i,page:r})}),Pr.emit("pages:page-created",r))}handleStartSuggestion(e){const{pageId:n,suggestionId:r,editTargets:i}=e;I3e(n,{id:r,text:void 0,editTargets:i})}handleAppendSuggestion(e){const{pageId:n,suggestionId:r,text:i}=e;x3e(n,r,i)}processInvokeAction(e){const n=On.get(sn);if(n)switch(e.actionName){case"phone_send_message":{mr(n,r=>{const i=Uq(r);i&&i.content.push({type:"card",partId:Math.random().toString(),card:{type:"phoneSendMessage",actionId:e.actionId,contactName:e.parameters.contactName,text:e.parameters.text,phoneNumber:e.parameters.phoneNumber}})});break}}}handleInvokeAction(e){const{success:n,data:r}=Z5e.safeParse(e);n?this.processInvokeAction(r):console.error("Invalid action data:",e)}handleTaskStart(e){const{messageId:n,task:r,partId:i}=e,o=this.conversationIdByMessageId.get(n);this.messageIdByTaskId.set(r.id,n);const s=new Date().toISOString();if(o){n3e([r],o,s),On.set($b,!1),mr(o,c=>{const l=Co(c,n);if(l){const d=W5e(r,i,s);d&&l.content.push(d)}}),XOe.run({task:r,action:"startTask"});const a=On.get(sn);r.type==="computerUse"&&o===a&&Owe(r.conversationId,o),(r.type==="podcast"||r.type==="research")&&O3e()}}handleTaskUpdate(e){const{taskId:n,update:r}=e;if(Awe(n,r))return;let i=!1;const o=this.messageIdByTaskId.get(n),s=o?this.conversationIdByMessageId.get(o):void 0;try{o&&s&&mr(s,a=>{const c=Co(a,o);if(c){const l=Swe(c.content),d=l==null?void 0:l.task;d&&d.type==="research"&&(lg(d,r),Fq.includes(d.status)&&(Iwe("chat"),q5e(d,s)))}}),bD(n,a=>{var c;if(a.type==="computerUse"&&lg(a,r),a.type==="podcast"){const l=((c=a.podcast)==null?void 0:c.id)??"";lg(a,r),a.podcast&&(a.podcast.id=l)}}),i=!0}catch(a){console.error("Error applying task update patch:",a)}if(i){const a=On.get(Aa).get(n);switch(a==null?void 0:a.type){case"computerUse":Pwe(n,r);break;case"podcast":G5e(a);break}}}handleSuggestedFollowups(e){const{disableMultiturn:n}=Qe.instance().config();if(!n){const{suggestions:r,messageId:i}=e,o=this.conversationIdByMessageId.get(i);o&&ju(o,s=>{s.suggestedFollowup={messageId:i,suggestions:r}})}}handleError(e){const{errorCode:n}=e;if(n==="over-turn-limit")On.set(Fh,0);else if(n==="over-reasoning-quota"){!On.get(jC)&&WN()&&Qe.instance().config().thinkDeeperFreemiumEnabled&&(On.set(z_e,"chat-over-reasoning-quota"),On.set(Ks,"reasoning-mode-pro-subscription")),On.set(so,"chat");for(const[i]of this.conversationMetadata.entries())Bw(Ae("chat.overCapacity"),i)}else if(n==="over-task-quota")On.set(Ks,"over-task-quota");else if(n==="unknown-error")for(const[r]of this.conversationMetadata.entries())ju(r,i=>{i.streamingState="idle"});else if(n==="page-content-length-exceeded"||n==="page-count-exceeded"){Pr.emit("page:message-error",n);for(const[r]of this.conversationMetadata.entries())ju(r,i=>{i.streamingState="idle"})}else for(const[r]of this.conversationMetadata.entries())Bw(Ae("error.eventNotRecognized"),r);On.set($b,!1)}handleChallenge(){if(!ch("kill-cf-turnstile")){const e=On.get(sn);if(!e)return;const{lastUserMessage:n}=this.getConversationState(e);c3e(r=>{this.sendChallengeResponse({token:r,method:"cloudflare"}),n&&this.send(n)})}}handleDone(e){var c;Kt("multiplecharacters")&&On.get(yh)==="responding"&&On.set(yh,"idle");const{messageId:n}=e,r=this.conversationIdByMessageId.get(n);if(!r)return;const i=this.getConversationState(r);i.timing.onLastToken({messageId:n,conversationId:r,citationCount:i.citationCount,imageCount:i.imageCount,chatMode:i.chatMode,inputMethod:i.inputMethod});const s=((c=On.get(Nr).get(r))==null?void 0:c.history)??[],a=Co(s,n);mr(r,l=>{if(!a)return;const d=Co(l,a.id),p=a.content.find(m=>m.type==="image"&&m.partialGenerationStep!==void 0);if(d&&p){const m=Yy(d.content,p.partId);m&&(m.partialGenerationStep===0?m.type="deleted":m.type==="image"&&(m.isPartiallyLoading=!1,m.partialGenerationStep=void 0,m.status="non-complete"))}}),ju(r,l=>{l.streamingState="idle"}),On.set(wb,void 0),On.set($b,!1),window.setTimeout(()=>{On.set(uD,l=>{if(l.get(r)===n){const p=new Map(l);return p.delete(r),p}return l})},i.chatMode==="reasoning"?5e3:3e3),On.set(Iq,!0),a&&R3e({message:a,conversationId:r}),ZOe.run({conversationMessages:s})}}const M3e="eval/chat";function L3e(){const t=Kt("weather-cards"),e=!ch("kill-image-cards"),n=Kt("local-cards"),r=Kt("sports-cards"),i=!ch("kill-video-cards"),o=Kt("shopping-card"),s=Kt("shopping-curated"),a=Kt("media-spotlight-card"),c=Kt("job-cards"),l=Kt("safetycards"),d=Kt("quiz-cards"),p=Kt("generateads"),m=Kt("generateadsint"),g=Kt("adsparity"),C=!ch("kill-finance-cards"),_=Kt("adstags"),S=Kt("product-ads-dynamic-filter"),w=Kt("property-promotion-ads-dynamic-filter"),T=Kt("tour-activity-ads-dynamic-filter"),I=Kt("adsshowroom"),A=Kt("emoji-reactions"),k=Kt("imagegenv3"),R=Kt("recipe-card"),{adsEnabled:M,adsShowroomEnabled:P,disableAnswerCards:N,enforceAdsOptOutOfPersonalization:D,answerCardOverrides:G}=Qe.instance().config(),U=!!Ht().get(jC),W=(p||m||g)&&M&&!U,$=a&&(G==null?void 0:G.shouldEnableMediaSpotlightCard),L=[];N||(t&&L.push("weather"),n&&L.push("local"),e&&L.push("image"),r&&L.push("sports"),i&&L.push("video"),o&&L.push("shopping"),c&&L.push("job"),W&&L.push("ads"),l&&L.push("safetyHelpline"),d&&L.push("quiz"),C&&L.push("finance"),s&&L.push("shoppingCurated"),R&&L.push("recipe"),$&&L.push("mediaSpotlight"));const B={supportedTypes:["text","product","multimedia","tourActivity","propertyPromotion"]};D&&(B.optOutOfPersonalization=!0),I&&M&&P&&B.supportedTypes.push("showroom"),(S||_)&&(B.product={tagsSupported:!0}),w&&(B.propertyPromotion={tagsSupported:!0}),T&&(B.tourActivity={tagsSupported:!0});const j=[];return A&&j.push("emoji-reactions"),k&&j.push("partial-generated-images"),{supportedFeatures:j,supportedCards:L.length>0?L:void 0,ads:W?B:null}}const q7=1e3,D3e=3e4,j3e=5e3;class F3e{constructor({autoReconnect:e=!1}={}){Se(this,"connection");Se(this,"autoReconnect");Se(this,"reconnectInterval");Se(this,"maxReconnectInterval");Se(this,"reconnectTimeout");Se(this,"sendQueue",[]);Se(this,"connecting",!1);Se(this,"state",null);Se(this,"cachedSendData",null);Se(this,"pongTimeout",null);Se(this,"boundReconnectIfNeeded");Se(this,"boundDisconnect");Se(this,"boundVisibilityChange");Se(this,"getUrl",null);Se(this,"onopen");Se(this,"onmessage");Se(this,"onclose");Se(this,"onerror");this.connection=null,this.autoReconnect=e,this.reconnectInterval=q7,this.maxReconnectInterval=e?D3e:0,this.reconnectTimeout=null,this.onopen=null,this.onmessage=null,this.onclose=null,this.onerror=null,this.connect=this.connect.bind(this),this.reconnect=this.reconnect.bind(this),this.processSendQueue=this.processSendQueue.bind(this)}async initialize(){this.state=null,await this.connect(),this.autoReconnect&&(this.boundReconnectIfNeeded=this.reconnectIfNeeded.bind(this),this.boundDisconnect=this.disconnect.bind(this),this.boundVisibilityChange=()=>{document.visibilityState==="visible"&&this.reconnectIfNeeded()},window.addEventListener("online",this.boundReconnectIfNeeded),window.addEventListener("offline",this.boundDisconnect),document.addEventListener("visibilitychange",this.boundVisibilityChange))}async connect(){var n;if(((n=this.connection)==null?void 0:n.readyState)===WebSocket.CONNECTING||this.connecting||this.pongTimeout)return;if(!this.getUrl)throw new Error("getUrl function is not set");this.connecting=!0;const e=await this.getUrl();this.connection=new WebSocket(e),this.connecting=!1,this.connection.onopen=r=>{this.state=null,this.onopen&&this.onopen(r),this.processSendQueue(),this.reconnectInterval=q7,this.reconnectTimeout&&(window.clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null)},this.connection.onmessage=r=>{if(this.state!=="destroyed")try{const i=JSON.parse(r.data);this.onmessage&&this.onmessage(i),i.event==="pong"&&(this.removePongTimeout(),this.processSendQueue())}catch{}},this.connection.onclose=r=>{this.connection&&this.connection.bufferedAmount>0&&this.cachedSendData&&(this.sendQueue.push(this.cachedSendData),this.cachedSendData=null),this.onclose&&this.onclose(r),this.autoReconnect&&this.state===null&&this.reconnect(),this.removePongTimeout()},this.connection.onerror=r=>{this.onerror&&this.onerror(r),this.connection&&this.connection.close(),this.removePongTimeout()}}reconnect(){this.reconnectTimeout&&window.clearTimeout(this.reconnectTimeout),this.reconnectTimeout=window.setTimeout(this.connect,this.reconnectInterval),this.reconnectInterval=Math.min(this.reconnectInterval*2,this.maxReconnectInterval)}processSendQueue(){if(this.sendQueue.length>0){const e=this.sendQueue;this.sendQueue=[];for(const n of e)this.send(n)}}reconnectIfNeeded(){if(this.state!=="destroyed"){if(!this.connection||this.connection.readyState!==WebSocket.OPEN){this.reconnect();return}this.pongTimeout===null&&(this.connection.send(JSON.stringify({event:"ping"})),this.pongTimeout=window.setTimeout(()=>{var e;this.pongTimeout=null,(e=this.connection)==null||e.close(),this.reconnect()},j3e))}}removePongTimeout(){this.pongTimeout!==null&&(window.clearTimeout(this.pongTimeout),this.pongTimeout=null)}send(e){if(this.state!=="destroyed")if(this.connection&&this.connection.readyState===WebSocket.OPEN&&this.pongTimeout===null)try{this.cachedSendData=e,this.connection.send(e)}catch{this.sendQueue.push(e),this.connect()}else this.sendQueue.push(e),this.connect()}cleanup(){this.boundReconnectIfNeeded&&window.removeEventListener("online",this.boundReconnectIfNeeded),this.boundDisconnect&&window.removeEventListener("offline",this.boundDisconnect),this.boundVisibilityChange&&document.removeEventListener("visibilitychange",this.boundVisibilityChange)}disconnect(){this.connection&&(this.state="disconnected",this.connection.close())}destroy(){this.connection&&(this.state="destroyed",this.cleanup(),this.connection.close(),this.connection=null)}}async function Jf({useMockConnection:t}={}){const e=async({cursor:n})=>{const r=IZ()?M3e:"chat";return n?U9(r,{cursor:n}):U9(r)};return VS.get({getUrl:e})}async function U3e({getUrl:t}){return typeof WebSocket>"u"?{destroy:()=>{},send:()=>{},regenerate:()=>{},sendAudioStart:()=>{},sendAudio:()=>{},sendAudioEnd:()=>{},setCallType:()=>{},stop:()=>{},setOnEvent:()=>()=>{},sendChallengeResponse:()=>{},sendActionResult:()=>{},resetConversationState:()=>{},resetConversationTiming:()=>{},setConversationIdByMessageId:()=>{},setMessageIdByTaskId:()=>{},setChatModeForConversation:()=>{},setInputMethodForConversation:()=>{},callBeforeSendForConversation:()=>{},callOnSentForConversation:()=>{},setUserMessageForConversation:()=>{},onSubmitMessageBlocked:()=>{}}:new Promise((e,n)=>{const r=ch("kill-chat-auto-reconnect"),i=new F3e({autoReconnect:!r}),o=new N3e(i);i.getUrl=()=>t({cursor:o.latestMessagePartId}),i.onopen=()=>{const a={event:"setOptions",...L3e()};i.send(JSON.stringify(a)),i.onmessage=c=>{try{X8.parse(c)}catch(l){l instanceof pi&&z0(l,"/chat")}o.processEvent(c)},e({destroy:()=>{i.destroy(),o.clearAllStreamingStates()},stop:(c={})=>{const{conversationId:l,taskId:d}=c;i.send(JSON.stringify({event:"stop",conversationId:l})),d&&i.send(JSON.stringify({event:"send",conversationId:l,content:[{type:"command",command:{type:"cancelTask",taskId:d}}],mode:"research"})),l&&ju(l,p=>{p.streamingState="idle"})},send:o.send,regenerate:o.regenerate,sendAudioStart:(c,l,d)=>{const p={event:"audioStart",conversationId:c,options:l,clientType:d};i.send(JSON.stringify(p))},sendAudio:c=>{const l={event:"audio",audio:c};i.send(JSON.stringify(l))},sendAudioEnd:()=>{const c={event:"audioEnd"};i.send(JSON.stringify(c))},setCallType:c=>{const l={event:"setCallType",callType:c};i.send(JSON.stringify(l))},sendChallengeResponse:o.sendChallengeResponse,setOnEvent:c=>{i.onmessage=l=>{try{X8.parse(l),o.processEvent(l)}catch(d){d instanceof pi&&z0(d,"/chat")}c(l)}},sendActionResult:c=>{i.send(JSON.stringify({event:"actionResult",actionId:c.actionId,result:c.result}))},resetConversationState:o.resetConversationState,resetConversationTiming:o.resetConversationTiming,setConversationIdByMessageId:o.setConversationIdByMessageId,setMessageIdByTaskId:o.setMessageIdByTaskId,setChatModeForConversation:o.setChatModeForConversation,setInputMethodForConversation:o.setInputMethodForConversation,callBeforeSendForConversation:o.callBeforeSendForConversation,callOnSentForConversation:o.callOnSentForConversation,setUserMessageForConversation:o.setUserMessageForConversation,onSubmitMessageBlocked:o.onSubmitMessageBlocked})},i.onclose=()=>{},i.onerror=s=>{const a=s instanceof ErrorEvent?s.message:"Unknown WebSocket error";he.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"ChatWebsocketError",eventInfo_errorMessage:a,eventInfo_details:JSON.stringify(s)}}),n(new Error(`WebSocket connection error: ${a}`))},i.initialize().catch(s=>{const a=s instanceof Error?s.message:"Unknown WebSocket error";he.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"ChatWebsocketInitializationError",eventInfo_errorMessage:a,eventInfo_details:s instanceof Error?s.stack??"":""}}),n(new Error(`WebSocket initialization error: ${a}`))})})}async function lee(){if(VS.isInstantiated){const t=cn(Zs),e=(t==null?void 0:t.streamingState)==="streaming",n=await VS.get();n.stop(),n.destroy(),n.stop({conversationId:t==null?void 0:t.id}),VS.reset();try{he.trackEvent({name:"system",data:{eventName:"chatClientReset",eventInfo_isMessageStreaming:e}})}catch{}}}const VS=new up(t=>U3e(t)),B3e=10*1024*1024,V3e=5*1024*1024,H3e=50*1024*1024,z3e={"image/png":["png"],"image/jpeg":["jpg","jpeg"]},g3={"application/pdf":["pdf"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/json":["json"],"text/csv":["csv"],"text/markdown":["md"],"text/plain":["txt"]},nC={...z3e,...g3};function qC(t){return t in g3}function v3(t){if(!t)return!1;const e=Nc(t);return e===""?!1:e in nC}const $3e=Object.keys(nC).map(t=>{const e=nC[t].map(n=>`.${n}`);return[t,...e]}).flat();Object.values(nC).flat().map(t=>`.${t}`);const W3e=Object.values(g3).flat().map(t=>`.${t}`);function K3e(){return{documentMaxSize:Kt("fileasyncprocessing")?H3e:V3e,imageMaxSize:B3e}}function y3(t){var r;const e=(r=t.split(".").pop())==null?void 0:r.toLowerCase(),n=Object.entries(nC).find(([,i])=>i.includes(e??""));return n?n[0]:""}function Nc(t){return t?t.type!==""?t.type:y3(t.name):""}function G3e(t){let e,n=null;return v3(t)?uee(t)||(e={title:Ae("composer.errors.attachmentTooLargeV2.title"),message:Ae("composer.errors.attachmentTooLargeV2.message")},n="fileSize"):(e={title:Ae("composer.errors.unsupportedAttachmentTypeV2.title"),message:Ae("composer.errors.unsupportedAttachmentTypeV2.message")},n="fileType"),he.trackEvent({name:"system",data:{eventName:"clientFileValidation",eventInfo_errorType:n,eventInfo_fileType:Nc(t),eventInfo_fileSize:t.size}}),e}function q3e(t){return t.type==="text/x-markdown"?new File([t],t.name,{type:"text/markdown"}):t}function uee(t){const e=K3e(),n=Nc(t),r=qC(n)?e.documentMaxSize:e.imageMaxSize;return t.size<=r}function Y3e(t){var n;const e=(n=t.clipboardData)==null?void 0:n.items;if(e)for(let r=0;r<e.length;r+=1){const i=e[r];if((i==null?void 0:i.kind)==="file"){const o=i.getAsFile();if(!v3(o))continue;const s=Nc(o);if(o!==null)return uee(o)?{file:o,error:void 0}:(he.trackEvent({name:"system",data:{eventName:"clientFileValidation",eventInfo_errorType:"fileType",eventInfo_fileSize:o.size,eventInfo_fileType:s,eventInfo_errorMessage:"File size too large in paste"}}),{file:void 0,error:{title:Ae("composer.errors.attachmentTooLargeV2.title"),message:Ae("composer.errors.attachmentTooLargeV2.message")}})}}return{file:void 0,error:void 0}}function dee(t){switch(t){case"unsupported-content-type":return{title:Ae("composer.errors.unsupportedAttachmentTypeV2.title"),message:Ae("composer.errors.unsupportedAttachmentTypeV2.message")};case"attachment-too-large":return{title:Ae("composer.errors.attachmentTooLargeV2.title"),message:Ae("composer.errors.attachmentTooLargeV2.message")};case"empty-attachment":return{title:Ae("composer.errors.emptyAttachmentV2.title"),message:Ae("composer.errors.emptyAttachmentV2.message")};case"content-blocked":return{title:Ae("composer.errors.attachmentContentBlockedV2.title"),message:Ae("composer.errors.attachmentContentBlockedV2.message")};case"rate-limit-exceeded":return{title:Ae("composer.errors.attachmentRateLimitExceededV2.title"),message:Ae("composer.errors.attachmentRateLimitExceededV2.message")};default:return{title:Ae("composer.errors.attachmentDefault.title"),message:Ae("composer.errors.attachmentDefault.message")}}}function wGe(t,e,n){const r=new Blob([n],{type:e}),i=window.URL.createObjectURL(r),o=document.createElement("a");o.style.display="none",o.href=i,o.download=t,document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(i),o.remove()}function Q3e({name:t,size:e,message:n,kind:r}){he.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"submitMessage",eventInfo_errorMessage:n,eventInfo_details:`Error uploading ${r} attachment`,eventInfo_uploadFileSize:e,eventInfo_uploadFileType:t,eventInfo_numDocumentsUploaded:1}})}async function X3e(t){try{const e=await t.arrayBuffer(),n=new Uint8Array(e),r=await ci("/attachments",yxe,{options:{method:"POST",headers:{"Content-Type":Nc(t)},body:new Blob([n])}}).then(i=>i.data);if("errorCode"in r)throw new Error(r.errorCode);return r.url}catch(e){throw console.error("Error uploading image",e),e}}async function Z3e(t){try{const e=new FormData;t.type!==""?e.append("file",t):e.append("file",new File([t],t.name,{type:Nc(t)}),t.name);const n=await ci("/attachments",OY,{options:{method:"POST",body:e}}).then(r=>r.data);if("errorCode"in n)throw new Error(n.errorCode);return n.id}catch(e){throw console.error("Error uploading document",e),e}}async function J3e(t){try{const e=await ci("/attachments/onedrive",OY,{options:{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t.id})}}).then(n=>n.data);if("errorCode"in e)throw new Error(e.errorCode);return e.id}catch(e){throw console.error("Error uploading OneDrive file",e),e}}function eje(t){return t?t.startsWith("!"):!1}function rC(t){return t==="reasoning"?lme:Ae(`composer.chatModes.${t}.title`)}const Y7={global:["https://ad.doubleclick.net/ddm/activity/src=8406097;type=ofco;cat=lrn_uni;u1={REGION};u2={LANG_LOCALE};u6=CMC;u50=submit_message;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;ord=1;num={CACHE_BUSTER}"],us:["https://px.ads.linkedin.com/collect/?fmt=gif&pid=7850&url=copilot.microsoft.com/ChatSend","https://secure.adnxs.com/px?id=1869141&t=2","https://servedby.flashtalking.com/spot/1/5155;147512;16638/?spotName=USA_FY25H2_Copilot_Consumer_Chat_Send_button_FT_2_7_25&cachebuster={CACHE_BUSTER}","https://alb.reddit.com/rp.gif?id=a2_gi5vc4m557wn&event=Custom&m.customEventName=COPChatSend&integration=noscript","https://analytics.tiktok.com/api/v2/pixel_event_track?pixel_code=CUUELO3C77U6K9SI3QSG&event=SendMessage&event_id={CACHE_BUSTER}","https://tr.snapchat.com/p?pid=68db1ef4-2290-4224-a91a-df01d273a994&ev=START_CHECKOUT&v=2.3&rand={CACHE_BUSTER}&pl=https://copilot.microsoft.com/","https://tr.snapchat.com/cm/s?pnid=140","https://www.facebook.com/tr?id=1770559986549030&ev=COPChatSend&noscript=1"],gb:["https://secure.adnxs.com/px?id=1869542&t=2&seg=39793132&consent={CONSENT}","https://px.ads.linkedin.com/collect/?fmt=gif&pid=7850&url=copilot.microsoft.com/ChatSend","https://servedby.flashtalking.com/spot/1/3360;147492;16970/?spotName=GBR_FY25H2_Copilot_Consumer_Chat_Send_FT_2_7_25&cachebuster={CACHE_BUSTER}","https://analytics.tiktok.com/api/v2/pixel_event_track?pixel_code=CUUELO3C77U6K9SI3QSG&event=SendMessage&event_id={CACHE_BUSTER}","https://www.facebook.com/tr?id=1770559986549030&ev=COPChatSend&noscript=1","https://tr.snapchat.com/p?pid=68db1ef4-2290-4224-a91a-df01d273a994&ev=START_CHECKOUT&v=2.3&rand={CACHE_BUSTER}&pl=https://copilot.microsoft.com/","https://tr.snapchat.com/cm/s?pnid=140"],other:["https://www.facebook.com/tr?id=1770559986549030&ev=COPChatSend&noscript=1","https://analytics.tiktok.com/api/v2/pixel_event_track?pixel_code=CUUELO3C77U6K9SI3QSG&event=SendMessage&event_id={CACHE_BUSTER}"]},HS={onPageLoad:{global:["https://ad.doubleclick.net/ddm/activity/src=8406097;type=ofco;cat=lp_uniq;u1={REGION};u2={LANG_LOCALE};u6=CMC;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;tfua=;npa=;ord=1;num={CACHE_BUSTER}"],us:["https://www.facebook.com/tr?id=1770559986549030&ev=PageView&noscript=1","https://px.ads.linkedin.com/collect/?fmt=gif&pid=7850&url=copilot.microsoft.com/custom-pageload","https://secure.adnxs.com/px?id=1869069&t=2","https://servedby.flashtalking.com/spot/1/5155;147507;16638/?spotName=USA_FY25H2_Copilot_Consumer_Page_Load_FT_2_7_25&cachebuster={CACHE_BUSTER}","https://alb.reddit.com/rp.gif?id=a2_gi5vc4m557wn&event=PageVisit&integration=noscript","https://analytics.tiktok.com/api/v2/pixel_event_track?pixel_code=CUUELO3C77U6K9SI3QSG&event=ViewContent&event_id={CACHE_BUSTER}","https://tr.snapchat.com/p?pid=68db1ef4-2290-4224-a91a-df01d273a994&ev=PAGE_VIEW&v=2.3&rand={CACHE_BUSTER}&pl=https://copilot.microsoft.com","https://tr.snapchat.com/cm/s?pnid=140"],gb:["https://www.facebook.com/tr?id=1770559986549030&ev=PageView&noscript=1","https://px.ads.linkedin.com/collect/?fmt=gif&pid=7850&url=copilot.microsoft.com/custom-pageload","https://secure.adnxs.com/px?id=1869539&seg=39793125&t=2&consent={CONSENT}","https://servedby.flashtalking.com/spot/1/3360;147490;16970/?spotName=GBR_FY25H2_Copilot_Consumer_Page_Load_FT_2_7_25&cachebuster={CACHE_BUSTER}","https://analytics.tiktok.com/api/v2/pixel_event_track?pixel_code=CUUELO3C77U6K9SI3QSG&event=ViewContent&event_id={CACHE_BUSTER}","https://tr.snapchat.com/p?pid=68db1ef4-2290-4224-a91a-df01d273a994&ev=PAGE_VIEW&v=2.3&rand={CACHE_BUSTER}&pl=https://copilot.microsoft.com","https://tr.snapchat.com/cm/s?pnid=140"],other:["https://www.facebook.com/tr?id=1770559986549030&ev=PageView&noscript=1","https://analytics.tiktok.com/api/v2/pixel_event_track?pixel_code=CUUELO3C77U6K9SI3QSG&event=ViewContent&event_id={CACHE_BUSTER}"]},onMessageSend:Y7,onStartVoiceChat:Y7,onSuggestionChipClicked:{global:[],us:[],gb:[],other:[]},onDiscoverCardClicked:{global:[],us:[],gb:[],other:[]},onQueryParamSubmit:{global:[],us:[],gb:[],other:[]}},tje={onPageLoad:{behavior:20,Content:{Id:"CMCChatLoaded",cN:"CMC Chat Loaded"}},onMessageSend:{behavior:63,Content:{Id:"ChatManualMessage",cN:"Chat Manual Message"}},onStartVoiceChat:{behavior:300,Content:{Id:"VoiceMessageClick",cN:"Voice Message Click"}},onSuggestionChipClicked:{behavior:60,Content:{Id:"SuggestionChipClicked",cN:"Suggestion Chip Clicked"}},onDiscoverCardClicked:{behavior:144,Content:{Id:"DiscoverCardClicked",cN:"Discover Card Clicked"}},onQueryParamSubmit:{behavior:141,Content:{Id:"QueryParamMessageSubmit",cN:"Query Param Message Submit"}}};function nje(t,e){return e==="US"?HS[t].us:e==="GB"?HS[t].gb:e&&["AU","CA","DE","FR","JP"].includes(e)?HS[t].other:[]}function rje(t){if(!Kt("ads-pixels"))return;const e=Ht().get(fs),n=ln.language,r=Date.now().toString(),i=HS[t].global,o=nje(t,e),{set:s}=Ht();s(Oq,a=>{for(const c of i.concat(o))a[c]||(a[c]={url:c.replace("{CACHE_BUSTER}",r).replace("{REGION}",e??"").replace("{LANG_LOCALE}",n).replace("{CONSENT}",sje(e)),isMounted:!0,timestamp:Date.now()});return{...a}})}function ije(t){Kt("custom-1ds")&&(window.OneDsAzureAnalytics.capturePageAction(null,tje[t]),fq())}function Hm(t){try{rje(t),ije(t)}catch{Bh({feature:"sendIdeasTelemetry",customData:JSON.stringify({eventName:t})})}}function oje(t){Hm(t==="suggestion"?"onSuggestionChipClicked":t==="discover"?"onDiscoverCardClicked":t==="queryParam"?"onQueryParamSubmit":"onMessageSend")}function sje(t){return(t&&AI.includes(t))===!0?AC().advertising?"1":"0":""}function $x(){const[t,e]=Lt(so),n=d3(),r=xd(Nr),i=oe(sn),o=We(mx),s=We(_q),a=E5e(),c=oe(xv),l=We($b),[d,p]=Lt(vx),m=u3(),g=b.useCallback(async w=>{const{text:T}=w,{file:I,inputMethod:A,attachment:k,command:R,context:M,reference:P,scenario:N,customData:D,entryPoint:G}=w,U=performance.now();s(U),o("bottom");const W=cn(sn);if(!W||!T&&!I&&!k&&!R)return;const $=R&&kv.safeParse(R.type).success,{result:L}=await JOe.run({chatMode:t});if(L){e("chat");return}m&&(t==="computerUse"?(Yt({source:"copilotActionsStartTask",customData:JSON.stringify({conversationId:W})}),l(!0)):l(!1));let B=k??null;if(I&&!B){const Pe={type:"image",url:await X3e(I)};B={item:Pe,content:Pe,size:I.size,type:Nc(I)}}let j=0,V=0;B&&(qC(B.type)?V+=1:j+=1),r(be=>{const Pe=be.get(W);Pe&&(Pe.suggestedFollowup=void 0)});const K=[],z={id:"",createdAt:new Date().toISOString(),author:"human",content:[],inputMethod:A};c&&c.conversationId===W&&(z.brand=c),B&&(z.content.push(B.item),K.push(B.content)),d.size>0&&z.content.push({type:"browserTabs",tabs:Array.from(d.values()).map(be=>({id:be.id,title:be.title,url:be.url,windowId:be.windowId,favIconUrl:be.favIconUrl}))}),T&&(z.content.push({type:"text",text:T}),K.push({type:"text",text:T})),R&&K.push({type:"command",command:R}),P&&K.push({type:"reference",reference:P}),$||n(W,be=>{be.push(z)});const H=await Jf({useMockConnection:eje(T)}),{sendData:q,additionalData:le}=await GOe.run(z);d.size>0&&p(new Map);const Ce={content:K,conversationId:W,data:q,mode:t,context:{...a,...M,ads:c?{showroom:{brandId:c.brandId,brandName:c.brandLogo.businessName,adId:c.adId??void 0}}:void 0}};H.send(Ce),H.resetConversationState(W,U),H.setChatModeForConversation(W,t),H.setInputMethodForConversation(W,A),H.callBeforeSendForConversation(W),H.callOnSentForConversation(W,le),H.setUserMessageForConversation(W,Ce);const _e={eventName:"copilotCompose",eventInfo_conversationId:W,eventInfo_inputMethod:A,eventInfo_numImagesUploaded:j,eventInfo_numDocumentsUploaded:V,eventInfo_mode:t,eventInfo_landingPage:he.getLandingPage(),...B?{eventInfo_uploadFileSize:B.size,eventInfo_uploadFileType:B.type}:{}};le&&(_e.eventInfo_additionalData=le),N&&(_e.eventInfo_scenario=N),D&&(_e.eventInfo_customData=D),c&&(_e.eventInfo_adsContext=JSON.stringify({showroomBrandId:c.brandId,showroomBrandName:c.brandLogo.businessName})),G&&(_e.eventInfo_entryPoint=G),he.trackEvent({name:"interaction",data:_e}),I5e(),oje(A),p3e(),t==="computerUse"&&e("chat")},[o,l,s,r,n,t,a,m,c,e,d,p]),C=b.useCallback(async()=>{const w=cn(sn);w&&(await Jf()).onSubmitMessageBlocked(w)},[]),_=b.useCallback(async()=>{var I,A;const w=await Jf(),T=(A=(I=Bq(i))==null?void 0:I.part.task)==null?void 0:A.id;w.stop({conversationId:i,taskId:T})},[i]),S=b.useCallback(async w=>{const{messageId:T}=w,I=performance.now(),A=cn(sn);if(!A)return;n(A,R=>{const M=Uq(R);M&&M.id===T&&R.pop()});const k=await Jf();k.regenerate(w),k.resetConversationTiming(A,I),k.setChatModeForConversation(A,t),k.callBeforeSendForConversation(A)},[n,t]);return{submitMessage:g,stopMessage:_,onSubmitMessageBlocked:C,regenerateMessage:S}}function SGe(t,e){return t.find(n=>n.partId===e)}let zS=null;function aje(){const t=We(so),e=u3();b.useEffect(()=>{const n=h_e();zS===null&&(zS=n);const r=o=>o==="td"?"reasoning":e&&o==="ac"?"computerUse":null,i=r(n||zS);i&&t(i)},[t,e])}function cje(){return zS}function fee(t){const{deferred:e=!1}=t??{},n=!!oe(sn),r=oe(tx),[i,o]=Lt(pD),s=We(gx),a=We(so),{submitMessage:c}=$x();b.useEffect(()=>{const p=cje()==="ac"?null:p_e();p&&(o(p),s({source:"queryInUrl",prompt:p}))},[a,s,o]);const l=b.useCallback(()=>{o(null)},[o]),d=b.useCallback(p=>{p&&(s({source:"queryInUrl",prompt:p}),(async()=>{if(n&&r&&p){const g=c({text:p,inputMethod:"queryParam"});l(),await g}})().catch(console.error))},[s,n,r,c,l]);return b.useEffect(()=>{!e&&i&&d(i)},[e,d,i]),{prompt:i,handler:e?d:void 0,clear:l}}function hee(){const t=lje(),e=uje();return t.prompt?t:e}function lje(){const{t}=pt(),{formCode:e,lengthVariant:n,treatment:r,passthroughType:i}=S5e();if(e&&n&&r){const o=t(`promptsByFormCode.${e}.${r}.${n}`,"");return{passthroughType:i,prompt:o,source:o?{type:"formCode",formCode:e}:void 0}}return{passthroughType:null}}function uje(){const{prompt:t}=eee({deferred:!0}),{prompt:e}=fee({deferred:!0});let n=null,r;return t?(n="partial",r=t):e&&(n="full",r=e),{passthroughType:n,prompt:r,source:r?{type:"query"}:void 0}}function pee(){const t=oe(pD),{passthroughType:e}=hee();return!!t&&e==="full"}const zv=se();function dje(t){var e;Or({source:"mediaViewerOpen",scenario:(e=t.media[t.currentMediaIndex])==null?void 0:e.type})}function fje(){var e,n;const t=b3();t&&Or({source:"mediaViewerNext",scenario:(e=t.media[t.currentMediaIndex])==null?void 0:e.type,destination:(n=t.media[t.currentMediaIndex+1])==null?void 0:n.type})}function hje(){var e,n;const t=b3();t&&Or({source:"mediaViewerPrevious",scenario:(e=t.media[t.currentMediaIndex])==null?void 0:e.type,destination:(n=t.media[t.currentMediaIndex-1])==null?void 0:n.type})}function pje(){var e;const t=b3();t&&Or({source:"mediaViewerClose",scenario:(e=t.media[t.currentMediaIndex])==null?void 0:e.type})}function b3(){return Ht().get(zv)}const mje=se();function mee(){const[t,e]=Lt(mje);return{isPictureInPictureOpen:je("video-picture-in-picture")&&t!==void 0,openPictureInPicture:o=>{e(o),Yt({source:"mediaViewer",scenario:"PictureInPictureOpen"})},closePictureInPicture:()=>e(void 0)}}function Nd(){var d;const[t,e]=Lt(zv),{openPictureInPicture:n}=mee(),r=je("video-picture-in-picture"),i=b.useCallback(()=>{const{onClose:p}=t??{};pje(),e(void 0),p==null||p()},[e,t]),o=b.useCallback(()=>{fje(),e(p=>{if(!p)return p;if(p.currentMediaIndex<p.media.length-1){const m=p.currentMediaIndex+1;return{...p,currentMediaIndex:m,isCurrentMediaLoading:wP(p.media[m])}}return p})},[e]),s=b.useCallback(()=>{hje(),e(p=>{if(!p)return p;if(p.currentMediaIndex>0){const m=p.currentMediaIndex-1;return{...p,currentMediaIndex:m,isCurrentMediaLoading:wP(p.media[m])}}return p})},[e]),a=b.useCallback(p=>{dje(p),e({...p,isCurrentMediaLoading:wP(p.media[p.currentMediaIndex])})},[e]),c=r&&((d=t==null?void 0:t.media[t.currentMediaIndex])==null?void 0:d.type)==="video",l=b.useCallback(()=>{var m;const p=t==null?void 0:t.media[t.currentMediaIndex];if(p&&p.type==="video"){const{player:g}=p;n({url:p.url,title:((m=p.source)==null?void 0:m.title)??"",startTime:(g==null?void 0:g.getCurrentTime())??0}),i()}},[t,n,i]);return b.useMemo(()=>({openMediaViewer:a,closeMediaViewer:i,isMediaViewerOpen:t!==void 0,next:o,previous:s,isPictureInPictureSupported:c,triggerPictureInPicture:l,contentPageType:t==null?void 0:t.contentPageType}),[a,i,t,o,s,c,l])}function wP(t){if(t&&"initLoading"in t)return t.initLoading}function gje(){var a,c;const t=Wn(),e=oe(cs),{isMediaViewerOpen:n}=Nd(),{disableMultiturn:r}=Qe.instance().config(),i=((a=Qe.instance().config().composer)==null?void 0:a.largeScreen)===!0&&((c=Qe.instance().config().composer)==null?void 0:c.voiceOnly)===!0,o=["/pro/subscribe","/pro/ewallet/return","/referrals","/referrals/rules","/subscription/manage","/subscription/start"],s=pee();return!o.includes(t)&&!t.startsWith("/topic-selection")&&(!t.startsWith("/fang")||n)&&!t.startsWith("/login")&&!t.startsWith("/pro/redeem")&&!t.startsWith("/wham")&&!t.startsWith("/gaming")&&!t.startsWith("/labs")&&!t.startsWith("/portrait")&&!t.startsWith("/memory/narrative")&&!t.startsWith("/conversations")&&!t.startsWith("/campaigns")&&!t.startsWith("/pages")&&!t.startsWith("/shares/pages")&&e!=="detail-only"&&!i&&!r&&!s}function vje(){var r,i;const t=Wn(),e=Bx();return((r=Qe.instance().config().composer)==null?void 0:r.largeScreen)===!0&&((i=Qe.instance().config().composer)==null?void 0:i.voiceOnly)===!0&&!t.startsWith("/login-dcf")&&!e}function C3(){const[t,e]=Lt(Tv);return b.useEffect(()=>{e(n=>n||g_e())},[e]),t}function yje(t){const{showSettings:e,showSettingsRelyOnChatDetailLayout:n}=t,r=C3(),i=oe(cs);return b.useMemo(()=>n?e&&!r&&i!=="side-by-side"&&i!=="detail-only":e&&!r,[n,e,r,i])}function gee(){const t=Object.assign({"../../assets/lottie/chain-of-thought-dark.json":()=>de(()=>import("./chain-of-thought-dark-DAdrbVMG.js"),[]).then(e=>e.default),"../../assets/lottie/chain-of-thought-light.json":()=>de(()=>import("./chain-of-thought-light-Cr0oOWNN.js"),[]).then(e=>e.default),"../../assets/lottie/character-thinking-cloud-animation.json":()=>de(()=>import("./character-thinking-cloud-animation-BPHslFRh.js"),[]).then(e=>e.default),"../../assets/lottie/image-gen-dark.json":()=>de(()=>import("./image-gen-dark-Xe9QwJfO.js"),[]).then(e=>e.default),"../../assets/lottie/image-gen-light.json":()=>de(()=>import("./image-gen-light-CvTKvF-o.js"),[]).then(e=>e.default),"../../assets/lottie/loader-gradient.json":()=>de(()=>import("./loader-gradient-nOUtNO79.js"),[]).then(e=>e.default),"../../assets/lottie/loader-image-generating.json":()=>de(()=>import("./loader-image-generating-CXsAaCuT.js"),[]).then(e=>e.default),"../../assets/lottie/loader-reasoning-dark.json":()=>de(()=>import("./loader-reasoning-dark-BWb0u6bB.js"),[]).then(e=>e.default),"../../assets/lottie/loader-reasoning-light.json":()=>de(()=>import("./loader-reasoning-light-DeS5Bpum.js"),[]).then(e=>e.default),"../../assets/lottie/loader-spinner-dark.json":()=>de(()=>import("./loader-spinner-dark-OIzWyRIV.js"),[]).then(e=>e.default),"../../assets/lottie/loader-spinner-light.json":()=>de(()=>import("./loader-spinner-light-DwSZ3tXn.js"),[]).then(e=>e.default),"../../assets/lottie/loader-spinner-white.json":()=>de(()=>import("./loader-spinner-white-B1ATuHTQ.js"),[]).then(e=>e.default),"../../assets/lottie/pages-welcome-dark.json":()=>de(()=>import("./pages-welcome-dark-r64A2mUI.js"),[]).then(e=>e.default),"../../assets/lottie/pages-welcome-light.json":()=>de(()=>import("./pages-welcome-light-DDUDcHxX.js"),[]).then(e=>e.default),"../../assets/lottie/voicemail-dark.json":()=>de(()=>import("./voicemail-dark-BtARQIb1.js"),[]).then(e=>e.default),"../../assets/lottie/voicemail-light.json":()=>de(()=>import("./voicemail-light-DeMSWjpH.js"),[]).then(e=>e.default)});return{load:e=>{const n=t[e];return n?n():Promise.reject(new Error(`Lottie animation not found: ${e}`))},exists:e=>e in t,getPaths:()=>Object.keys(t)}}const bje=b.lazy(()=>de(()=>import("./index.es-BQTTWj8K.js"),[])),Cje=gee();function Cn(t){const{type:e,className:n,rendererSettings:r,colorTheme:i}=t,o=oe(Rd),s=i??o,[a,c]=b.useState(null),d=`../../assets/lottie/${b.useMemo(()=>{switch(e){case"gradient":return"loader-gradient.json";case"reasoning":return s==="dark"?"loader-reasoning-dark.json":"loader-reasoning-light.json";case"chainOfThought":return s==="dark"?"chain-of-thought-dark.json":"chain-of-thought-light.json";case"spinnerWhite":return"loader-spinner-white.json";case"imageGen":return s==="dark"?"image-gen-dark.json":"image-gen-light.json";case"spinnerThemed":default:return s==="dark"?"loader-spinner-dark.json":"loader-spinner-light.json"}},[e,s])}`;return b.useEffect(()=>{Cje.load(d).then(c).catch(()=>c(null))},[d]),a?y.jsx(b.Suspense,{fallback:y.jsx("div",{}),children:y.jsx(bje,{animationData:a,loop:!0,className:n,rendererSettings:r})}):y.jsx("div",{})}const vee=Object.freeze(Object.defineProperty({__proto__:null,default:Cn},Symbol.toStringTag,{value:"Module"})),_je=16/9,wje=48,yee=296,Sje=yee/_je,Eje=Sje+wje;function Tje(){return y.jsx("div",{className:"pointer-events-none absolute inset-0 mb-[calc(var(--composer-container-height)+20px)] me-4 ms-2 mt-[72px]",children:y.jsx("div",{className:"absolute bottom-0 end-4",style:{width:`${yee}px`,height:`${Eje}px`},children:y.jsx("div",{className:fe("relative flex h-full flex-col overflow-hidden rounded-4xl","bg-acrylic-default-fallback-light/[98] dark:bg-acrylic-default-fallback-dark/[98]"),style:{boxShadow:"0px 16px 24px -2px rgba(0, 0, 0, 0.12)"},children:y.jsx("div",{className:"flex h-full items-center justify-center",children:y.jsx(Cn,{className:"size-12"})})})})})}function KT({onOutsideEvent:t,elements:e,shouldAttachListeners:n=!0,includeScroll:r=!0,invokeOnce:i=!0,includeFocus:o=!0}){b.useEffect(()=>{const s=a=>{e.some(l=>{var d;return(d=l.current)==null?void 0:d.contains(a.target)})||t()};return n&&(document.addEventListener("mousedown",s,{once:i}),r&&document.addEventListener("scroll",s,!0),o&&document.addEventListener("focusin",s,!0)),()=>{document.removeEventListener("mousedown",s),r&&document.removeEventListener("scroll",s,!0),o&&document.removeEventListener("focusin",s,!0)}},[n,r,e,i,o,t])}function Wx(t){const e=b.useRef(null),{isOpen:n,headerText:r,fullBleed:i,children:o,onClose:s,className:a,closeButtonTestId:c}=t,l=b.useRef(null),{t:d}=pt(),p=b.useId();KT({onOutsideEvent:s??(()=>{}),elements:[l],includeScroll:!1,includeFocus:!1});const{modalAttributes:m}=oJ({trapFocus:!0,legacyTrapFocus:!0,alwaysFocusable:!0});return b.useEffect(()=>{var g,C;n?(g=e.current)==null||g.showModal():(C=e.current)==null||C.close()},[n]),b.useEffect(()=>{const g=e.current;if(!g)return()=>{};const C=()=>{s==null||s()};return g.addEventListener("cancel",C),()=>{g.removeEventListener("cancel",C)}},[s]),y.jsx(ct.dialog,{className:"fixed inset-0 m-auto rounded-4xl border border-white/10 bg-background-150 text-foreground-800 shadow-xl backdrop:bg-stone-850/30 dark:bg-background-250 dark:backdrop:bg-midnight-850/70",animate:n?"animate":"initial",initial:"initial",exit:"exit",variants:{initial:Vt,animate:Rn},transition:{duration:zs.default,ease:"easeInOut"},ref:e,role:"dialog","aria-modal":"true","aria-labelledby":r?p:void 0,...n?m:{},children:n&&y.jsxs("div",{"data-modal-overlay":"true",className:fe("flex min-h-[150px] flex-col gap-3",!i&&"p-6",a),ref:l,children:[!i&&y.jsxs("div",{className:"flex items-center justify-between gap-2",children:[r&&y.jsx("h2",{id:p,className:"text-foreground-800 text-md-strong",children:r}),s&&y.jsx(lt,{variant:"square",color:"subtle-dimmed-inverted",size:"32-xs",title:d("common.closeText"),"aria-label":d("common.closeText"),onClick:s,testId:c,children:y.jsx(Hs,{className:"size-5"})})]}),o]})})}function Md(t){b.useEffect(()=>(window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}),[t])}const Ije=b.createContext(void 0),xje="XF86Back",EGe="XF86BTVoice",Aje=461;function kje(t){return t.key===xje||t.keyCode===Aje}function Rje(t){const{className:e,children:n}=t;return y.jsx("span",{className:fe("inline-block h-4 min-w-4 rounded-md bg-spot-peach-200 px-1 pt-px text-center leading-4 text-foreground-800 text-3xs dark:bg-slate-750",e),children:n})}const Pje={default:"border-black/10 dark:border-white/10",accent:"border-saddle-300 dark:border-slate-650"};function _3(t){const{horizontalMargin:e=!0,verticalMargin:n=!0,color:r="default",className:i}=t;return y.jsx("div",{className:fe("border-t-[1px]",e&&"mx-2",n&&"my-2",Pje[r],i)})}const Oje=b.lazy(()=>de(()=>import("./index-Cijl96VN.js").then(t=>t.i),__vite__mapDeps([220,221]))),Nje="focus-within:bg-neutral-50/5 before:pointer-events-none before:absolute before:inset-0 before:rounded-3xl before:border before:border-transparent focus-within:before:border-[1px] focus-within:before:border-[rgba(255,255,255,0.1)]";function Mje(){var d,p;const t=oe(H_e),[e,n]=Lt(Aq),r=b.useContext(Ije),i=oe(sn),o=Z2("html"),s=((d=Qe.instance().config().composer)==null?void 0:d.largeScreen)===!0&&((p=Qe.instance().config().composer)==null?void 0:p.voiceOnly)===!0,a=()=>{n(null),Yt({source:"citationOverflowModal",scenario:"close"})},{focusable:c}=gv({isFocusBoundary:!0});Md(m=>{kje(m)&&(m.stopPropagation(),a())});const l=b.useMemo(()=>new Map((e??[]).map((m,g)=>[g,b.createRef()])),[e]);return y.jsx(Wx,{isOpen:t,onClose:s?void 0:a,headerText:`${e==null?void 0:e.length} ${Ae("chat.references")}`,className:fe(s?"max-h-[40vh]":"max-h-[80vh]",s?"w-[480px]":"w-[440px]","mx-4 px-2"),children:y.jsx(eL.Provider,{value:c.focusKey??"",children:y.jsx("div",{className:fe("flex flex-col gap-2 overflow-y-auto",s?"no-scrollbar":"t-custom-scrollbar"),children:e==null?void 0:e.map((m,g)=>y.jsx(bee,{ref:l.get(g),index:g,citation:m,currentConversationId:i,messageId:r,isLargeScreenVoiceComposer:s,citationsModalData:e,rel:o},g))})})})}const bee=b.forwardRef(({index:t,citation:e,currentConversationId:n,messageId:r,citationsModalData:i,isLargeScreenVoiceComposer:o=!1,rel:s},a)=>{const{title:c,url:l,publisher:d}=e,{refCallback:p,focusable:m}=gv({autoRestoreFocus:!0,forceFocus:!0,scrollIntoViewOnFocus:!0},a);return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:fe(o&&Nje,"group relative flex flex-row items-center gap-2 rounded-3xl p-2"),children:[y.jsxs("a",{rel:s,ref:p,className:"flex flex-1 flex-col items-start gap-2 py-1","data-spatial-navigation-autofocus":!0,href:l,"data-spatial-focus-key":m.focusKey,target:"_blank",onClick:g=>{if(o){g.preventDefault();return}Yt({source:"citationModalLink",customData:JSON.stringify({destination:J2(l),conversationId:n,messageId:r})})},children:[y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(Rje,{children:e.index}),y.jsx("div",{className:"text-foreground-550 text-xs",children:d??gO(l)})]}),y.jsx("div",{children:c}),y.jsx("div",{className:"text-foreground-550 text-xs",children:gO(l)})]}),o&&y.jsx(b.Suspense,{fallback:y.jsx("span",{}),children:y.jsx("div",{className:"flex size-28 items-center justify-center rounded-2xl bg-white opacity-0 group-focus-within:opacity-100",children:y.jsx(Oje,{value:l,size:86})})})]}),t<i.length-1&&y.jsx(_3,{horizontalMargin:!1,verticalMargin:!1,className:"my-4"})]})});bee.displayName="CitationItem";const Lje=b.lazy(()=>de(()=>Promise.resolve().then(()=>vee),void 0));async function Dje(t){await ko({path:t,args:{options:{method:"DELETE"}}})}function jje(){const{t}=pt(),e=We(kq),{trigger:n,isMutating:r}=mL("/conversations/history",Dje),i=async()=>{await n(),e(null)},o=()=>{e(null)};return y.jsxs(Wx,{isOpen:!0,onClose:o,headerText:t("settings.clearHistory.header"),className:"min-h-[328px] w-full max-w-[400px]",children:[y.jsx("p",{className:"text-start",children:t("settings.clearHistory.description")}),y.jsx(lt,{title:t("settings.clearHistory.confirm"),color:"default",size:"56-xl",variant:"rect",className:"mt-3 w-full text-system-red-550 dark:text-system-red-350",onClick:i,disabled:r,children:r?y.jsx(Lje,{type:"spinnerThemed",className:"size-6"}):t("settings.clearHistory.confirm")}),y.jsx(lt,{title:t("common.cancel"),color:"strong",size:"56-xl",variant:"rect",className:"mt-3 w-full",onClick:o,children:t("common.cancel")})]})}const SP="relative size-full rounded-full aspect-square",Q7="flex items-center justify-center uppercase",EP="after:absolute after:-inset-px after:rounded-full after:border-[0.5px] after:border-black/10 dark:after:border-white/20";function Fje(t){const{firstName:e,imgSrc:n,nameSizeClass:r,altText:i}=t;return n?y.jsx("img",{className:fe("overflow-hidden object-cover",SP,EP),src:n,alt:i??Ae("common.profileImage")}):e?y.jsx("div",{className:fe(SP,Q7,EP,r??"text-md"),children:y.jsx("div",{children:e[0]})}):y.jsx("div",{className:fe(SP,Q7,EP),children:y.jsx(l3,{className:"size-6 fill-foreground-800","alt-text":i??Ae("common.profileImage")})})}function Uje(){const t=je("aad-student"),e=oe(yAe),{t:n}=pt(),r=t&&e,i=t&&e===void 0,o=n(r?"entraRedirect.guestTitle":"entraRedirect.workTitle"),s=n(r?"entraRedirect.guestDescription":"entraRedirect.workDescription");return{isStudentEnabled:r,isLoadingEnabled:i,workTitle:o,workDescription:s,titleGapClass:r?"mb-6 sm:mb-10":"mb-8 sm:mb-14",eventInfoScenario:r?"Student":"Enterprise",getPageTitle:()=>n(r?"aadStudent.title":"entraRedirect.pageTitle"),getPageSubTitle:m=>r?n("aadStudent.subtitle",{email:m}):void 0,getWorkButtonText:m=>r?n("aadStudent.continueAsGuestButtonText"):n("entraRedirect.goToWorkButton",{redirectUrl:m})}}function Bje(){var L;const t=oe(G1e),e=oe(Nv),n=oe(Fi),r=tp(),i=ds(),{isStudentEnabled:o,isLoadingEnabled:s,workTitle:a,workDescription:c,titleGapClass:l,eventInfoScenario:d,getPageTitle:p,getPageSubTitle:m,getWorkButtonText:g}=Uje(),C=!o&&(n==null?void 0:n.email);b.useEffect(()=>{t&&Ci(fT,JSON.stringify(t))},[t]);let _=!1;try{_=JSON.parse(ir(fT)??"false")}catch(B){console.error("Failed to parse authentication status:",B),_=!1}const S=t?e:!_&&!!((L=window.cwcRedirect)!=null&&L.cwcRedirectUrl),[w,T]=b.useState(S),[I,A]=b.useState(),{t:k}=pt(),{login:R,logout:M}=Uv(),P=(B,j,V)=>lh(`${B}?fromCode=cmcv2&redirectId=${j}${V?`&login_hint=${V}`:""}`),N=async()=>{let B=crypto.randomUUID().replace(/-/g,"").toUpperCase(),j=kk,V="AadUnknown";if(e){const z=await F9();j=P(kk,B,z==null?void 0:z.username)}else window.cwcRedirect&&(j=window.cwcRedirect.cwcRedirectUrl,B=window.cwcRedirect.redirectId,V=window.cwcRedirect.chatEligibility);Qe.instance().config().entraRedirectModalBehaviour==="new-tab"?window.open(lh(j),"_blank","noopener,noreferrer"):Cx(lh(j)),he.trackEvent({name:"interaction",data:{eventName:"copilotEnterpriseRedirect",...I,eventInfo_traceId:B,eventInfo_redirectUrl:j,eventInfo_chatEligibility:V}})},D=async()=>{he.trackEvent({name:"interaction",data:{eventName:"copilotStudentRedirectSignOut",...I}}),await M()},G=async()=>{he.trackEvent({name:"interaction",data:{eventName:"copilotEnterpriseRedirectSwitchAccount",eventInfo_scenario:d,...I}}),T(!1),r?(await M(!1),await i({from:"/",to:"/login"})):await R({provider:"microsoft"})},U=async()=>{he.trackEvent({name:"interaction",data:{eventName:t?"copilotEnterpriseRedirectSignOut":"copilotEnterpriseRedirectContinueSignedOut",...I}}),t?await M():T(!1)};if(b.useEffect(()=>{T(S),S&&(async()=>{var V;let j={};if(e){const K=await F9();j={userAadId:(V=K==null?void 0:K.idTokenClaims)==null?void 0:V.oid,userAadTenantId:K==null?void 0:K.tenantId}}else window.cwcRedirect&&(j={userAadId:window.cwcRedirect.userId,userAadTenantId:window.cwcRedirect.tenantId});he.trackEvent({name:"system",data:{eventName:"copilotEnterpriseRedirectImpression",eventInfo_redirectReason:e?"AAD":"CWC",eventInfo_scenario:d,...j}}),A(j)})().catch(console.error)},[e,S,d]),!w)return null;const W=!_&&window.cwcRedirect?new URL(window.cwcRedirect.cwcRedirectUrl).hostname:kk,$=m(n==null?void 0:n.email);return y.jsxs(_i,{id:String(w),duration:0,mode:"sync",className:fe("fixed inset-0",Un.modal),children:[y.jsx(Ll,{forceGradient:!0}),y.jsx("main",{className:"relative m-auto flex size-full max-w-chat flex-col items-center justify-center overflow-y-auto p-4 pb-8 pt-20 sm:py-4",children:s?y.jsx(Cn,{className:"size-8"}):y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"mb-9",children:y.jsx(GC,{className:"size-12"})}),y.jsx("h1",{className:fe("mb-8 w-full whitespace-pre-wrap break-words px-4 text-center text-2xl sm:mb-14",l),children:p()}),o&&$&&y.jsx("p",{className:"mb-10 w-full whitespace-pre-wrap break-words px-4 text-center text-base sm:mb-16",children:$}),y.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 md:gap-16",children:[y.jsx(X7,{title:a,description:c,onClick:o?D:N,children:y.jsxs("div",{className:"space-y-1",children:[y.jsx("p",{children:g(W)}),C&&y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsx("div",{className:"relative size-5",children:y.jsx(Fje,{firstName:n.firstName??n.givenName??void 0,imgSrc:n.imgSrc,nameSizeClass:"text-xs"})}),y.jsx("p",{className:"text-xs",children:n.email})]})]})}),y.jsx(X7,{title:k("entraRedirect.personalTitle"),description:k("entraRedirect.personalDescription"),onClick:G,children:y.jsx("p",{className:"text-xs",children:k("entraRedirect.switchToPersonalButton")})})]}),!o&&y.jsx("div",{className:"mt-8 sm:mt-12",children:y.jsx(ma,{i18nKey:t?"entraRedirect.signOut":"entraRedirect.continueSignedOut",components:{[t?"entraSignOut":"entraContinue"]:y.jsx("button",{type:"button",className:"underline",onClick:U,children:k(t?"entraRedirect.signOut":"entraRedirect.continueSignedOut")})}})})]})})]})}function X7({title:t,onClick:e,description:n,children:r}){return y.jsxs("div",{className:"flex flex-col justify-between rounded-4xl bg-white/70 p-4 dark:bg-midnight-700/70 md:p-6 md:pb-8",children:[y.jsxs("div",{children:[y.jsx("div",{className:"mb-2.5 text-lg",children:t}),y.jsx("p",{className:"mb-6 text-sm",children:n})]}),y.jsx(lt,{color:"default",variant:"rect",title:t,onClick:e,children:r})]})}function $v(t,e=!0,n=!1){b.useEffect(()=>{var r;e&&((r=t.current)==null||r.focus({preventScroll:n}))},[t,e,n])}const Vje=b.lazy(()=>de(()=>import("./index-Cijl96VN.js").then(t=>t.i),__vite__mapDeps([220,221])));function Hje(t){const{onClose:e,interceptedLink:n}=t,{t:r}=pt(),i=b.useRef(null);return $v(i),Md(o=>{(o.key==="Escape"||o.key==="Control")&&e()}),y.jsxs("div",{className:"flex w-[400px] max-w-[80vw] flex-col items-center p-4 text-center",children:[y.jsx("div",{className:"bg-white p-2",children:y.jsx(b.Suspense,{fallback:y.jsx("span",{}),children:y.jsx(Vje,{value:n,size:96})})}),y.jsx("h1",{className:"py-3 text-lg",children:r("composer.interceptedLink.title")}),y.jsx("p",{className:"w-full pb-7",children:y.jsx(ma,{i18nKey:"composer.interceptedLink.description",components:{span:y.jsx("span",{className:"break-words underline"})},values:{link:n}})}),y.jsx(lt,{ref:i,onClick:e,title:"close",variant:"pill",size:"48-lg",className:"w-full",children:r("common.closeText")})]})}const Z7={translateY:"100%"},zje={translateY:0};function $je(t){const{children:e,id:n,onClose:r,className:i}=t,o=b.useRef(null);return Md(s=>{const{current:a}=o;!a||!a.contains(document.activeElement)||s.key==="Escape"&&r()}),y.jsxs(y.Fragment,{children:[y.jsx(ct.div,{initial:Vt,animate:Rn,exit:Vt,transition:CM,className:"fixed inset-0 bg-black/50"}),y.jsx(ct.div,{id:n,initial:Z7,animate:zje,exit:Z7,transition:CM,className:fe("absolute bottom-0 max-h-expanded-section w-full overflow-y-hidden rounded-4xl",Un.modal,i),ref:o,children:y.jsx("div",{className:"flex h-full flex-col items-start gap-4 overflow-y-auto bg-background-100 p-6",children:e})})]})}function Wje(t){var a;const{children:e,id:n,onClose:r,className:i}=t,o=Po(),s=(a=Qe.instance().config().uiOverrides)==null?void 0:a.disableConversationsModalWrapper;return o||s?y.jsx("div",{className:"flex max-w-96 flex-col items-start gap-4 p-2",children:e}):y.jsx($je,{id:n,onClose:r,className:i,children:e})}function Kje(){const[t,e]=b.useState(!1),n=xd(Nr),{createConversation:r}=hx(),i=b.useCallback(async o=>{if(!o)return;const s=zq(o);Or({source:"deleteConversation",conversationId:o,scenario:s?"actions":void 0}),e(!0),s?await rv(`/tasks/${s}`,{options:{method:"DELETE"},analytics:{anonymousPath:"/tasks/*"}}):await rv(`/conversations/${o}`,{options:{method:"DELETE"},analytics:{anonymousPath:"/conversations/*"}}),cn(sn)===o&&await r(!1),e(!1),n(a=>{a.delete(o)})},[n,r]);return{loading:t,deleteConversation:i}}const Cee=t=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",...t},b.createElement("path",{fill:"currentColor",d:"M 20.292969 5.2929688 L 9 16.585938 L 4.7070312 12.292969 L 3.2929688 13.707031 L 9 19.414062 L 21.707031 6.7070312 L 20.292969 5.2929688 z"})),TGe=Object.freeze(Object.defineProperty({__proto__:null,default:Cee},Symbol.toStringTag,{value:"Module"}));function _ee(t){const{disabled:e,checked:n,label:r,className:i,labelClassName:o,setChecked:s}=t,a=b.useId();return y.jsxs("label",{className:fe("relative flex cursor-pointer items-center",i),htmlFor:a,children:[y.jsx("input",{checked:n,type:"checkbox",id:a,className:"peer sr-only",onChange:c=>s(c.target.checked),disabled:e}),y.jsx("span",{className:fe("flex aspect-square size-5 items-center justify-center rounded-full border transition-colors duration-200 peer-focus:ring-1 peer-focus:ring-black peer-focus:ring-offset-2 peer-disabled:pointer-events-none peer-disabled:opacity-40 dark:peer-focus:ring-white","contrast-more:peer-focus:outline contrast-more:peer-focus:outline-2 contrast-more:peer-focus:outline-offset-2",n&&"bg-black contrast-more:bg-white dark:bg-white"),children:y.jsx(Cee,{className:fe("size-3 text-white transition-opacity duration-200 contrast-more:text-current dark:text-black contrast-more:dark:text-current",n?"opacity-100":"opacity-0")})}),y.jsx("span",{className:fe("mt-px ps-4 peer-disabled:pointer-events-none peer-disabled:opacity-40",o),children:r})]})}function Gje(t){var C;const{conversationId:e,onClose:n}=t,r=b.useId(),{t:i}=pt(),[o,s]=b.useState(!1),{loading:a,deleteConversation:c}=Kje(),l=()=>{o&&Ci(lAe,"true"),n()},d=async()=>{await c(e),l()},p=Po(),g=!((C=Qe.instance().config().uiOverrides)==null?void 0:C.disableDeleteConfirmationCheckbox)&&!p;return y.jsxs(Wje,{id:r,onClose:n,className:"h-96",children:[y.jsx("h2",{className:"text-lg",children:i("composer.deleteConversation.header")}),y.jsx("p",{children:i("composer.deleteConversation.description")}),g&&y.jsx(_ee,{disabled:a,checked:o,label:i("composer.deleteConversation.dontRemindMeCheck"),setChecked:s,className:"flex-1"}),y.jsx(lt,{title:i("common.delete"),color:"default",size:"56-xl",variant:"rect",className:"mt-auto w-full text-system-red-550 dark:text-system-red-350",disabled:a,onClick:d,children:a?y.jsx(Cn,{className:"size-8"}):i("common.delete")}),y.jsx(lt,{title:i("common.keep"),color:"strong",size:"56-xl",variant:"rect",className:"w-full",disabled:a,onClick:l,children:i("common.keep")})]})}const qje=se(void 0),Yje=b.lazy(()=>de(()=>import("./sender-share-conversation-modal-CvUyZVSn.js"),__vite__mapDeps([222,223,224,225])).then(t=>({default:t.ShareConversationModal})));function Qje(){const[t,e]=Lt(qje),{t:n}=pt(),r=()=>{e(void 0)};switch(t==null?void 0:t.action){case"delete":return y.jsx(qh,{isOpen:!0,className:"w-3/4 max-w-fit",children:y.jsx(Gje,{onClose:r,conversationId:t.conversationId})});case"share":return y.jsx(qh,{trapFocus:!0,isOpen:!!t.conversationId,disableCloseOutside:!0,onClose:r,headerText:t.messageId?n("share.shareModalHeaderOneTurn"):n("share.shareModalHeader"),headerTextClassName:"text-lg",className:"relative max-h-full w-3/4 max-w-[640px] overflow-y-auto",children:y.jsx(b.Suspense,{fallback:y.jsx(lt,{color:"strong",size:"56-xl",className:"w-full",title:n("common.loading"),disabled:!0,children:y.jsx(Cn,{className:"size-8"})}),children:y.jsx(Yje,{conversationId:t.conversationId,scenario:t.scenario,messageId:t.messageId})})});default:return null}}const Xje="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/turn-limit-dark-CEuF11Ih.jpg",Zje="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/turn-limit-light-BSlP2HSn.jpg";function wee(t){const{dismiss:e,source:n}=t,{t:r}=pt(),{login:i}=Uv(),o=r("logIn.proUpsellHeader"),s=r("logIn.proUpsellDescription"),a=r("common.notNow"),c=r("signInPrompt.continueWithMicrosoft"),l=oe(Rd),d=Wn();b.useEffect(()=>{Mv({page:d,scenario:`UpsellProForAuth0AccountFrom${n}`})},[d,n]);const p=()=>{Yt({source:`UpsellProForAuth0AccountFrom${n}`,scenario:"ProUpsellForAuth0AccountLinkWithMSA",destination:"MicrosoftLoginPage"}),sessionStorage.setItem(bO,`${new Date().getTime().toString()}-link`),i({provider:"microsoft"})},m=()=>{Yt({source:`UpsellProForAuth0AccountFrom${n}`,scenario:"dismissProUpsellForAuth0Account",destination:d}),e()};return y.jsxs("div",{className:"flex flex-col items-center p-4 text-center",children:[y.jsx("img",{src:l==="dark"?Xje:Zje,alt:r("images.birds"),className:"h-44 w-full rounded-xl object-cover"}),y.jsx("h1",{className:"pb-3 pt-6 text-lg",children:o}),y.jsx("p",{className:"max-w-[95%] break-words pb-7",children:s}),y.jsxs(lt,{onClick:p,title:c,variant:"pill",size:"48-lg",className:"w-full",color:"strong",testId:"prompt-sign-in-msft-composer-action",children:[y.jsx(yI,{className:"size-6"}),c]}),y.jsx(lt,{onClick:m,title:a,variant:"pill",size:"48-lg",color:"overlay-bright",className:"mt-3 w-full",testId:"not-now-button-composer-action",children:a})]})}const Jje=Object.freeze(Object.defineProperty({__proto__:null,default:wee},Symbol.toStringTag,{value:"Module"}));function eFe(){const t=C3(),e=oe(ll),n=oe(kq),[r,i]=Lt(mD),[o,s]=Lt(K_e),a=Qe.instance().config().entraRedirectModalBehaviour!=="skip";return y.jsxs(y.Fragment,{children:[e&&y.jsx(uJ,{accountActionRequired:e}),t&&r&&y.jsx(qh,{isOpen:!0,children:y.jsx(Hje,{interceptedLink:r,onClose:()=>{i(void 0)}})}),y.jsx(Qje,{}),n&&y.jsx(jje,{}),o&&y.jsx(qh,{isOpen:!0,className:"min-h-[328px] max-w-[528px]",children:y.jsx(wee,{dismiss:()=>s(null),source:"ProSubPage"})}),a&&y.jsx(Bje,{}),y.jsx(s3e,{}),y.jsx(Mje,{})]})}const See=t=>b.createElement("svg",{width:96,height:93,viewBox:"0 0 96 93",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},b.createElement("mask",{id:"mask0_140_39981",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:96,height:93},b.createElement("mask",{id:"path-1-outside-1_140_39981",maskUnits:"userSpaceOnUse",x:0,y:0,width:96,height:93,fill:"black"},b.createElement("rect",{fill:"white",width:96,height:93}),b.createElement("path",{d:"M4 46.5C4 23.0279 23.0279 4 46.5 4H49.5C72.9721 4 92 23.0279 92 46.5V46.5C92 69.9721 72.9721 89 49.5 89H46.5C23.0279 89 4 69.9721 4 46.5V46.5Z"})),b.createElement("path",{d:"M46.5 4V8H49.5V4V0H46.5V4ZM49.5 89V85H46.5V89V93H49.5V89ZM46.5 89V85C25.237 85 8 67.763 8 46.5H4H0C0 72.1812 20.8188 93 46.5 93V89ZM92 46.5H88C88 67.763 70.763 85 49.5 85V89V93C75.1812 93 96 72.1812 96 46.5H92ZM49.5 4V8C70.763 8 88 25.237 88 46.5H92H96C96 20.8188 75.1812 0 49.5 0V4ZM46.5 4V0C20.8188 0 0 20.8188 0 46.5H4H8C8 25.237 25.237 8 46.5 8V4Z",fill:"url(#paint0_linear_140_39981)",fillOpacity:.8,mask:"url(#path-1-outside-1_140_39981)"}),b.createElement("g",{clipPath:"url(#paint1_angular_140_39981_clip_path)","data-figma-skip-parse":"true",mask:"url(#path-1-outside-1_140_39981)"},b.createElement("g",{transform:"matrix(0 -0.0425 0.0556447 0 48 46.5)"},b.createElement("foreignObject",{x:-1094.12,y:-1094.12,width:2188.24,height:2188.24},b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",style:{background:"conic-gradient(from 90deg,rgba(214, 147, 237, 1) 0deg,rgba(250, 176, 198, 1) 60.2401deg,rgba(244, 185, 234, 1) 85.1532deg,rgba(141, 152, 255, 1) 126.663deg,rgba(170, 110, 238, 1) 209.329deg,rgba(255, 103, 119, 1) 250.911deg,rgba(255, 186, 113, 1) 291.415deg,rgba(198, 134, 255, 1) 332.659deg,rgba(214, 147, 237, 1) 360deg)",height:"100%",width:"100%",opacity:1}})))),b.createElement("path",{d:"M46.5 4V8H49.5V4V0H46.5V4ZM49.5 89V85H46.5V89V93H49.5V89ZM46.5 89V85C25.237 85 8 67.763 8 46.5H4H0C0 72.1812 20.8188 93 46.5 93V89ZM92 46.5H88C88 67.763 70.763 85 49.5 85V89V93C75.1812 93 96 72.1812 96 46.5H92ZM49.5 4V8C70.763 8 88 25.237 88 46.5H92H96C96 20.8188 75.1812 0 49.5 0V4ZM46.5 4V0C20.8188 0 0 20.8188 0 46.5H4H8C8 25.237 25.237 8 46.5 8V4Z",mask:"url(#path-1-outside-1_140_39981)"})),b.createElement("g",{mask:"url(#mask0_140_39981)"},b.createElement("g",{clipPath:"url(#paint2_angular_140_39981_clip_path)","data-figma-skip-parse":"true"},b.createElement("g",{transform:"matrix(0 -0.071 0.0897903 0 48 47.0001)"},b.createElement("foreignObject",{x:-1014.09,y:-1014.09,width:2028.17,height:2028.17},b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",style:{background:"conic-gradient(from 90deg,rgba(0, 0, 0, 1) 0deg,rgba(255, 255, 255, 1) 52.2deg,rgba(197, 197, 197, 1) 122.4deg,rgba(0, 0, 0, 1) 147.6deg,rgba(255, 255, 255, 1) 171deg,rgba(174, 174, 174, 1) 235.8deg,rgba(0, 0, 0, 1) 250.911deg,rgba(217, 238, 247, 1) 266.4deg,rgba(255, 255, 255, 1) 332.659deg,rgba(0, 0, 0, 1) 360deg)",height:"100%",width:"100%",opacity:1}})))),b.createElement("rect",{x:-23,y:-24,width:142,height:142})),b.createElement("defs",null,b.createElement("clipPath",{id:"paint1_angular_140_39981_clip_path"},b.createElement("path",{d:"M46.5 4V8H49.5V4V0H46.5V4ZM49.5 89V85H46.5V89V93H49.5V89ZM46.5 89V85C25.237 85 8 67.763 8 46.5H4H0C0 72.1812 20.8188 93 46.5 93V89ZM92 46.5H88C88 67.763 70.763 85 49.5 85V89V93C75.1812 93 96 72.1812 96 46.5H92ZM49.5 4V8C70.763 8 88 25.237 88 46.5H92H96C96 20.8188 75.1812 0 49.5 0V4ZM46.5 4V0C20.8188 0 0 20.8188 0 46.5H4H8C8 25.237 25.237 8 46.5 8V4Z",mask:"url(#path-1-outside-1_140_39981)"})),b.createElement("clipPath",{id:"paint2_angular_140_39981_clip_path"},b.createElement("rect",{x:-23,y:-24,width:142,height:142})),b.createElement("linearGradient",{id:"paint0_linear_140_39981",x1:4,y1:89,x2:101.93,y2:75.3765,gradientUnits:"userSpaceOnUse"},b.createElement("stop",{stopColor:"#FFAB4E"}),b.createElement("stop",{offset:1,stopColor:"#FF7791"})))),IGe=Object.freeze(Object.defineProperty({__proto__:null,default:See},Symbol.toStringTag,{value:"Module"})),Eee=t=>b.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...t},b.createElement("path",{d:"M20.2899 16.4358C20.6074 15.5282 20.78 14.5526 20.78 13.5366V9.5241C20.78 9.10859 20.4432 8.77175 20.0277 8.77175C19.6122 8.77175 19.2753 9.10859 19.2753 9.5241V13.5366C19.2753 14.1176 19.2072 14.6827 19.0785 15.2244L20.2899 16.4358Z",fill:"currentColor"}),b.createElement("path",{d:"M15.263 11.1575V6.51431C15.263 4.71377 13.8034 3.25414 12.0028 3.25414C10.7464 3.25414 9.65599 3.96485 9.11167 5.00618L8.01336 3.90787C8.86428 2.60809 10.3333 1.74944 12.0028 1.74944C14.6344 1.74944 16.7677 3.88274 16.7677 6.51431V12.6622L15.263 11.1575Z",fill:"currentColor"}),b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0026 20.8093C7.986 20.8093 4.7299 17.5532 4.7299 13.5366L4.7299 9.5241C4.7299 9.10859 4.39306 8.77175 3.97755 8.77175C3.56204 8.77175 3.2252 9.10859 3.2252 9.5241L3.2252 13.5366C3.2252 18.3843 7.15498 22.314 12.0026 22.314C14.6664 22.314 17.053 21.1274 18.6628 19.2539L21.0006 21.5917C21.2944 21.8855 21.7707 21.8855 22.0645 21.5917C22.3584 21.2979 22.3584 20.8215 22.0645 20.5277L3.00504 1.46823C2.71123 1.17442 2.23487 1.17442 1.94106 1.46823C1.64725 1.76204 1.64725 2.2384 1.94106 2.53221L7.23793 7.82908V13.5362C7.23793 16.1678 9.37124 18.3011 12.0028 18.3011C13.5589 18.3011 14.9407 17.5552 15.8103 16.4015L17.5951 18.1862C16.261 19.7891 14.251 20.8093 12.0026 20.8093ZM8.74263 13.5362C8.74263 15.3368 10.2023 16.7964 12.0028 16.7964C13.1441 16.7964 14.1484 16.21 14.7308 15.322L8.74263 9.33378L8.74263 13.5362Z",fill:"currentColor"})),xGe=Object.freeze(Object.defineProperty({__proto__:null,default:Eee},Symbol.toStringTag,{value:"Module"})),w3=t=>b.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...t},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.7673 6.54284C16.7673 3.91128 14.634 1.77799 12.0024 1.77799C9.37089 1.77799 7.2376 3.91129 7.2376 6.54284L7.2376 13.5647C7.2376 16.1963 9.37089 18.3296 12.0024 18.3296C14.634 18.3296 16.7673 16.1963 16.7673 13.5647L16.7673 6.54284ZM12.0024 3.28268C13.803 3.28268 15.2626 4.7423 15.2626 6.54284L15.2626 13.5647C15.2626 15.3652 13.803 16.8249 12.0024 16.8249C10.2019 16.8249 8.74229 15.3652 8.74229 13.5647L8.74229 6.54284C8.74229 4.7423 10.2019 3.28268 12.0024 3.28268Z",fill:"currentColor"}),b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.0274 8.79987C19.6119 8.79987 19.2751 9.1367 19.2751 9.55221V13.5647C19.2751 17.5813 16.019 20.8374 12.0024 20.8374C7.98587 20.8374 4.72979 17.5813 4.72979 13.5647L4.72979 9.55221C4.72979 9.1367 4.39295 8.79987 3.97744 8.79987C3.56193 8.79987 3.2251 9.1367 3.2251 9.55221L3.2251 13.5647C3.2251 18.4123 7.15485 22.3421 12.0024 22.3421C16.85 22.3421 20.7798 18.4123 20.7798 13.5647V9.55221C20.7798 9.1367 20.443 8.79987 20.0274 8.79987Z",fill:"currentColor"})),AGe=Object.freeze(Object.defineProperty({__proto__:null,default:w3},Symbol.toStringTag,{value:"Module"})),Tee=t=>b.createElement("svg",{width:63,height:73,viewBox:"0 0 63 73",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},b.createElement("g",{filter:"url(#filter0_d_3118_29179)"},b.createElement("path",{d:"M39.7952 28.3892L42.2422 41.8194C43.061 46.313 43.4704 48.5598 42.1865 49.4826C40.9025 50.4053 38.9035 49.3009 34.9054 47.0922L22.9563 40.491C16.2962 36.8117 12.9661 34.972 13.4372 33.1039C13.9083 31.2359 17.7474 31.1951 25.4255 31.1136C27.1365 31.0955 27.992 31.0864 28.6339 30.625C29.2759 30.1637 29.5572 29.3557 30.12 27.7398C32.6452 20.4884 33.9078 16.8627 35.8285 17.0117C37.7493 17.1608 38.4313 20.9036 39.7952 28.3892Z",fill:"white",fillOpacity:.8,shapeRendering:"crispEdges"}),b.createElement("path",{d:"M39.7952 28.3892L42.2422 41.8194C43.061 46.313 43.4704 48.5598 42.1865 49.4826C40.9025 50.4053 38.9035 49.3009 34.9054 47.0922L22.9563 40.491C16.2962 36.8117 12.9661 34.972 13.4372 33.1039C13.9083 31.2359 17.7474 31.1951 25.4255 31.1136C27.1365 31.0955 27.992 31.0864 28.6339 30.625C29.2759 30.1637 29.5572 29.3557 30.12 27.7398C32.6452 20.4884 33.9078 16.8627 35.8285 17.0117C37.7493 17.1608 38.4313 20.9036 39.7952 28.3892Z",stroke:"white",strokeWidth:1.5,shapeRendering:"crispEdges"})),b.createElement("path",{d:"M43.06 50.7014C44.3479 49.7757 44.5485 48.2871 44.5004 46.9375L44.469 46.4069C44.397 45.4896 44.2259 44.4068 44.0083 43.1722L43.7279 41.6191L43.7271 41.6113L43.7263 41.6119L41.2578 28.06L40.7794 25.455C40.3207 22.9993 39.9105 20.9984 39.4527 19.5092L39.3346 19.1407C39.0928 18.4125 38.8119 17.7441 38.4599 17.1874L38.2786 16.9184C37.7807 16.2335 37.0781 15.6722 36.1346 15.5382L35.9428 15.5173C35.0273 15.4462 34.264 15.7987 33.6613 16.3187L33.4134 16.551C32.8862 17.0835 32.4355 17.7951 32.024 18.597L31.8493 18.9462C31.1633 20.3587 30.4435 22.2885 29.6039 24.6656L28.7214 27.1892L28.7014 27.2468C28.4821 27.8767 28.3253 28.323 28.1864 28.662L28.0522 28.9689C27.8919 29.3038 27.7981 29.3776 27.7565 29.4075C27.7254 29.4298 27.6614 29.4719 27.4758 29.5106L27.2465 29.5479C27.0436 29.5728 26.806 29.587 26.5081 29.5964L25.4073 29.6142L25.3455 29.6153C22.0505 29.6503 19.3668 29.6775 17.3562 29.8624L16.5355 29.9519C15.6246 30.0688 14.7765 30.2424 14.0635 30.5367L13.7674 30.6702C13.0061 31.0434 12.328 31.6403 12.0348 32.5515L11.9812 32.738C11.7577 33.624 11.971 34.4332 12.3786 35.1149L12.5645 35.3986C13.059 36.0947 13.7998 36.7301 14.6458 37.3375L15.3198 37.8019C16.9879 38.9103 19.3175 40.1961 22.1748 41.7746L34.238 48.4394L35.6206 49.2003C36.9417 49.9202 38.0776 50.5066 39.0333 50.8666L39.516 51.0344C40.6626 51.3952 41.933 51.5114 43.06 50.7014Z",stroke:"black",strokeWidth:1.5}),b.createElement("defs",null,b.createElement("filter",{id:"filter0_d_3118_29179",x:2.64307,y:6.25732,width:51.1152,height:66.3022,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},b.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),b.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),b.createElement("feMorphology",{radius:2,operator:"erode",in:"SourceAlpha",result:"effect1_dropShadow_3118_29179"}),b.createElement("feOffset",{dy:16}),b.createElement("feGaussianBlur",{stdDeviation:4}),b.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),b.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.12 0"}),b.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_3118_29179"}),b.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_3118_29179",result:"shape"})))),kGe=Object.freeze(Object.defineProperty({__proto__:null,default:Tee},Symbol.toStringTag,{value:"Module"}));function tFe(t){const{renderFocusedElement:e,children:n,className:r,options:i={},isOpen:o}=t,{offset:s=1,placement:a="bottom-end",adjustArrowPosition:c=T=>T}=i,l=b.useRef(null),{state:d,setState:p}=s3({controlledValue:o,defaultValue:!1}),{y:m=0}=c({x:0,y:0})??{},{refs:g,context:C,floatingStyles:_,middlewareData:S}=Fx({open:d,placement:a,onOpenChange:p,middleware:[Px(s),Ox(),eDe({element:l,padding:{right:-38,bottom:m}})],whileElementsMounted:WC}),w=c(S.arrow);return y.jsxs(y.Fragment,{children:[e==null?void 0:e({ref:g.setReference},d),d&&y.jsx(e3,{children:y.jsx(jx,{context:C,modal:!1,children:y.jsxs("div",{ref:g.setFloating,style:_,className:En("flex outline-none",Un.composerCoachmark),children:[y.jsx("div",{className:En("start-0 flex rounded-ee-md rounded-es-3xl rounded-se-3xl rounded-ss-3xl border border-background-200 border-white shadow-sm",r),children:n}),y.jsx("div",{ref:l,style:{position:"absolute",left:w==null?void 0:w.x,top:(w==null?void 0:w.y)??m},className:"pointer-events-none",children:y.jsx(Tee,{className:"my-5 size-14"})})]})})})]})}const nS="absolute inset-0 rounded-full",J7="relative size-6 transition-colors",eV=2,nFe=50,rFe=20,Iee=.6,iFe=3,oFe=.55,sFe=1,aFe={opacity:0,scale:Iee},cFe={opacity:1,scale:1,transition:{...aJ,delay:lJ}};function lFe(t){const{t:e}=pt(),{isMuted:n,inputVolume:r,isOutputPlaying:i,className:o,coachUserUnmute:s=!1,onClick:a}=t,c=!i&&!n,[l,d]=b.useState(!1),p=gi({breakpoint:"sm"});b.useEffect(()=>{let S;return s&&(S=setTimeout(()=>d(!0),600)),()=>clearTimeout(S)},[s]);const m=cW(r,sJ),g=Og(m,[eV,nFe],[Iee,iFe]),C=Og(m,[eV,rFe],[oFe,sFe]),{focusable:_}=gv({autoRestoreFocus:!0,forceFocus:!0});return y.jsx(tFe,{className:"max-w-72 border-white bg-black/90 p-2 dark:bg-white",isOpen:l,options:{placement:"top-end",offset:p?{mainAxis:27,crossAxis:10}:{mainAxis:15,crossAxis:-55},adjustArrowPosition:S=>p?{x:S!=null&&S.x?S.x-20:void 0,y:12}:S},renderFocusedElement:S=>y.jsxs(y.Fragment,{children:[l?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"absolute start-1/2 -my-4 size-fit -translate-x-1/2",children:y.jsx(_i,{duration:.6,exitDelay:4.5,exitDuration:.5,children:y.jsx(ct.div,{animate:{rotate:360},transition:{duration:2.5,repeat:1,ease:"linear"},children:y.jsx(See,{className:"size-20"})})})}),y.jsx("div",{className:"absolute start-1/2 -my-4 size-fit -translate-x-1/2",children:y.jsx(ct.div,{className:"size-[80px] rounded-full border-4 border-solid border-black/80 shadow-sm dark:border-white",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:4.5,ease:"linear"}})})]}):null,y.jsx(ct.button,{...S,title:e(n?"composer.unmuteMicrophone":"composer.muteMicrophone"),className:fe("size-12 rounded-full",d0,vI,o),layout:!s,initial:"initial",animate:"enter",variants:{initial:aFe,enter:cFe},onClick:a,ref:_.ref,"data-spatial-focus-key":_.focusKey,children:y.jsxs(ct.span,{className:fe("flex items-center justify-center overflow-hidden border",n?"border-transparent bg-black/8 dark:bg-white/5":"border-white bg-white/50 hover:bg-white/80 dark:border-white/12 dark:bg-black/40",c&&"text-spot-blue-450 dark:text-midnight-300",nS),layout:!s,children:[y.jsx(Rr,{children:c&&y.jsx(ct.div,{className:fe("flex items-center justify-center overflow-hidden rounded-full blur-[6px]",nS),layout:!0,initial:Vt,animate:Rn,exit:Vt,style:{scale:g},children:y.jsx(ct.div,{className:fe(nS),layout:!0,style:{opacity:C},children:y.jsx(ct.div,{className:fe("animate-spin-slow bg-gradient-audio-input-light dark:bg-gradient-audio-input-dark",nS)})})})}),n?y.jsx(Eee,{className:J7,"aria-hidden":!0}):y.jsx(w3,{className:J7,"aria-hidden":!0})]})})]}),children:y.jsx("div",{className:"flex p-0 px-3 text-white text-sm dark:text-foreground-300",children:e("voice.v2.waitingInteractionUnmuteSubheader")})})}function S3(t,e={},n){const{initialize:r=!1}=e,i=b.useRef(null);return b.useEffect(()=>{const o=n??i.current,s=new ResizeObserver(([a])=>{a&&t(a.contentRect)});return o&&(s.observe(o),r&&t(o.getBoundingClientRect())),()=>s.disconnect()},[t,r,n]),i}class uFe{constructor(){Se(this,"firstEventProcessed",null);Se(this,"events",[]);Se(this,"aiMessageNeedsPadding",!1);Se(this,"aiPcmParts",[]);Se(this,"totalAIBytes",0);Se(this,"userPcmParts",[]);Se(this,"totalUserBytes",0);Se(this,"conversationId",null)}reset(){this.firstEventProcessed=null,this.events=[],this.aiMessageNeedsPadding=!1,this.aiPcmParts=[],this.totalAIBytes=0,this.userPcmParts=[],this.totalUserBytes=0,this.conversationId=null}recordEvent(e){const n=Date.now();this.firstEventProcessed===null&&(this.firstEventProcessed=n),this.events.push({...e,timestamp:n-this.firstEventProcessed})}async download(){}saveFile(e,n){const r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)}processEvents(){for(const e of this.events)e.event==="userAudio"?this.addUserAudioData(e.audio):e.event==="audioEnd"?this.trimAiToUser():e.event==="startMessage"?this.onNewAiMessage():e.event==="audio"?this.addAIAudioData(e.audio):e.event==="interruptAudio"&&this.trimAiToUser()}onNewAiMessage(){this.aiMessageNeedsPadding=!0}padAiAudioData(){if(!this.aiMessageNeedsPadding)return;this.aiMessageNeedsPadding=!1;const e=2;let n=this.totalUserBytes-this.totalAIBytes;if(n<=0)return;n%e!==0&&(n+=e-n%e);const r=new Uint8Array(n);this.aiPcmParts.push(r),this.totalAIBytes+=n}trimAiToUser(){const e=this.totalUserBytes;let n=this.totalAIBytes-e;if(!(n<=0))for(let r=this.aiPcmParts.length-1;r>=0&&n>0;r-=1){const i=this.aiPcmParts[r];if(i)if(i.length<=n)n-=i.length,this.totalAIBytes-=i.length,this.aiPcmParts.pop();else{const o=i.length-n;this.aiPcmParts[r]=i.subarray(0,o),this.totalAIBytes-=n,n=0}}}addAIAudioData(e){this.padAiAudioData();const n=atob(e),r=new Uint8Array(n.length);for(let i=0;i<n.length;i+=1)r[i]=n.charCodeAt(i);this.aiPcmParts.push(r),this.totalAIBytes+=r.length}addUserAudioData(e){const n=atob(e),r=new Uint8Array(n.length);for(let i=0;i<n.length;i+=1)r[i]=n.charCodeAt(i);this.userPcmParts.push(r),this.totalUserBytes+=r.length}bytesToWavBlob(e,n,r,i){const o=e.length,s=new ArrayBuffer(44),a=new DataView(s),c=(m,g)=>{let C=0;for(const _ of g)a.setUint8(m+C,_.charCodeAt(0)),C+=1};c(0,"RIFF"),a.setUint32(4,36+o,!0),c(8,"WAVE"),c(12,"fmt "),a.setUint32(16,16,!0),a.setUint16(20,1,!0),a.setUint16(22,r,!0),a.setUint32(24,n,!0);const l=Math.trunc(r*i/8);a.setUint32(28,n*l,!0),a.setUint16(32,l,!0),a.setUint16(34,i,!0),c(36,"data"),a.setUint32(40,o,!0);const d=new Uint8Array(44+o);return d.set(new Uint8Array(s),0),d.set(e,44),new Blob([d],{type:"audio/wav"})}combineTracks(){const r=Math.trunc(2),i=this.concatParts(this.userPcmParts,this.totalUserBytes),o=this.concatParts(this.aiPcmParts,this.totalAIBytes),s=Math.floor(i.length/r),a=Math.floor(o.length/r),c=Math.max(s,a),l=new Int16Array(i.buffer,i.byteOffset,s),d=new Int16Array(o.buffer,o.byteOffset,a),p=new Int16Array(c*2);for(let m=0;m<c;m+=1){const g=m<s?l[m]:0;typeof g=="number"&&(p[m*2]=g);const C=m<a?d[m]:0;typeof C=="number"&&(p[m*2+1]=C)}return this.bytesToWavBlob(new Uint8Array(p.buffer),24e3,2,16)}concatParts(e,n){const r=new Uint8Array(n);let i=0;for(const o of e)r.set(o,i),i+=o.length;return r}processTextLog(){let e=!1,n=`Audio Recorder Log for conversation ${this.conversationId}:

`;for(const r of this.events){const{event:i,timestamp:o}=r;if(i==="userAudio")continue;if(i==="audio"){e||(n+=`${o}ms — server-to-client — ai audio stream
`,e=!0);continue}e=!1,n+=`${o}ms — ${i==="audioEnd"||i==="audioStart"?"client-to-server":"server-to-client"} — ${i}`,i==="audioStartFailed"&&(n+=` — ${r.reason}`),n+=`
`}return n}}const dFe=new uFe;function fFe(t){return new Promise(e=>{setTimeout(e,t)})}const hFe=se(!1),tV=se(0),nV=se(0),pFe=se(null),LM=se(!1),TP=se(!1),DM=se(0),jM=se(0),xee=24e3,E3=24e3;function mFe({data:t,audioContext:e,gainNode:n,sourceNodes:r,nextBufferTime:i,updateNextBufferTime:o,onAudioEnd:s,outputVolumeMuted:a=!1,getPlaySignal:c,updateAudioDuration:l,onAudioStart:d}){const p=CFe(t),m=new Int16Array(p);m.length!==0&&navigator.locks.request("audio-playback",async()=>{try{const g=m.length/E3;l==null||l(g);const C=c==null?void 0:c(g);C&&(console.log("Awaiting play signal"),await C),d(),await gFe(m,e,n,r,i,o,()=>s(t),a)}catch(g){console.error("Error playing audio:",g)}})}async function gFe(t,e,n,r,i,o,s,a){const c=new Float32Array(t.length);let l=0;for(;l<t.length;)c[l]=t[l]/32768,l+=1;const d=e.createBuffer(1,c.length,E3);d.getChannelData(0).set(c);const p=e.createBufferSource();p.buffer=d,p.connect(n),a&&(n.gain.value=0);const m=Ht();if(r.size===0){const _=m.get(jM),S=m.get(DM),w=_+(e.currentTime-S);m.set(jM,w)}r.add(p),p.onended=()=>{s(),m.set(DM,e.currentTime),r.delete(p),r.size===0&&m.set(LM,!1)};const g=wFe();p.playbackRate.value=g;const C=d.length/d.sampleRate/g;i.current<e.currentTime&&o(e.currentTime),p.start(i.current),m.set(LM,!0),o(i.current+C)}async function vFe(t,e,n,r,i){const o=r&&await r(),s=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,voiceIsolation:!0,autoGainControl:!0,sampleRate:xee,...o}}),a=s.getAudioTracks()[0];a&&(a.onended=d=>{i==null||i(d)});const c=e.createMediaStreamSource(s),l=e.createScriptProcessor(8192,1,1);return c.connect(n),n.connect(l),l.connect(e.destination),l.onaudioprocess=d=>{const p=d.inputBuffer.getChannelData(0),m=new Int16Array(p.length);for(let C=0;C<p.length;C+=1){const _=p[C];typeof _=="number"&&(m[C]=yFe(_))}const g=bFe(m.buffer);t(g)},s}function yFe(t){const e=t<0?t*32768:t*32767;return Math.max(-32768,Math.min(32767,e))}function bFe(t){let e="";const n=new Uint8Array(t),r=n.byteLength;for(let i=0;i<r;i+=1){const o=n[i];typeof o=="number"&&(e+=String.fromCharCode(o))}return btoa(e)}function CFe(t){const e=atob(t),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i+=1)r[i]=e.charCodeAt(i);return r.buffer}function _Fe(t){let e=0;for(const n of t){const r=n-128;e+=r*r}return Math.sqrt(e/t.length)}const FM=ba(0);async function rV(t,e){const n=await Promise.race([fFe(e),new Promise(r=>{try{const i=new Audio(t);i.addEventListener("ended",()=>r(i),{once:!0}),i.play()}catch{}})]);n==null||n.remove()}function RGe(t){return`${t/kI}x`}function wFe(){return Ht().get(pAe)/kI}const iV=48,oV=50;function sV(t){const{isNested:e}=t,[n,r]=b.useState(1),[i,o]=b.useState(1),s=b.useRef(void 0),a=b.useRef(void 0),c=S3(m=>{s.current=m.width,a.current=m.height,r((s.current+iV)/s.current),o((a.current+iV)/a.current)},{initialize:!0}),l=cW(FM,sJ),d=Og(l,[0,oV],[1,n]),p=Og(l,[0,oV],[1,i]);return y.jsx(ct.div,{className:"absolute inset-0",ref:c,initial:Vt,animate:{...Rn,transition:{delay:lJ}},exit:Vt,children:y.jsx(ct.div,{className:fe("absolute inset-0 flex items-center justify-center overflow-hidden rounded-6xl",e?"-scale-x-100 rounded-5xl blur-lg":"bg-stone-100/30 bg-blend-luminosity backdrop-blur-xl after:absolute after:inset-px after:rounded-6xl after:border after:border-transparent dark:bg-midnight-800/30"),layout:!0,style:{scaleX:d,scaleY:p},children:y.jsx(ct.div,{className:fe("absolute -inset-16 aspect-square bg-gradient-audio-output-light bg-blend-saturation saturate-150 dark:bg-gradient-audio-output-dark dark:saturate-100",e?"animate-spin-slower opacity-20 dark:opacity-30":"animate-spin-slow opacity-40 dark:opacity-50")})})})}function SFe(t){const{dynamicHeight:e}=t;return y.jsx(ct.div,{className:fe("t-bottom-fade absolute bottom-0 mx-4 box-content w-bottom-fade rounded-lg pt-bottom-fade",e?"h-bottom-fade":"h-composer"),initial:Vt,animate:Rn,exit:Vt,transition:Tx,children:y.jsx(Ll,{isBottomFade:!0})})}function EFe(t,e){const{children:n,className:r,margins:i,data:o}=t,s=o.isDisabled?"":o.title;return y.jsx(ct.div,{className:En("relative shrink-0",i??"my-1",o.isVisible?"size-10":"h-10 overflow-hidden"),layout:!0,initial:!1,ref:e,children:y.jsx(ct.button,{type:"button",className:En("absolute flex size-10 items-center justify-center rounded-xl fill-foreground-750 p-2",Sh["subtle-dimmed"],"disabled:active:bg-transparent disabled:active:bg-none",r),layout:"position",disabled:!o.isVisible||o.isDisabled,"aria-hidden":!o.isVisible,"aria-label":s,title:s,onClick:o.onClick,"data-testid":o.testId,children:n})})}const Xu=b.forwardRef(EFe);function TFe(){return oe(hD).map(e=>e.id)}function Aee(t){if(t.length===0)throw new Error("Array must have at least one element");return Math.floor(Math.random()*t.length)}function PGe(t,e){if(t.length===1)throw new Error("Array must have at least two elements");let n;do n=Aee(t);while(n===e);return n}function IFe(t){if(t.length!==0)return t[Aee(t)]}function xFe(t){const e=[...t];for(let n=t.length-1;n>0;n-=1){const r=Math.floor(Math.random()*(n+1)),i=e[n];i&&e[r]&&(e[n]=e[r],e[r]=i)}return e}function OGe(t,e){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>i===r[o])}const AFe=b.lazy(()=>de(()=>import("./character-6RQdaeoH.js"),__vite__mapDeps([226,227])).then(t=>({default:t.Character})));function kFe(){const[t,e]=Lt(DC),{createConversation:n}=hx(),[r,i]=b.useState(!1),o=We(Sq),s=We(yh),a=TFe(),c=b.useRef(null),l=oe(Ul);b.useEffect(()=>{if(c.current===null){const _=IFe(a);_&&(c.current=_)}},[a]);const{t:d}=pt();b.useEffect(()=>{r&&c.current&&he.trackEvent({name:"system",data:{eventName:"characterPromotionShown",eventInfo_characterId:c.current}})},[r]),b.useEffect(()=>{const _=localStorage.getItem(dAe);i(!_&&l.length>=10&&l.length<14)},[t,l.length]);function p(_){switch(_){case"mica":return"mica-head";case"aqua":return"aqua-head";case"erin":return"erin-head";default:return"mica-head"}}async function m(){c.current&&(s("clicking"),he.trackEvent({name:"interaction",data:{eventName:"characterPromotionClicked",eventInfo_characterId:c.current}}),o(!0),PAe({settingName:"characterId",oldValue:"",newValue:c.current}),he.setSettings({userSettingCharacterId:c.current}),await Promise.all([ko({path:"/user/settings",args:{options:{method:"PATCH"},body:{preferredCharacter:c.current}}})]))}const g=b.useCallback(async()=>{i(!1)},[]),C=b.useCallback(async()=>{c.current&&(i(!1),o(!0),e(c.current),await n())},[o,e,n]);return r?y.jsx("div",{className:"pointer-events-auto absolute -top-40 end-4 size-56 pb-2",onClick:m,onKeyDown:async _=>{_.key==="Enter"&&await m()},role:"button",tabIndex:0,"aria-label":d("characterAnimation.characterOptInAriaLabelText"),children:y.jsx(AFe,{className:"outline-none",characterId:p(c.current),onCharacterDismissed:g,onCharacterClicked:C})}):null}const aV="0px 0px 0px 1px rgb(255, 255, 255) inset",cV="0px 0px 0px 1px rgba(255, 255, 255, 0.08) inset",RFe="0px 10px 24px 0px rgba(0, 0, 0, 0.18)",PFe="0px 42px 30px 0px rgba(0, 0, 0, 0.06)",OFe="0px 4px 8px 0px rgba(0, 0, 0, 0.18)",NFe="0px 21px 15px 0px rgba(0, 0, 0, 0.06)",rS=28,MFe=24,LFe="relative flex grow flex-col overflow-hidden before:absolute before:inset-0 before:rounded-3xl before:border-2 before:border-stroke-350",NGe="bg-white/90 shadow-composer-input dark:bg-midnight-900/80 dark:shadow-none",DFe="w-auto rounded-3xl contrast-more:border-2",jFe="bg-gradient-to-b from-white/90 to-white/0 dark:from-black/30 dark:to-midnight-800/10";function T3(t){const{title:e,onClick:n,appearDelay:r=eme,appearDuration:i=zs.audio.unavailable,className:o}=t;return y.jsx(ct.div,{layout:"position",initial:"initial",animate:"animate",className:"relative flex h-12 shrink-0 items-center",variants:{initial:{...Vt,scale:.9},animate:{...Rn,scale:1,transition:{...aJ,delay:r,duration:i}}},children:y.jsx("button",{type:"button",onClick:n,title:e,className:fe("min-w-44",d0,Sh.strong,rL["40-base"],iL["40-base"],vI,"rounded-2xl before:rounded-2xl",o),children:e})})}function iS(t){const{children:e,className:n}=t;return y.jsx(ct.div,{className:n,initial:Vt,animate:Rn,exit:Vt,transition:{delay:cJ},children:e})}const FFe={initial:Vt,animate:Rn};function UFe(t){const{titleKey:e,textKey:n,buttonTextKey:r,button:i,cancelButton:o,onClick:s,closeDialogCallback:a}=t,{t:c}=pt(),l=c(e),d=c(i.textKey);return y.jsxs(y.Fragment,{children:[y.jsx(ct.div,{layout:!0,variants:FFe,initial:"initial",animate:"animate",role:"dialog","aria-label":l,tabIndex:-1,children:y.jsxs("div",{className:"m-3 text-center text-foreground-800",children:[y.jsx("p",{className:"py-3",children:l}),y.jsx("p",{className:"text-xs",children:c(n)}),r&&y.jsx("div",{className:"mx-auto flex w-full max-w-xs justify-around px-5 py-3 text-salmon-600 dark:text-salmon-400",children:y.jsx("button",{onClick:s,type:"button",className:"text-xs",children:c(r)})})]})}),y.jsxs(ct.div,{className:"relative mx-0.5 my-1 flex w-full items-center justify-center gap-2 px-2 align-middle",onClick:a,children:[o&&y.jsx(lt,{variant:"rect",title:c(o.textKey),className:"relative my-3 flex h-10 max-w-40 items-center justify-center py-3 dark:bg-black/40 dark:hover:bg-black/40",onClick:o.onClick,children:c(o.textKey)}),y.jsx(lt,{variant:"rect",title:d,className:"relative my-3 flex h-10 max-w-40 items-center justify-center py-3 dark:bg-black/40 dark:hover:bg-black/40",onClick:i.onClick,children:d})]})]})}function kee(){const t=je("composer-creation-button");return!Ra("kill-composer-creation-button")&&t}function lV({config:t}){const{t:e}=pt(),n=kee();if(t)switch(t.mode){case"stop":return y.jsx(lt,{testId:"stop-button",color:"accent",variant:"circle",className:"my-1","aria-label":e("composer.stopButton"),title:e("composer.stopButton"),onClick:()=>t.onClick(),children:y.jsx("div",{className:"size-3.5 rounded bg-salmon-550 contrast-more:border-2 dark:bg-midnight-850"})});case"submit":return y.jsx(lt,{testId:"submit-button",color:"strong",variant:"square",className:En("my-1",n?"rounded-2xl":"rounded-submitButton"),"aria-label":e("userInput.submitButtonText"),title:e("userInput.submitButtonText"),onClick:()=>t.onClick(),disabled:t.disabled,children:y.jsx(zC,{className:"size-6"})});case"microphone":return y.jsx(Xu,{data:{title:e("composer.startAudioCall"),testId:"audio-call-button",onClick:()=>t.onClick(),isVisible:!0},className:Sh["subtle-dimmed"],children:y.jsx(w3,{className:"size-6","aria-hidden":!0})});default:return}}function $S(t){const{children:e,color:n="neutral"}=t;return y.jsx("div",{className:fe("flex h-4 items-center rounded-[4px] px-1.5 text-3xs",n==="neutral"?"bg-stone-550/20 text-foreground-600 dark:bg-midnight-450/20 dark:text-foreground-800":"bg-salmon-250 text-salmon-550 dark:bg-salmon-750 dark:text-salmon-350"),children:e})}function BFe(t){var o;const{item:e,onClick:n}=t,r=oe(sn),i=b.useRef(void 0);return b.useEffect(()=>{r&&i.current!==r&&e.onImpression&&(i.current=r,e.onImpression(r))},[r,e]),y.jsxs(lt,{title:e.title,"aria-label":e.title,variant:"rect",color:"subtle-dimmed-inverted",onClick:n,size:"40-base",alignment:"start",className:"min-w-[230px] px-3 py-2",testId:e.testId,children:[y.jsx("div",{className:"size-6 min-w-6",children:e.icon}),y.jsxs("div",{className:"grow text-left",children:[y.jsxs("div",{className:"line-clamp-1 inline-flex gap-1.5 text-xs",children:[e.title,(o=e.tags)==null?void 0:o.map(s=>y.jsx("div",{className:"flex items-center",children:y.jsx($S,{color:s.color,children:y.jsx("span",{className:"leading-4",children:s.label})},s.label)},s.label))]}),y.jsx("p",{className:"line-clamp-1 leading-4 text-foreground-600 text-2xs dark:text-foreground-700",children:e.description})]})]},e.key)}const VFe="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/dismiss-BcarQlxK.svg";function HFe(t){const{renderTrigger:e,renderSurface:n,containerClassNames:r,color:i="default",onOutsideEvent:o,placement:s="bottom",floatingOffset:a=10}=t,[c,l]=b.useState(!1),d=b.useRef(null),p=b.useRef(null),{refs:m,floatingStyles:g,context:C}=Fx({placement:s,strategy:"fixed",middleware:[Px(a),X5(),Ox()],whileElementsMounted:WC,open:c,onOpenChange:l}),_=b.useCallback(w=>{w.stopPropagation(),w.preventDefault(),l(T=>!T)},[]),S=b.useCallback(()=>{l(!1),o==null||o()},[o]);return KT({onOutsideEvent:S,elements:[m.floating,d],includeScroll:!0,invokeOnce:!0}),Md(w=>{w.key==="Escape"&&c&&S()}),y.jsxs("div",{ref:m.setReference,className:fe("relative",r==null?void 0:r.trigger),children:[e({openPopover:_,isOpen:c,ref:d}),cI.createPortal(y.jsx(Rr,{children:c&&y.jsx(jx,{context:C,modal:!0,returnFocus:!0,initialFocus:p,children:y.jsx(ct.div,{ref:m.setFloating,className:En("rounded-2xl p-3 shadow-lg",i==="thin"?qu:kc,r==null?void 0:r.surface,Un.modal),style:{...g,...rK},role:"dialog",tabIndex:-1,initial:"initial",animate:"animate",exit:"exit",variants:{initial:Vt,animate:Rn,exit:{...Vt,transition:{duration:zs.default}}},transition:{duration:zs.default,ease:"easeInOut"},children:y.jsx("div",{className:fe("pointer-events-auto relative max-h-expanded-section overflow-visible",Un.modal),children:n({closePopover:S,isOpen:c,focusRef:p})})})})}),document.getElementById("popoverPortal")??document.body)]})}const I3=b.forwardRef((t,e)=>{const{items:n,defaultSelectedItemIndex:r,onSelect:i,onReset:o,disabled:s,showDefaultItemInDropdown:a=!1}=t,c=oe(sn),l=b.useRef(void 0),d=b.useMemo(()=>!r||r<0||r>=n.length?0:r,[r,n]),[p,m]=b.useState(d);b.useImperativeHandle(e,()=>({setSelectedItemIndex:S=>m(S)}),[]);const{selectedItem:g,dropdownItems:C,selectedNonDefault:_}=b.useMemo(()=>({selectedItem:n[p]??void 0,dropdownItems:a?n:n.filter((S,w)=>w!==p),selectedNonDefault:p!==d}),[n,p,d,a]);return b.useEffect(()=>{c&&l.current!==c&&g&&g.onImpression&&(l.current=c,g.onImpression(c))},[c,g]),y.jsx(HFe,{renderTrigger:({openPopover:S})=>g&&y.jsxs(lt,{title:g.key,"aria-label":g.title,variant:"rect",size:"36-sm",disabled:s,color:_?"composer-selected":"subtle-dimmed",className:"my-1 h-10 border border-black/8 px-3 py-2 dark:border-white/8",onClick:w=>{var T;(T=g.beforeClick)==null||T.call(g,c??""),_?(m(d),o==null||o()):S(w)},testId:g.testId,children:[_?y.jsx(xo,{url:VFe,className:"size-4"}):g.icon,y.jsx("span",{className:"font-medium leading-4 text-sm",children:g.buttonTitle??g.title})]}),renderSurface:({closePopover:S})=>y.jsx("div",{className:"flex flex-col",children:C.map(w=>y.jsx(BFe,{item:w,onClick:T=>{var A;(A=w.beforeClick)==null||A.call(w,c??"");const I=n.findIndex(k=>k.key===w.key);m(I),i(I),S(T)}},w.key))}),containerClassNames:{surface:"p-1 bg-white dark:bg-slate-800/90 border-white/25 dark:border-slate-600/25"},placement:"bottom-start",floatingOffset:4})});I3.displayName="ComposerDropdownButton";const Ree="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/quick-cde2uaJN.svg",zFe="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/think-DxNkOoJG.svg";function $Fe(t,e){he.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionElement:"composerCreateButton",eventInfo_impressionScenario:t??"off",eventInfo_conversationId:e}})}function WFe(t,e){he.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionElement:"composerThinkButton",eventInfo_impressionScenario:t?"thinkDeeperOn":"thinkDeeperOff",eventInfo_conversationId:e}})}function KFe(t){he.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionElement:"composerScreenshotButton",eventInfo_conversationId:t}})}function GFe(t,e){he.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:"composerCreateButton",eventInfo_clickScenario:qFe(t),eventInfo_conversationId:e}})}function qFe(t){if(!t)return"showDrawer";switch(t){case"image":return"exitImage";case"podcast":return"exitPodcast";case"researchReport":return"exitResearchReport";default:return"showDrawer"}}function YFe(t,e){he.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:"composerThinkButton",eventInfo_clickScenario:t?"disableThinkDeeper":"enableThinkDeeper",eventInfo_conversationId:e}})}function QFe(t){he.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:"composerScreenshotButton",eventInfo_conversationId:t}})}function XFe(t){const{disabled:e=!1}=t,n=ZFe(),[r,i]=Lt(so),[o,s]=b.useState(!1),a=b.useRef(null),c=b.useCallback(l=>{const d=n[l];((d==null?void 0:d.key)==="chat"||(d==null?void 0:d.key)==="reasoning")&&(s(!0),i(d.key))},[n,i]);return b.useEffect(()=>{var l;o?s(!1):(l=a.current)==null||l.setSelectedItemIndex(r==="reasoning"?1:0)},[r,o,s]),y.jsx(I3,{ref:a,items:n,onSelect:c,defaultSelectedItemIndex:0,showDefaultItemInDropdown:!0,onReset:()=>{i("chat")},disabled:e})}function uV(t){return e=>WFe(t,e)}function dV(t){return e=>YFe(t,e)}function ZFe(){const{t}=pt("translation",{keyPrefix:"composer.chatModes"}),e={key:"chat",title:t("chat.title"),buttonTitle:t("chat.buttonTitle"),icon:y.jsx(xo,{url:Ree,className:"size-5"}),description:t("chat.description"),testId:"composer-chat-mode-quick-button",onImpression:uV(!1),beforeClick:dV(!1),tags:[{label:t("chat.latency"),color:"neutral"}]},n={key:"reasoning",title:t("reasoning.title"),icon:y.jsx(xo,{url:zFe,className:"size-6"}),description:t("reasoning.description"),testId:"composer-chat-mode-reasoning-button",onImpression:uV(!0),beforeClick:dV(!0),tags:[{label:t("reasoning.latency"),color:"neutral"}]};return[e,n]}const JFe="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/research-DamIycj6.svg",e4e="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/think-deeper-C6Ziv8bd.svg",t4e="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/checklist-BDS7QRqm.svg",n4e=(t,e,n)=>{const r=t[e];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((i,o)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})},{slice:r4e,forEach:i4e}=[];function o4e(t){return i4e.call(r4e.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}const fV=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,s4e=(t,e,n)=>{const r=n||{};r.path=r.path||"/";const i=encodeURIComponent(e);let o=`${t}=${i}`;if(r.maxAge>0){const s=r.maxAge-0;if(Number.isNaN(s))throw new Error("maxAge should be a Number");o+=`; Max-Age=${Math.floor(s)}`}if(r.domain){if(!fV.test(r.domain))throw new TypeError("option domain is invalid");o+=`; Domain=${r.domain}`}if(r.path){if(!fV.test(r.path))throw new TypeError("option path is invalid");o+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");o+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(o+="; HttpOnly"),r.secure&&(o+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o},hV={create(t,e,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),r&&(i.domain=r),document.cookie=s4e(t,encodeURIComponent(e),i)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t){this.create(t,"",-1)}};var a4e={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return hV.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:o}=e;n&&typeof document<"u"&&hV.create(n,t,r,i,o)}},c4e={name:"querystring",lookup(t){var r;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const s=i.substring(1).split("&");for(let a=0;a<s.length;a++){const c=s[a].indexOf("=");c>0&&s[a].substring(0,c)===e&&(n=s[a].substring(c+1))}}return n}};let Zy=null;const pV=()=>{if(Zy!==null)return Zy;try{Zy=window!=="undefined"&&window.localStorage!==null;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Zy=!1}return Zy};var l4e={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&pV())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&pV()&&window.localStorage.setItem(n,t)}};let Jy=null;const mV=()=>{if(Jy!==null)return Jy;try{Jy=window!=="undefined"&&window.sessionStorage!==null;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Jy=!1}return Jy};var u4e={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&mV())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&mV()&&window.sessionStorage.setItem(n,t)}},d4e={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:i}=navigator;if(n)for(let o=0;o<n.length;o++)e.push(n[o]);r&&e.push(r),i&&e.push(i)}return e.length>0?e:void 0}},f4e={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},h4e={name:"path",lookup(t){var i;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(i=n[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},p4e={name:"subdomain",lookup(t){var i,o;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&((o=(i=window.location)==null?void 0:i.hostname)==null?void 0:o.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};function m4e(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t}}class UM{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e||{languageUtils:{}},this.options=o4e(n,this.options||{},m4e()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(a4e),this.addDetector(c4e),this.addDetector(l4e),this.addDetector(u4e),this.addDetector(d4e),this.addDetector(f4e),this.addDetector(h4e),this.addDetector(p4e)}addDetector(e){return this.detectors[e.name]=e,this}detect(e){e||(e=this.options.order);let n=[];return e.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.map(r=>this.options.convertDetectedLanguage(r)),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e,n){n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}UM.type="languageDetector";function BM(t){"@babel/helpers - typeof";return BM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BM(t)}function Pee(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":BM(XMLHttpRequest))==="object"}function g4e(t){return!!t&&typeof t.then=="function"}function v4e(t){return g4e(t)?t:Promise.resolve(t)}var oS={exports:{}},sS={exports:{}},gV;function y4e(){return gV||(gV=1,function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof xb<"u"&&xb,r=function(){function o(){this.fetch=!1,this.DOMException=n.DOMException}return o.prototype=n,new o}();(function(o){(function(s){var a=typeof o<"u"&&o||typeof self<"u"&&self||typeof a<"u"&&a,c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(L){return L&&DataView.prototype.isPrototypeOf(L)}if(c.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],p=ArrayBuffer.isView||function(L){return L&&d.indexOf(Object.prototype.toString.call(L))>-1};function m(L){if(typeof L!="string"&&(L=String(L)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(L)||L==="")throw new TypeError('Invalid character in header field name: "'+L+'"');return L.toLowerCase()}function g(L){return typeof L!="string"&&(L=String(L)),L}function C(L){var B={next:function(){var j=L.shift();return{done:j===void 0,value:j}}};return c.iterable&&(B[Symbol.iterator]=function(){return B}),B}function _(L){this.map={},L instanceof _?L.forEach(function(B,j){this.append(j,B)},this):Array.isArray(L)?L.forEach(function(B){this.append(B[0],B[1])},this):L&&Object.getOwnPropertyNames(L).forEach(function(B){this.append(B,L[B])},this)}_.prototype.append=function(L,B){L=m(L),B=g(B);var j=this.map[L];this.map[L]=j?j+", "+B:B},_.prototype.delete=function(L){delete this.map[m(L)]},_.prototype.get=function(L){return L=m(L),this.has(L)?this.map[L]:null},_.prototype.has=function(L){return this.map.hasOwnProperty(m(L))},_.prototype.set=function(L,B){this.map[m(L)]=g(B)},_.prototype.forEach=function(L,B){for(var j in this.map)this.map.hasOwnProperty(j)&&L.call(B,this.map[j],j,this)},_.prototype.keys=function(){var L=[];return this.forEach(function(B,j){L.push(j)}),C(L)},_.prototype.values=function(){var L=[];return this.forEach(function(B){L.push(B)}),C(L)},_.prototype.entries=function(){var L=[];return this.forEach(function(B,j){L.push([j,B])}),C(L)},c.iterable&&(_.prototype[Symbol.iterator]=_.prototype.entries);function S(L){if(L.bodyUsed)return Promise.reject(new TypeError("Already read"));L.bodyUsed=!0}function w(L){return new Promise(function(B,j){L.onload=function(){B(L.result)},L.onerror=function(){j(L.error)}})}function T(L){var B=new FileReader,j=w(B);return B.readAsArrayBuffer(L),j}function I(L){var B=new FileReader,j=w(B);return B.readAsText(L),j}function A(L){for(var B=new Uint8Array(L),j=new Array(B.length),V=0;V<B.length;V++)j[V]=String.fromCharCode(B[V]);return j.join("")}function k(L){if(L.slice)return L.slice(0);var B=new Uint8Array(L.byteLength);return B.set(new Uint8Array(L)),B.buffer}function R(){return this.bodyUsed=!1,this._initBody=function(L){this.bodyUsed=this.bodyUsed,this._bodyInit=L,L?typeof L=="string"?this._bodyText=L:c.blob&&Blob.prototype.isPrototypeOf(L)?this._bodyBlob=L:c.formData&&FormData.prototype.isPrototypeOf(L)?this._bodyFormData=L:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(L)?this._bodyText=L.toString():c.arrayBuffer&&c.blob&&l(L)?(this._bodyArrayBuffer=k(L.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(L)||p(L))?this._bodyArrayBuffer=k(L):this._bodyText=L=Object.prototype.toString.call(L):this._bodyText="",this.headers.get("content-type")||(typeof L=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(L)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var L=S(this);if(L)return L;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var L=S(this);return L||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(T)}),this.text=function(){var L=S(this);if(L)return L;if(this._bodyBlob)return I(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(A(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(D)}),this.json=function(){return this.text().then(JSON.parse)},this}var M=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function P(L){var B=L.toUpperCase();return M.indexOf(B)>-1?B:L}function N(L,B){if(!(this instanceof N))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');B=B||{};var j=B.body;if(L instanceof N){if(L.bodyUsed)throw new TypeError("Already read");this.url=L.url,this.credentials=L.credentials,B.headers||(this.headers=new _(L.headers)),this.method=L.method,this.mode=L.mode,this.signal=L.signal,!j&&L._bodyInit!=null&&(j=L._bodyInit,L.bodyUsed=!0)}else this.url=String(L);if(this.credentials=B.credentials||this.credentials||"same-origin",(B.headers||!this.headers)&&(this.headers=new _(B.headers)),this.method=P(B.method||this.method||"GET"),this.mode=B.mode||this.mode||null,this.signal=B.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&j)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(j),(this.method==="GET"||this.method==="HEAD")&&(B.cache==="no-store"||B.cache==="no-cache")){var V=/([?&])_=[^&]*/;if(V.test(this.url))this.url=this.url.replace(V,"$1_="+new Date().getTime());else{var K=/\?/;this.url+=(K.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}N.prototype.clone=function(){return new N(this,{body:this._bodyInit})};function D(L){var B=new FormData;return L.trim().split("&").forEach(function(j){if(j){var V=j.split("="),K=V.shift().replace(/\+/g," "),z=V.join("=").replace(/\+/g," ");B.append(decodeURIComponent(K),decodeURIComponent(z))}}),B}function G(L){var B=new _,j=L.replace(/\r?\n[\t ]+/g," ");return j.split("\r").map(function(V){return V.indexOf(`
`)===0?V.substr(1,V.length):V}).forEach(function(V){var K=V.split(":"),z=K.shift().trim();if(z){var H=K.join(":").trim();B.append(z,H)}}),B}R.call(N.prototype);function U(L,B){if(!(this instanceof U))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');B||(B={}),this.type="default",this.status=B.status===void 0?200:B.status,this.ok=this.status>=200&&this.status<300,this.statusText=B.statusText===void 0?"":""+B.statusText,this.headers=new _(B.headers),this.url=B.url||"",this._initBody(L)}R.call(U.prototype),U.prototype.clone=function(){return new U(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new _(this.headers),url:this.url})},U.error=function(){var L=new U(null,{status:0,statusText:""});return L.type="error",L};var W=[301,302,303,307,308];U.redirect=function(L,B){if(W.indexOf(B)===-1)throw new RangeError("Invalid status code");return new U(null,{status:B,headers:{location:L}})},s.DOMException=a.DOMException;try{new s.DOMException}catch{s.DOMException=function(B,j){this.message=B,this.name=j;var V=Error(B);this.stack=V.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function $(L,B){return new Promise(function(j,V){var K=new N(L,B);if(K.signal&&K.signal.aborted)return V(new s.DOMException("Aborted","AbortError"));var z=new XMLHttpRequest;function H(){z.abort()}z.onload=function(){var le={status:z.status,statusText:z.statusText,headers:G(z.getAllResponseHeaders()||"")};le.url="responseURL"in z?z.responseURL:le.headers.get("X-Request-URL");var Ce="response"in z?z.response:z.responseText;setTimeout(function(){j(new U(Ce,le))},0)},z.onerror=function(){setTimeout(function(){V(new TypeError("Network request failed"))},0)},z.ontimeout=function(){setTimeout(function(){V(new TypeError("Network request failed"))},0)},z.onabort=function(){setTimeout(function(){V(new s.DOMException("Aborted","AbortError"))},0)};function q(le){try{return le===""&&a.location.href?a.location.href:le}catch{return le}}z.open(K.method,q(K.url),!0),K.credentials==="include"?z.withCredentials=!0:K.credentials==="omit"&&(z.withCredentials=!1),"responseType"in z&&(c.blob?z.responseType="blob":c.arrayBuffer&&K.headers.get("Content-Type")&&K.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(z.responseType="arraybuffer")),B&&typeof B.headers=="object"&&!(B.headers instanceof _)?Object.getOwnPropertyNames(B.headers).forEach(function(le){z.setRequestHeader(le,g(B.headers[le]))}):K.headers.forEach(function(le,Ce){z.setRequestHeader(Ce,le)}),K.signal&&(K.signal.addEventListener("abort",H),z.onreadystatechange=function(){z.readyState===4&&K.signal.removeEventListener("abort",H)}),z.send(typeof K._bodyInit>"u"?null:K._bodyInit)})}return $.polyfill=!0,a.fetch||(a.fetch=$,a.Headers=_,a.Request=N,a.Response=U),s.Headers=_,s.Request=N,s.Response=U,s.fetch=$,s})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(sS,sS.exports)),sS.exports}var vV;function b4e(){return vV||(vV=1,function(t,e){var n;if(typeof fetch=="function"&&(typeof xb<"u"&&xb.fetch?n=xb.fetch:typeof window<"u"&&window.fetch?n=window.fetch:n=fetch),typeof MQ<"u"&&typeof window>"u"){var r=n||y4e();r.default&&(r=r.default),e.default=r,t.exports=e.default}}(oS,oS.exports)),oS.exports}var Oee=b4e();const Nee=uC(Oee),yV=ZH({__proto__:null,default:Nee},[Oee]);function bV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bV(Object(n),!0).forEach(function(r){C4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C4e(t,e,n){return(e=_4e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _4e(t){var e=w4e(t,"string");return Zh(e)=="symbol"?e:e+""}function w4e(t,e){if(Zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zh(t){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}var wl;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?wl=global.fetch:typeof window<"u"&&window.fetch?wl=window.fetch:wl=fetch);var iC;Pee()&&(typeof global<"u"&&global.XMLHttpRequest?iC=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(iC=window.XMLHttpRequest));var GT;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?GT=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(GT=window.ActiveXObject));!wl&&yV&&!iC&&!GT&&(wl=Nee||yV);typeof wl!="function"&&(wl=void 0);var VM=function(e,n){if(n&&Zh(n)==="object"){var r="";for(var i in n)r+="&"+encodeURIComponent(i)+"="+encodeURIComponent(n[i]);if(!r)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+r.slice(1)}return e},_V=function(e,n,r,i){var o=function(c){if(!c.ok)return r(c.statusText||"Error",{status:c.status});c.text().then(function(l){r(null,{status:c.status,data:l})}).catch(r)};if(i){var s=i(e,n);if(s instanceof Promise){s.then(o).catch(r);return}}typeof fetch=="function"?fetch(e,n).then(o).catch(r):wl(e,n).then(o).catch(r)},wV=!1,S4e=function(e,n,r,i){e.queryStringParams&&(n=VM(n,e.queryStringParams));var o=CV({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(o["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),r&&(o["Content-Type"]="application/json");var s=typeof e.requestOptions=="function"?e.requestOptions(r):e.requestOptions,a=CV({method:r?"POST":"GET",body:r?e.stringify(r):void 0,headers:o},wV?{}:s),c=typeof e.alternateFetch=="function"&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{_V(n,a,i,c)}catch(l){if(!s||Object.keys(s).length===0||!l.message||l.message.indexOf("not implemented")<0)return i(l);try{Object.keys(s).forEach(function(d){delete a[d]}),_V(n,a,i,c),wV=!0}catch(d){i(d)}}},E4e=function(e,n,r,i){r&&Zh(r)==="object"&&(r=VM("",r).slice(1)),e.queryStringParams&&(n=VM(n,e.queryStringParams));try{var o;iC?o=new iC:o=new GT("MSXML2.XMLHTTP.3.0"),o.open(r?"POST":"GET",n,1),e.crossDomain||o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.withCredentials=!!e.withCredentials,r&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.overrideMimeType&&o.overrideMimeType("application/json");var s=e.customHeaders;if(s=typeof s=="function"?s():s,s)for(var a in s)o.setRequestHeader(a,s[a]);o.onreadystatechange=function(){o.readyState>3&&i(o.status>=400?o.statusText:null,{status:o.status,data:o.responseText})},o.send(r)}catch(c){console&&console.log(c)}},T4e=function(e,n,r,i){if(typeof r=="function"&&(i=r,r=void 0),i=i||function(){},wl&&n.indexOf("file:")!==0)return S4e(e,n,r,i);if(Pee()||typeof ActiveXObject=="function")return E4e(e,n,r,i);i(new Error("No fetch and no xhr implementation found!"))};function lv(t){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lv(t)}function SV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SV(Object(n),!0).forEach(function(r){Mee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x4e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lee(r.key),r)}}function A4e(t,e,n){return e&&x4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mee(t,e,n){return(e=Lee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lee(t){var e=k4e(t,"string");return lv(e)=="symbol"?e:e+""}function k4e(t,e){if(lv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var R4e=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(n){return JSON.parse(n)},stringify:JSON.stringify,parsePayload:function(n,r,i){return Mee({},r,i||"")},parseLoadPayload:function(n,r){},request:T4e,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},Dee=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};I4e(this,t),this.services=e,this.options=n,this.allOptions=r,this.type="backend",this.init(e,n,r)}return A4e(t,[{key:"init",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.services=n,this.options=IP(IP(IP({},R4e()),this.options||{}),i),this.allOptions=o,this.services&&this.options.reloadInterval){var s=setInterval(function(){return r.reload()},this.options.reloadInterval);lv(s)==="object"&&typeof s.unref=="function"&&s.unref()}}},{key:"readMulti",value:function(n,r,i){this._readAny(n,n,r,r,i)}},{key:"read",value:function(n,r,i){this._readAny([n],n,[r],r,i)}},{key:"_readAny",value:function(n,r,i,o,s){var a=this,c=this.options.loadPath;typeof this.options.loadPath=="function"&&(c=this.options.loadPath(n,i)),c=v4e(c),c.then(function(l){if(!l)return s(null,{});var d=a.services.interpolator.interpolate(l,{lng:n.join("+"),ns:i.join("+")});a.loadUrl(d,s,r,o)})}},{key:"loadUrl",value:function(n,r,i,o){var s=this,a=typeof i=="string"?[i]:i,c=typeof o=="string"?[o]:o,l=this.options.parseLoadPayload(a,c);this.options.request(this.options,n,l,function(d,p){if(p&&(p.status>=500&&p.status<600||!p.status))return r("failed loading "+n+"; status code: "+p.status,!0);if(p&&p.status>=400&&p.status<500)return r("failed loading "+n+"; status code: "+p.status,!1);if(!p&&d&&d.message){var m=d.message.toLowerCase(),g=["failed","fetch","network","load"].find(function(S){return m.indexOf(S)>-1});if(g)return r("failed loading "+n+": "+d.message,!0)}if(d)return r(d,!1);var C,_;try{typeof p.data=="string"?C=s.options.parse(p.data,i,o):C=p.data}catch{_="failed parsing "+n+" to json"}if(_)return r(_,!1);r(null,C)})}},{key:"create",value:function(n,r,i,o,s){var a=this;if(this.options.addPath){typeof n=="string"&&(n=[n]);var c=this.options.parsePayload(r,i,o),l=0,d=[],p=[];n.forEach(function(m){var g=a.options.addPath;typeof a.options.addPath=="function"&&(g=a.options.addPath(m,r));var C=a.services.interpolator.interpolate(g,{lng:m,ns:r});a.options.request(a.options,C,c,function(_,S){l+=1,d.push(_),p.push(S),l===n.length&&typeof s=="function"&&s(d,p)})})}}},{key:"reload",value:function(){var n=this,r=this.services,i=r.backendConnector,o=r.languageUtils,s=r.logger,a=i.language;if(!(a&&a.toLowerCase()==="cimode")){var c=[],l=function(p){var m=o.toResolveHierarchy(p);m.forEach(function(g){c.indexOf(g)<0&&c.push(g)})};l(a),this.allOptions.preload&&this.allOptions.preload.forEach(function(d){return l(d)}),c.forEach(function(d){n.allOptions.ns.forEach(function(p){i.read(d,p,"read",null,null,function(m,g){m&&s.warn("loading namespace ".concat(p," for language ").concat(d," failed"),m),!m&&g&&s.log("loaded namespace ".concat(p," for language ").concat(d),g),i.loaded("".concat(d,"|").concat(p),m,g)})})})}}}])}();Dee.type="backend";const HM=[{name:"Arabic",i18nCode:"ar",direction:"rtl"},{name:"Basque",i18nCode:"eu",direction:"ltr"},{name:"Bengali",i18nCode:"bn-IN",direction:"ltr"},{name:"Bulgarian",i18nCode:"bg",direction:"ltr"},{name:"Catalan",i18nCode:"ca",direction:"ltr"},{name:"Chinese (Simplified)",i18nCode:"zh-Hans",direction:"ltr"},{name:"Chinese (Traditional)",i18nCode:"zh-Hant",direction:"ltr"},{name:"Croatian",i18nCode:"hr",direction:"ltr"},{name:"Czech",i18nCode:"cs",direction:"ltr"},{name:"Danish",i18nCode:"da",direction:"ltr"},{name:"Dutch",i18nCode:"nl",direction:"ltr"},{name:"English",i18nCode:"en-US",direction:"ltr"},{name:"English (United Kingdom)",i18nCode:"en-GB",direction:"ltr"},{name:"Estonian",i18nCode:"et",direction:"ltr"},{name:"Finnish",i18nCode:"fi",direction:"ltr"},{name:"French",i18nCode:"fr",direction:"ltr"},{name:"Galician",i18nCode:"gl",direction:"ltr"},{name:"German",i18nCode:"de",direction:"ltr"},{name:"Gujarati",i18nCode:"gu",direction:"ltr"},{name:"Hebrew",i18nCode:"he",direction:"rtl"},{name:"Hindi",i18nCode:"hi",direction:"ltr"},{name:"Hungarian",i18nCode:"hu",direction:"ltr"},{name:"Icelandic",i18nCode:"is",direction:"ltr"},{name:"Indonesian",i18nCode:"id",direction:"ltr"},{name:"Italian",i18nCode:"it",direction:"ltr"},{name:"Japanese",i18nCode:"ja",direction:"ltr"},{name:"Kannada",i18nCode:"kn",direction:"ltr"},{name:"Korean",i18nCode:"ko",direction:"ltr"},{name:"Latvian",i18nCode:"lv",direction:"ltr"},{name:"Lithuanian",i18nCode:"lt",direction:"ltr"},{name:"Malay",i18nCode:"ms",direction:"ltr"},{name:"Malayalam",i18nCode:"ml",direction:"ltr"},{name:"Marathi",i18nCode:"mr",direction:"ltr"},{name:"Norwegian (Bokmål)",i18nCode:"nb-NO",direction:"ltr"},{name:"Polish",i18nCode:"pl",direction:"ltr"},{name:"Portuguese (Brazil)",i18nCode:"pt-BR",direction:"ltr"},{name:"Portuguese (Portugal)",i18nCode:"pt-PT",direction:"ltr"},{name:"Punjabi",i18nCode:"pa",direction:"ltr"},{name:"Romanian",i18nCode:"ro",direction:"ltr"},{name:"Russian",i18nCode:"ru",direction:"ltr"},{name:"Serbian (Latin)",i18nCode:"sr-Latn-RS",direction:"ltr"},{name:"Slovak",i18nCode:"sk",direction:"ltr"},{name:"Slovenian",i18nCode:"sl",direction:"ltr"},{name:"Spanish",i18nCode:"es",direction:"ltr"},{name:"Swedish",i18nCode:"sv",direction:"ltr"},{name:"Tamil",i18nCode:"ta",direction:"ltr"},{name:"Telugu",i18nCode:"te",direction:"ltr"},{name:"Thai",i18nCode:"th",direction:"ltr"},{name:"Turkish",i18nCode:"tr",direction:"ltr"},{name:"Ukrainian",i18nCode:"uk",direction:"ltr"},{name:"Vietnamese",i18nCode:"vi",direction:"ltr"}],jee=HM.map(t=>t.i18nCode);function EV(t){return qT(t)[0]??t}async function P4e(t={}){let e;return Qe.instance().config().useI18nHttpApi?e=ln.use(UM).use(e6).use(Dee).init({supportedLngs:HM.map(({i18nCode:n})=>n),fallbackLng:qT,detection:{convertDetectedLanguage:EV,...t},interpolation:{escapeValue:!1}}).then(async n=>(await TV(ln.language),n)):e=ln.use(UM).use(e6).init({supportedLngs:HM.map(({i18nCode:n})=>n),fallbackLng:qT,detection:{convertDetectedLanguage:EV,...t},interpolation:{escapeValue:!1}}).then(async n=>(await TV(ln.language),n)),ln.on("languageChanged",n=>{typeof document<"u"&&(document.body.dir=ln.dir(n.toLowerCase()),document.documentElement.lang=n.toLowerCase())}),e}async function TV(t){if(t)for(const e of qT(t))try{const n=await n4e(Object.assign({"../../config/strings/af/strings.json":()=>de(()=>import("./strings-CczCVIBg.js"),[]),"../../config/strings/am/strings.json":()=>de(()=>import("./strings-CvTEtrzw.js"),[]),"../../config/strings/ar/strings.json":()=>de(()=>import("./strings-DPI9Op6J.js"),[]),"../../config/strings/as/strings.json":()=>de(()=>import("./strings-CBKd8hdL.js"),[]),"../../config/strings/az/strings.json":()=>de(()=>import("./strings-CueHX1yY.js"),[]),"../../config/strings/bg/strings.json":()=>de(()=>import("./strings-jIdJWNbp.js"),[]),"../../config/strings/bn-IN/strings.json":()=>de(()=>import("./strings-D1SRTrWc.js"),[]),"../../config/strings/bs/strings.json":()=>de(()=>import("./strings-BmclGRX9.js"),[]),"../../config/strings/ca-Es-VALENCIA/strings.json":()=>de(()=>import("./strings-38wnWM_I.js"),[]),"../../config/strings/ca/strings.json":()=>de(()=>import("./strings-B1RUmZU8.js"),[]),"../../config/strings/cs/strings.json":()=>de(()=>import("./strings-DYOjc6cJ.js"),[]),"../../config/strings/cy/strings.json":()=>de(()=>import("./strings-Ts_qIoZA.js"),[]),"../../config/strings/da/strings.json":()=>de(()=>import("./strings-B4TAVPLY.js"),[]),"../../config/strings/de/strings.json":()=>de(()=>import("./strings-Ds1m6mwl.js"),[]),"../../config/strings/el/strings.json":()=>de(()=>import("./strings-D4NUcFqr.js"),[]),"../../config/strings/en-GB/strings.json":()=>de(()=>import("./strings-VOW8lSry.js"),[]),"../../config/strings/en-US/strings.json":()=>de(()=>import("./strings-DZMSFadL.js"),[]),"../../config/strings/es-MX/strings.json":()=>de(()=>import("./strings-BcIpH4G2.js"),[]),"../../config/strings/es/strings.json":()=>de(()=>import("./strings-CJGnagyX.js"),[]),"../../config/strings/et/strings.json":()=>de(()=>import("./strings-BX--Pohx.js"),[]),"../../config/strings/eu/strings.json":()=>de(()=>import("./strings-6886HGfs.js"),[]),"../../config/strings/fa/strings.json":()=>de(()=>import("./strings-CfNwvy_G.js"),[]),"../../config/strings/fi/strings.json":()=>de(()=>import("./strings-CE5zVOzk.js"),[]),"../../config/strings/fil/strings.json":()=>de(()=>import("./strings-D_aIxQii.js"),[]),"../../config/strings/fr-CA/strings.json":()=>de(()=>import("./strings-DcF82aIe.js"),[]),"../../config/strings/fr/strings.json":()=>de(()=>import("./strings-DYAOK00X.js"),[]),"../../config/strings/ga/strings.json":()=>de(()=>import("./strings-Uo6lR7fF.js"),[]),"../../config/strings/gd/strings.json":()=>de(()=>import("./strings-HHX5h8dY.js"),[]),"../../config/strings/gl/strings.json":()=>de(()=>import("./strings-9gdCvbuB.js"),[]),"../../config/strings/gu/strings.json":()=>de(()=>import("./strings-CQm2kr2C.js"),[]),"../../config/strings/he/strings.json":()=>de(()=>import("./strings-B7q-1Vhs.js"),[]),"../../config/strings/hi/strings.json":()=>de(()=>import("./strings-RjCvmcM3.js"),[]),"../../config/strings/hr/strings.json":()=>de(()=>import("./strings-DPzf0rio.js"),[]),"../../config/strings/hu/strings.json":()=>de(()=>import("./strings-Drbrzoy7.js"),[]),"../../config/strings/hy/strings.json":()=>de(()=>import("./strings-Cg_ifcgL.js"),[]),"../../config/strings/id/strings.json":()=>de(()=>import("./strings-CGhP4WUv.js"),[]),"../../config/strings/is/strings.json":()=>de(()=>import("./strings-W13Vnpsv.js"),[]),"../../config/strings/it/strings.json":()=>de(()=>import("./strings-B9AcDidO.js"),[]),"../../config/strings/ja/strings.json":()=>de(()=>import("./strings-db2hqs2m.js"),[]),"../../config/strings/ka/strings.json":()=>de(()=>import("./strings-BRXXY3-I.js"),[]),"../../config/strings/kk/strings.json":()=>de(()=>import("./strings-qeKquXvV.js"),[]),"../../config/strings/km-KH/strings.json":()=>de(()=>import("./strings-BikKH5Nn.js"),[]),"../../config/strings/kn/strings.json":()=>de(()=>import("./strings-CrIOkwhm.js"),[]),"../../config/strings/ko/strings.json":()=>de(()=>import("./strings-B00KlDnn.js"),[]),"../../config/strings/kok/strings.json":()=>de(()=>import("./strings--bFk3sH4.js"),[]),"../../config/strings/lb/strings.json":()=>de(()=>import("./strings-BiVV4tt-.js"),[]),"../../config/strings/lo/strings.json":()=>de(()=>import("./strings-DjWHJSIt.js"),[]),"../../config/strings/lt/strings.json":()=>de(()=>import("./strings-B9JTMThY.js"),[]),"../../config/strings/lv/strings.json":()=>de(()=>import("./strings-CkcwYi2U.js"),[]),"../../config/strings/mi/strings.json":()=>de(()=>import("./strings-D9__jTYn.js"),[]),"../../config/strings/mk/strings.json":()=>de(()=>import("./strings-ty6fjD86.js"),[]),"../../config/strings/ml/strings.json":()=>de(()=>import("./strings-Cui6fi5p.js"),[]),"../../config/strings/mr/strings.json":()=>de(()=>import("./strings-COR_8wI9.js"),[]),"../../config/strings/ms/strings.json":()=>de(()=>import("./strings-CU57uu77.js"),[]),"../../config/strings/mt/strings.json":()=>de(()=>import("./strings-c4Dgnt8r.js"),[]),"../../config/strings/nb-NO/strings.json":()=>de(()=>import("./strings-CYYaNi9l.js"),[]),"../../config/strings/ne/strings.json":()=>de(()=>import("./strings-BsAHMrJZ.js"),[]),"../../config/strings/nl/strings.json":()=>de(()=>import("./strings-BDTFaJZx.js"),[]),"../../config/strings/nn-NO/strings.json":()=>de(()=>import("./strings-DCAPReAH.js"),[]),"../../config/strings/or/strings.json":()=>de(()=>import("./strings-bRtAy7fr.js"),[]),"../../config/strings/pa/strings.json":()=>de(()=>import("./strings-4atKsMNO.js"),[]),"../../config/strings/pl/strings.json":()=>de(()=>import("./strings-B3Sr5h9v.js"),[]),"../../config/strings/pt-BR/strings.json":()=>de(()=>import("./strings-Co7qoRZc.js"),[]),"../../config/strings/pt-PT/strings.json":()=>de(()=>import("./strings-2MIZgGC1.js"),[]),"../../config/strings/quz/strings.json":()=>de(()=>import("./strings-nVx5b5v2.js"),[]),"../../config/strings/ro/strings.json":()=>de(()=>import("./strings-BbWZHian.js"),[]),"../../config/strings/ru/strings.json":()=>de(()=>import("./strings-cE_-ppgH.js"),[]),"../../config/strings/sk/strings.json":()=>de(()=>import("./strings-8T-ua6Fm.js"),[]),"../../config/strings/sl/strings.json":()=>de(()=>import("./strings-DCdSDWzy.js"),[]),"../../config/strings/sq/strings.json":()=>de(()=>import("./strings--wDkYESc.js"),[]),"../../config/strings/sr-Cyrl-BA/strings.json":()=>de(()=>import("./strings-CprBjNVd.js"),[]),"../../config/strings/sr-Cyrl-RS/strings.json":()=>de(()=>import("./strings-AU9vJ774.js"),[]),"../../config/strings/sr-Latn-RS/strings.json":()=>de(()=>import("./strings-BgUU7CZx.js"),[]),"../../config/strings/sv/strings.json":()=>de(()=>import("./strings-Bx2ZUCzI.js"),[]),"../../config/strings/ta/strings.json":()=>de(()=>import("./strings-CP_b6Zm5.js"),[]),"../../config/strings/te/strings.json":()=>de(()=>import("./strings-CmNvztHF.js"),[]),"../../config/strings/th/strings.json":()=>de(()=>import("./strings-DIfvSFLh.js"),[]),"../../config/strings/tr/strings.json":()=>de(()=>import("./strings-D7IS8WHf.js"),[]),"../../config/strings/tt/strings.json":()=>de(()=>import("./strings-D3sJHDuH.js"),[]),"../../config/strings/ug/strings.json":()=>de(()=>import("./strings-B8dp9aPy.js"),[]),"../../config/strings/uk/strings.json":()=>de(()=>import("./strings-rkvAwVRY.js"),[]),"../../config/strings/ur/strings.json":()=>de(()=>import("./strings-D_AgY99x.js"),[]),"../../config/strings/uz-Latn-UZ/strings.json":()=>de(()=>import("./strings-CDFzPa1j.js"),[]),"../../config/strings/vi/strings.json":()=>de(()=>import("./strings-gXIR7Y2L.js"),[]),"../../config/strings/zh-Hans/strings.json":()=>de(()=>import("./strings-DhMzaW66.js"),[]),"../../config/strings/zh-Hant/strings.json":()=>de(()=>import("./strings-H-CywrTD.js"),[])}),`../../config/strings/${e}/strings.json`,6);ln.addResourceBundle(e,"translation",n,!0,!0),await ln.changeLanguage(t);return}catch{console.warn(`Translation file for '${e}' not found. Trying next fallback language.`)}}function O4e(){return ln.resolvedLanguage?ln.resolvedLanguage.split("-")[0]==="en":!1}function qT(t){const e="en-US";if(!t)return[e];const n=N4e(t);if(n)return[n];const r=M4e(t);if(r)return[r];const i=L4e(t);return i?[i]:[e]}function N4e(t){return jee.find(e=>e.toLowerCase()===t.toLowerCase())}function M4e(t){if(["en-AU","en-NZ","en-IE"].includes(t))return"en-GB";if(t.startsWith("zh-")){const e=t.toLocaleLowerCase();return e==="zh-TW".toLocaleLowerCase()||e==="zh-HK".toLocaleLowerCase()?"zh-Hant":"zh-Hans"}}function L4e(t){var n;const e=(n=t.split("-")[0])==null?void 0:n.toLowerCase();if(e){const r=jee.find(i=>i.toLowerCase()===e||i.toLowerCase().startsWith(`${e}-`));if(r)return r}}function Fee(){const t=je("deep-research"),e=je("deep-research-nano"),n=co(),r=oe(jC)??!1,i=!r&&n;return t&&O4e()&&(r||!1||i&&e)&&!Qe.instance().config().disableDeepResearch}const D4e=100,YT=se([]);function j4e(){const t=oe(YT),[e,n]=b.useState(!1),r=e?t:[];return y.jsxs("div",{className:"sr-only",ref:()=>setTimeout(()=>n(!0),D4e),children:[y.jsx(IV,{messages:r.filter(i=>i.type==="polite"),type:"polite"}),y.jsx(IV,{messages:r.filter(i=>i.type==="assertive"),type:"assertive"})]})}function IV({messages:t,type:e}){return y.jsx("div",{"aria-live":e,"aria-atomic":"true",children:t.map(n=>y.jsx("div",{"aria-label":n.msg,children:n.msg},n.id))})}function zM(){return typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.floor(Math.random()*16);return(t==="x"?e:Math.floor(Math.random()*4+8)).toString(16)})}const Uee=7e3;function Wv(t={}){return F4e(t),null}function F4e(t={}){const{msg:e,id:n,type:r="polite",timeout:i=Uee}=t,o=We(YT),s=b.useRef(n??zM());b.useEffect(()=>{e&&o(a=>{if(a.some(l=>l.id===s.current&&l.msg===e&&l.type===r))return a;s.current=n??zM();const c={msg:e,id:s.current,type:r};return window.setTimeout(()=>{o(l=>l.filter(d=>d.id!==c.id))},i),[...a,c]})},[n,e,r,o,i])}function Bee(t){const{msg:e,id:n,type:r="polite",timeout:i=Uee}=t;if(!e)return;const o=Ht();o.set(YT,s=>{const a={msg:e,id:n??zM(),type:r};return window.setTimeout(()=>{o.set(YT,c=>c.filter(l=>l.id!==a.id))},i),[...s,a]})}const U4e=["chat","reasoning"];function B4e(){const[t,e]=Lt(so),n=u3(),{t:r}=pt(),i=a=>{e(a),Yt({source:"composerChatModeMenu",customData:JSON.stringify({currentMode:t,newMode:a})}),Bee({msg:r("actions.screenReaderSwitchPrefix",{chatMode:rC(a)})})},o=Fee(),s=U4e.concat(o?["research"]:[],n?["computerUse"]:[]);return y.jsx("div",{className:"pointer-events-auto relative flex flex-col gap-1 rounded-2xl text-xs contrast-more:border-2","data-testid":"composer-mode-menu",children:s.map((a,c)=>y.jsx(H4e,{chatMode:a,isSelected:t===a,onSelect:i,focusOnMount:c===0},a))})}const V4e={chat:y.jsx(xo,{url:Ree,className:"size-5"}),reasoning:y.jsx(xo,{url:e4e,className:"size-5"}),research:y.jsx(xo,{url:JFe,className:"size-5"}),computerUse:y.jsx(xo,{url:t4e,className:"size-5"})};function H4e(t){const{chatMode:e,isSelected:n,focusOnMount:r,onSelect:i}=t,{t:o}=pt(),s=b.useRef(null);return $v(s,r),y.jsxs("button",{type:"button",ref:s,title:rC(e),onClick:()=>i(e),className:fe("flex items-center justify-between gap-4 rounded-xl px-4 py-2",Sh["subtle-dimmed"]),"data-testid":`${e}-mode-option`,children:[y.jsxs("div",{className:"flex items-center gap-4",children:[V4e[e],y.jsxs("div",{className:"pr-4 text-left",children:[y.jsxs("div",{className:"flex items-center gap-1.5",children:[y.jsxs("div",{children:[" ",rC(e)," "]}),e==="research"&&y.jsx($S,{color:"salmon",children:y.jsx("span",{children:o("common.new")})}),e==="computerUse"&&y.jsx($S,{color:"salmon",children:y.jsx("span",{children:o("settings.labs.title")})}),y.jsx($S,{children:y.jsx("span",{children:o(`composer.chatModes.${e}.latency`)})})]}),y.jsx("div",{className:"text-foreground-600 text-2xs dark:text-foreground-700",children:o(`composer.chatModes.${e}.description`)})]})]}),y.jsx(z4e,{isSelected:n})]})}function z4e(t){const{isSelected:e}=t;return y.jsx("div",{className:fe("flex size-5 items-center justify-center rounded-full border-2",e?"border-foreground-800":"border-foreground-450"),children:e&&y.jsx("div",{className:"size-2.5 rounded-full bg-foreground-800 contrast-more:border-2"})})}function $4e(t){const{isChatModeMenuOpen:e,onRef:n,onClick:r,disableChatModeSwitcher:i}=t,{t:o}=pt(),s=oe(so),a=c=>{Yt({source:"composerChatModeSwitcher",customData:JSON.stringify({currentMode:s,isOpen:e})}),r(c)};return y.jsx(ct.div,{layout:"position",initial:!1,children:y.jsxs(lt,{testId:"chat-mode-switcher",title:o(e?"composer.chatModes.closeModeMenu":"composer.chatModes.openModeMenu"),onClick:a,color:"subtle-dimmed",ref:n,className:"my-1 border border-black/8",disabled:!i,children:[y.jsx("span",{className:"text-xs",children:rC(s)}),y.jsx(Xh,{className:fe("size-4",e?"-rotate-90":"rotate-90")})]})})}function W4e({disableChatModeSwitcher:t}){const[e,n]=Lt(D5);return y.jsx(a3,{isOpen:e==="chatMode",onIsOpenChange:r=>n(i=>r?"chatMode":i==="chatMode"?null:i),renderTrigger:(r,i)=>y.jsx($4e,{isChatModeMenuOpen:i,onRef:r.ref,onClick:r.onClick,disableChatModeSwitcher:t}),options:{placement:"top-start",offset:{mainAxis:10,crossAxis:-12},hideOnMenuClick:!0},className:En(kc,"p-2"),children:y.jsx(B4e,{})})}function K4e({state:t}){const{t:e}=pt(),n=Wn(),r=ds(),i=We(Ks),o=We(Iv),s=We(qI);return y.jsx(Xu,{data:{title:e("composer.goToHome"),testId:"home-button",onClick:async()=>{i(null),o(!1),s(void 0),Or({source:"homeButton"}),await r({to:"/",from:n})},isVisible:t!=="hidden",isDisabled:t==="disabled"},children:y.jsx(GC,{className:"size-6","aria-hidden":!0})})}const Vee=se(0),Hee=se(),zee=se(),MGe=se({}),LGe=se({lastPosition:0,wasPlaying:!1});function $ee(t){const{url:e,podcastId:n,schema:r}=t;return ci(e,r,{query:n?{podcastId:n}:void 0}).then(i=>i.data)}function G4e(t,e,n,r){return r&&n?{url:`/sharing/podcasts/${n}`,schema:dT}:t?e?{url:`/podcasts/${e}/${t}`,schema:dT}:{url:"/daily-briefing",podcastId:t,schema:kY}:null}function q4e(){const{podcastId:t,podcastType:e,shareId:n}=hv({strict:!1}),r=oe(Hee),i=t??r,o=Hx(),s=!!t||o,a=We(zee),{data:c,isLoading:l,error:d}=hp(G4e(i,e,n,s),$ee);if(b.useEffect(()=>{if(c&&s){const m=dT.parse(c);a(m.podcastId)}},[c,s,a]),c&&s){const m=dT.parse(c),{isAvailable:g,podcastId:C,chapters:_,playback:{positionInSeconds:S,chapterId:w}}=m,T=n?"user":e,I=_.map(({id:R,title:M,image:P,audio:N})=>({id:R,title:M,image:{landscape:{name:P.landscape.name,url:`/podcasts/${T}/${C}/Files/${P.landscape.name}`,backgroundColor:P.landscape.backgroundColor,foregroundColor:P.landscape.foregroundColor,altText:P.landscape.altText},portrait:{name:P.portrait.name,url:`/podcasts/${T}/${C}/Files/${P.portrait.name}`,backgroundColor:P.portrait.backgroundColor,foregroundColor:P.portrait.foregroundColor,altText:P.portrait.altText}},audio:N})),A={isAvailable:g,podcastId:t,chapters:I.map(R=>({...R,audio:{default:{url:`/podcasts/${T}/${C}/Files/${R.audio.name}`,duration:R.audio.duration}},transitionMusic:null,sources:[]})),playback:{position:S,chapterId:w}},k={...m,chapters:I};return{data:A,podcastData:k,isPodcast:s,isLoading:l,error:d}}return{data:!s&&c?kY.parse(c):void 0,isPodcast:s,isLoading:l,error:d}}function DGe(){const{data:t}=hp({url:"/daily-briefing/topics",schema:AY},$ee);return{data:t}}async function jGe(t,e){await ko({path:"/daily-briefing/topics/unfollow",args:{body:{ids:e}}}),await ko({path:"/daily-briefing/topics/follow",args:{body:{ids:t}}})}function Y4e(){const t=ds(),e=We(Ks),n=We(Hee),[r,i]=Lt(Vee),o=b.useCallback(async()=>{await t({from:"/daily",to:"/"}),n(void 0),e(null)},[n,e,t]),s=b.useCallback(async l=>{n(l),i(0),e("daily-briefing-player"),await t({from:"/",to:"/daily"})},[e,i,n,t]),a=b.useCallback(async()=>{i(r),await t({from:"/daily",to:"/topic-selection"}),e(null)},[e,i,r,t]),c=b.useCallback(async()=>{i(r),e("daily-briefing-player"),await t({from:"/topic-selection",to:"/daily"})},[r,i,e,t]);return{navigateToDailyBriefing:s,navigateToTopicSelection:a,exitDailyBriefing:o,returnToDailyBriefing:c,currentChapterIndex:r}}function Q4e({enabled:t,media:e,thresholds:n,key:r}){const i=b.useRef(0),o=b.useRef([]),s=b.useRef(new Set);return b.useEffect(()=>{o.current=(n==null?void 0:n.sort((a,c)=>a.seconds-c.seconds))??[]},[n]),b.useEffect(()=>{i.current=0,s.current=new Set;let a=null;if(!e||!t)return()=>{};function c(){a=performance.now()}function l(g){if(a!==null){const C=(performance.now()-a)/1e3;i.current+=C,a=g?performance.now():null,m()}}function d(){l(!1)}function p(){l(!0)}const m=()=>{for(let g=0;g<o.current.length;g+=1){const C=o.current[g];C&&i.current>=C.seconds&&!s.current.has(g)&&(s.current.add(g),C.callback())}};return e.addEventListener("playing",c),e.addEventListener("pause",d),e.addEventListener("ended",d),e.addEventListener("timeupdate",p),()=>{e.removeEventListener("playing",c),e.removeEventListener("pause",d),e.removeEventListener("ended",d),e.removeEventListener("timeupdate",p)}},[t,e,r]),{totalTimePlayedRef:i}}const Kv="daily";function FGe(){he.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:"personalizeButton",eventInfo_clickScenario:"",eventInfo_pageName:Kv}})}function UGe(t){he.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:"TopicSettings_Select",eventInfo_clickScenario:t,eventInfo_pageName:Kv}})}function BGe(t){he.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:"TopicSettings_UnSelect",eventInfo_clickScenario:t,eventInfo_pageName:Kv}})}function VGe(t){he.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:"TopicSettings_Save",eventInfo_clickScenario:t.join(","),eventInfo_pageName:Kv}})}function HGe(){he.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:"TopicSettings_Later",eventInfo_clickScenario:"",eventInfo_pageName:Kv}})}const $M={Podcast:"podcastPlayer",DailyBriefing:"dailyBriefingPlayer"},QT={Daily:Kv,Podcast:"podcast"},am={Skip:"skip",Rewind:"rewind",Play:"play",Pause:"pause",Next:"next",Previous:"previous",Playback:"playback"};function cm(t,e,n){Yt({source:t,pageName:t===$M.Podcast?QT.Podcast:QT.Daily,scenario:e,customData:n})}function Wee(t,e,n){return{DailyBriefing:`${e}|${n}`,Podcast:e}[t]}function xV(t,e,n){const r=Wee(t,e,n);r&&ko({path:`/media/${t}/${r}/playback/completed`,args:{}}).catch(i=>{vq(i)})}function X4e(t,e,n,r){const i=Wee(t,n,r);i&&ko({path:`/media/${t}/${i}/playback`,args:{options:{method:"PATCH"},body:{positionInSeconds:e}}}).catch(o=>{vq(o)})}function AV(t,e){const n=Object.keys(e);if(n.length!==0)return typeof t<"u"&&n.includes(t)?e[t]:Object.values(e)[0]}const Z4e=5,J4e=5e3;function Kee(){var Oe,Q;const{exitDailyBriefing:t}=Y4e(),{data:e,isPodcast:n}=q4e(),r=n?$M.Podcast:$M.DailyBriefing,i=oe(zee),o=oe(LC),s=b.useMemo(()=>e?n?e.chapters.map(ee=>{var re;return[((re=ee.audio.default)==null?void 0:re.duration)??0]}):e.chapters.map(ee=>{var re;const Ie=[((re=AV(o,ee.audio))==null?void 0:re.duration)??0];return ee.transitionMusic&&Ie.push(ee.transitionMusic.duration),Ie}):[],[e,n,o]),[a,c]=Lt(Vee),l=b.useRef(null),[d,p]=b.useState(!1),[m,g]=b.useState(!1),C=a<s.length-1,_=a>0,S=b.useRef(performance.now()),w=b.useRef(performance.now()),T=b.useMemo(()=>{var ee;return(ee=e==null?void 0:e.chapters[a])!=null&&ee.id?e.chapters[a].id:i&&i.split(",")[a]},[e==null?void 0:e.chapters,a,i]),I=b.useMemo(()=>e?n?e.chapters.map(ee=>{var Ie;return[((Ie=ee.audio.default)==null?void 0:Ie.url)??""]}):e.chapters.map(ee=>{var re;const Ie=[((re=AV(o,ee.audio))==null?void 0:re.url)??""];return ee.transitionMusic&&Ie.push(ee.transitionMusic.url),Ie}):[],[e,o,n]),[A,k]=b.useState(0),R=je("daily-briefing-viewed"),[M,P]=b.useState([]),[N,D]=b.useState(null),G=JSON.stringify({podcastId:i,eventInfo_chapterId:(Oe=e==null?void 0:e.chapters[a])==null?void 0:Oe.id,eventInfo_chapterPlayDuration:performance.now()-S.current});Q4e({enabled:R,media:N,key:T,thresholds:[{seconds:Z4e,callback:()=>{if(T&&!M.includes(T)){try{ko({path:`/daily-briefing/${T}/viewed`,args:{analytics:{anonymousPath:"/daily-briefing/*/viewed"}}})}catch{}P([...M,T])}}}]}),b.useEffect(()=>{if(!N||!d)return;const ee=setInterval(()=>{const Ie=N.currentTime;X4e("DailyBriefing",Ie,i,T)},J4e);return()=>{clearInterval(ee)}},[N,d,T,i]);function U(){var ee;p(!0),(ee=l.current)==null||ee.playAnimation(),N==null||N.play(),cm(r,am.Play,G)}function W(){var ee;p(!1),(ee=l.current)==null||ee.pauseAnimation(),N==null||N.pause(),cm(r,am.Pause,G)}function $(ee){if(N){const Ie=Math.min(N.currentTime+ee,N.duration);N.currentTime=Ie,cm(r,am.Skip,JSON.stringify({seconds:ee}))}}function L(ee){if(N){const Ie=Math.max(N.currentTime-ee,0);N.currentTime=Ie,cm(r,am.Rewind,JSON.stringify({seconds:ee}))}}function B(){var ee,Ie,re;xV("DailyBriefing",i,T),e!=null&&e.chapters&&he.trackEvent({name:"system",data:{eventName:"chapterPlayDuration",eventInfo_podcastId:i,eventInfo_chapterIndex:a,eventInfo_isCompleted:a===e.chapters.length-1,eventInfo_publisherName:(Ie=(ee=e.chapters[a])==null?void 0:ee.sources)==null?void 0:Ie.map(ue=>ue.publisherName).join(","),eventInfo_impressionElement:QT.Daily,eventInfo_customData:JSON.stringify({eventInfo_chapterId:(re=e.chapters[a])==null?void 0:re.id,eventInfo_chapterPlayDuration:performance.now()-S.current})}})}function j(){xV("Podcast",i),he.trackEvent({name:"system",data:{eventName:"podcastPlayDuration",eventInfo_isCompleted:!0,eventInfo_podcastId:i,eventInfo_podcastPlayDuration:performance.now()-w.current,eventInfo_impressionElement:QT.Podcast}})}function V(){N&&(N.currentTime=0)}function K(ee){B(),S.current=performance.now(),V(),k(0),c(ee)}function z(){C&&(K(a+1),cm(r,am.Next,G))}function H(){_&&(K(a-1),cm(r,am.Previous,G))}function q(ee){N&&(N.playbackRate=ee/100)}function le(ee){const re=(Rk.indexOf(ee)+1)%Rk.length;return Rk[re]??kI}function Ce(){p(!0);const ee=I[a]??[];A<ee.length-1?k(Ie=>Ie+1):ee.length-1===A&&C?z():(Pe(),t())}function _e(ee){ee==="open"&&g(d),ee==="close"&&m&&U()}function be(){S.current=performance.now(),w.current=performance.now()}function Pe(){n?j():B()}return{isPlaying:d,currentChapterId:T,currentChapterIndex:a,chapterDurations:s,currentChapterPartIndex:A,audioElement:N,setAudioElement:D,audioChaptersProgressBarRef:l,currentChapterAudioSrc:((Q=I[a])==null?void 0:Q[A])??"",play:e?U:void 0,pause:e?W:void 0,skipForward:e?ee=>$(ee):()=>{},skipBack:e?ee=>L(ee):()=>{},goToNextChapter:C?z:void 0,goToPreviousChapter:_?H:void 0,getNextPlaybackSpeed:e?ee=>le(ee):void 0,applyPlaybackRate:e?ee=>q(ee):()=>{},onChapterEnded:Ce,onToggleVoiceSettings:_e,resetAllTimers:be,trackPlayerEndEvents:Pe}}const x3=t=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t},b.createElement("path",{d:"M17.75 3A3.25 3.25 0 0 1 21 6.25v11.5A3.25 3.25 0 0 1 17.75 21H6.25A3.25 3.25 0 0 1 3 17.75V6.25A3.25 3.25 0 0 1 6.25 3h11.5Zm.58 16.401-5.805-5.686a.75.75 0 0 0-.966-.071l-.084.07-5.807 5.687c.182.064.378.099.582.099h11.5c.203 0 .399-.035.58-.099l-5.805-5.686L18.33 19.4ZM17.75 4.5H6.25A1.75 1.75 0 0 0 4.5 6.25v11.5c0 .208.036.408.103.594l5.823-5.701a2.25 2.25 0 0 1 3.02-.116l.128.116 5.822 5.702c.067-.186.104-.386.104-.595V6.25a1.75 1.75 0 0 0-1.75-1.75Zm-2.498 2a2.252 2.252 0 1 1 0 4.504 2.252 2.252 0 0 1 0-4.504Zm0 1.5a.752.752 0 1 0 0 1.504.752.752 0 0 0 0-1.504Z"})),zGe=Object.freeze(Object.defineProperty({__proto__:null,default:x3},Symbol.toStringTag,{value:"Module"}));function eUe(t){const[e,n]=b.useState(!1),{tab:r,className:i=""}=t,{t:o}=pt();return e||!r.favIconUrl?y.jsx(x3,{className:fe("size-5",i)}):y.jsx("img",{src:r.favIconUrl,alt:o("composer.multiTabs.tabFavIconAltText"),className:fe("size-4 rounded bg-white",i),onError:()=>{n(!0)}})}function tUe(t){try{return new URL(t).hostname}catch{return null}}function nUe(t,e=5){const n=new Set;for(const r of t){if(n.size>=e)break;if(r.url){const i=tUe(r.url);i&&n.add(i)}}return Array.from(n).join(", ")}function rUe(t){const{tabCount:e}=t,{t:n}=pt(),r=b.useMemo(()=>n("composer.multiTabs.browserCurrentSelectedCardTitle",{count:e}),[n,e]);return y.jsx("span",{className:"min-w-0 truncate font-semibold text-foreground-750 text-xs",children:r})}function iUe(t){const{tabs:e}=t,n=b.useMemo(()=>nUe(e,5),[e]);return y.jsx("span",{className:"truncate text-foreground-750 opacity-60 text-2xs",children:n})}function Gee(t){const{tabs:e,onRemove:n,showRemoveIcon:r,onClick:i}=t,{t:o}=pt(),s=b.useMemo(()=>e.slice(0,3),[e]),a=l=>{l.stopPropagation(),n==null||n()},c=l=>{l.stopPropagation(),i==null||i()};return y.jsxs(ct.div,{className:"relative flex h-[58px] w-full flex-row items-center justify-center gap-2 overflow-hidden rounded-xl border border-black/8 bg-white/90 p-3 dark:border-white/8 dark:bg-midnight-800/80",layout:"position",initial:Vt,animate:Rn,exit:Vt,onClick:c,children:[y.jsx("div",{className:fe("flex h-5 min-w-5 flex-none items-center justify-center rounded bg-white/90 dark:bg-midnight-800/80"),children:s.map((l,d)=>y.jsx(eUe,{tab:l,className:fe(d>0&&"-ms-[6px]")},l.id))}),y.jsxs("div",{className:"mr-7 flex min-w-0 flex-1 flex-col",children:[y.jsx(rUe,{tabCount:e.length}),y.jsx(iUe,{tabs:e})]}),r&&y.jsx("button",{type:"button",title:o("composer.removeImage"),"aria-label":o("composer.removeImage"),onClick:a,tabIndex:0,className:"absolute end-0.5 top-0.5 m-1 rounded-full p-1 text-foreground-850 safe-hover:bg-black/5 dark:safe-hover:bg-black/30",children:y.jsx(Hs,{className:"size-3"})})]})}function oUe({onClick:t,showRemoveIcon:e=!0}){const[n,r]=Lt(vx),i=b.useMemo(()=>Array.from(n.values()),[n]);return n.size===0?null:y.jsx("div",{className:"flex min-h-[60px] flex-col gap-2",children:y.jsx(Gee,{showRemoveIcon:e,tabs:i,onRemove:()=>{r(new Map)},onClick:t})})}const qee=t=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 24",fill:"currentColor",...t},b.createElement("path",{d:"M12.5 2C18.0228 2 22.5 6.47715 22.5 12C22.5 17.5228 18.0228 22 12.5 22C6.97715 22 2.5 17.5228 2.5 12C2.5 6.47715 6.97715 2 12.5 2ZM12.5 3.5C7.80558 3.5 4 7.30558 4 12C4 16.6944 7.80558 20.5 12.5 20.5C17.1944 20.5 21 16.6944 21 12C21 7.30558 17.1944 3.5 12.5 3.5ZM12.5 7C12.9142 7 13.25 7.33579 13.25 7.75V11.25H16.75C17.1642 11.25 17.5 11.5858 17.5 12C17.5 12.4142 17.1642 12.75 16.75 12.75H13.25V16.25C13.25 16.6642 12.9142 17 12.5 17C12.0858 17 11.75 16.6642 11.75 16.25V12.75H8.25C7.83579 12.75 7.5 12.4142 7.5 12C7.5 11.5858 7.83579 11.25 8.25 11.25H11.75V7.75C11.75 7.33579 12.0858 7 12.5 7Z"})),$Ge=Object.freeze(Object.defineProperty({__proto__:null,default:qee},Symbol.toStringTag,{value:"Module"})),Yee=t=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 24",fill:"currentColor",...t},b.createElement("path",{d:"M12.5 2C18.0228 2 22.5 6.47715 22.5 12C22.5 17.5228 18.0228 22 12.5 22C6.97715 22 2.5 17.5228 2.5 12C2.5 6.47715 6.97715 2 12.5 2ZM15.7197 8.96967L11.25 13.4393L9.28033 11.4697C8.98744 11.1768 8.51256 11.1768 8.21967 11.4697C7.92678 11.7626 7.92678 12.2374 8.21967 12.5303L10.7197 15.0303C11.0126 15.3232 11.4874 15.3232 11.7803 15.0303L16.7803 10.0303C17.0732 9.73744 17.0732 9.26256 16.7803 8.96967C16.4874 8.67678 16.0126 8.67678 15.7197 8.96967Z"})),WGe=Object.freeze(Object.defineProperty({__proto__:null,default:Yee},Symbol.toStringTag,{value:"Module"}));function sUe(t){return b.useCallback(e=>{if(e.key==="Enter"&&!e.shiftKey||e.key===" "){e.preventDefault();try{const n=t(e);n instanceof Promise&&n.catch(console.error)}catch(n){console.error("Error in useEnterOrSpaceKeyDown:",n)}}},[t])}const kV="ml-auto mr-[2px] size-6 flex-none";function aUe(t){const{tab:e,onClick:n,showHighlight:r}=t,[i,o]=b.useState(!1),{t:s}=pt(),a=b.useCallback(()=>{n==null||n({...e,added:!e.added})},[n,e]),c=sUe(a);return y.jsxs("div",{className:fe("box-border flex h-10 w-full cursor-pointer flex-row items-center rounded-lg p-2 safe-hover:bg-black/5 dark:safe-hover:bg-white/8",r&&"bg-black/5 dark:bg-white/8"),onClick:a,role:"button",tabIndex:0,onKeyDown:c,children:[y.jsx("div",{className:"relative flex size-4 flex-none flex-row items-center rounded-lg bg-black/5",children:i||!e.favIconUrl?y.jsx(x3,{className:"size-full"}):y.jsx("img",{src:e.favIconUrl,alt:s("composer.multiTabs.tabFavIconAltText"),className:"size-full rounded-[1px] object-cover",onError:()=>{o(!0)}})}),y.jsx("span",{className:"ml-2 mr-7 max-h-full truncate font-[450] text-foreground-850 text-xs",children:e.title}),e.added?y.jsx(Yee,{className:kV}):y.jsx(qee,{className:kV})]})}const Qee=t=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t},b.createElement("path",{d:"M4.5 10a5.5 5.5 0 1 1 11 0 5.5 5.5 0 0 1-11 0ZM10 3a7 7 0 1 0 4.391 12.452l5.329 5.328a.75.75 0 1 0 1.06-1.06l-5.328-5.329A7 7 0 0 0 10 3Z"})),KGe=Object.freeze(Object.defineProperty({__proto__:null,default:Qee},Symbol.toStringTag,{value:"Module"})),xP="";function cUe(t){const{onChange:e,defaultValue:n}=t,{t:r}=pt(),[i,o]=b.useState(n??xP),s=()=>{o(xP)},a=b.useCallback(l=>{(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),o(xP))},[o]),c=b.useCallback(l=>{o(l.target.value)},[]);return b.useEffect(()=>{e==null||e(i)},[e,i]),y.jsxs("div",{className:"my-3 flex h-8 w-full flex-row items-center rounded-3xl bg-white/60 dark:bg-black/60",children:[y.jsx(Qee,{className:"mx-2 size-4"}),y.jsx("input",{type:"text",id:"browser-tab-search",autoComplete:"off",spellCheck:!1,autoCorrect:"off",className:"w-full rounded-lg bg-transparent py-2 text-sm focus:outline-none",placeholder:r("composer.multiTabs.browserTabMenuSearchPlaceholder"),"aria-label":r("composer.multiTabs.browserTabMenuSearchPlaceholder"),onChange:c,value:i,maxLength:100}),i&&y.jsx("div",{role:"button",tabIndex:0,className:"ms-auto h-6 cursor-pointer rounded-xl border border-midnight-250 bg-midnight-200 px-3 py-1 text-foreground-800 text-2xs",onKeyDown:a,onClick:s,children:r("composer.multiTabs.browserTabMenuSearchClear")})]})}function lUe(t,e){let n=null;return(...r)=>{n!==null&&window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}const uUe=300,GGe=2e3;function dUe(t,e=1e3){const n=b.useRef();return n.current=t,b.useMemo(()=>lUe((...o)=>{var s;(s=n.current)==null||s.call(n,...o)},e),[e])}const fUe="edge://discover-chat-v2",qGe="Edge.Context.Pref",YGe="Edge.Context.OnPref",hUe="Edge.IsFeatureEnabled",pUe="Edge.OnIsFeatureEnabled",QGe="isShowCopilotButtonSupported";class XT{constructor(){Se(this,"resolve",null);Se(this,"isCancelled");Se(this,"token");this.token=new Promise(e=>{this.resolve=e}),this.isCancelled=!1}static cancelled(){const e=new XT;return e.cancel(),e}static create(e){const n=new XT;return e&&e.then(()=>n.cancel()),n}static delay(e){return this.create(new Promise(n=>{setTimeout(()=>n(null),e)}))}cancelled(){return this.isCancelled}cancel(){return!this.isCancelled&&this.resolve&&this.resolve(this),this.isCancelled=!0,this.isCancelled}dispose(){this.cancel()}}function mUe(t){window.parent.postMessage(t,fUe)}class A3{constructor(e,n="",r,i){Se(this,"listenerKey",A3.name);Se(this,"result",null);Se(this,"priority","Normal");Se(this,"createdDate",new Date);Se(this,"id");Se(this,"resolveListener");Se(this,"eventName");Se(this,"canResolve");this.eventName=e,this.id=n,r==null||r.then(()=>this.cancel()),this.canResolve=i}init(e){e!==void 0?this.resolveListener=e:this.result=new Promise(n=>{this.resolveListener=n})}maybeHandleEvent(e){if(!this.resolveListener)throw new Error("PostMessageListener is not initialized");const{eventName:n,requestId:r}=e;return r!==this.id?!1:n===this.eventName?this.canResolve&&!this.canResolve(e)?!1:(this.resolveListener(e),!0):!1}cancel(){if(!this.resolveListener)throw new Error("PostMessageListener is not initialized");return this.result&&this.resolveListener(null),!0}}const $f=class $f{constructor(){Se(this,"activeListeners",[])}static instance(){return $f.singleton||($f.singleton=new $f),$f.singleton}push(e,n,r){return e.init(r),this.activeListeners.push(e),n&&n(),e.result===null?Promise.resolve(null):e.result.then(i=>(this.pop(e),i)).catch(()=>(this.pop(e),null))}pop(e){const n=this.activeListeners.indexOf(e);n>-1&&this.activeListeners.splice(n,1)}findAndHandleListener(e){for(const n of[...this.activeListeners].sort((r,i)=>r.createdDate<i.createdDate?-1:1))if(n.maybeHandleEvent(e))break}};Se($f,"singleton",null);let WM=$f;class gUe{constructor(){Se(this,"isFeatureAvailableApiSupported");Se(this,"enabledFeatures",new Map);this.isFeatureAvailableApiSupported=this.getFeatureAvailableApiSupported()}async isFeatureEnabled(e){return this.enabledFeatures.has(e)||await this.retrieveEnabledFeatures([e]),this.enabledFeatures.get(e)??!1}async retrieveEnabledFeatures(e){if(!this.isFeatureAvailableApiSupported)return;await this.waitForNativeBridgeConnected();const n=1e3,r={eventName:hUe,requestId:crypto.randomUUID(),isOutgoing:!0,args:{featureNames:e}},i=await WM.instance().push(new A3(pUe,r.requestId,XT.delay(n).token),()=>{mUe(r)});if(i){const o=i.args;for(const s of e){const a=o.featureNames.includes(s);this.enabledFeatures.set(s,a)}}}getFeatureAvailableApiSupported(){for(const n of navigator.userAgent.split(" "))if(n.startsWith("Edg/")){const r=n.split("/")[1];if(r!==void 0){const i=r.split(".")[0];if(i!==void 0)return parseInt(i,10)>=132}}return!1}waitForNativeBridgeConnected(){const e=Ht();return e.get(NS)?Promise.resolve():new Promise(n=>{const r=e.sub(NS,()=>{e.get(NS)&&(r(),n())})})}}const XGe=new gUe;function vUe(t){return t!=null&&typeof t=="object"&&"id"in t&&typeof t.id=="number"&&"windowId"in t&&typeof t.windowId=="number"&&"url"in t&&typeof t.url=="string"}function Xee(t){return Array.isArray(t)&&t.every(e=>vUe(e))}const yUe=5,bUe=3,CUe=8;function _Ue(){return Kt("edge-multi-tabs-limit-3")?bUe:Kt("edge-multi-tabs-limit-8")?CUe:yUe}function wUe(t,e){const n=new Set(t.map(i=>i.id)),r=new Set(e.map(i=>i.id));if(n.size!==r.size)return!0;for(const i of n)if(!r.has(i))return!0;return!1}function SUe(t){const{styles:e,onRef:n,onSave:r,setIsMultiTabMenuExpanded:i}=t,[o,s]=Lt(vx),a=b.useRef(new Map(o)),c=b.useRef(null),[l,d]=b.useState([]),[p,m]=b.useState(-1),g=b.useRef(null),{t:C}=pt(),_=b.useDeferredValue([...l]),S=b.useMemo(()=>_.filter(U=>U.isAppear),[_]),w=oe(DZ),T=a.current;b.useEffect(()=>{async function U(){const{tabs:W}=await eNe.run({});if(Xee(W)){const $=[];for(const L of W)L.id&&$.push({...L,added:T.has(L.id),isAppear:!0});d($)}}U().catch(console.error)},[T]);const I=b.useMemo(()=>l.filter(U=>U.added),[l]),A=b.useMemo(()=>I.length===0||I.length>_Ue(),[I]),k=b.useCallback(U=>{n==null||n(U),c.current=U},[n]),R=()=>{i==null||i(!1)},M=b.useCallback(()=>{if(A)return;s(W=>{const $=new Map(W);for(const L of l)L.id&&(L.added?$.set(L.id,L):$.has(L.id)&&$.delete(L.id));return $});const U=wUe(I,[...T.values()]);r==null||r(I,U),i==null||i(!1)},[A,s,I,T,r,i,l]),P=b.useCallback(U=>{d(W=>W.map(L=>L.id===U.id?U:L))},[]),N=dUe(b.useCallback(U=>{d(W=>W.map($=>({...$,isAppear:$.title?$.title.toLowerCase().includes(U.toLowerCase().trim()):!0})))},[]),uUe),D=b.useCallback(U=>{m(W=>U==="up"?W>0?W-1:S.length-1:W<S.length-1?W+1:0)},[m,S]);b.useEffect(()=>{g.current&&p>=0&&g.current.scrollIntoView({block:"nearest"})},[p,g]);const G=b.useCallback(U=>{if(["ArrowUp","ArrowDown"].includes(U.key))U.preventDefault(),D(U.key==="ArrowUp"?"up":"down");else if(U.key==="Enter")U.preventDefault(),M();else if(U.key===" "&&p>=0){U.preventDefault();const W=S[p];W&&P({...W,added:!W.added})}},[S,P,M,p,D]);return b.useEffect(()=>(Pr.on("multi-tabs:search",N),Pr.on("multi-tabs:key-down",G),()=>{Pr.off("multi-tabs:search",N),Pr.off("multi-tabs:key-down",G)}),[G,N]),y.jsxs("div",{className:fe(Un.modal,"pointer-events-auto relative z-40 box-border flex max-h-[400px] w-full flex-col rounded-b-6xl rounded-t-4xl border border-white p-4 shadow-lg backdrop-blur-2xl backdrop-saturate-150 contrast-more:border-2","bg-gradient-composer-tabs-menu-light dark:bg-gradient-composer-tabs-menu-dark","bg-blend-normal"),style:e,ref:k,"data-testid":"composer-multi-tabs-menu",role:"menu",tabIndex:0,onKeyDown:w?void 0:G,children:[y.jsxs("div",{className:"flex w-full flex-row items-center justify-between pt-2",children:[y.jsx("span",{className:"font-[500] text-foreground-900 text-xs",children:C("composer.multiTabs.browserTabMenuTitle")}),y.jsx(Hs,{className:"size-5 cursor-pointer",onClick:R})]}),y.jsx(cUe,{onChange:N}),y.jsx("div",{className:"t-custom-scrollbar mb-3 flex flex-col gap-y-1 overflow-y-auto overflow-x-hidden",children:S.map((U,W)=>y.jsx("div",{ref:W===p?g:null,tabIndex:0,role:"menuitem",onFocus:()=>m(W),children:y.jsx(aUe,{tab:U,onClick:P,showHighlight:W===p},U.id)},U.id))}),y.jsx(lt,{title:C("composer.multiTabs.browserTabMenuShareButton"),className:"mx-auto mt-auto w-full flex-none",disabled:A,onClick:M,color:"strong",size:"48-lg",children:C("composer.multiTabs.browserTabMenuShareButton")})]})}const Zee=t=>b.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},b.createElement("path",{id:"Shape",d:"M2 6.25C2 4.45507 3.45507 3 5.25 3H18.75C20.5449 3 22 4.45507 22 6.25V12H20.5V6.25C20.5 5.2835 19.7165 4.5 18.75 4.5H5.25C4.2835 4.5 3.5 5.2835 3.5 6.25V15.75C3.5 16.7165 4.2835 17.5 5.25 17.5H11V19H5.25C3.45507 19 2 17.5449 2 15.75V6.25ZM14 13C12.8954 13 12 13.8954 12 15V20C12 21.1046 12.8954 22 14 22H21C22.1046 22 23 21.1046 23 20V15C23 13.8954 22.1046 13 21 13H14Z",fill:"currentColor"})),ZGe=Object.freeze(Object.defineProperty({__proto__:null,default:Zee},Symbol.toStringTag,{value:"Module"}));function EUe(t){const{onClick:e}=t,{t:n}=pt();return y.jsx(Xu,{data:{title:n("videoCard.pictureInPicture.miniPlayer"),testId:"trigger-picture-in-picture",isVisible:!0,onClick:e},children:y.jsx(Zee,{className:"size-6","aria-hidden":!0})})}function k3(){return oe(fs)==="US"&&Qe.instance().config().proSubscription.enabled}function TUe(t){const{title:e,onClick:n,appearDelay:r,appearDuration:i,voiceAvailabilityStatus:o,payflowSkuType:s}=t,a=k3(),c=oe(Qr);return b.useEffect(()=>{c!=null&&c.accountType&&he.trackEvent({name:"interaction",data:{eventName:"payflowEntryImpression",eventInfo_loginProvider:c.accountType,eventInfo_actionButton:"GetCopilotPro",eventInfo_payflowEntryPoint:"VoiceLimit",eventInfo_payflowType:a?"ProSubPaywall":"UniPux",eventInfo_payflowSkuType:s,eventInfo_upsellReason:o,eventInfo_upsellEntryStyle:"Button"}})},[o,s,a,c==null?void 0:c.accountType]),y.jsx(T3,{className:"mx-2",title:e,onClick:n,appearDelay:r,appearDuration:i})}const IUe="https://content.lifecycle.office.net/dime/v1/dime.js";function xUe(){return new Promise((t,e)=>{const n=document.createElement("script");n.src=IUe,n.type="text/javascript",n.async=!0,n.onload=()=>{t()},n.onerror=()=>{e(new Error("Failed to load Dime script"))},document.head.appendChild(n)})}const RV=new up(xUe);async function AUe({language:t,market:e,sessionId:n}){var r;try{const[i]=await Promise.all([tNe(),RV.get()]);return new window.Dime({language:t,market:e,sessionId:n,partnerId:"cmc",authHint:i==null?void 0:i.username,userInfo:{puid:(r=i==null?void 0:i.idTokenClaims)==null?void 0:r.puid}})}catch(i){return RV.reset(),console.log("Failed to load Dime script",i),null}}const AP=new up(t=>AUe(t));var _g,lC;class kUe{constructor(){Rt(this,_g,crypto.randomUUID());Rt(this,lC);Se(this,"ensureDime",async({language:e,market:n})=>(e!==J(this,lC)&&AP.reset(),ht(this,lC,e),AP.get({language:e,market:n,sessionId:J(this,_g)})));Se(this,"overrideSessionId",e=>{AP.reset(),ht(this,_g,e)})}get sessionId(){return J(this,_g)}}_g=new WeakMap,lC=new WeakMap;const PV=new kUe,RUe=["m365-personal","m365-family-admin"],Jee=["m365-family-guest","m365-premium-guest","m365-premium-admin"],PUe=["m365-personal","m365-family-admin"],OV=["pro","m365-premium-admin","m365-family-admin","m365-personal","m365-personal-classic","m365-premium-guest","m365-family-guest","m365-family-classic","m365-basic"];function OUe(t,e=!1){return t.length===0?e?"buypremium":"buym365":t.some(n=>n.tier==="pro")?"buypremium":t.some(n=>Jee.includes(n.tier))?null:t.some(n=>PUe.includes(n.tier))||e?"upgradepremium":"upgradem365"}function JGe(t){return t.length>0&&!t.some(e=>e.tier==="pro")}function eqe(t){return t.some(e=>RUe.includes(e.tier))&&!t.some(e=>Jee.includes(e.tier))}function tqe(t){return t.slice().sort((e,n)=>OV.indexOf(e.tier)-OV.indexOf(n.tier))}function nqe(t){const e=t.find(n=>n.tier==="pro");return(e==null?void 0:e.isAutoRenew)??!1}const NUe="https://go.microsoft.com/fwlink/?linkid=2281226&client=cmc&ocid=cmme6wdx8nv",MUe="sapphire://payment",LUe="cmme6wdx8nv";function NV(t,e,n,r){var d,p,m;const{urlParams:i}=Qe.instance().config().proSubscription;if(!i)return NUe;const{client:o,ocids:s}=i,a=e?(d=s[t])==null?void 0:d.freeTrial:(p=s[t])==null?void 0:p.buy,c=r??((m=s[t])==null?void 0:m.market),l=new URL("https://go.microsoft.com/fwlink/");return l.searchParams.append("linkid",e?"2243582":"2281226"),l.searchParams.append("client",o),l.searchParams.append("ocid",a??LUe),c&&l.searchParams.append("market",c),n&&l.searchParams.append("language",n),l.toString()}const DUe="https://account.microsoft.com/services/copilot/details",rqe="https://account.microsoft.com/";function iqe(t){const{manageRefId:e}=Qe.instance().config().proSubscription,n=`copilot.${e}.${t}`,r=new URL(DUe);return r.searchParams.append("ref",n),r.hash="billing",r.toString()}function jUe(t){Qe.instance().config().subscribeInNewWindow?window.open(t):Cx(t)}function ZT(t){const{payflowEntryPoint:e,skuType:n,upsellReason:r,beforeNavigate:i,entryStyle:o,preferPremium:s=!1}=t,a=Wn(),c=ds(),l=je("pro-sub-dime"),d=je("cmc-m365-sku"),p=l||d,m=k3(),g=Qe.instance().config().proSubscription.enabled,C=oe(nx),_=oe(fs),{i18n:{resolvedLanguage:S}}=pt(),w=oe(Qr),T=We(Ks),I=oe(Rd),A=oe(SAe),k=b.useMemo(()=>d?OUe(A,s):"gopremium",[d,s,A]),R=b.useCallback(()=>{switch(e){case"VoiceLimit":return hq()?MUe:g?NV(e,C,"",_):"";case"Settings":case"ChatReasoningLimit":case"RedirectFromAuth0Account":case"ActionsLimit":return NV(e,C,"",_);default:return""}},[g,C,e,_]),M=b.useCallback(async()=>{const D=crypto.randomUUID();if(he.trackEvent({name:"interaction",data:{eventName:"payflowEnter",eventInfo_payflowCorrelationId:D,eventInfo_loginProvider:(w==null?void 0:w.accountType)??"unknown",eventInfo_payflowEntryPoint:e,eventInfo_payflowType:m?"ProSubPaywall":"UniPux",eventInfo_payflowSkuType:n,eventInfo_upsellReason:r,eventInfo_upsellEntryStyle:o}}),m)i&&typeof i=="function"&&i(),await c({to:`/pro/subscribe?payflow-correlationId=${D}&entry-point=${e}`,from:a});else{const G=R();jUe(G)}},[o,m,a,e,n,r,w==null?void 0:w.accountType,i,R,c]),P=b.useCallback(async()=>{he.trackEvent({name:"interaction",data:{eventName:"payflowEnter",eventInfo_payflowCorrelationId:PV.sessionId,eventInfo_loginProvider:(w==null?void 0:w.accountType)??"unknown",eventInfo_payflowEntryPoint:e,eventInfo_payflowType:"Dime",eventInfo_payflowSkuType:n,eventInfo_upsellReason:r,eventInfo_upsellEntryStyle:o}});const D=await PV.ensureDime({language:S??"en-US",market:_});if(!k)throw new Error("No dime experience available");if(D)try{(await D.launch({experience:k,theme:I??"light"},()=>{})).status==="Success"&&_x()}catch{throw new Error("Failed to launch Dime")}else throw new Error("Failed to load Dime")},[w==null?void 0:w.accountType,e,n,r,o,S,_,I,k]);return{handleProSubscription:b.useCallback(async()=>{if((!m||p)&&(w==null?void 0:w.provider)==="auth0"){T("upsell-microsoft-account-for-pro-subscription");return}if(p)try{await P()}catch(D){console.error("Failed to launch Dime",D),M()}else M()},[p,P,w==null?void 0:w.provider,m,M,T])}}function FUe(){const{t}=pt(),e=oe(Wb),n=co(),r=oe(GD),i=Qe.instance().config().proSubscription.enabled,o=oe(nx),s=i&&o&&!r,a=tp(),c=oe(Qr),l=We(Ks),d=c3({scenario:"voice",from:"/"}),{handleProSubscription:p}=ZT({payflowEntryPoint:"VoiceLimit",skuType:s?"FreeTrial":"1Mo-Paid",upsellReason:e,entryStyle:"Button"});if(b.useEffect(()=>{r&&(c!=null&&c.accountType)&&he.trackEvent({name:"interaction",data:{eventName:"payflowHiddenEntryImpressionForTeenUser",eventInfo_loginProvider:c.accountType,eventInfo_actionButton:"GetCopilotPro",eventInfo_payflowEntryPoint:"VoiceLimit",eventInfo_payflowType:"UniPux",eventInfo_payflowSkuType:s?"FreeTrial":"1Mo-Paid",eventInfo_upsellReason:e}})},[e,r,n,s,c==null?void 0:c.accountType]),!r)return n?y.jsx(TUe,{voiceAvailabilityStatus:e,payflowSkuType:s?"FreeTrial":"1Mo-Paid",title:t(s?"voice.freeTrialToPro":"voice.v2.subscribeToPro"),onClick:async()=>{if(a&&(c==null?void 0:c.provider)==="auth0"){l("upsell-microsoft-account-for-pro-subscription");return}Or({source:"subscribeCopilotPro",scenario:"voice"}),await p()}}):y.jsx(T3,{className:"mx-2",title:t("voice.signUpOrLogin"),onClick:d})}const UUe="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/settings-B9ohU3kQ.svg",BUe=se(void 0),VUe=se(void 0),R3=se(!1),Gv=Ht(),P3=se(""),ete=se("starter-prompts"),tte=se(!0);function Mf(t){Gv.set(P3,t)}function KM(){Gv.set(P3,"")}function eb(t){Gv.set(ete,t)}function Sf(t){Gv.set(tte,t)}function MV(t){Gv.set(Iv,t)}function HUe(t){Gv.set(qI,t)}function Kx(){return oe(P3)}function zUe(){return oe(ete)}function $Ue(){return oe(tte)}function nte(){const t=oe(yNe),e=je("edge-multi-tabs-manual");return t&&e}function WUe(){const t=nte(),[e,n]=b.useState(!1),[r,i]=b.useState(!1),o=b.useRef(void 0),s=oe(vx),a=Kx(),[c,l]=Lt(DZ),{refs:d,floatingStyles:p}=kJ({placement:"top-start",strategy:"absolute",whileElementsMounted:WC,middleware:[Px(({rects:S})=>{let w=0;return c?w=s.size>0?-72:0:w=S.reference.height*-1,{mainAxis:w,crossAxis:0}},[c,s]),Ox({padding:12}),RJ({apply({rects:S,elements:w}){Object.assign(w.floating.style,{width:`${S.reference.width}px`})}})]}),m=b.useCallback(async S=>{const{isTrigger:w,keyword:T}=S;l(w),w&&(Pr.emit("multi-tabs:search",T),T||(o.current=a)),n(w)},[a,l,n]),g=b.useCallback(()=>{if(c){const S=o.current;S!==void 0&&Mf(S.replace(/@$/,"")),l(!1),o.current=void 0}n(!1),i(!0),Pr.emit("edge:maybe-fetch-page-context","onSaveMultiTabs")},[c,l,n,i]),C=b.useCallback(S=>t&&e&&c?(Pr.emit("multi-tabs:key-down",S),!0):!1,[c,t,e]);return{isMultiTabsMenuExpanded:e,floatingStyles:p,edgeTabMenuRefs:d,setIsMultiTabsMenuExpanded:n,isShowMultiTabsPreviewCard:r,setIsShowMultiTabsPreviewCard:i,handleMentionEvent:m,isMentionTriggered:c,handleMultiTabsMenuSaveBtnEvent:g,handleUserInputEnterEvent:()=>c&&e&&t,handleUserInputKeydownEvent:C}}const KUe=Ht();function kP(t){KUe.set(yh,t)}function GUe(){const t=je("multiplecharacters"),e=oe(uQ),[n,r]=Lt(DC);b.useEffect(()=>{t&&!n&&r(e)},[t,e,n,r])}function qUe(){const{currentChapterId:t}=Kee();return b.useMemo(()=>{if(t)return{type:"dailyBriefing",chapterId:t}},[t])}function YUe(t){const[e,n]=b.useState(!1);return b.useEffect(()=>{if(!t)return()=>{};const r=s=>{s.preventDefault(),n(!0)},i=s=>{s.relatedTarget===null&&(s.preventDefault(),n(!1))},o=()=>n(s=>document.hidden?!1:s);return window.addEventListener("dragenter",r,!0),window.addEventListener("dragleave",i,!0),window.addEventListener("drop",i,!0),document.addEventListener("visibilitychange",o),()=>{window.removeEventListener("dragenter",r,!0),window.removeEventListener("dragleave",i,!0),window.removeEventListener("drop",i,!0),document.removeEventListener("visibilitychange",o)}},[t]),e}async function QUe(t){switch(t.kind){case"local-file":return Z3e(t.file);case"onedrive":return J3e(t.item);default:{const e=t;throw new Error(`Unhandled upload kind: ${e}`)}}}function LV(t){switch(t.kind){case"local-file":{const{file:e}=t;return{name:e.name,contentType:Nc(e),size:e.size}}case"onedrive":{const{item:e}=t;return{name:e.name,contentType:y3(e.name),size:e.size}}default:{const e=t;throw new Error(`Unhandled upload kind: ${e}`)}}}function XUe(){const[t,e]=b.useState(null),[n,r]=b.useState(!1),i=b.useCallback(()=>{e(null),r(!1)},[]),o=b.useCallback(async s=>{r(!0);try{const a=await QUe(s),{name:c,contentType:l,size:d}=LV(s);e({content:{type:"document",attachmentId:a},item:{type:"document",partId:"0",fileName:c,contentType:l},size:d,type:l})}finally{r(!1)}},[]);return{uploadedAttachment:t,isUploadingAttachment:n,clearAttachment:i,uploadAttachment:o,getUploadMetadata:LV}}function ZUe(t,e,n,r){const i=We(Fv),{t:o}=pt(),{clearAttachment:s,uploadAttachment:a,getUploadMetadata:c,isUploadingAttachment:l,uploadedAttachment:d}=XUe(),p=b.useCallback(async(C,_)=>{if(s(),i({file:C.file,scenario:_}),t(),qC(Nc(C.file)))try{await a(C)}catch(S){if(S instanceof Error)if(S.message==="not-signed-in")r();else{e(dee(S.message));const{name:w,size:T}=c(C);Q3e({name:w,size:T,message:S.message,kind:C.kind})}else e({title:o("composer.errors.default.title"),message:o("composer.errors.default.message")});n()}},[s,t,a,n,r,e,c,i,o]),m=b.useCallback(async(C,_)=>{let S;C&&(S=q3e(C));const w=S&&G3e(S);if(w){e(w),n();return}S&&v3(S)&&p({kind:"local-file",file:S},_)},[n,e,p]),g=b.useCallback(()=>{s(),n()},[s,n]);return{processUploadedFile:p,processUploadedLocalFile:m,isUploadingAttachment:l,uploadedAttachment:d,resetFileUpload:g}}function O3(){var r;const t=oe(cs)==="side-by-side",e=gi({breakpoint:"sm"}),n=!!((r=Qe.instance().config().actions)!=null&&r.alwaysLayoutChatDetailsOverChat);return t&&(e||n)}function JUe(){return Wn().startsWith("/shares")}function e6e(){const t=JUe(),{isMediaViewerOpen:e}=Nd(),n=oe(Ks),r=je("sharecontinue");return t?r||e||!!n:!0}function N3(){return n3("(hover: hover) and (pointer: fine)")}const t6e={h760:"760"};function rte(t){const{breakpoint:e}=t,n=t6e[e];return!n3(`(min-height: ${n}px)`)}function YC(){const t=cn(Ul),e=cn(Zs);return t.length===0&&!!(e!=null&&e.isNew)}function n6e(){try{return QC.latestLocation.pathname}catch{return typeof window<"u"&&window.location.pathname?window.location.pathname:"/"}}function qv(){const t=n6e(),e=t.endsWith("/talk"),n=t.startsWith("/chats")&&!e,r=t.endsWith("/landing");return n||r}function Gx(){return!cn(dD)}function r6e(){var a;const t=Gx(),e=cn(R3),n=cn(mx),r=YC(),i=qv(),o=Kt("mac-central-composer"),s=!!((a=Qe.instance().config().landingPage)!=null&&a.enableCentralComposer);return t&&!e&&n==="center"&&i&&r&&(o||s)}function i6e(){var i;const t=Gx(),e=YC(),n=qv(),r=!!((i=Qe.instance().config().landingPage)!=null&&i.enableStarterPrompts);return t&&n&&e&&r}function ite(){var o;const t=Gx(),e=YC(),n=qv(),r=cn(b1e),i=!!((o=Qe.instance().config().landingPage)!=null&&o.enableWidgets);return t&&r&&n&&e&&i}function o6e(){const t=Gx(),e=YC(),n=qv(),r=ite(),i=Kt("appr-home");return t&&n&&e&&i&&!r}function s6e(){var s;const t=Kt("autosuggest"),e=Kt("edge-autosuggest"),n=YC(),r=qv(),i=t||e,o=!!((s=Qe.instance().config().landingPage)!=null&&s.enableAutoSuggest);return i&&o&&r&&n}function qx(){return{isCompatibleLandingRoute:qv(),isAutoSuggestEnabled:s6e(),isCentralComposerEnabled:r6e(),isStarterPromptsEnabled:i6e(),isWidgetSectionEnabled:ite(),isAppearanceOnHomeEnabled:o6e()}}function a6e(){var r;const t=Wn(),e=je("cmc-landing"),n=!!((r=Qe.instance().config().landingPage)!=null&&r.enableLandingRoute);return e&&n&&t.endsWith("/landing")}function Yx(){const t=oe(R3),e=oe(Ul),n=oe(VUe),i=je("edge-shopping-pdp")&&e.length===0&&!!n;return{isContextualShoppingCardExpanded:t,showShoppingCardInNewChat:i,shoppingProductMetadata:n}}const M3=se(!1),c6e=se(!1),ote=Ht(),l6e=["chat.launchMessage.authenticatedV3Type1","chat.launchMessage.authenticatedV3Type2","chat.launchMessage.authenticatedV3Type3"],u6e=["chat.launchMessage.unauthenticatedV3Type1","chat.launchMessage.unauthenticatedV3Type2","chat.launchMessage.unauthenticatedV3Type3"],d6e=["chat.launchMessage.authenticatedV4Type1","chat.launchMessage.authenticatedV4Type2","chat.launchMessage.authenticatedV4Type3","chat.launchMessage.authenticatedV4Type4","chat.launchMessage.authenticatedV4Type5","chat.launchMessage.authenticatedV4Type6","chat.launchMessage.authenticatedV4Type7","chat.launchMessage.authenticatedV4Type8","chat.launchMessage.authenticatedV4Type9","chat.launchMessage.authenticatedV4Type10"],f6e=["chat.launchMessage.unauthenticatedV4Type1","chat.launchMessage.unauthenticatedV4Type2","chat.launchMessage.unauthenticatedV4Type3","chat.launchMessage.unauthenticatedV4Type4","chat.launchMessage.unauthenticatedV4Type5","chat.launchMessage.unauthenticatedV4Type6","chat.launchMessage.unauthenticatedV4Type7","chat.launchMessage.unauthenticatedV4Type8","chat.launchMessage.unauthenticatedV4Type9","chat.launchMessage.unauthenticatedV4Type10"];function h6e(){ote.set(M3,!0)}function p6e(){ote.set(M3,!1)}function ste(){var N;const{t}=pt(),e=oe(M3),n=oe(lQ),r=oe(y1e),i=oe(VY),o=oe(v1e),s=je("landing-rotating-greeting"),a=!!((N=Qe.instance().config().landingPage)!=null&&N.enablePromptedGreetings),c=je("conversation-starter-prompted-greeting-c1"),l=je("qa-conversation-starter-prompted-greeting-c1"),d=je("conversation-starter-prompted-greeting-t1"),p=je("qa-conversation-starter-prompted-greeting-t1"),m=je("conversation-starter-prompted-greeting-t2"),g=je("qa-conversation-starter-prompted-greeting-t2"),C=je("conversation-starter-prompted-greeting-t3"),_=je("qa-conversation-starter-prompted-greeting-t3"),S=je("conversation-starter-prompted-greeting-t4"),w=je("qa-conversation-starter-prompted-greeting-t4"),T=a&&(c||d||m||C||S||l||p||g||_||w),[I,A]=b.useState(0),{showShoppingCardInNewChat:k}=Yx(),M=b.useCallback(()=>k?n?["chat.launchMessage.authenticatedShoppingType1"]:["chat.launchMessage.unauthenticatedShoppingType1"]:r&&["feature-discovery","image-generation"].includes(r)?n?["chat.launchMessage.authenticatedWidgets"]:["chat.launchMessage.unauthenticatedWidgets"]:n?s?d6e:l6e:s?f6e:u6e,[n,s,k,r])();b.useEffect(()=>{const D=jh("greetingIndex"),G=M.length,U=D?(parseInt(D,10)+1)%G:0;Ev("greetingIndex",U.toString()),A(U)},[M]);const P=b.useCallback(()=>o||(r==="feature-discovery"?t("chat.launchMessage.subheadingFeatureDiscoveryWidget"):r==="image-generation"?t("chat.launchMessage.subheadingImageGenWidget"):null),[o,r,t]);return{launchGreetingShown:e,greetingKey:M[I],widgetGreeting:i,widgetSubheading:P(),greetingIndex:I,showPromptedGreetingUI:T}}function m6e(){const t=ds(),e=io();return b.useCallback(async()=>{await t({to:"/agents",params:{},from:e.state.location.pathname})},[t,e.state.location.pathname])}function g6e(){var d,p,m;const t=je("cross-promo-popup"),e=(m=(p=(d=Qe.instance().config().crossPromotion)==null?void 0:d.aggressive)==null?void 0:p.popup)==null?void 0:m.secondDay,n=ir(BN),r=!WT(n,wE),i=ir(VD),o=!WT(i,2*wE),s=ir(pT),a=m3(s,2),c=oe(gD);return b.useMemo(()=>!!(r&&t&&o&&a&&e&&(c===!0?!1:c!==void 0)),[e,t,o,a,r,c])}function zm(t){const{name:e,status:n,eventName:r,source:i,isMobile:o}=t;he.trackEvent({name:e,data:{eventName:r,eventInfo_source:i,eventInfo_isMobilePlatform:o,eventInfo_status:n}})}function ate(){const[t,e]=Lt(sl),n=je("cross-promo-popup"),r=je("top-banner-cross-promo-desktop");let i="setting";(n||(t==null?void 0:t.type)==="popup")&&(i="popup"),r&&(i="topBanner"),(t==null?void 0:t.type)==="card"&&(i="bottomRightCard");const o=We(Ks);return b.useCallback(()=>{const s=Date.now().toString();Ci(VD,s);const a=ir(pT);Ci(pT,(parseInt(a??"0",10)+1).toString()),zm({name:"interaction",status:"Dismissed",eventName:"crossPromotionStripCard",source:i}),o(null),e(null)},[i,o,e])}function L3(){const t=oe(Ul),e=oe(Zs);return t.length===0&&!!(e!=null&&e.isNew)}function cte(t){b.useEffect(()=>{const e=()=>{t()};return ln.on("languageChanged",e),()=>{ln.off("languageChanged",e)}},[t])}function lte(t){const{onStartComplete:e}=t;b.useEffect(()=>{const n=()=>{e(),Pr.off("app:start-complete",n)};return Pr.on("app:start-complete",n),()=>{Pr.off("app:start-complete",n)}},[e])}const D3=1e3*60*60,v6e={revalidateOnFocus:!1,refreshInterval:D3};async function y6e(t,e){return ci(t,p1e,{query:{"api-version":"2",supportedWidgets:e.join(",")},options:{method:"GET",headers:{"Content-Type":"application/json"}},analytics:{anonymousPath:t}}).then(n=>n.data)}function b6e(t){return t?["conversation-starter"]:["conversation-starter","feature-discovery","kickstarter","image-generation","conversation-starter-prompted-greeting"]}function C6e(t){var e;if(t.length>0){if(((e=t[0])==null?void 0:e.type)==="textAndGreeting")return t;const n=t[0];if(n)return[n]}}function _6e(){var d;const t=We(BY),[e,n]=b.useState(!1),r=We(LD),i=Ra("kill-landing-widgets"),o=!!((d=Qe.instance().config().landingPage)!=null&&d.shouldFetchWidgetsData);lte({onStartComplete:()=>{n(!0)}});const{data:s,isLoading:a,error:c,mutate:l}=hp(e&&o?"/activation/widgets":null,p=>y6e(p,b6e(i)),v6e);b.useEffect(()=>{r(e&&o?a:!1)},[a,e,o,r]),cte(l),b.useEffect(()=>{if(s!=null&&s.widgets){const p=C6e(s.widgets);t(p)}},[s,t]),b.useEffect(()=>{c&&(he.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"widgets",eventInfo_errorMessage:`${c}`,eventInfo_details:"Widget API error"}}),r(!1),t(void 0))},[c,t,r])}function w6e(){const t=oe(VY),e=L3(),{isCompatibleLandingRoute:n}=qx(),r=t&&e&&n;return b.useMemo(()=>{if(r)return{type:"greeting",greetingMessage:t}},[t,r])}function S6e(){const t=cn(fs);return W5(ln.resolvedLanguage,t)}function oqe(){const{i18n:t}=pt(),e=oe(fs);return W5(t.resolvedLanguage,e)}const E6e=100,T6e=70,I6e=4,Jh=Ht(),GM=se(null),ute=se("");let RP=null;function x6e(t){Jh.set(ute,t)}function DV(){return Jh.get(ute)}function $m(t){Jh.set(j5,t)}function dte(){const t=Jh.get(GM);t&&(t.abort(),Jh.set(GM,null))}function A6e(){dte();const t=new AbortController;return Jh.set(GM,t),t}function k6e(t,e,n){const r=new URL("https://www.bing.com/AS/Suggestions/V2?pt=page.chat"),[i,o]=n.split("-");return r.searchParams.set("lang",(i==null?void 0:i.toLowerCase())??"en"),r.searchParams.set("cc",(o==null?void 0:o.toLowerCase())??"us"),r.searchParams.set("qry",t.toLowerCase()),r.searchParams.set("cvid",e),Kt("encacsc")&&r.searchParams.set("ascopilot1","1"),Kt("enblsuggrndmzn")&&r.searchParams.set("ascopilot2","1"),Kt("encpsrchdata")&&r.searchParams.set("ascopilot3","1"),r.toString()}async function R6e(t){const{query:e,conversationId:n,market:r,abortController:i}=t,o=k6e(e,n,r);return fetch(o,{signal:i.signal}).then(s=>s.json())}function P6e(t,e){const n=t.toLowerCase().split(/\s+/),r=e.st.toLowerCase().split(/\s+/);let i=0;for(let c=0;c<Math.min(n.length,r.length)&&n[c]===r[c];c+=1)i+=1;const o=e.st.split(/\s+/),s=o.slice(0,i).join(" "),a=o.slice(i).join(" ");return{original:e.st,sliced:a,prefill:s+(s?" ":"")}}async function O6e(t){var n;const e=cn(sn);if(e)try{const r=A6e(),i=S6e(),o=performance.now(),s=await R6e({query:t,conversationId:e,market:i,abortController:r});if(t===DV()){if(!s.s.length){$m(null),Bh({feature:"fetchChatAutoComplete",errorType:"NoSuggestions",customData:JSON.stringify({conversationId:e})});return}const a=s.s.map(c=>P6e(s.qc.q,c));if(!a.length){$m(null),Bh({feature:"fetchChatAutoComplete",errorType:"NoSuggestions",customData:JSON.stringify({conversationId:e})});return}$m({prefill:((n=a[0])==null?void 0:n.prefill)??t,conversationId:e,type:"BCT",suggestions:a.slice(0,I6e)}),FC({feature:"fetchChatAutoComplete",duration:performance.now()-o})}}catch(r){r instanceof DOMException&&r.name==="AbortError"||he.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"autosuggest",eventInfo_errorMessage:`${r}`,eventInfo_details:"Autosuggest API error"}}),t===DV()&&$m(null)}}function N6e(t){RP&&clearTimeout(RP),RP=setTimeout(()=>{O6e(t)},E6e)}function jV(t){var i;const e=(i=Qe.instance().config().landingPage)==null?void 0:i.regexForAutoSuggest,n=Kt("autosuggest")||Kt("edge-autosuggest"),r=cn(sn);if(!n||!e||!e.test(t)||t.length>=T6e){$m(null);return}x6e(t),!t||!r?$m(null):N6e(t)}function tb(){dte(),Jh.set(j5,null)}function sqe(t,e){Yt({source:"shareMenu",scenario:t,sectionName:e})}function aqe(t){const{conversationId:e,messageId:n}=t;he.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionPage:"sharePreview",eventInfo_impressionElement:"shareBlockedBanner",eventInfo_conversationId:e,eventInfo_messageId:n}})}function cqe(t){const{scenario:e,uploadedfileType:n,shareId:r,conversationId:i,messageIds:o}=t;he.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:"shareButton",eventInfo_clickScenario:e,eventInfo_uploadFileType:n,eventInfo_customData:JSON.stringify({eventInfo_shareId:r,eventInfo_oneTurn_messageId:o?o.join(","):""}),eventInfo_conversationId:i}})}function lqe(t){he.trackEvent({name:"system",data:{eventName:"copilotImpression",eventInfo_impressionPage:"receivePreview",eventInfo_impressionScenario:"shareAsLink",eventInfo_customData:JSON.stringify({eventInfo_shareId:t})}})}function uqe(){he.trackEvent({name:"interaction",data:{eventName:"copilotClick",eventInfo_clickSource:"talkToCopilot"}})}function dqe(t){const{cardType:e,messageId:n,conversationId:r,scenario:i}=t;Or({source:"shareMenu",scenario:i,messageId:n,conversationId:r,cardType:e})}function fqe(t){const{conversationId:e,messageId:n,errorName:r,errorMessage:i,errorStack:o}=t;he.trackEvent({name:"system",data:{eventName:"shareMessagesFailed",eventInfo_conversationId:e,eventInfo_messageId:n??"",eventInfo_error:r,eventInfo_errorMessage:i,eventInfo_errorStack:o}})}function M6e(){Yt({source:"continueClicked"})}function L6e(t,e,n){const r=Ht();return new Promise((i,o)=>{let s=null;e(r.get(t))&&i(r.get(t));const a=r.sub(t,()=>{const l=r.get(t);e(l)&&(a(),i(l))}),c=()=>{a(),s&&clearTimeout(s)};s=setTimeout(()=>{c(),o(new Error("Timeout waiting for atom to be ready"))},n)})}function D6e(t){return t.some(e=>e.author==="human"&&e.content.some(n=>n.type==="image"||n.type==="document"))}function hqe(t){var n,r;const e=t.filter(i=>i.author==="human");if(e.length===1){const i=(r=(n=e[0])==null?void 0:n.content.find(o=>o.type==="image"||o.type==="document"))==null?void 0:r.type;return i==="image"?"image":i==="document"?"file":void 0}return D6e(t)?"image|file":void 0}function j6e(t){const n=new URL(t).pathname.split("/").filter(Boolean);return n[n.length-1]??null}async function FV(){M6e();const t=Ht(),e=j6e(window.location.href);t.set(mM,!0);try{const n=await F6e(`/conversations/shares/${e}/continue`),{id:r,title:i}=n.conversation,o=new Date().toISOString(),s={id:r,updatedAt:o,isNew:!1,title:i,history:[],streamingState:"idle",continuedAt:o};t.set(Nr,a=>{const c=new Map(a);return c.set(r,s),c}),t.set(sn,r),await B6e(r)}catch(n){throw t.set(L5,{title:ln.t("composer.errors.continue.title"),message:ln.t("composer.errors.continue.message")}),n}finally{t.set(mM,!1)}}async function F6e(t){return(await ci(t,s1e,{options:{method:"POST"}})).data}const U6e=1e4;async function B6e(t){await L6e(Nr,e=>{const n=e.get(t);return((n==null?void 0:n.history)??[]).length>0},U6e)}function V6e(t,e,n){if(!t||!e)return!1;const r=t.getTime(),i=e.getTime(),o=n?n.getTime():null;return i<=r||o===null?!1:o<=r}const H6e=11,z6e=7,$6e=2,W6e=10,K6e=21,G6e=21,q6e=10,UV=h.object({daysActive:h.array(h.coerce.date())}),qM=h.object({result:h.enum(["dismissed","positive","negative"]),date:h.coerce.date(),dismissCounter:h.number()});function Y6e(t){const e=new Date;let n=t;return t.some(r=>sD(r,e))||(n=[...t,e]),n.length>q6e?n.slice(-10):n}function Q6e(){const t=Pc(t9,UV),e=(t==null?void 0:t.daysActive)??[],n=Y6e(e),r=oT(new Date,z6e),i=n.filter(o=>IN(o,r)||sD(o,r)).length;return n!==e&&Uh(t9,UV,{daysActive:n}),i}function X6e(){const t=Pc(VN,qM);if(!t)return!1;const e=t.result==="positive",n=t.result==="negative"&&IN(t.date,oT(new Date,G6e)),r=t.result==="dismissed"&&IN(t.date,oT(new Date,t.dismissCounter>5?K6e:W6e));return e||n||r}function Z6e(t,e){let n="popUpDismiss";e==="negative"?n="appThumbDown":e==="positive"&&(n="appThumbUp"),Or({source:n,conversationId:t});const r=Pc(VN,qM),i=(r==null?void 0:r.result)==="dismissed"?r.dismissCounter:0,o={result:e,date:new Date,dismissCounter:e==="dismissed"?i+1:0};Uh(VN,qM,o)}function J6e(t={},e=!1){const[n,r]=b.useState(!1),[i,o]=b.useState(!1),{onFocus:s,onBlur:a,onPointerDown:c}=t;return[n,{onFocus:d=>{(!i||e)&&r(!0),s==null||s(d)},onBlur:d=>{r(!1),o(!1),a==null||a(d)},onPointerDown:d=>{o(!0),c==null||c(d)}}]}const fte="bg-stone-300/20 dark:bg-midnight-350/5";function eBe(t,e){return t?t===!0?{animate:{...e}}:{animate:t}:{style:e}}function tBe(t,e,n,r){const i=e?r:n;return t?{animate:i}:{style:i}}function Qx(t){const{children:e,size:n="md",position:r="default",nested:i=!1,background:o="default",stroke:s,className:a,containerRef:c,interactable:l=!1,label:d,animate:p,onFocus:m,onBlur:g,onPointerDown:C,onAnimationStart:_,onAnimationComplete:S,focusOnPointerDown:w,isSelected:T=!1,...I}=t,[A,k]=J6e({onFocus:m,onBlur:g,onPointerDown:C},w),R=T||A,P=i&&(o==="acrylic"||o==="acrylic-thin"),N=P?PP[`${n}-${r}`]:nBe[`${n}-${r}`],D=P?PP[`${n}-${r}`]:rBe[`${n}-${r}`],G=P?PP[`${n}-${r}`]:iBe[`${n}-${r}`],U={default:"bg-white/45 dark:bg-midnight-350/10",darker:fte,acrylic:kc,"acrylic-fallback":Cfe,"acrylic-thin":qu,"acrylic-thin-fallback":Efe,transparent:"bg-transparent"},W=l?{"aria-label":d,role:"button",tabIndex:0,...k,onKeyDown:j=>{var V;(j.key==="Enter"||j.key===" ")&&(j.preventDefault(),(V=I.onClick)==null||V.call(I,j))}}:{onFocus:m,onBlur:g,onPointerDown:C},$=eBe(p,N),L=tBe(p,R,D,G),B=a&&!a.includes("relative")&&!a.includes("absolute")&&!a.includes("fixed")&&"relative";return y.jsxs(ct.div,{className:fe(U[o],a,B,P&&"outline-1 outline-offset-2","isolate will-change-transform"),ref:c,onAnimationComplete:S,...$,...W,...I,children:[e,y.jsx(ct.div,{className:fe(R&&"border-foreground-750 dark:border-white",s&&!R&&"border-black/8 dark:border-white/8",!s&&!R&&"border-transparent",!P&&"border-[20px]",P&&s&&!R&&"border",P&&s&&R&&"border-2","pointer-events-none absolute inset-0"),...L})]})}const nBe={"xs-default":{clipPath:"var(--clip-path-squircle-16)"},"sm-default":{clipPath:"var(--clip-path-squircle-24)"},"md-default":{clipPath:"var(--clip-path-squircle-36)"},"lg-default":{clipPath:"var(--clip-path-squircle-48)"},"xl-default":{clipPath:"var(--clip-path-squircle-60)"},"xs-top":{clipPath:"var(--clip-path-squircle-16-12)"},"sm-top":{clipPath:"var(--clip-path-squircle-24-16)"},"md-top":{clipPath:"var(--clip-path-squircle-36-24)"},"lg-top":{clipPath:"var(--clip-path-squircle-48-36)"},"xl-top":{clipPath:"var(--clip-path-squircle-60-48)"},"xs-bottom":{clipPath:"var(--clip-path-squircle-12-16)"},"sm-bottom":{clipPath:"var(--clip-path-squircle-16-24)"},"md-bottom":{clipPath:"var(--clip-path-squircle-24-36)"},"lg-bottom":{clipPath:"var(--clip-path-squircle-36-48)"},"xl-bottom":{clipPath:"var(--clip-path-squircle-48-60)"}},rBe={"xs-default":{clipPath:"var(--clip-path-squircle-stroke-16)"},"sm-default":{clipPath:"var(--clip-path-squircle-stroke-24)"},"md-default":{clipPath:"var(--clip-path-squircle-stroke-36)"},"lg-default":{clipPath:"var(--clip-path-squircle-stroke-48)"},"xl-default":{clipPath:"var(--clip-path-squircle-stroke-60)"},"xs-top":{clipPath:"var(--clip-path-squircle-stroke-16-12)"},"sm-top":{clipPath:"var(--clip-path-squircle-stroke-24-16)"},"md-top":{clipPath:"var(--clip-path-squircle-stroke-36-24)"},"lg-top":{clipPath:"var(--clip-path-squircle-stroke-48-36)"},"xl-top":{clipPath:"var(--clip-path-squircle-stroke-60-48)"},"xs-bottom":{clipPath:"var(--clip-path-squircle-stroke-12-16)"},"sm-bottom":{clipPath:"var(--clip-path-squircle-stroke-16-24)"},"md-bottom":{clipPath:"var(--clip-path-squircle-stroke-24-36)"},"lg-bottom":{clipPath:"var(--clip-path-squircle-stroke-36-48)"},"xl-bottom":{clipPath:"var(--clip-path-squircle-stroke-48-60)"}},iBe={"xs-default":{clipPath:"var(--clip-path-squircle-stroke-focused-16)"},"sm-default":{clipPath:"var(--clip-path-squircle-stroke-focused-24)"},"md-default":{clipPath:"var(--clip-path-squircle-stroke-focused-36)"},"lg-default":{clipPath:"var(--clip-path-squircle-stroke-focused-48)"},"xl-default":{clipPath:"var(--clip-path-squircle-stroke-focused-60)"},"xs-top":{clipPath:"var(--clip-path-squircle-stroke-focused-16-12)"},"sm-top":{clipPath:"var(--clip-path-squircle-stroke-focused-24-16)"},"md-top":{clipPath:"var(--clip-path-squircle-stroke-focused-36-24)"},"lg-top":{clipPath:"var(--clip-path-squircle-stroke-focused-48-36)"},"xl-top":{clipPath:"var(--clip-path-squircle-stroke-focused-60-48)"},"xs-bottom":{clipPath:"var(--clip-path-squircle-stroke-focused-12-16)"},"sm-bottom":{clipPath:"var(--clip-path-squircle-stroke-focused-16-24)"},"md-bottom":{clipPath:"var(--clip-path-squircle-stroke-focused-24-36)"},"lg-bottom":{clipPath:"var(--clip-path-squircle-stroke-focused-36-48)"},"xl-bottom":{clipPath:"var(--clip-path-squircle-stroke-focused-48-60)"}},PP={"xs-default":{borderTopLeftRadius:16,borderTopRightRadius:16,borderBottomLeftRadius:16,borderBottomRightRadius:16},"sm-default":{borderTopLeftRadius:24,borderTopRightRadius:24,borderBottomLeftRadius:24,borderBottomRightRadius:24},"md-default":{borderTopLeftRadius:36,borderTopRightRadius:36,borderBottomLeftRadius:36,borderBottomRightRadius:36},"lg-default":{borderTopLeftRadius:48,borderTopRightRadius:48,borderBottomLeftRadius:48,borderBottomRightRadius:48},"xl-default":{borderTopLeftRadius:60,borderTopRightRadius:60,borderBottomLeftRadius:60,borderBottomRightRadius:60},"xs-top":{borderTopLeftRadius:16,borderTopRightRadius:16,borderBottomLeftRadius:12,borderBottomRightRadius:12},"sm-top":{borderTopLeftRadius:24,borderTopRightRadius:24,borderBottomLeftRadius:16,borderBottomRightRadius:16},"md-top":{borderTopLeftRadius:36,borderTopRightRadius:36,borderBottomLeftRadius:24,borderBottomRightRadius:24},"lg-top":{borderTopLeftRadius:48,borderTopRightRadius:48,borderBottomLeftRadius:36,borderBottomRightRadius:36},"xl-top":{borderTopLeftRadius:60,borderTopRightRadius:60,borderBottomLeftRadius:48,borderBottomRightRadius:48},"xs-bottom":{borderTopLeftRadius:12,borderTopRightRadius:12,borderBottomLeftRadius:16,borderBottomRightRadius:16},"sm-bottom":{borderTopLeftRadius:16,borderTopRightRadius:16,borderBottomLeftRadius:24,borderBottomRightRadius:24},"md-bottom":{borderTopLeftRadius:24,borderTopRightRadius:24,borderBottomLeftRadius:36,borderBottomRightRadius:36},"lg-bottom":{borderTopLeftRadius:36,borderTopRightRadius:36,borderBottomLeftRadius:48,borderBottomRightRadius:48},"xl-bottom":{borderTopLeftRadius:48,borderTopRightRadius:48,borderBottomLeftRadius:60,borderBottomRightRadius:60}};function uv({className:t,style:e}){return y.jsx("div",{className:fe("animate-[shimmer_2s_infinite] bg-black/5 bg-gradient-to-r dark:bg-white/5","from-transparent via-background-150 to-transparent","bg-[length:50%_100%] bg-no-repeat",t),style:e})}function oBe(t){const{isImageOrVideo:e}=t;return y.jsx("div",{className:"flex flex-col gap-3 px-4",children:y.jsx(uv,{className:fe("w-full",e?"h-[144px] sm:h-[176px]":"h-[300px]"),style:{clipPath:"var(--clip-path-squircle-36)"}})})}function BV(t){const{type:e,length:n}=t;if(e==="ads")return y.jsx("div",{});const r=e==="image"||e==="video",i=r&&n===1;return y.jsx(Qx,{size:"md",stroke:!0,className:fe("relative flex",i?"w-[300px]":"w-full","flex-col py-3 transition-opacity duration-300 ease-in-out"),children:y.jsx(oBe,{isImageOrVideo:r})})}function pqe(t){if(t.type==="image")return t.images.length;if(t.type==="video")return t.videos.length}function YM(){return YM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YM.apply(null,arguments)}function sBe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var aBe=b.useLayoutEffect,cBe=function(e){var n=b.useRef(e);return aBe(function(){n.current=e}),n},VV=function(e,n){if(typeof e=="function"){e(n);return}e.current=n},lBe=function(e,n){var r=b.useRef();return b.useCallback(function(i){e.current=i,r.current&&VV(r.current,null),r.current=n,n&&VV(n,i)},[n])},HV={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},uBe=function(e){Object.keys(HV).forEach(function(n){e.style.setProperty(n,HV[n],"important")})},zV=uBe,$i=null,$V=function(e,n){var r=e.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function dBe(t,e,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),$i||($i=document.createElement("textarea"),$i.setAttribute("tabindex","-1"),$i.setAttribute("aria-hidden","true"),zV($i)),$i.parentNode===null&&document.body.appendChild($i);var i=t.paddingSize,o=t.borderSize,s=t.sizingStyle,a=s.boxSizing;Object.keys(s).forEach(function(m){var g=m;$i.style[g]=s[g]}),zV($i),$i.value=e;var c=$V($i,t);$i.value=e,c=$V($i,t),$i.value="x";var l=$i.scrollHeight-i,d=l*n;a==="border-box"&&(d=d+i+o),c=Math.max(d,c);var p=l*r;return a==="border-box"&&(p=p+i+o),c=Math.min(p,c),[c,l]}var WV=function(){},fBe=function(e,n){return e.reduce(function(r,i){return r[i]=n[i],r},{})},hBe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],pBe=!!document.documentElement.currentStyle,mBe=function(e){var n=window.getComputedStyle(e);if(n===null)return null;var r=fBe(hBe,n),i=r.boxSizing;if(i==="")return null;pBe&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var o=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),s=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:o,borderSize:s}},gBe=mBe;function hte(t,e,n){var r=cBe(n);b.useLayoutEffect(function(){var i=function(s){return r.current(s)};if(t)return t.addEventListener(e,i),function(){return t.removeEventListener(e,i)}},[])}var vBe=function(e){hte(window,"resize",e)},yBe=function(e){hte(document.fonts,"loadingdone",e)},bBe=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],CBe=function(e,n){var r=e.cacheMeasurements,i=e.maxRows,o=e.minRows,s=e.onChange,a=s===void 0?WV:s,c=e.onHeightChange,l=c===void 0?WV:c,d=sBe(e,bBe),p=d.value!==void 0,m=b.useRef(null),g=lBe(m,n),C=b.useRef(0),_=b.useRef(),S=function(){var I=m.current,A=r&&_.current?_.current:gBe(I);if(A){_.current=A;var k=dBe(A,I.value||I.placeholder||"x",o,i),R=k[0],M=k[1];C.current!==R&&(C.current=R,I.style.setProperty("height",R+"px","important"),l(R,{rowHeight:M}))}},w=function(I){p||S(),a(I)};return b.useLayoutEffect(S),vBe(S),yBe(S),b.createElement("textarea",YM({},d,{onChange:w,ref:g}))},_Be=b.forwardRef(CBe);const wBe=/@([^@]*)$/;function SBe(t){const e=wBe.exec(t);return e?e[1]??"":void 0}function EBe(t){const{className:e,textAreaRef:n,onMentionChange:r,textAreaValue:i}=t,[o,s]=b.useState(void 0),{t:a}=pt(),c=b.useRef(!1),l=b.useRef(r);b.useEffect(()=>{l.current=r},[r]);const d=b.useCallback(()=>{const m=n==null?void 0:n.current;if(!m)return;const g=m.selectionStart,C=m.selectionEnd;if(g===C){const _=i.slice(0,g),S=SBe(_);s(S!==void 0?w=>w!==S?S:w:void 0)}},[n,i]);b.useEffect(()=>{i===""?s(void 0):d()},[d,i,s]),b.useEffect(()=>{var m,g;if(!c.current){c.current=!0;return}o!==void 0?(m=l.current)==null||m.call(l,{isTrigger:!0,keyword:o}):(g=l.current)==null||g.call(l,{isTrigger:!1})},[o,l]);const p=o==="";return y.jsxs("div",{className:fe("pointer-events-none absolute z-0",e),children:[y.jsx("span",{className:"select-none whitespace-pre-wrap break-words",children:i}),p&&y.jsx("span",{className:"text-foreground-550 dark:text-foreground-600",children:a("userInput.mentionPlaceholderText")})]})}function TBe(t,e){const n=b.useCallback(async r=>{r.key==="Enter"&&!r.shiftKey&&!e&&await t(r)},[t,e]);Md(n)}function IBe(t,e,n){const r=b.useRef(!1),i=b.useCallback(()=>{r.current=!0},[]),o=b.useCallback(()=>{setTimeout(()=>{r.current=!1},100)},[]);return TBe(async s=>{var a;(a=t.current)!=null&&a.contains(document.activeElement)&&!r.current&&(s.preventDefault(),await e())},n),{handleCompositionStart:i,handleCompositionEnd:o}}function QM(t){var e,n;return(n=(e=Qe.instance().config().styleOverrides)==null?void 0:e.typography)==null?void 0:n[t]}function oC(t){var e,n;return(n=(e=Qe.instance().config().styleOverrides)==null?void 0:e.padding)==null?void 0:n[t]}const xBe="pointer-events-none cursor-not-allowed select-none opacity-40 shadow-none",ABe=.25,pte="userInput",j3=b.forwardRef((t,e)=>{const{t:n}=pt(),{inputValue:r,errorMessage:i,className:o,characterLimit:s,characterLimitErrorMessage:a,disabled:c,placeholder:l=n("userInput.placeholderText"),autoFocus:d=!0,testId:p,setInput:m,setError:g,onBlur:C,onChange:_,onFocus:S,onClick:w,onEnter:T,onKeyDown:I,onMentionIfEnabled:A,rightButtons:k,isMultiLines:R,"aria-autocomplete":M,"aria-controls":P}=t,N=Wn(),{isCentralComposerEnabled:D}=qx(),G=b.useRef(null),U=b.useRef(null),W=N3()||Qe.instance().config().enterKeyButtonEnabled,$=n("userInput.characterLimitText",{maxCharacters:s.toString()});b.useEffect(()=>{var K;W&&((K=U.current)==null||K.focus())},[N,W]);const L=b.useCallback(K=>{const{value:z}=K.target;m(z),_&&_(z),z.length>s?g(a??$):g(null)},[m,_,s,g,a,$]);b.useImperativeHandle(e,()=>({updateInputValue:K=>{const z=K(r);m(z)},focus:()=>{var K;(K=U.current)==null||K.focus()},blur:()=>{var K;(K=U.current)==null||K.blur()},contains:K=>{var z;return((z=U.current)==null?void 0:z.contains(K))??!1},updateSelectionRange:(K,z)=>{var H;(H=U.current)==null||H.setSelectionRange(K,z)}}),[r,m]),Md(K=>{var z,H;K.key==="Escape"&&((z=G.current)!=null&&z.contains(document.activeElement))&&((H=U.current)==null||H.blur()),I==null||I(K)});const B=b.useCallback(K=>{(K.clipboardData.getData("text/plain")||"").length>0&&K.stopPropagation()},[]),{handleCompositionStart:j,handleCompositionEnd:V}=IBe(G,T,!W);return y.jsxs(ct.div,{className:fe("flex grow items-end",c&&xBe,o),onClick:()=>{var K;w==null||w(),(K=U.current)==null||K.focus()},ref:G,onBlur:K=>C==null?void 0:C(K),layout:"preserve-aspect",children:[y.jsx(ct.div,{className:"relative grow overflow-hidden",layout:!0,children:y.jsx(ct.div,{className:"relative flex size-full cursor-text overflow-hidden text-black dark:text-white",layout:!0,children:y.jsxs(ct.div,{className:"flex grow flex-col gap-4 py-user-input",layout:!0,transition:{duration:0},children:[y.jsx("div",{className:fe("overflow-y-auto px-4",D?"max-h-[25dvh]":"max-h-dvh-0.5",Qe.instance().config().showScrollbarOnHover?"scrollbar-container":""),children:y.jsxs("div",{className:"relative",children:[y.jsx("label",{className:fe(["invisible block h-0",{"whitespace-nowrap":!R}]),htmlFor:"userInput",children:l}),y.jsx(_Be,{className:fe("font-ligatures-none inline-block min-h-user-input w-full resize-none overflow-y-hidden whitespace-pre-wrap bg-transparent align-top text-black outline-none placeholder:text-foreground-450 dark:text-white dark:placeholder:text-foreground-600",QM("composer")??"text-base",oC("composerVertical")),disabled:c,placeholder:l,ref:U,id:pte,role:"textbox","aria-autocomplete":M,"aria-controls":P,spellCheck:!1,value:r,enterKeyHint:"enter",onChange:L,onFocus:()=>S==null?void 0:S(r),onCompositionStart:j,onCompositionEnd:V,onPaste:B,autoFocus:d,"data-testid":p}),A&&y.jsx(EBe,{className:fe("font-ligatures-none inline-block min-h-user-input w-full resize-none overflow-y-hidden whitespace-pre-wrap bg-transparent align-top text-black outline-none placeholder:text-foreground-450 dark:text-white dark:placeholder:text-foreground-600",QM("composer")??"text-base",oC("composerVertical"),"inset-0"),textAreaRef:U,textAreaValue:r,onMentionChange:A})]})}),i&&y.jsx("div",{className:"flex min-h-6 select-none items-center px-4 text-foreground-600 text-xs",children:i})]})})}),y.jsx(ct.div,{className:fe("relative bottom-0 my-1.5 flex h-9 items-center",k!=null&&k.length?"mx-1.5 w-auto gap-1":"w-0"),children:k==null?void 0:k.map((K,z)=>y.jsx(Rr,{children:y.jsx(ct.div,{initial:Vt,animate:{...Rn,transition:{delay:ABe}},transition:{duration:zs.default},children:K})},z))})]})});j3.displayName="UserInput";const kBe=t=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"none",...t},b.createElement("path",{d:"M10 6.5V2H5.5C4.67157 2 4 2.67157 4 3.5V16.5C4 17.3284 4.67157 18 5.5 18H14.5C15.3284 18 16 17.3284 16 16.5V8H11.5C10.6716 8 10 7.32843 10 6.5ZM6.5 10H13.5C13.7761 10 14 10.2239 14 10.5C14 10.7761 13.7761 11 13.5 11H6.5C6.22386 11 6 10.7761 6 10.5C6 10.2239 6.22386 10 6.5 10ZM6.5 12H13.5C13.7761 12 14 12.2239 14 12.5C14 12.7761 13.7761 13 13.5 13H6.5C6.22386 13 6 12.7761 6 12.5C6 12.2239 6.22386 12 6.5 12ZM6.5 14H13.5C13.7761 14 14 14.2239 14 14.5C14 14.7761 13.7761 15 13.5 15H6.5C6.22386 15 6 14.7761 6 14.5C6 14.2239 6.22386 14 6.5 14ZM11 6.5V2.25L15.75 7H11.5C11.2239 7 11 6.77614 11 6.5Z",fill:"currentColor"})),RBe=t=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",...t},b.createElement("path",{d:"M12 2V8C12 9.10457 12.8954 10 14 10H20V20C20 21.1046 19.1046 22 18 22H6C4.89543 22 4 21.1046 4 20V4C4 2.89543 4.89543 2 6 2H12ZM13.5 2.5V8C13.5 8.27614 13.7239 8.5 14 8.5H19.5L13.5 2.5Z",fill:"currentColor"})),PBe="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/pdf-DuUY2RJ0.svg",OBe=t=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"none",...t},b.createElement("path",{d:"M3 2.5C3 2.22386 3.22386 2 3.5 2H11.5C11.7761 2 12 2.22386 12 2.5V4.5C12 4.77614 11.7761 5 11.5 5C11.2238 5 11 4.77614 11 4.5V3H7.99997L7.99998 13H9C9.27614 13 9.5 13.2239 9.5 13.5C9.5 13.7761 9.27614 14 9 14H6C5.72386 14 5.5 13.7761 5.5 13.5C5.5 13.2239 5.72386 13 6 13H6.99998L6.99997 3H4V4.5C4 4.77614 3.77614 5 3.5 5C3.22386 5 3 4.77614 3 4.5V2.5Z",fill:"currentColor"})),NBe=b.lazy(()=>de(()=>Promise.resolve().then(()=>vee),void 0));function mte(t){const{onRemove:e,filename:n,fileType:r,isUploading:i}=t,{t:o}=pt();let s=y.jsx(RBe,{className:"size-5"}),a=null,c="bg-neutral-300";switch(r){case"application/pdf":c="bg-system-red-350",s=y.jsx(xo,{url:PBe,className:"size-5"}),a=o("fileUpload.fileTypeDisplayPdf");break;case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":c="bg-midnight-300",s=y.jsx(kBe,{className:"size-5"}),a=o("fileUpload.fileTypeDisplayDoc");break;case"text/plain":c="bg-spot-blue-300",s=y.jsx(OBe,{className:"size-5"}),a=o("fileUpload.fileTypeDisplayTxt");break;case"application/json":a=o("fileUpload.fileTypeDisplayJson");break;case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":a=o("fileUpload.fileTypeDisplayXlsx");break;case"application/vnd.openxmlformats-officedocument.presentationml.presentation":a=o("fileUpload.fileTypeDisplayPptx");break;case"text/csv":a=o("fileUpload.fileTypeDisplayCsv");break;case"text/markdown":a=o("fileUpload.fileTypeDisplayMarkdown");break;default:a=o("fileUpload.fileTypeDisplayDefault");break}return y.jsxs(ct.div,{className:"relative flex h-32 w-44 flex-col justify-center gap-2 overflow-hidden rounded-xl border border-black/8 bg-white/90 p-3 dark:border-white/8 dark:bg-midnight-800/80 sm:w-56",layout:"position",initial:Vt,animate:Rn,exit:Vt,children:[y.jsx("div",{className:fe("grid aspect-square size-8 place-items-center self-start rounded-full text-black",c),children:s}),y.jsxs("div",{children:[y.jsx("p",{className:"font-ligatures-none truncate text-xs",children:n}),y.jsx("p",{className:"text-foreground-600 text-2xs",children:a})]}),e&&!i&&y.jsx("button",{type:"button",title:o("fileUpload.removeFile"),"aria-label":o("fileUpload.removeFile"),onClick:e,className:"absolute end-0.5 top-0.5 m-1 rounded-full p-1 text-foreground-850",children:y.jsx(Hs,{className:"size-3"})}),y.jsx(_i,{className:"absolute inset-0 grid place-items-center bg-white/80 dark:bg-white/45",children:i?y.jsxs(y.Fragment,{children:[y.jsx(b.Suspense,{fallback:y.jsx("div",{"aria-hidden":!0}),children:y.jsx(NBe,{type:"spinnerThemed",className:"size-11"})}),y.jsx(Wv,{msg:o("fileUpload.uploadingFile"),type:"polite"})]}):null})]})}function MBe(t){const{uploadedFile:e,onRemove:n}=t,{t:r}=pt(),[i,o]=b.useState(null),[s,a]=b.useState(!1),c=oe(Fv),l=(c==null?void 0:c.scenario)==="screenshot"?r("composer.screenshotAdded"):r("composer.uploadedImageAltText");b.useEffect(()=>{const p=URL.createObjectURL(e);return a(!1),o(p),()=>{URL.revokeObjectURL(p)}},[e]);const d=p=>{a(!0),p.target instanceof HTMLImageElement&&URL.revokeObjectURL(p.target.src)};return i?y.jsxs(ct.div,{className:"relative h-32 max-w-fit shrink-0",layout:"position",initial:Vt,animate:s?Rn:Vt,exit:Vt,transition:{delay:cJ},children:[y.jsx(ct.img,{className:"h-32 w-auto rounded-xl border border-black/8 object-contain shadow-inner dark:border-white/8",src:i,role:"img","aria-label":l,alt:l,onLoad:d,onError:d}),y.jsx(Wv,{msg:l}),y.jsx(ct.button,{type:"button",title:r("composer.removeImage"),"aria-label":r("composer.removeImage"),onClick:n,className:"absolute end-0.5 top-0.5 m-1 rounded-full border border-black/20 bg-white fill-black p-1 text-black",children:y.jsx(Hs,{className:"size-3"})})]}):null}function LBe(t){const{attachment:e,onRemove:n,isUploading:r}=t,i=Nc(e);return qC(i)?y.jsx(mte,{onRemove:n,filename:e.name,fileType:i,isUploading:r}):y.jsx(MBe,{uploadedFile:e,onRemove:n})}function DBe(t){const{text:e,onClick:n,className:r,testId:i}=t;return y.jsx(lt,{title:"",onClick:n,className:En("min-w-fit",r),color:"chip",testId:i,children:y.jsx("span",{className:"px-1",children:e})})}function jBe(t){var d;const{className:e,onWidgetClick:n,pageName:r="chatPage"}=t,i=b.useRef(null),o=Q2(i,{once:!0,amount:"all"}),s=oe(Ov),a=(s==null?void 0:s.source)??"chatStarterPills",c=(d=Qe.instance().config().landingPage)==null?void 0:d.stackStarterChipsForSmallScreens;b.useEffect(()=>{o&&Mv({page:r,scenario:a,element:"chatStarterPills"})},[o,a,r]);const l=p=>{const{prompt:m,id:g,actionType:C,uri:_,source:S}=p;Yt({pageName:r,source:a,scenario:g}),n({actionType:C,id:g,prompt:m,uri:_,source:S})};return!s||!["text","textAndGreeting"].includes(s.type)?null:y.jsx("div",{role:"list","aria-label":"",className:En("mx-auto flex w-full gap-2 p-2 sm:flex-wrap sm:justify-start sm:p-4",c?"mb-1 flex-col items-end space-y-1 sm:flex-row":"scrollbar-container max-h-[110px] overflow-x-auto overflow-y-hidden",e),ref:i,children:s.items.map(p=>{const{id:m,text:g}=p,{type:C}=p.action,_="prompt"in p.action?p.action.prompt:void 0,S="uri"in p.action?p.action.uri:void 0;switch(s.type){case"text":case"textAndGreeting":return y.jsx(DBe,{text:g,onClick:()=>l({prompt:_,uri:S,id:m,actionType:C,source:"pills"}),className:fe(c&&"w-auto min-w-min max-w-[80%] text-start"),testId:`starter-prompt-${m}`},m);default:return null}})})}function FBe(t){const{imgAlt:e,imgSrc:n,text:r,className:i,onClick:o,fetchPriority:s}=t,[a,c]=b.useState(!1);return y.jsx("div",{className:"aspect-[155/190] w-full min-w-[100px] max-w-full sm:w-[155px] sm:min-w-[120px] sm:max-w-[155px]",children:y.jsxs("button",{className:En("relative flex h-full w-full flex-col items-center gap-2 rounded-lg bg-white p-2 shadow-md transition-all duration-[400ms] ease-[cubic-bezier(0,0,0,1)] hover:scale-[1.025] hover:shadow-lg dark:bg-slate-700",i),onClick:o,type:"button",children:[!a&&y.jsx(uv,{className:"aspect-square w-full rounded-md"}),y.jsx("img",{className:En("aspect-square w-full rounded-md object-cover",a?"opacity-100":"opacity-0"),src:n,alt:e,onLoad:()=>c(!0),onError:()=>c(!1),fetchPriority:s}),y.jsx("div",{className:"flex w-full flex-1 items-center justify-center px-2",children:y.jsx("p",{className:"truncate text-center text-xs-strong",children:r})})]})})}function KV(t){const{className:e,text:n,imgSrc:r,imgAlt:i,variant:o,onClick:s,fetchPriority:a}=t,[c,l]=b.useState(!1);return y.jsx("div",{className:En("max-w-full drop-shadow-md transition-shadow hover:drop-shadow-lg sm:min-w-[120px]",o==="kickstarter"&&"aspect-[166/200] w-[166px] sm:max-w-[166px]",o==="feature-discovery"&&"aspect-[155/200] w-[155px] sm:max-w-[155px]"),children:y.jsxs(Qx,{interactable:!0,stroke:!0,onClick:s,className:En("relative h-full w-full transition-transform duration-[400ms] ease-[cubic-bezier(0,0,0,1)] hover:scale-[1.025]",e),children:[!c&&y.jsx(uv,{className:"absolute size-full"}),y.jsx("img",{src:r,alt:i,className:En("absolute size-full object-cover",c?"opacity-100":"opacity-0"),onLoad:()=>l(!0),onError:()=>l(!1),fetchPriority:a}),c&&y.jsx("div",{className:"absolute z-10 flex size-full flex-col px-4 py-5",children:y.jsx("p",{className:fe("mt-auto line-clamp-2 overflow-hidden text-center text-xs-strong",o==="feature-discovery"&&"text-white/80",o==="kickstarter"&&"text-white"),children:n})})]})})}const UBe={deepLink:"deepLink",prefillComposer:"chatBox",sendMessage:"chat"};function BBe(t){const{className:e,onWidgetClick:n}=t,r=gi({breakpoint:"md"}),i=Po(),o=oe(Od),s=i&&o&&!r,a=b.useRef(null),c=oe(Ov),l=Q2(a,{once:!0,amount:"all"});b.useEffect(()=>{l&&c&&Mv({page:"chatPage",scenario:"widgets",element:c.id,customData:JSON.stringify({visibleItems:c.items.map(m=>m.id)})})},[l,c]);const d=m=>{const{prompt:g,id:C,actionType:_,uri:S,widgetName:w,source:T}=m,I=_==="deepLink"?JSON.stringify({uri:S}):void 0;Yt({pageName:"chatPage",sectionName:"widgets",scenario:w,source:C,destination:UBe[_],customData:I}),n({actionType:_,id:C,prompt:g,uri:S,source:T})},p=m=>{const g=new URL(m);return g.searchParams.set("o","7"),g.searchParams.set("rm","3"),g.toString()};return!c||c.type!=="textAndImage"?null:y.jsx("div",{className:En("grid w-full grid-cols-2 gap-6 px-2 sm:flex sm:items-center",s&&"scrollbar-container justify-start overflow-x-auto bp-960:justify-center bp-960:overflow-x-hidden",!s&&"sm:justify-center",e),ref:a,children:c.items.map((m,g)=>{const{id:C,text:_}=m,{type:S}=m.action,w="prompt"in m.action?m.action.prompt:void 0,T="uri"in m.action?m.action.uri:void 0,{altText:I,url:A}=m.thumbnail,k={actionType:S,id:C,prompt:w,uri:T,widgetName:c.id,source:"widgets"},R=g%2===0?"-rotate-2 hover:rotate-0":"rotate-2 hover:rotate-0";switch(c.id){case"kickstarter":return y.jsx(KV,{text:_,imgSrc:p(A),imgAlt:I,variant:"kickstarter",onClick:()=>d(k),className:R,fetchPriority:"high"},C);case"feature-discovery":return y.jsx(KV,{text:_,imgSrc:p(A),imgAlt:I,variant:"feature-discovery",onClick:()=>d(k),className:R,fetchPriority:"high"},C);case"image-generation":return y.jsx(FBe,{text:_,imgSrc:p(A),imgAlt:I,className:R,onClick:()=>d(k),fetchPriority:"high"},C);default:return null}})})}const gte=t=>b.createElement("svg",{viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...t},b.createElement("path",{d:"M11.7498 3C12.1295 3 12.4434 3.28201 12.4931 3.64808L12.5 3.74985L12.5012 11H19.7543C20.1685 11 20.5043 11.3358 20.5043 11.75C20.5043 12.1297 20.2221 12.4435 19.8561 12.4932L19.7543 12.5H12.5012L12.5032 19.7491C12.5033 20.1633 12.1676 20.4993 11.7534 20.4993C11.3737 20.4993 11.0598 20.2173 11.0101 19.8512L11.0032 19.7494L11.0012 12.5H3.7522C3.33798 12.5 3.0022 12.1642 3.0022 11.75C3.0022 11.3703 3.28435 11.0565 3.65043 11.0068L3.7522 11H11.0012L11 3.75015C10.9999 3.33594 11.3356 3 11.7498 3Z"})),mqe=Object.freeze(Object.defineProperty({__proto__:null,default:gte},Symbol.toStringTag,{value:"Module"}));function VBe({onRef:t,onClick:e}){const{t:n}=pt();return y.jsx(Xu,{data:{title:n("common.open"),testId:"plus-button",isVisible:!0,onClick:e},ref:t,children:y.jsx(gte,{className:"size-6","aria-hidden":!0})})}const vte=t=>b.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.92188 11.8237H19.4529C19.4529 11.8237 19.4529 9.89366 19.4529 9.6831C18.6246 6.41578 15.6854 4 12.1862 4C9.56739 4 7.26337 5.35396 5.92188 7.4044C5.92188 8.82754 5.92188 11.8237 5.92188 11.8237Z",fill:"#0364B8"}),b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.15227 8.30349L9.15203 8.30431C8.23597 7.73294 7.1565 7.40234 6.00013 7.40234C5.97439 7.40234 5.94909 7.404 5.92344 7.40431C2.64519 7.44587 0 10.1364 0 13.4511C0 14.7371 0.399257 15.9285 1.07801 16.9086H14.1906V11.3459L9.15227 8.30349Z",fill:"#0078D4"}),b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.4514 9.68327C19.3425 9.67596 19.233 9.6709 19.1223 9.6709C18.4357 9.6709 17.7825 9.81469 17.1899 10.073L14.1875 11.3461V16.9176H23.4143C23.7861 16.2237 23.9974 15.4296 23.9974 14.5855C23.9974 11.9828 21.9902 9.85405 19.4514 9.68327Z",fill:"#1490DF"}),b.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.1602 14.3467L17.9151 13.5949L15.0613 11.8716L14.1907 11.3459L11.8941 12.3202L7.49635 14.1859L5.52123 15.0238L1.07812 16.9087C2.16256 18.4747 3.96212 19.5 6.00025 19.5H19.1255C20.9807 19.5 22.5937 18.4551 23.4175 16.9175L19.1602 14.3467Z",fill:"#28A8EA"})),gqe=Object.freeze(Object.defineProperty({__proto__:null,default:vte},Symbol.toStringTag,{value:"Module"})),F3=t=>b.createElement("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},b.createElement("g",null,b.createElement("path",{id:"Shape",d:"M11.7717 3.74212C14.1132 1.39853 17.9121 1.39853 20.2553 3.74168C22.5384 6.02474 22.5969 9.68995 20.4309 12.0439L20.2428 12.2413L11.4427 21.0395L11.4062 21.0697C9.94492 22.3865 7.69092 22.3417 6.28355 20.9344C4.96453 19.6153 4.84241 17.5527 5.9172 16.096C5.94054 16.0506 5.96879 16.0068 6.002 15.9657L6.05556 15.9061L6.14247 15.8183L6.28355 15.6704L6.28647 15.6733L13.7222 8.21901C13.9881 7.95239 14.4047 7.92763 14.6986 8.14509L14.7829 8.2176C15.0495 8.48351 15.0742 8.90014 14.8568 9.19404L14.7843 9.27826L7.18966 16.8913C6.47202 17.7669 6.5219 19.0612 7.3393 19.8786C8.16836 20.7077 9.48801 20.7472 10.3638 19.997L19.1965 11.1666C20.952 9.40894 20.952 6.5597 19.1946 4.80234C17.4922 3.0999 14.765 3.0467 12.9986 4.64274L12.8307 4.80234L12.8181 4.81665L3.28179 14.353C2.9889 14.6459 2.51403 14.6459 2.22113 14.353C1.95487 14.0867 1.93066 13.67 2.14852 13.3764L2.22113 13.2923L11.77 3.74168L11.7717 3.74212Z",fill:"currentColor"}))),vqe=Object.freeze(Object.defineProperty({__proto__:null,default:F3},Symbol.toStringTag,{value:"Module"})),yte=t=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",...t},b.createElement("path",{fill:"currentColor",d:"M6.3 3A3.2 3.2 0 0 0 3 6.3v11.4C3 19.6 4.5 21 6.3 21h11.4c1.8 0 3.3-1.5 3.3-3.3V6.3C21 4.5 19.5 3 17.7 3H6.3ZM4.5 6.3c0-1 .8-1.8 1.8-1.8h11.4c1 0 1.8.8 1.8 1.8v11.4c0 1-.8 1.8-1.8 1.8H6.3c-1 0-1.8-.8-1.8-1.8V6.3ZM8 7.5c-.3 0-.5.2-.5.5v2.3a.8.8 0 0 1-1.5 0V8c0-1.1.9-2 2-2h2.3a.8.8 0 0 1 0 1.5H8Zm0 9a.5.5 0 0 1-.5-.5v-2.3a.8.8 0 0 0-1.5 0V16c0 1.1.9 2 2 2h2.3a.8.8 0 0 0 0-1.5H8ZM16.5 8c0-.3-.2-.5-.5-.5h-2.3a.8.8 0 0 1 0-1.5H16a2 2 0 0 1 2 2v2.3a.8.8 0 0 1-1.5 0V8Zm-.5 8.5c.3 0 .5-.2.5-.5v-2.3a.8.8 0 0 1 1.5 0V16a2 2 0 0 1-2 2h-2.3a.8.8 0 0 1 0-1.5H16Z"})),yqe=Object.freeze(Object.defineProperty({__proto__:null,default:yte},Symbol.toStringTag,{value:"Module"})),bte=t=>b.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t},b.createElement("path",{d:"M3 5.75A2.75 2.75 0 0 1 5.75 3h12.5A2.75 2.75 0 0 1 21 5.75v6.272a6.471 6.471 0 0 0-1.5-.709V5.75c0-.69-.56-1.25-1.25-1.25H5.75c-.69 0-1.25.56-1.25 1.25v12.5c0 .69.56 1.25 1.25 1.25h5.563c.173.534.412 1.037.709 1.5H5.75A2.75 2.75 0 0 1 3 18.25V5.75ZM23 17.5a5.5 5.5 0 1 0-11 0 5.5 5.5 0 0 0 11 0Zm-5 .5.001 2.503a.5.5 0 1 1-1 0V18h-2.505a.5.5 0 0 1 0-1H17v-2.5a.5.5 0 1 1 1 0V17h2.497a.5.5 0 0 1 0 1H18Z"})),bqe=Object.freeze(Object.defineProperty({__proto__:null,default:bte},Symbol.toStringTag,{value:"Module"})),nb=fe("flex w-full flex-row items-center gap-2");function HBe(t){const{startNewChatDisabled:e,startNewConversation:n,selectFile:r,selectOneDriveFile:i,takeScreenshot:o,selectUserOpenedTabs:s}=t,a=b.useRef(null),{t:c}=pt(),l=oe(Tv),d=oe(sn),p=b.useRef(void 0);return $v(a),b.useEffect(()=>{o&&p.current!==d&&KFe(d)},[d,o]),y.jsxs("div",{className:"pointer-events-auto relative flex flex-col rounded-2xl contrast-more:border-2","data-testid":"composer-plus-menu",role:"menu",children:[y.jsx(lt,{role:"menuitem",variant:"rect",color:"subtle-dimmed-inverted",className:"ps-3.5",title:c("composer.startNewChat"),onClick:n,testId:"new-chat-button",ref:a,disabled:e,children:y.jsxs("div",{className:nb,children:[y.jsx(Vx,{className:"size-5"}),c("composer.startNewChatShort")]})}),r&&!l&&y.jsx(lt,{role:"menuitem",variant:"rect",color:"subtle-dimmed-inverted",title:c("composer.upload"),testId:"file-upload-button",onClick:m=>{m.preventDefault(),r()},children:y.jsxs("div",{className:nb,children:[y.jsx(F3,{className:"size-6"})," ",c("composer.upload")]})}),o&&y.jsx(lt,{role:"menuitem",variant:"rect",color:"subtle-dimmed-inverted",title:c("composer.takeScreenshot"),onClick:m=>{m.preventDefault(),m.stopPropagation(),o(),QFe(d)},children:y.jsxs("div",{className:nb,children:[y.jsx(yte,{className:"size-6"}),c("composer.takeScreenshotShort")]})}),i&&y.jsx(lt,{role:"menuitem",variant:"rect",color:"subtle-dimmed-inverted",title:c("composer.addFromOneDrive"),onClick:m=>{m.preventDefault(),m.stopPropagation(),i()},children:y.jsxs("div",{className:nb,children:[y.jsx(vte,{className:"size-6"}),c("composer.addFromOneDrive")]})}),s&&y.jsx(lt,{role:"menuitem",variant:"rect",color:"subtle-dimmed-inverted",title:c("composer.multiTabs.addTab"),onClick:m=>{m.preventDefault(),m.stopPropagation(),s()},children:y.jsxs("div",{className:nb,children:[y.jsx(bte,{className:"size-6"}),c("composer.multiTabs.addTab")]})})]})}function zBe(){const[t,e]=b.useState(!1);return b.useEffect(()=>{async function n(){const{uiOverrides:{showScreenshotButton:r=()=>Promise.resolve(!1)}={}}=Qe.instance().config(),i=await r();e(i)}n().catch(()=>{})},[]),t}function $Be({startNewChatDisabled:t,onStartNewConversation:e,onSelectFileIfEnabled:n,onSelectOneDriveFileIfEnabled:r,onTakeScreenshot:i,onSelectUserOpenedTabsIfEnabled:o}){const[s,a]=Lt(D5),c=zBe();return y.jsx(a3,{isOpen:s==="plus",onIsOpenChange:l=>a(d=>l?"plus":d==="plus"?null:d),renderTrigger:l=>y.jsx(VBe,{onRef:l.ref,onClick:l.onClick}),options:{placement:"top-start",offset:{mainAxis:10,crossAxis:-12},hideOnMenuClick:!0},className:En(kc,"p-2"),children:y.jsx(HBe,{startNewChatDisabled:t,startNewConversation:e,selectFile:n,selectOneDriveFile:r,takeScreenshot:c?i:void 0,selectUserOpenedTabs:o})})}function WBe(t){return t.map(e=>{if(e.author==="human"||!e.content.find(a=>a.type==="citation"))return e;const r=e.content.find(a=>a.type==="text");if(!r)return e;const i=e.content.filter(a=>a.type==="citation").sort((a,c)=>a.position-c.position),{text:o,citationMetadata:s}=KBe(r.text,i);return r.text=o,r.citations=s,e})}function KBe(t,e){if(!e)return{text:t,citationMetadata:[]};let n=t;const r=[];let i=0;const o=new Map;for(const a of e){const c=a.url;if(!o.has(c)){i+=1;const l=`${i}`;o.set(c,l),r.push({index:l,title:a.title,url:a.url,iconUrl:a.iconUrl??null,publisher:a.publisher??null})}}const s=e.slice().reverse();for(const a of s){const c=a.url,l=o.get(c);l!==void 0&&(n=ode(n,cee(l,a.url),a.position))}return{text:n,citationMetadata:r}}function Cte(){const t=d3(),e=oe(sn),n=oe(pD),r=b.useCallback(async({url:o,args:s,conversationId:a})=>{const c=await ci(o,UY,{query:s,analytics:{anonymousPath:"/conversations/*/history"},parseOptions:{safe:!0}}).then(l=>l.data);return c.results.length>0&&(c.results=WBe(c.results),t(a,l=>{var d;l.length===0&&GBe((d=c.results.at(0))==null?void 0:d.createdAt),c.results.reverse(),l.unshift(...c.results)})),c},[t]);return i3(r,(o,s)=>{if(!e||n||!(s!=null&&s.next)&&o>0)return null;const a={url:`/conversations/${e}/history`,conversationId:e};return s!=null&&s.next&&(a.args={cursor:s.next}),a})}function GBe(t){try{const e=cn(Zs),n=e==null?void 0:e.updatedAt;if(!t||!n)return;const r=new Date(n),i=new Date(t);(r.getTime()-i.getTime())/1e3/60>1&&he.trackEvent({name:"system",data:{eventName:"historyUpdatedAtDiscrepancy",eventInfo_conversationId:e.id,eventInfo_conversationUpdatedAt:n,eventInfo_lastMessageCreatedAt:t}})}catch{}}function qBe(){const t=b.useRef(0),e=b.useRef(0),n=b.useRef(0),r=b.useRef(0),i=b.useRef(0),o=b.useRef(0),s=b.useRef(""),a=b.useRef(""),c=b.useRef(!1),l=b.useRef(!1),d=b.useRef(!1),p=b.useRef(!1),m=b.useRef(!1),g=b.useRef(void 0),C=b.useCallback(U=>{t.current=performance.now(),g.current=U?"appearance":void 0},[]),_=b.useCallback(U=>{i.current=0,o.current=0,c.current=!1,e.current=performance.now(),s.current=U,he.trackEvent({name:"interaction",data:{eventName:"copilotCompose",eventInfo_conversationId:s.current,eventInfo_inputMethod:"voice",eventInfo_landingPage:he.getLandingPage(),eventInfo_scenario:g.current}}),he.trackEvent({name:"interaction",data:{eventName:"audioStartSent",eventInfo_conversationId:s.current,eventInfo_duration:e.current-t.current,eventInfo_scenario:g.current}})},[]),S=b.useCallback(U=>{l.current=!1,d.current=!1,p.current=!1,m.current=!1,a.current=U,n.current=performance.now(),mT.onStartMessage(U,n.current),o.current&&he.trackEvent({name:"system",data:{eventName:"copilotAudioReqtoResp",eventInfo_conversationId:s.current,eventInfo_messageId:a.current,eventInfo_duration:n.current-o.current,eventInfo_scenario:g.current}}),he.trackEvent({name:"system",data:{eventName:"copilotAudioStartMessage",eventInfo_conversationId:s.current,eventInfo_messageId:a.current,eventInfo_scenario:g.current,eventInfo_firstTurn:!c.current}})},[]),w=b.useCallback(()=>{i.current=performance.now()},[]),T=b.useCallback(()=>{!c.current||!a.current||(r.current=performance.now(),l.current||(l.current=!0,n.current&&he.trackEvent({name:"system",data:{eventName:"copilotAudioResptoReceived",eventInfo_conversationId:s.current,eventInfo_messageId:a.current,eventInfo_duration:r.current-n.current,eventInfo_scenario:g.current}}),o.current&&he.trackEvent({name:"system",data:{eventName:"copilotAudioFirstTokenReceived",eventInfo_conversationId:s.current,eventInfo_messageId:a.current,eventInfo_duration:r.current-o.current,eventInfo_scenario:g.current}})))},[]),I=b.useCallback(()=>{o.current=performance.now(),mT.onSpeechEndDetected(o.current),i.current&&he.trackEvent({name:"system",data:{eventName:"copilotAudioInput",eventInfo_conversationId:s.current,eventInfo_duration:o.current-i.current,eventInfo_scenario:g.current}})},[]),A=b.useCallback(()=>{p.current||(p.current=!0,he.trackEvent({name:"system",data:{eventName:"copilotAudioCharacterAnimationReceived",eventInfo_conversationId:s.current,eventInfo_duration:performance.now()-o.current,eventInfo_messageId:a.current,eventInfo_scenario:g.current}}))},[]),k=b.useCallback(U=>{const{messageId:W,voiceType:$}=U;if(!c.current){c.current=!0,he.trackEvent({name:"system",data:{eventName:"copilotAudioCallSetUp",eventInfo_duration:performance.now()-t.current,eventInfo_conversationId:s.current,eventInfo_responseVoiceType:$,eventInfo_scenario:g.current}});return}!d.current&&W===a.current&&(d.current=!0,o.current&&he.trackEvent({name:"system",data:{eventName:"copilotAudioLastTokenReceived",eventInfo_conversationId:s.current,eventInfo_messageId:W,eventInfo_duration:r.current-o.current,eventInfo_scenario:g.current}}),he.trackEvent({name:"system",data:{eventName:"copilotResponseRender",eventInfo_inputMethod:"voice",eventInfo_responseMethod:"voice",eventInfo_conversationId:s.current,eventInfo_messageId:a.current,eventInfo_responseVoiceType:$,eventInfo_landingPage:he.getLandingPage(),eventInfo_scenario:g.current}}))},[]),R=b.useCallback(U=>{const W=performance.now()-e.current;he.trackEvent({name:"system",data:{eventName:"copilotAudioCallEnd",eventInfo_conversationId:s.current,eventInfo_duration:W,eventInfo_numMessages:U,eventInfo_scenario:g.current}})},[]),M=b.useCallback(U=>{he.trackEvent({name:"system",data:{eventName:"copilotAudioStartFailed",eventInfo_conversationId:s.current,eventInfo_duration:performance.now()-e.current,eventInfo_reason:U,reason:U,eventInfo_scenario:g.current}})},[]),P=b.useCallback(U=>{he.trackEvent({name:"system",data:{eventName:"copilotAudioStartTimeout",eventInfo_conversationId:s.current,eventInfo_duration:U,eventInfo_scenario:g.current}})},[]),N=b.useCallback(U=>{he.trackEvent({name:"system",data:{eventName:"copilotAudioTerminated",eventInfo_conversationId:s.current,eventInfo_duration:performance.now()-e.current,eventInfo_reason:U,reason:U,eventInfo_scenario:g.current}})},[]),D=b.useCallback(U=>{he.trackEvent({name:"system",data:{eventName:"copilotAudioError",eventInfo_conversationId:s.current,eventInfo_duration:performance.now()-e.current,eventInfo_errorCode:U,eventInfo_scenario:g.current}})},[]),G=b.useCallback(()=>{if(!m.current){m.current=!0;const U=Math.round(performance.now()-(o.current||n.current));he.trackEvent({name:"system",data:{eventName:"copilotAudioStart",eventInfo_conversationId:s.current,eventInfo_messageId:a.current,eventInfo_duration:U,eventInfo_scenario:g.current}})}},[]);return b.useMemo(()=>({onBeforeStartCall:C,onAudioStartFailed:M,onAudioStartTimeout:P,onStartCall:_,onStartMessage:S,onAudioInterrupt:w,onAudioReceived:T,onSpeechEndDetected:I,onCharacterAnimationReceived:A,onMessageDone:k,onTerminated:N,onEndCall:R,onError:D,onAudioStart:G}),[C,M,P,_,S,w,T,A,I,k,N,R,D,G])}const YBe="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/call_ending-BxIIadI4.mp3",QBe="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/call_opening-CKuCznU5.mp3",Cqe={lmks_rest:"lmksRest",frames:"frames",expr:"expr",neck_pose:"neckPose",jaw_pose:"jawPose",eyes_pose:"eyesPose",eyes_open_ratio:"eyesOpenRatio",rotation:"rotation",translation:"translation",lmks:"lmks"};class XBe{constructor(e,n){Se(this,"lmksRest");Se(this,"frames");this.lmksRest=e,this.frames=n}}class ZBe{constructor(e,n){Se(this,"exp");Se(this,"pose");this.exp=e,this.pose=n}isValid(){return this.exp.dtype!==""&&this.exp.data.length>0||this.pose.dtype!==""&&this.pose.data.length>0}}const JBe=3.141592653589793,GV="System.Single, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089";function e8e(t){const e=[],n=[],r=(a,c)=>{if(c>=a.length)throw new Error("index out of range");return a[c]===void 0?0:a[c]};for(const{frame:a,offset:c}of t){if(a.length<97)return console.log("Invalid frame length"),null;const l=new Array(28).fill(0);l[12]=r(a,78),l[16]=r(a,43),l[17]=r(a,43),l[21]=r(a,72),l[23]=.5*r(a,52)+.5*r(a,53),l[24]=.75*r(a,76),l[26]=.75*r(a,76),e.push({exp:l,offset:c});const d=[[-1*r(a,88)+JBe,-1*r(a,89),r(a,90)],[0,r(a,92),-1*r(a,91)],[0,r(a,95),-1*r(a,94)]];n.push(d)}const i={dtype:GV,shape:[e.length,16],data:e,isColumnMajor:!1},o={dtype:GV,shape:[n.length,3,3],data:n,isColumnMajor:!1};return new ZBe(i,o)}class t8e{constructor(){Se(this,"LOCK_NAME","animation-data-frames-lock");Se(this,"TIMEOUT_MSEC",x_e);Se(this,"a2eState",{frames:[],timeoutId:null});Se(this,"vasaState",{frames:[],timeoutId:null});Se(this,"a2eConfig",{getAnimationData:e=>e8e(e),calculateDuration:e=>e/yq});Se(this,"vasaConfig",{getAnimationData:e=>new XBe([],e),calculateDuration:e=>e/bq});Se(this,"waitingForLock",new Set);Se(this,"lockedBy",null);Se(this,"unblock",()=>{})}async requestLock(e,n){if(typeof navigator<"u"&&navigator.locks){if(this.waitingForLock.has(e))return;this.waitingForLock.add(e),await navigator.locks.request(this.LOCK_NAME,async()=>{this.lockedBy&&this.lockedBy!==this.LOCK_NAME&&await new Promise(r=>{this.unblock=()=>{r()}}),await n(),this.waitingForLock.delete(e)})}else await n()}lockAnimation(e){this.lockedBy=e}unlockAnimation(){this.lockedBy=null,this.unblock()}setA2EFrame(e,n,r){e&&(this.a2eState.frames.push({frame:e,offset:n}),this.addFrames(this.a2eState,this.a2eConfig,r))}setVasaFrame(e,n){e&&(this.vasaState.frames.push(e),this.addFrames(this.vasaState,this.vasaConfig,n))}async addFrames(e,n,r){const i=e;this.requestLock("addFrames",async()=>{if(i.frames.length>=O_e){i.timeoutId&&clearTimeout(i.timeoutId),this.flushFrames(i,n,r);return}if(!i.timeoutId){const o=window.setTimeout(()=>{this.flushFrames(i,n,r)},this.TIMEOUT_MSEC);i.timeoutId=o}})}flushFrames(e,n,r){this.requestLock("flushFrames",async()=>{if(e.frames.length===0)return;Ht().set(Rq,{animationData:n.getAnimationData(e.frames)});const i=n.calculateDuration(e.frames.length);r==null||r(i),`${e.frames.length}`;const o=e;o.frames=[],o.timeoutId=null})}resetFrames(){for(const e of[this.a2eState,this.vasaState])e.timeoutId&&clearTimeout(e.timeoutId),e.frames=[],e.timeoutId=null}}class JT{constructor(){Se(this,"totalAudioDuration",0);Se(this,"totalAnimationDataDuration",0);Se(this,"nonInitialPromiseChecked",0);Se(this,"animationDataFrameHandler");Se(this,"isFrameAppendable",!1);this.animationDataFrameHandler=new t8e}lockAnimation(e){this.animationDataFrameHandler&&this.animationDataFrameHandler.lockAnimation(e)}unlockAnimation(){this.animationDataFrameHandler&&this.animationDataFrameHandler.unlockAnimation()}addAnimationDataDuration(e){this.totalAnimationDataDuration+=e*1e3}addAudioDuration(e){const n=e*1e3;this.totalAudioDuration+=n}getAnimationSyncPromise(e,n){return`${this.totalAudioDuration}${this.totalAnimationDataDuration}`,e===0?JT.constructCharacterTalkPromise(A_e):n===0?null:this.totalAudioDuration>this.totalAnimationDataDuration+P_e&&(this.nonInitialPromiseChecked+=1,this.nonInitialPromiseChecked%R_e===1)?JT.constructCharacterTalkPromise(k_e):null}resetAudioAnimationSync(e=null){this.animationDataFrameHandler&&(this.animationDataFrameHandler.resetFrames(),this.totalAudioDuration=0,this.totalAnimationDataDuration=0);const n=Ht();n.set(pFe,e??null),n.set(LM,!1),n.set(jM,0),n.set(DM,0)}enableFramesAppending(){this.isFrameAppendable=!0}disableFramesAppending(){this.isFrameAppendable=!1}setA2EFrame(e,n){if(this.isFrameAppendable&&this.animationDataFrameHandler){if(((e==null?void 0:e.length)??0)===0)return;n!==this.totalAnimationDataDuration&&(`${n}${this.totalAnimationDataDuration}`,void 0),this.totalAnimationDataDuration+=1/yq*1e3,this.animationDataFrameHandler.setA2EFrame(e,n),`${this.totalAudioDuration}${this.totalAnimationDataDuration}`}}setVasaFrameData(e){this.isFrameAppendable&&this.animationDataFrameHandler&&(this.totalAnimationDataDuration+=1/bq*1e3,this.animationDataFrameHandler.setVasaFrame(e))}static constructCharacterTalkPromise(e){const n="start-audio-playback-custom",r=new AbortController,{signal:i}=r,o=new Promise(c=>{const l=()=>{c(),r.abort()};window.addEventListener(n,l,{once:!0,signal:i})}),s=new Promise(c=>{const l=()=>{c(),r.abort()};Pr.on("voice:audio-interrupted",l)}),a=new Promise(c=>{setTimeout(()=>{c(),r.abort()},e)});return Promise.race([o,s,a])}}const n8e=null;function r8e(t){return t instanceof Error&&(t.name==="NotFoundError"||t.name==="OverconstrainedError")}function i8e({initAudio:t,getAudioConstraints:e,onCallTerminated:n,onSpeechEndDetected:r,keepAudioInputAlive:i=!1}){const o=We(yh),s=We(Rq),a=je("client-type-open"),c=je("experimental-vasa"),l=je("character-animation-spda2e"),d=je("character-animation-vasa"),p=We(td),m=je("voice-call-jingles"),g=We(j_e),C=oe(sn),_=oe(GI),S=oe(LC),w=We(Wb),T=We(F_e),I=We(Fh),A=We(Iv),k=d3(),{refetch:R}=Cte(),{showBoundary:M}=dW(),P=b.useRef(),N=b.useRef(),D=b.useRef(),G=Y2(0),U=b.useRef(null),W=b.useRef(null),$=b.useRef(null),L=b.useRef(null),B=b.useRef(new Set),j=b.useRef(null),[V,K]=b.useState(!1),z=b.useRef(0),H=Ye=>{z.current=Ye},q=Ye=>{var et;return(et=j.current)==null?void 0:et.addAudioDuration(Ye)},le=b.useRef("inactive"),Ce=b.useCallback(()=>!l&&!d?!1:!!cn(td),[l,d]),_e=b.useRef(!1),be=b.useRef(""),Pe=b.useRef(0),Oe=b.useCallback(Ye=>{_e.current&&Ye===be.current&&(g("listening"),o("listening"),K(!1))},[g,o]),Q=b.useCallback(Ye=>{const{analyser:et,frameIdRef:te,volume:Re}=Ye;if(!et)return;const Me=new Uint8Array(et.frequencyBinCount),Fe=()=>{var _t;et.getByteTimeDomainData(Me);const ut=_Fe(Me);(_t=Ye.update)==null||_t.call(Ye,ut),Re.set(ut),te.current=requestAnimationFrame(Fe)};Fe()},[]),ee=Ye=>{Ye.current!==null&&(cancelAnimationFrame(Ye.current),Ye.current=null)};b.useEffect(()=>()=>{ee($),ee(W)},[]);const[Ie,re]=b.useState(!t),ue=qBe();b.useEffect(()=>{t||(re(!0),w("waiting-for-user-interaction"))},[t,re,w]);const xe=b.useCallback(async()=>{C&&(k(C,Ye=>Ye.splice(0)),await R())},[R,C,k]),Y=b.useCallback(async()=>{if(D.current){for(const Ye of D.current.getTracks())Ye.stop();D.current=null}if(P.current)try{await P.current.close(),P.current=null}catch(Ye){console.error("Unable to close audioContextIn",Ye)}ee(W),G.set(0),Ls(tV,0)},[G]),ge=b.useCallback(async Ye=>{if(le.current="inactive",await Y(),N.current)try{await N.current.close(),N.current=null}catch(et){console.error("Unable to close audioContextOut",et)}ee($),FM.set(0),Ls(nV,0),K(!1),re(!1),Ye.sendAudioEnd(),g("idle"),cn(Wb)==="available"&&(m&&rV(YBe,3e3),await xe(),ue.onEndCall(Pe.current),Pe.current=0,A(!0))},[Y,g,m,xe,ue,A]),Ee=b.useCallback(async Ye=>{P.current=new AudioContext({sampleRate:xee}),U.current=P.current.createAnalyser(),z.current=0;const et=async()=>{i&&le.current==="active"&&(await Y(),await Ee(Ye))};let te=null;try{te=await vFe(Ye.sendAudio,P.current,U.current,e,et)}catch(Re){Re instanceof Error&&(Re.name==="NotAllowedError"||Re.name==="NotSupportedError")?(w("microphone-denied"),await ge(Ye),he.trackEvent({name:"system",data:{eventName:"copilotNoMicrophoneAccess"}})):r8e(Re)?(w("microphone-not-found"),await ge(Ye),he.trackEvent({name:"system",data:{eventName:"copilotMicrophoneNotFound"}})):M(new Error(`Error starting audio capture: ${Re}`))}if(te){if(Ie)for(const Re of te.getTracks())Re.enabled=!1;D.current=te,Q({volume:G,analyser:U.current,frameIdRef:W,update:Re=>{Ls(tV,Re)}})}},[Ie,Q,G,i,Y,e,w,ge,M]),ye=b.useRef(!1),pe=b.useCallback(()=>{if(ee($),!N.current)return;const Ye=N.current.createGain(),et=N.current.createAnalyser();Ye.connect(et),et.connect(N.current.destination),L.current=Ye,K(!0),Q({volume:FM,analyser:et,frameIdRef:$,update:te=>{Ls(nV,te)}})},[Q]),Le=b.useCallback(Ye=>{const et=Ye==="mute";if(re(et),Ls(hFe,et),D.current)for(const te of D.current.getTracks())te.enabled=Ye==="unmute"},[]),De=b.useCallback(Ye=>{var et;if(Ce())return(et=j.current)==null?void 0:et.getAnimationSyncPromise(z.current,Ye)},[Ce]),Xe=b.useCallback(async Ye=>{N.current=new AudioContext({sampleRate:E3}),z.current=0,pe(),ye.current||(ye.current=!0,await Ee(Ye)),cn(Pq)&&Le("mute")},[Ee,pe,Le]),mt=b.useCallback(()=>{if(cn(td))return"character";if(a)return Qe.instance().config().audioConfigClientType},[a]),qe=b.useCallback(async Ye=>{var Me;if(!C||!t)return;w("checking-availability"),T(null),ye.current=!1;const{sendAudioStart:et}=Ye,te=mt();et(C,{voice:S??((Me=_[0])==null?void 0:Me.id)},te);const Re=1e4;setTimeout(()=>{cn(Wb)==="checking-availability"&&le.current==="active"&&ue.onAudioStartTimeout(Re)},Re),ue.onStartCall(C),m&&await navigator.locks.request("audio-playback",async()=>{var Fe,ut;(Fe=j.current)==null||Fe.lockAnimation("audio-playback"),await rV(QBe,3e3),(ut=j.current)==null||ut.unlockAnimation()}),Hm("onStartVoiceChat")},[C,t,w,S,_,ue,T,m,mt]),dt=b.useCallback(()=>{var Ye,et;for(const te of B.current)te.stop();B.current.clear(),(Ye=N.current)==null||Ye.close(),N.current=null,K(!1),(et=j.current)==null||et.resetAudioAnimationSync()},[]),$t=b.useCallback(async Ye=>{dt(),await ge(Ye),n()},[ge,n,dt]),nn=b.useCallback(Ye=>et=>{var te,Re,Me,Fe,ut,_t,it;switch(et.event){case"startMessage":{const{messageId:ne}=et;if(ue.onStartMessage(ne),dt(),le.current==="inactive")break;Xe(Ye),w("available"),g("listening"),K(!0),Ls(TP,!1),(te=j.current)==null||te.resetAudioAnimationSync(N.current),(Re=j.current)==null||Re.enableFramesAppending();break}case"audioStartFailed":{const{reason:ne}=et,{success:Te}=rQ.safeParse(ne);w(Te?ne:"error"),ue.onAudioStartFailed(ne);break}case"audioTimeRemaining":{const{seconds:ne}=et;T(ne);break}case"audio":{if(le.current==="inactive")break;ue.onAudioReceived(),g("responding"),K(!0),be.current=et.audio,N.current&&L.current&&mFe({data:et.audio,audioContext:N.current,gainNode:L.current,sourceNodes:B.current,nextBufferTime:z,updateNextBufferTime:H,onAudioEnd:Oe,outputVolumeMuted:c,getPlaySignal:De,updateAudioDuration:Ce()?q:void 0,onAudioStart:ue.onAudioStart});break}case"characterAnimation":{if(ue.onCharacterAnimationReceived(),Ce()){const{frame:ne}=et;(ne==null?void 0:ne.model)==="spda2e"&&((Me=j.current)==null||Me.setA2EFrame(ne.poseDiffusion,et.offsetInMilliseconds)),(ne==null?void 0:ne.model)==="vasa"&&((Fe=j.current)==null||Fe.setVasaFrameData(ne))}break}case"interruptAudio":{Ce()&&(Pr.emit("voice:audio-interrupted"),(ut=j.current)==null||ut.resetAudioAnimationSync(),(_t=j.current)==null||_t.disableFramesAppending(),s(null)),g("listening"),o("listening"),ue.onAudioInterrupt(),dt(),Ls(TP,!0);break}case"speechEndDetected":{ue.onSpeechEndDetected(),o("thinking"),r==null||r();break}case"callTerminated":{$t(Ye),ue.onTerminated(et.reason);break}case"error":{const{errorCode:ne}=et;switch(ne){case"over-turn-limit":{I(0);break}case"character-out-of-capacity":{Ye.setCallType("standard");break}}le.current==="active"&&ue.onError(ne);break}case"done":{const{messageId:ne}=et;_e.current=!0,Pe.current+=1,ue.onMessageDone({messageId:ne,voiceType:S??((it=_[0])==null?void 0:it.id)}),Ls(TP,!0);break}case"banned":{const{expiresAt:ne}=et,Te=U5(ne);Te&&(B5(Te,"voice",ne),dt(),ge(Ye));break}case"callTypeChanged":{const{callType:ne}=et;ne==="standard"&&p(void 0);break}}},[ue,dt,Xe,w,Ce,T,g,Oe,c,De,o,s,r,$t,I,S,_,ge,p]);return{toggleVoiceChat:b.useCallback(async Ye=>{if(Ye==="start"&&le.current==="active")return;if(Ye==="start"){const te=bQ();ue.onBeforeStartCall(te)}if(Ye==="end"&&le.current==="inactive")return;le.current=Ye==="start"&&t?"active":"inactive",Ye==="start"&&Ce()&&(j.current=new JT),mT.onVoiceChatToggled(Ye,C);const et=await Jf({useMockConnection:!!n8e});et.setOnEvent(nn(et)),Ye==="start"?await qe(et):await ge(et)},[nn,Ce,qe,ge,ue,t,C]),toggleMute:Le,isInputMuted:Ie,inputVolume:G,hasOutputVolume:V}}const _qe="https://picassostaticassetsstg.azureedge.net/character/try-now/lumi_intro_394_222";function qV(t,e){if(!t)return!1;const n=ir(iQ)??ir(fAe);return!e&&!n}function o8e({isAudioCall:t,onCallTerminated:e,onMute:n,onUnmute:r}){const i=Wn(),o=YI(),[s,a]=px(),c=s==="audioCall",[l,d]=b.useState(!1),p=oe(td),m=je("appearance-try-now-modal"),g=oe(Pq),{state:C,setState:_}=s3({defaultValue:!c}),{toggleVoiceChat:S,toggleMute:w,hasOutputVolume:T,inputVolume:I,isInputMuted:A}=i8e({initAudio:C,onCallTerminated:e}),k=b.useRef(S);k.current=S,b.useEffect(()=>{t?!c&&!qV(m,p)&&!g&&k.current("start"):k.current("end")},[i,t,c,k,p,g,m]);const R=b.useCallback(()=>{S("start"),C&&!l&&(d(!0),w("unmute"))},[S,C,l,w]),M=b.useCallback(()=>{a(),_(!0),S("end")},[a,_,S]),P=b.useCallback(()=>{_(!0),w(A?"unmute":"mute"),A?r==null||r():n==null||n()},[_,w,A,n,r]);b.useEffect(()=>{t&&c&&C&&R()},[C,t,c,R]);const N=b.useCallback(async(U=!1)=>{(!t||U)&&await D()!=="NotSupported"||(await o({talk:!0}),qV(m,p)||R())},[t,m,o,p,R]);b.useEffect(()=>{c&&N(!0)},[c,N]);async function D(){return(await QOe.run({onAudioCall:async()=>"NotSupported"})).onAudioCall()}const G=b.useCallback(U=>{const{toLocation:W}=U,$=W.pathname;t&&!$.endsWith("/talk")&&k.current("end")},[t]);return yx(G),{launchAudioCall:N,startAudioCallIfNotStartedAlready:R,endAudioCall:M,toggleAudioInput:P,inputVolume:I,isInputMuted:A,hasOutputVolume:T,isAudioDeepLink:c,canInitAudio:C}}const _te={sdk:"8.0",messaging:{origin:window.location.origin,channelId:crypto.randomUUID()},accessibility:{showFocusOnLoad:!1,enableFocusTrap:!0},authentication:{},entry:{oneDrive:{recent:{}}},typesAndSources:{mode:"files",filters:W3e,pivots:{oneDrive:!0,recent:!0,photos:!1}}},s8e=new URLSearchParams({app:"CMC",scenario:"AnalyzeDoc",filePicker:JSON.stringify(_te),locale:ln.resolvedLanguage??"en-US"}),wte="https://onedrive.live.com",a8e=`${wte}/picker?${s8e}`;async function Ste(){const t=await nNe();return(t==null?void 0:t.accessToken)??""}function c8e({port:t,onClose:e,onPick:n,setIsLoading:r,onError:i}){return async o=>{let s;switch(o.data.type){case"notification":o.data.data.notification==="page-loaded"&&r(!1);break;case"command":switch(t.postMessage({type:"acknowledge",id:o.data.id}),o.data.data.command){case"authenticate":s=await Ste(),typeof s<"u"?t.postMessage({type:"result",id:o.data.id,data:{result:"token",token:s}}):(r(!1),i(),e());break;case"close":e();break;case"pick":n(o.data.data.items[0]),t.postMessage({type:"result",id:o.data.id,data:{result:"success"}}),e();break;default:r(!1),t.postMessage({result:"error",error:{code:"unsupportedCommand",message:o.data.data.command},isExpected:!0}),i(),e();break}break}}}function l8e({onClose:t,onPick:e,onError:n}){const r=b.useRef(null),{t:i}=pt(),[o,s]=b.useState(!0);return b.useEffect(()=>{var p;const a=()=>{const m={title:i("composer.errors.attachmentOneDrive.title"),message:i("composer.errors.attachmentOneDrive.message")};n(m),he.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"submitMessage",eventInfo_errorMessage:m.message,eventInfo_details:"Error submitting message"}})},c=(p=r.current)==null?void 0:p.contentWindow;let l,d;return c&&(async()=>{const g=c.document.createElement("form");g.method="POST",g.action=a8e,c.document.body.appendChild(g);const C=c.document.createElement("input");C.type="hidden",C.name="access_token",C.value=await Ste(),g.appendChild(C),window.addEventListener("message",_=>{if(_.origin&&_.origin===wte){const S=_.data;if(S.type==="initialize"&&S.channelId===_te.messaging.channelId){if([d]=_.ports,!d){s(!1),a(),t();return}l=c8e({port:d,onClose:t,onPick:e,onError:a,setIsLoading:s}),d.addEventListener("message",l),d.start(),d.postMessage({type:"activate"})}}}),g.submit()})(),()=>{l&&window.removeEventListener("message",l),d&&d.close()}},[t,e,n,i]),y.jsxs(Wx,{isOpen:!0,onClose:t,fullBleed:!0,className:"h-[80vh] w-[80vw]",children:[o&&y.jsx("div",{className:"flex size-full items-center justify-center",children:y.jsx(Cn,{className:"size-20"})}),y.jsx("iframe",{title:i("onedrive.filePicker"),ref:r,width:o?"0%":"100%",height:o?"0%":"100%"})]})}const u8e="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/add-BTcFT5ig.svg",d8e="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/image-zMo0jLdY.svg",f8e="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/podcast-BQmBU8ew.svg",h8e="https://studiostaticassetsprod.azureedge.net/bundle-cmc/assets/research-i8a7tpJF.svg";function p8e(t){const{onPrefillComposerInput:e,disabled:n=!1}=t,r=oe(WD),i=oe(KD),[o,s]=Lt(so),a=oe(Fi),c=oe(nx),l=co(),d=We(Hv),p=k3(),{handleProSubscription:m}=ZT({payflowEntryPoint:"PodcastLimit",skuType:c?"FreeTrial":"1Mo-Paid",upsellReason:"",entryStyle:"Button"}),{handleProSubscription:g}=ZT({payflowEntryPoint:"ResearchReportLimit",skuType:c?"FreeTrial":"1Mo-Paid",upsellReason:"",entryStyle:"Button"}),C=m8e({remainingPodcastGeneration:r,remainingResearchReportGeneration:i,isPro:(a==null?void 0:a.isPro)??!1}),_=We(LZ),S=Kx(),w=b.useCallback(A=>{const k=C[A];if(k){switch(k.key){case"image":_("image");break;case"podcast":if(!l&&r===0){d({isOpen:!0,scenario:"podcast",reason:"createPodcast"});return}if(!(a!=null&&a.isPro)&&r===0){if(!p)return;m();return}_("podcast");break;case"researchReport":if(!l&&i===0){d({isOpen:!0,scenario:"researchReport",reason:"createResearchReport"});return}if(!(a!=null&&a.isPro)&&i===0){if(!p)return;g();return}_("researchReport"),s("research");break;default:_(null);break}e(k.composerInputPrompt??"")}},[C,_,e,a,r,i,p,m,g,l,d,s]),T=b.useCallback(()=>{_(null),KM(),s("chat")},[_,s]),I=b.useRef(null);return b.useEffect(()=>{var A;S.length===0&&o!=="research"&&((A=I.current)==null||A.setSelectedItemIndex(0),T())},[S,T,o]),y.jsx(I3,{ref:I,items:C,onSelect:w,defaultSelectedItemIndex:0,onReset:T,disabled:n})}function aS(t){return e=>{$Fe(t,e)}}function cS(t){return e=>{GFe(t,e)}}function m8e({remainingPodcastGeneration:t,remainingResearchReportGeneration:e,isPro:n}){const r=je("podcast-in-create-drawer"),i=Fee(),o=r,s=i,{t:a}=pt("translation",{keyPrefix:"composer.create"});return b.useMemo(()=>{const l={key:"create",title:a("buttonTitle"),icon:y.jsx(xo,{url:u8e,className:"size-5"}),description:a("buttonDescription"),composerInputPrompt:"",testId:"composer-create-button",onImpression:aS(null),beforeClick:cS(null)},d={key:"image",title:a("image.title"),icon:y.jsx(xo,{url:d8e,className:"size-6"}),description:a("image.description"),composerInputPrompt:a("image.prompt"),testId:"composer-create-image-button",onImpression:aS("image"),beforeClick:cS("image")};function p(){return{key:"podcast",title:a("podcast.title"),icon:y.jsx(xo,{url:f8e,className:"size-6"}),description:a("podcast.description"),composerInputPrompt:a("podcast.prompt"),testId:"composer-create-podcast-button",onImpression:aS("podcast"),beforeClick:cS("podcast"),tags:t!==null&&n===!1?[{label:a("podcast.remainingCalls",{remainingCalls:t.toString()}),color:t>0?"neutral":"salmon"}]:void 0}}function m(){return{key:"researchReport",title:a("researchReport.title"),icon:y.jsx(xo,{url:h8e,className:"size-6"}),description:a("researchReport.description"),composerInputPrompt:a("researchReport.prompt"),testId:"composer-create-research-report-button",onImpression:aS("researchReport"),beforeClick:cS("researchReport"),tags:e!==null&&n===!1?[{label:a("researchReport.remainingCalls",{remainingCalls:e.toString()}),color:e>0?"neutral":"salmon"}]:void 0}}return[l,d,s?m():void 0,o?p():void 0].filter(g=>g!==void 0)},[t,n,a,o,s,e])}function g8e({selectFile:t}){const{t:e}=pt();return y.jsx("div",{className:"flex items-center",children:y.jsx(lt,{role:"menuitem",variant:"rect",color:"subtle-dimmed-inverted",title:e("composer.upload"),testId:"file-upload-button","aria-label":e("composer.upload"),className:"!h-6 !px-2",onClick:n=>{n.preventDefault(),t()},children:y.jsx(F3,{className:"size-6"})})})}const U3=Ht(),B3=se(null),V3=se(null);function Ete(t){U3.set(B3,t)}function Tte(t){U3.set(V3,t)}function v8e(t){const e={eventInfo_inputLength:t.length};let n=e;const r=cn(B3);if(r){const{source:s,type:a,prompt:c}=r;s==="widgets"?n={...e,widget:a,widgetPromptLength:c.length}:n={...e,pill:a,pillPromptLength:c.length}}const i=cn(V3);i&&(n={...n,autoCompleteLength:i.prompt.length});const o=cn(Fv);return o&&o.scenario&&(n={...n,uploadFileScenario:o.scenario}),JSON.stringify(n)}function y8e(t){const e=cn(B3),n=cn(V3),r=e==null?void 0:e.prompt.trim(),i=t.trim(),o=n==null?void 0:n.prompt.trim(),s=n==null?void 0:n.prefix.trim(),a=i.toLowerCase()===(o==null?void 0:o.toLowerCase());return!a&&!e?null:a?!r||!i.toLowerCase().includes(r.toLowerCase())?"autoComplete":s&&s.length>r.length?(e==null?void 0:e.source)==="widgets"?"widgetWithTextAndAutoComplete":"pillWithTextAndAutoComplete":(s==null?void 0:s.length)===r.length?(e==null?void 0:e.source)==="widgets"?"widgetWithAutoComplete":"pillWithAutoComplete":"autoComplete":!r||!i.toLowerCase().includes(r.toLowerCase())?null:i.length>r.length?(e==null?void 0:e.source)==="widgets"?"widgetWithText":"pillWithText":(e==null?void 0:e.source)==="widgets"?"widget":"pill"}function b8e(){Ete(null),Tte(null),U3.set(Fv,null)}const C8e=b.lazy(()=>de(()=>import("./product-purchase-ltzPps4L.js"),__vite__mapDeps([228,229,230,231])).then(t=>({default:t.ProductPurchase}))),_8e=1.25,w8e=64,S8e={opacity:0,scale:_8e,translateY:w8e},E8e={opacity:1,scale:1,translateY:0},lS="size-6",T8e=1800,I8e=b.lazy(()=>de(()=>import("./upsell-block-BLeYudwr.js"),__vite__mapDeps([232,233]))),x8e=b.lazy(()=>de(()=>import("./price-tracking-block-Casg8dNH.js").then(t=>t.p),__vite__mapDeps([234,235,236,237,238,239])).then(t=>({default:t.PriceTrackingBlock}))),A8e=b.lazy(()=>de(()=>import("./composer-auto-complete-itBdJUEO.js"),[])),k8e=b.lazy(()=>de(()=>import("./composer-actions-prompt-suggestions-B18l5e-3.js"),__vite__mapDeps([240,241,242,243,244,245,246,247,248,249,250])).then(t=>({default:t.ComposerActionsPromptSuggestions}))),R8e=b.lazy(()=>de(()=>import("./composer-system-alert-PF6c4N2x.js"),[]).then(t=>({default:t.ComposerSystemAlert}))),P8e=b.lazy(()=>de(()=>import("./voice-options-Dkxcn2s7.js").then(t=>t.v),[])),O8e=b.lazy(()=>de(()=>import("./think-deeper-pro-subscription-aoVLi9Vf.js"),[])),N8e=b.lazy(()=>de(()=>import("./over-task-quota-DZrR7KP-.js"),__vite__mapDeps([251,252])).then(t=>({default:t.OverTaskQuota}))),M8e=b.lazy(()=>de(()=>import("./computer-use-task-closed-CBzANZ-d.js"),__vite__mapDeps([253,252])).then(t=>({default:t.ComputerUseTaskClosed}))),L8e=b.lazy(()=>de(()=>import("./safety-risk-card-B2WOnfyd.js"),__vite__mapDeps([254,255,252])).then(t=>({default:t.SafetyRiskCard}))),D8e=b.lazy(()=>de(()=>import("./add-to-page-CtPJDVtC.js"),[]).then(t=>({default:t.AddToPage}))),j8e=b.lazy(()=>de(()=>import("./cross-selling-strip-consumer-D4fiG5-V.js"),__vite__mapDeps([256,233]))),F8e=b.lazy(()=>de(()=>import("./composer-prompt-review-J8zzF3Tt.js"),__vite__mapDeps([257,258]))),OP=b.lazy(()=>de(()=>import("./composer-action-C1ujjgNS.js"),[])),U8e=b.lazy(()=>de(()=>import("./biometric-consent-C4fNsboE.js"),[]).then(t=>({default:t.BiometricConsent}))),B8e=b.lazy(()=>de(()=>Promise.resolve().then(()=>Jje),void 0)),V8e=b.lazy(()=>de(()=>import("./daily-briefing-chat-BW5Bi8vt.js"),__vite__mapDeps([259,260,261])).then(t=>({default:t.DailyBriefingChat}))),H8e=b.lazy(()=>de(()=>import("./composer-sign-in-Be4XZ5NH.js"),__vite__mapDeps([262,263]))),z8e=b.lazy(()=>de(()=>import("./daily-briefing-composer-player-CYFbBDqx.js"),__vite__mapDeps([264,265,266,267,268,269,261])));function $8e(){var xp,fy;const{t}=pt(),{submitMessage:e,onSubmitMessageBlocked:n,stopMessage:r}=$x(),i=je("image-copy-paste"),o=oe(Tv),s=je("pay-native-checkout"),a=je("shopping-card"),c=je("multiplecharacters"),l=je("anonymousattachmentupload"),d=je("onedrive-file-upload"),p=!bx(),m=oe(dQ),g=ds(),C=YI(),_=m6e(),S=Wn(),w=oe(Qr),T=Po(),I=oe(Od),A=gi({breakpoint:"sm"}),k=rte({breakpoint:"h760"}),R=r3(),M=$Ue(),P=Kx(),N=zUe(),[D,G]=b.useState(null),U=We(wq),[W,$]=Lt(Hv),L=oe(r5e),B=oe(i5e),j=oe(U_e),V=oe(xq),K=oe(D_e),z=oe(mM),[H,q]=b.useState(!1),le=K||H,{startConversationDisabled:Ce,createConversation:_e}=hx(),be=oe(Rd),[Pe,Oe]=b.useState(!1),[Q,ee]=Lt(Ks),Ie=We(fNe),[re,ue]=Lt(BUe),[xe,Y]=Lt(gx),ge=We(Tq),Ee=oe(sl),ye=(Ee==null?void 0:Ee.type)==="popup",pe=g6e(),Le=ye||pe,De=ate(),Xe=(xp=Qe.instance().config().composer)==null?void 0:xp.enableAppShadow,{isPlaying:mt,pause:qe,onToggleVoiceSettings:dt,resetAllTimers:$t}=Kee(),nn=qUe(),Wt=w6e(),Ye=co(),et=b.useRef(null),te=b.useRef(null),Re=b.useRef(null),Me=We(Fv),Fe=oe(bNe),[ut,_t]=b.useState(!1),[it,ne]=b.useState(null),Te=je("imagegenv3"),Ne=je("logged-out-sharing"),rt=je("remove-prefill-space-after-prompt-cmc"),{isMediaViewerOpen:tt,closeMediaViewer:Et,isPictureInPictureSupported:Dt,triggerPictureInPicture:Mt,contentPageType:Jt}=Nd(),ur=We(mx),Sn=S.endsWith("/talk"),Ln=S.endsWith("/daily"),dr=je("1s-dbchat"),wr=Hx(),ps=Ln||wr,Ui=a6e(),lo=Bx(),Oo=S.startsWith("/chats")&&!Sn,No=S.startsWith("/shares"),Mc=Jt==="weather",Ld=oe(Wb),{login:Mo}=Uv(),Pa=Q==="dialog",uo=s&&Q==="checkout",Dd=e6e(),[ms]=Lt(so),[Yv,Tt]=b.useState(!1),ae=oe(LZ),Ve=nte(),{isCentralComposerEnabled:bt,isAutoSuggestEnabled:Pn,isStarterPromptsEnabled:Mr,isWidgetSectionEnabled:Xt,isAppearanceOnHomeEnabled:Ur}=qx(),{floatingStyles:wi,edgeTabMenuRefs:Js,isMultiTabsMenuExpanded:fr,setIsMultiTabsMenuExpanded:Hl,isShowMultiTabsPreviewCard:jd,setIsShowMultiTabsPreviewCard:mp,handleMentionEvent:gs,handleMultiTabsMenuSaveBtnEvent:Jx,handleUserInputEnterEvent:Lo,handleUserInputKeydownEvent:XC}=WUe(),Fd=ms==="computerUse",zl=bt&&!Q,Oa=Pn&&!Q&&!Fd,Ud=b.useId(),Bd=oe(R3),gp=Mr&&!Q&&!Fd&&!Bd&&(!k||A),e1=zl&&Xt&&!Fd&&!A&&!k,Vd=b.useRef(null),Qv=Z2("programmatic"),ZC=!Sn&&!Ln&&!wr&&!zl&&!uo&&!Mc,Xv=(lo||Oo||Ui||No)&&!Q&&!tt,$l=uo,Zv=oe(j5),vp=oe(V_e),[mn,Jv]=Lt(gNe),Lc=oe(vNe),Dc=Cwe(),Wl=oe(cs),Hd=Wl==="side-by-side"&&(Dc==null?void 0:Dc.type)==="computerUse",ey=O3(),Kl=Hd&&!Vq(Dc.status),Na=Hd&&Rwe(Dc),ea=Na||Hd||Ln||Lc,ta=!tt&&!Sn&&(!Q||Q==="daily-briefing-chat"),Do=j||!ta||Kl||Na||Lc,jc=YUe(ta),Gl=(Fe!==null||jc)&&!Sn,fo=oe(pNe),Ma=oe(hNe),[yp,ql]=Lt(mNe),ty=tp(),Yl=Q==="prompt-sign-in"||Q==="prompt-3p-sign-in"||Q==="prompt-location"||Q==="prompt-review"||Q==="confirm-link-navigation"||Q==="cross-promo-card"||Q==="shopping-upsell-card"||Q==="shopping-price-tracking"||Q==="add-to-page"||Q==="safety-risk-card"||Q==="computer-use-task-closed"||Q==="over-task-quota"||Q==="daily-briefing-chat"||Q==="upsell-microsoft-account-for-pro-subscription"||Q==="biometric-consent"||Q==="finance-watchlist-unfollow-toast",zd=!Sn&&Q!=="daily-briefing-player"&&Q!=="audioSettings"&&Q!=="reasoning-mode-pro-subscription"&&Q!=="checkout"&&!Yl&&!tt,[bp,vs]=Lt(L5),$d=b.useCallback(()=>{var ze;(ze=et.current)==null||ze.focus(),Sf(!0)},[]),Wd=b.useCallback(()=>{Me(null),te.current&&(te.current.value="")},[Me]),jo=b.useCallback((ze,At)=>{$({isOpen:!0,scenario:At??null,reason:ze})},[$]),Cp=b.useCallback(()=>{jo("fileUpload")},[jo]),{processUploadedFile:JC,processUploadedLocalFile:La,isUploadingAttachment:_p,uploadedAttachment:ys,resetFileUpload:wp}=ZUe($d,vs,Wd,Cp),ny=!!Fe,Da=_p,Sp=!!(P.trim().length>0||ny)&&!Do,Kd=!!((D&&D.length>0)===!0||Da||le||z),[e_,Ep]=b.useMemo(()=>{const{reason:ze}=W;return ze?[t(`signInPrompt.${ze}Header`,t("signInPrompt.header")),t(`signInPrompt.${ze}Text`,t("signInPrompt.text"))]:[t("signInPrompt.header"),t(Ne?"signInPrompt.textV2":"signInPrompt.textV3")]},[Ne,W,t]),[Gd,t_]=b.useState({onSubmitCallback:null,onCancelCallback:null}),Bi=b.useCallback(async()=>new Promise(ze=>{if(cn(hQ)||!ys&&!Fe){ze(!0);return}ee("biometric-consent"),t_({onSubmitCallback:()=>{ee(null),ze(!0)},onCancelCallback:()=>{ee(null),ze(!1)}})}),[ys,Fe,ee]),Ql=b.useCallback(ze=>{var Kn;if(!XC(ze)&&ze.key==="ArrowDown"&&(Kn=et.current)!=null&&Kn.contains(document.activeElement)&&Vd.current){ze.preventDefault();const yn=Vd.current.querySelector("button");yn&&yn.focus()}},[XC]),qd=async ze=>{var At,Kn;if(No&&await FV(),!Sp||!P&&!ny||Kd){n();return}Te&&!await Bi()||(mp(!1),KM(),ay?(Kn=et.current)==null||Kn.focus():(At=et.current)==null||At.blur(),Ur&&(kP("disappearing"),await new Promise(yn=>{setTimeout(yn,T8e)})),await l_(ze??P))},Yd=b.useCallback(async()=>{await C()},[C]),{launchAudioCall:ry,startAudioCallIfNotStartedAlready:Qd,endAudioCall:Fc,toggleAudioInput:Xd,hasOutputVolume:Xl,inputVolume:n_,isInputMuted:t1,isAudioDeepLink:n1,canInitAudio:r1}=o8e({isAudioCall:Sn,onCallTerminated:Yd,onMute:()=>Or({source:"audioCall",scenario:"mute"})});b.useEffect(()=>{L&&(ee(ty?"prompt-3p-sign-in":"prompt-sign-in"),W.isOpen&&$({...W,isOpen:!1,reason:W.reason??(j?"overTurnLimit":null)}),Sf(!0))},[ee,$,L,W,ty,j]),b.useEffect(()=>{B&&("geolocation"in navigator?setTimeout(()=>{ee("prompt-location"),Sf(!0),Ci("hasBeenPromptedForLocation","true"),he.trackEvent({name:"interaction",data:{eventName:"locationPrompt",eventInfo_action:"seen"}})},Jpe):he.trackEvent({name:"system",data:{eventName:"geolocationUnavailable"}}))},[ee,B]),b.useEffect(()=>{ps?ee("daily-briefing-player"):Le?(Sf(!0),ee("cross-promo-card")):ee(Na?"safety-risk-card":Kl?"computer-use-task-closed":null)},[ee,Le,Kl,Na,ps]);const Zd=b.useRef(null),i1=S3(ze=>{const At=document.getElementById("app");At&&(Ie(ze.height),At.style.setProperty("--composer-container-height",`${ze.height}px`))}),o1=()=>{Fo(),ue(void 0)},r_=()=>{Pe&&(Qd(),Oe(!1))},Fo=()=>{if(Ln&&Q==="daily-briefing-chat"&&(ee("daily-briefing-player"),KM()),Q==="prompt-3p-sign-in"&&(wr||Ln)&&ee("daily-briefing-player"),!(j||Ln||wr||Kl||Na)){if(Pa&&(Ma!=null&&Ma.closeDialogCallback)){Ma.closeDialogCallback();return}Q==="prompt-review"&&Z6e(cn(sn),"dismissed"),Q==="cross-promo-card"&&De(),Q==="audioSettings"&&r_(),ee(null),Q==="prompt-sign-in"&&W.scenario&&$({isOpen:!1,scenario:null})}},iy=b.useCallback(async()=>{Fc(),ur("bottom"),await C()},[C,Fc,ur]);b.useEffect(()=>{Qe.instance().config().endAudioOnVisibilityHidden&&!vp&&(mt?qe==null||qe():Sn&&iy())},[iy,Sn,mt,qe,vp]);const oy={title:t("composer.endAudioCall"),icon:y.jsx(Hs,{className:lS,"aria-hidden":!0}),isVisible:!0,onClick:iy},s1=FUe(),i_=()=>{Ln||wr?qe==null||qe():Sn&&Fc(),Oe(!0)},Tp=We(D5),sy=ms==="chat"||ms==="reasoning",ay=N3(),Zl=kee(),a1=Zl&&(ms==="chat"||ms==="research"),c1=Zl&&ae===null,Jl=b.useCallback(()=>{Tp(null)},[Tp]);b.useEffect(()=>{Jl()},[zd,Jl]),b.useEffect(()=>{eb(P&&Zv?"autosuggest":Fd&&!P?"actions-autosuggest":"starter-prompts")},[Zv,P,Fd]),KT({onOutsideEvent:()=>{Fo()},elements:[Zd],includeScroll:!1,invokeOnce:!1}),KT({onOutsideEvent:tb,elements:[Zd,Vd],includeScroll:!1,invokeOnce:!1});const o_={title:t("composer.closeVoiceSettings"),icon:y.jsx(Hs,{className:lS,"aria-hidden":!0}),isVisible:!0,onClick:uy},s_={title:t("imageCard.composer.closeImageViewer"),icon:y.jsx(Hs,{className:lS,"aria-hidden":!0}),isVisible:!0,onClick:Et},l1=ze=>{var yn;Sf(!0),c&&kP("idle");const{relatedTarget:At}=ze;((yn=Vd.current)==null?void 0:yn.contains(At))||setTimeout(()=>tb(),100)},u1=ze=>{Oa&&ze&&jV(ze)},ja=b.useCallback(ze=>{ze||eb("starter-prompts"),Sf(P.length<=0||ze.length===0),MV(!1),HUe(void 0),c&&kP("typing"),A&&h6e(),Oa&&jV(ze)},[P.length,c,A,Oa]),a_=b.useCallback(async ze=>{const{actionType:At,id:Kn,prompt:yn,uri:Br,source:Fa}=ze;switch(At){case"prefillComposer":{if(yn){tb(),Ete({prompt:yn,type:Kn,source:Fa});const Ap=rt?yn:`${yn} `;Mf(Ap),ja(Ap),setTimeout(()=>{var ho,iu;(ho=et.current)==null||ho.focus(),(iu=et.current)==null||iu.updateSelectionRange(Ap.length,Ap.length)},0)}break}case"sendMessage":{if(yn)try{q(!0),await e({text:yn,inputMethod:"text"})}finally{q(!1)}break}case"deepLink":{Br&&Br==="copilotn://voiceCall"&&await ry();break}}},[rt,ry,ja,e]),d1=(ze,At)=>{Tte({prompt:ze,prefix:At}),qd(ze)},cy=b.useCallback(ze=>{var At;Mf(ze),(At=et.current)==null||At.focus(),ja(ze),eb("starter-prompts")},[ja]),eu=b.useCallback(ze=>{var At;Mf(ze),(At=et.current)==null||At.focus(),ja(ze),Y(null),ge(null)},[ja,Y,ge]);b.useEffect(()=>{((xe==null?void 0:xe.source)==="promptInUrl"||(xe==null?void 0:xe.source)==="edgeOnAskCopilot")&&eu(xe.prompt)},[xe,eu]);const f1=b.useCallback(()=>vs(void 0),[vs]),Ip=b.useCallback((ze,At)=>{const{scenario:Kn,reasonIfSignInError:yn}=At;ze.message==="not-signed-in"?jo(yn,Kn):vs(dee(ze.message))},[jo,vs]),c_=je("local-agents"),l_=async ze=>{const At=y8e(ze),Kn=v8e(ze),yn=ze.trim();if(Q!=="daily-briefing-chat"&&(wp(),Sf(!0),MV(!1),U(!0),ee(null)),tb(),c_){if(yn.startsWith("/agent")){await _();return}if(S.endsWith("/agents"))return}Q!=="daily-briefing-chat"&&await C();try{q(!0);let Br;nn&&(Br=nn),Wt&&(Br=Wt),await e({text:yn,file:ys?void 0:Fe,inputMethod:"text",attachment:ys,scenario:At??void 0,customData:Kn??void 0,reference:Br})}catch(Br){if(Br instanceof Error){let Fa={};ys?Fa={eventInfo_uploadFileSize:ys.size,eventInfo_uploadFileType:ys.type,eventInfo_numDocumentsUploaded:1}:Fe&&(Fa={eventInfo_uploadFileSize:Fe.size,eventInfo_uploadFileType:Fe.type}),he.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"submitMessage",eventInfo_errorMessage:Br.message,eventInfo_details:"Error submitting message",...Fa}}),Ip(Br,{reasonIfSignInError:"fileUpload"})}else he.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"submitMessage",eventInfo_errorMessage:"Unknown error",eventInfo_details:"Error submitting message"}}),vs({title:t("composer.errors.default.title"),message:t("composer.errors.default.message")})}finally{q(!1),b8e()}},tu=b.useCallback(ze=>{const At=!Ye&&!l;return At&&jo("fileUpload",ze),At},[Ye,l,jo]),ly=b.useCallback(()=>{var ze;tu()||(ze=te.current)==null||ze.click()},[tu]);b.useEffect(()=>{if(Do||!i)return()=>{};const ze=async At=>{const{file:Kn,error:yn}=Y3e(At);(Kn??yn)&&(At.preventDefault(),yn?Ip(yn,{reasonIfSignInError:"fileUpload"}):Kn&&La(Kn,"pasteUpload"))};return document.addEventListener("paste",ze),()=>document.removeEventListener("paste",ze)},[La,Do,i,Ip]),b.useEffect(()=>{mn!==null&&(La(mn),Jv(null))},[mn,La,Jv]),b.useEffect(()=>{it&&!ut&&(JC({kind:"onedrive",item:it,file:new File([],it.name)},"fileUpload"),ne(null))},[it,ne,ut,JC]),b.useEffect(()=>{Ln&&$t()},[Ln]);function nu(ze){var Kn;const At=(Kn=ze.target.files)==null?void 0:Kn[0];La(At,"fileUpload")}const h1=ze=>{if(!sy||(ze.preventDefault(),tu()))return;Jl();const At=ze.dataTransfer.files[0];La(At,"dragUpload")};function uy(){Tt(!0),ee(ze=>ze==="audioSettings"?Ln||wr?(dt("close"),"daily-briefing-player"):(r_(),null):"audioSettings")}async function p1(){No&&await FV(),Or({source:"audioCallButton"}),await ry()}b.useEffect(()=>{const ze=At=>At==="start"?Qd():Fc();return Pr.on("composer:request-voice",ze),()=>Pr.off("composer:request-voice",ze)},[Fc,Qd]);const u_=b.useCallback(async()=>{var ze;try{ee(null),Y(null),p6e(),(ze=et.current)==null||ze.focus(),await _e()}finally{ur("center")}},[_e,ur,ee,Y]),d_=b.useCallback(async()=>{if(tu())return;Jl();const{file:ze,error:At}=await qOe.run({});ze?La(ze,"screenshot"):At&&vs(At)},[Jl,tu,La,vs]),Jd=async()=>{Fo(),"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(async ze=>{const{latitude:At,longitude:Kn,accuracy:yn}=ze.coords;he.trackEvent({name:"interaction",data:{eventName:"locationPrompt",eventInfo_action:"shared",eventInfo_locationAccuracy:yn}}),await ko({path:"/user/location",args:{body:{latitude:At,longitude:Kn,accuracyInMeters:yn,provider:yn<100?"gps":"wifi"}}})},ze=>{he.trackEvent({name:"interaction",data:{eventName:"locationPrompt",eventInfo_action:"denied",eventInfo_error:{code:ze.code,message:ze.message}}}),vs({title:t("composer.errors.location.title"),message:t("composer.errors.location.message")})},{enableHighAccuracy:!0})},ef=c3({from:"/",scenario:"voice"}),m1=()=>{const ze=y.jsx(Xu,{className:"end-0",data:oy,children:oy.icon});if(Q==="dismiss-audio-call-only")return ze;switch(Ld){case"requires-account":case"signed-out":return y.jsxs(y.Fragment,{children:[ze,y.jsx(T3,{className:"mx-2",title:t("voice.signUpOrLogin"),onClick:ef})]});case"time-expired-non-pro":case"time-expired-month-non-pro":return y.jsxs(y.Fragment,{children:[ze,s1]});case"time-expired":case"checking-availability":case"error":case"not-in-flight":case"throttled":case"throttled-non-pro":case"region-not-available":case"time-expired-month":case"microphone-denied":case"microphone-not-found":return ze;case"waiting-for-user-interaction":case"available":return y.jsx(ct.div,{className:fe(Q!=="audioSettings"&&"flex"),children:Q==="audioSettings"?y.jsx(Xu,{className:"end-0",data:o_,children:o_.icon}):y.jsxs(y.Fragment,{children:[ze,y.jsx(lFe,{className:"mx-2",inputVolume:n_,isMuted:t1,isOutputPlaying:Xl,coachUserUnmute:n1&&!r1&&!Yv,onClick:Xd}),y.jsx(iS,{children:y.jsx(Xu,{className:"start-0",data:{title:t("composer.voiceSettings"),isVisible:!0,onClick:uy},children:y.jsx(xo,{url:UUe,className:lS,"aria-hidden":!0})})})]})});default:return Ld}},ru=({enableActionButtons:ze})=>{let At;return Fe?At=t("userInput.messageRequiredPlaceholderText"):jc?sy?At=t("userInput.imageDropPreviewPlaceHolderText"):At=t("userInput.fileDropNotSupportedPlaceHolderText",{chatMode:rC(ms)}):No?At=t("userInput.continueConversationInputPlaceholderText"):m!=null&&m.name&&c?At=t("userInput.characterPlaceholderText",{character:m.name}):Lc?At=t("research.placeholder"):dr&&Ln&&(At=t(Q==="daily-briefing-chat"?"userInput.dailyChatInputPlaceholderText":"userInput.dailyComposerInputPlaceholderText")),y.jsxs(y.Fragment,{children:[y.jsxs(ct.div,{className:fe("w-full",{"mt-2 h-32 px-2":Gl&&!Ve,"h-auto":Ve,"h-0":!Gl&&!Ve}),layout:!0,children:[Fe&&y.jsx(LBe,{attachment:Fe,onRemove:wp,isUploading:_p}),Ve&&jd&&y.jsx(ct.div,{className:"z-10 mt-2 w-full px-2","data-testid":"browser-tabs-preview",children:y.jsx(oUe,{onClick:()=>{Hl(!0)}})})]}),y.jsx(j3,{ref:et,className:"w-auto grow",disabled:Do,inputValue:P,errorMessage:D,onClick:async()=>{!S.endsWith("/agents")&&!Ln&&!Ui&&!No&&!Ur&&(lo&&Yt({source:"composerInput",scenario:"clickNavigateToChat",pageName:"discover"}),await C())},onBlur:l1,onChange:ja,onFocus:u1,onEnter:async()=>{Lo()||await qd()},onKeyDown:Ql,onMentionIfEnabled:Ve?gs:void 0,setInput:Mf,setError:G,placeholder:At,characterLimit:V,rightButtons:ze?[y.jsx(lV,{config:f_()},"composer-action-button")]:void 0,testId:"composer-input","aria-autocomplete":"both","aria-controls":Oa?Ud:void 0})]})},f_=()=>{if(le||Lc)return{mode:"stop",onClick:r};if(Sp)return{mode:"submit",disabled:Kd,onClick:qd};if(!o&&!ea)return{mode:"microphone",onClick:p1}},h_=({showChatModeSwitcherButton:ze,showPlusButton:At,showUploadFileButton:Kn,homeButtonState:yn})=>y.jsx(ct.div,{className:"relative max-h-full w-expanded-composer max-w-chat bg-gradient-to-b from-stone-400/10 to-white/35 p-1.5 dark:from-slate-700/35 dark:to-midnight-800/65",layout:!0,style:{borderRadius:rS,boxShadow:be==="dark"?cV:aV},ref:Js.setReference,children:y.jsxs(ct.div,{className:fe(jFe),layout:!0,style:{borderRadius:MFe},children:[y.jsx(ct.div,{className:fe(LFe,DFe,jc?"before:opacity-100 before:delay-100 before:duration-200":"before:opacity-0"),layout:!0,onDragOver:Br=>Br.preventDefault(),onDrop:Br=>h1(Br),children:ru({enableActionButtons:!1})}),y.jsxs("div",{className:"flex justify-between px-2 pb-0.5",children:[y.jsxs("div",{className:"flex gap-1",children:[y.jsx(K4e,{state:yn}),y.jsxs("div",{className:"flex gap-2",children:[ze&&y.jsx(W4e,{disableChatModeSwitcher:!ea}),a1&&y.jsx(p8e,{onPrefillComposerInput:Br=>{var Fa;Mf(Br),(Fa=et.current)==null||Fa.focus(),ja(Br)},disabled:le||Lc}),c1&&y.jsx(XFe,{disabled:le||Lc})]})]}),y.jsxs("div",{className:"flex gap-2",children:[At&&y.jsx($Be,{startNewChatDisabled:Ce,onStartNewConversation:u_,onSelectFileIfEnabled:sy?ly:void 0,onSelectOneDriveFileIfEnabled:(w==null?void 0:w.provider)==="microsoft"&&d?()=>{_t(!0),Tp(null)}:void 0,onTakeScreenshot:d_,onSelectUserOpenedTabsIfEnabled:Ve?()=>{Tp(null),Hl(!0)}:void 0}),Kn&&y.jsx(g8e,{selectFile:ly}),y.jsx(lV,{config:f_()})]})]})]})}),dy=async()=>{W.scenario&&(Or({source:"signin",scenario:W.scenario}),$({isOpen:!1,scenario:null})),ty?await g({from:"/conversations",to:"/login"}):await Mo({provider:"microsoft"})};return Dd?y.jsxs(y.Fragment,{children:[$l&&y.jsx("div",{className:fe("fixed inset-0 size-full bg-stone-850/30 backdrop-blur-[10px] dark:bg-midnight-850/70")}),y.jsxs("div",{"data-testid":"composer",ref:i1,className:fe("pointer-events-none absolute bottom-0 flex",zl&&"sm:bottom-1/2 sm:translate-y-1/2 sm:pt-36",Un.composer,Wl==="side-by-side"&&Oo&&T&&!ey&&"mb-2",Wl==="side-by-side"&&Oo&&!ey&&"w-1/4 min-w-chat-side-by-side",Wl==="side-by-side"&&Oo&&"end-0 pe-1",(Wl==="chat-only"||A||!Oo)&&"w-full"),children:[y.jsx("input",{type:"file",accept:$3e.join(","),className:"hidden",ref:te,onChange:nu,"aria-hidden":"true"}),y.jsx(Rr,{children:ZC&&y.jsx(SFe,{dynamicHeight:Q===null&&!lo})}),y.jsxs(ct.div,{className:fe("relative flex w-full flex-col-reverse items-center px-3 sm:flex-col",zl?"sm:mb-0":"sm:mb-8",Xe?"mb-3":"mb-4",(Ln||wr)&&"min-w-72"),initial:p?"enter":!1,animate:"animate",variants:{enter:S8e,animate:E8e},transition:Tx,style:rK,children:[e1&&y.jsx(_i,{className:"pointer-events-auto flex h-[250px] w-full max-w-chat justify-center px-2 pb-4",initial:p?"initial":!1,children:y.jsx(BBe,{onWidgetClick:a_})}),y.jsx(Mz,{transition:M?B2e:{duration:0},children:y.jsxs(ct.div,{className:fe("relative max-h-full min-h-composer min-w-16 max-w-chat rounded-5xl",Ve&&"z-40",T&&I&&!zl&&!R&&"md:top-2"),children:[c&&zd&&y.jsx(kFe,{}),y.jsx(ct.div,{className:"absolute inset-0",layout:!0,style:{borderRadius:rS,boxShadow:Xe?OFe:RFe}}),y.jsx(Rr,{children:Xl&&y.jsx(sV,{})}),y.jsx(ct.div,{className:fe("relative",Sfe),layout:!0,style:{borderRadius:rS,boxShadow:Xe?NFe:PFe},children:y.jsxs(ct.div,{className:fe("pointer-events-auto relative flex flex-col contrast-more:border-2",Pa&&"max-w-72",$l&&qu),"data-testid":"composer-content",ref:Zd,layout:!0,style:{borderRadius:rS,boxShadow:be==="dark"?cV:aV},children:[y.jsx(Rr,{children:Xl&&y.jsx(sV,{isNested:!0})}),Q&&Q!=="daily-briefing-player"&&Q!=="dismiss-audio-call-only"&&y.jsxs(ct.div,{className:fe(!Pa&&!Yl&&Q!=="reasoning-mode-pro-subscription"&&"border-b border-black/10 dark:border-white/10",Q==="reasoning-mode-pro-subscription"&&"sm:w-think-deeper-pro-subscription",Q==="audioSettings"&&"w-settings",Yl&&Q!=="daily-briefing-chat"&&"w-prompt-sign-in",Yl&&(Q==="computer-use-task-closed"||Q==="safety-risk-card")&&"max-w-single-image",Q==="daily-briefing-chat"&&(I?"min-w-chat-side-by-side bp-960:max-w-full lg:w-expanded-composer":"w-expanded-composer")),layout:!0,children:[Q!=="dialog"&&y.jsxs(ct.div,{"data-testid":"audio-settings-dialog",className:fe("max-h-expanded-section overflow-auto",Q==="audioSettings"&&"px-2 py-4"),layout:!0,initial:Vt,animate:{...Rn,transition:{delay:zs.default}},ref:Re,children:[y.jsx(Rr,{children:Yl&&y.jsxs(iS,{children:[Q==="biometric-consent"&&y.jsx(b.Suspense,{fallback:y.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:y.jsx(Cn,{className:"size-12"})}),children:y.jsx(U8e,{onSubmit:Gd.onSubmitCallback,onCancel:Gd.onCancelCallback})}),Q==="prompt-sign-in"&&y.jsx(b.Suspense,{fallback:y.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:y.jsx(Cn,{className:"size-12"})}),children:y.jsx(OP,{header:e_,text:Ep,primaryAction:{title:t("common.loginText"),onClick:dy},testid:"prompt-sign-in-composer-action",secondaryAction:j?void 0:{onClick:Fo,title:t("common.maybeLater"),testid:"maybe-later-button"}})}),Q==="prompt-3p-sign-in"&&y.jsx(b.Suspense,{fallback:y.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:y.jsx(Cn,{className:"size-12"})}),children:y.jsx(H8e,{dismiss:Fo})}),Q==="upsell-microsoft-account-for-pro-subscription"&&y.jsx(b.Suspense,{fallback:y.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:y.jsx(Cn,{className:"size-12"})}),children:y.jsx(B8e,{dismiss:Fo,source:"Composer"})}),Q==="daily-briefing-chat"&&y.jsx(b.Suspense,{fallback:y.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:y.jsx(Cn,{className:"size-12"})}),children:y.jsx(V8e,{dismiss:Fo,inputUI:ru({enableActionButtons:!0})})}),Q==="prompt-location"&&y.jsx(b.Suspense,{fallback:y.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:y.jsx(Cn,{className:"size-12"})}),children:y.jsx(OP,{header:t("locationPermission.header"),text:t("locationPermission.text"),primaryAction:{title:t("locationPermission.share"),onClick:Jd},secondaryAction:{onClick:Fo,title:t("common.maybeLater")}})}),Q==="confirm-link-navigation"&&yp&&y.jsx(b.Suspense,{fallback:y.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:y.jsx(Cn,{className:"size-12"})}),children:y.jsx(OP,{showImage:!1,header:t("composer.linkConfirmation.header"),text:t("composer.linkConfirmation.text",{url:yp}),primaryAction:{title:t("common.continue"),onClick:()=>{Or({source:"linkNavigationConfirmButton"}),window.open(lh(J2(yp)),"_blank",Qv),Fo(),ql(void 0)}},secondaryAction:{onClick:()=>{Fo(),ql(void 0)},title:t("common.cancel")}})}),Q==="prompt-review"&&y.jsx(b.Suspense,{fallback:y.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:y.jsx(Cn,{className:"size-12"})}),children:y.jsx(F8e,{})}),Q==="cross-promo-card"&&y.jsx(b.Suspense,{fallback:y.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:y.jsx(Cn,{className:"size-12"})}),children:y.jsx(j8e,{variant:"aggressive"})}),a&&Q==="shopping-upsell-card"&&y.jsx(b.Suspense,{fallback:y.jsx(BV,{}),children:y.jsx(I8e,{onDismiss:()=>ee(null)})}),Q==="shopping-price-tracking"&&re&&y.jsx(b.Suspense,{fallback:y.jsx(BV,{}),children:y.jsx(x8e,{content:re.data,messageId:re.messageId,cardType:re.cardType,onConfirm:()=>ee("shopping-upsell-card"),onCancel:o1})}),Q==="add-to-page"&&y.jsx(b.Suspense,{fallback:y.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:y.jsx(Cn,{className:"size-12"})}),children:y.jsx(D8e,{onClose:Fo})}),Q==="safety-risk-card"&&y.jsx(b.Suspense,{fallback:y.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:y.jsx(Cn,{className:"size-12"})}),children:y.jsx(L8e,{})}),Q==="computer-use-task-closed"&&y.jsx(b.Suspense,{fallback:y.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:y.jsx(Cn,{className:"size-12"})}),children:y.jsx(M8e,{})}),Q==="over-task-quota"&&y.jsx(b.Suspense,{fallback:y.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:y.jsx(Cn,{className:"size-12"})}),children:y.jsx(N8e,{})})]})}),Q==="audioSettings"&&y.jsx(iS,{children:y.jsx(b.Suspense,{fallback:y.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:y.jsx(Cn,{className:"size-12"})}),children:y.jsx(P8e,{onVoiceSelected:i_,onVoiceSpeedChange:i_})})}),Q==="reasoning-mode-pro-subscription"&&y.jsx(b.Suspense,{fallback:y.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:y.jsx(Cn,{className:"size-12"})}),children:y.jsx(O8e,{})}),uo&&y.jsx(iS,{children:y.jsx(b.Suspense,{fallback:y.jsx("div",{className:"flex max-h-expanded-section w-prompt-sign-in flex-col overflow-auto rounded-t-5xl p-5 sm:w-checkout-composer",children:y.jsx("div",{className:"flex h-expanded-composer-fallback items-center justify-center",children:y.jsx(Cn,{className:"size-12"})})}),children:y.jsx(C8e,{})})})]}),Pa&&fo&&Ma&&y.jsx(UFe,{titleKey:fo.titleKey,textKey:fo.textKey,buttonTextKey:fo.buttonTextKey,onClick:fo.onClick,button:Ma.button,cancelButton:Ma.cancelButton,closeDialogCallback:Ma.closeDialogCallback})]}),(Ln&&Q!=="daily-briefing-chat"||wr)&&y.jsx(b.Suspense,{fallback:y.jsx("div",{className:"flex h-composer w-daily-briefing items-center justify-center",children:y.jsx(Cn,{className:"size-12"})}),children:y.jsx(z8e,{onDismissAudioSettingClick:()=>uy(),isPodcast:wr,inputUI:dr&&!wr?ru({enableActionButtons:!1}):void 0})}),Sn&&(!Q||Q==="audioSettings"||Q==="dismiss-audio-call-only")&&y.jsx("div",{className:"flex justify-center p-2",children:m1()}),Xv&&h_({showChatModeSwitcherButton:!Zl,showPlusButton:!Zl,showUploadFileButton:Zl&&!o,homeButtonState:Hd||Zl?"hidden":((fy=Qe.instance().config().composer)==null?void 0:fy.homeButtonState)??"enabled"}),tt&&y.jsxs(ct.div,{className:fe("relative flex max-h-full max-w-chat justify-center",!Q&&"p-2",!Pa&&"h-composer"),layout:!0,children:[y.jsx(Xu,{data:s_,children:s_.icon}),Dt&&y.jsx(EUe,{onClick:Mt})]}),ut&&y.jsx(l8e,{onPick:ze=>{ne(ze)},onClose:()=>{_t(!1)},onError:ze=>{vs(ze)}}),Ve&&fr&&y.jsx(SUe,{onSave:Jx,styles:wi,onRef:Js.setFloating,setIsMultiTabMenuExpanded:Hl})]})})]})}),zl&&y.jsxs(_i,{id:N,className:fe("pointer-events-auto flex h-[150px] w-full max-w-chat flex-none items-end px-2 sm:flex-initial sm:items-start",Un.composerBottomSlot),delay:.2,initial:p?"initial":!1,children:[N==="autosuggest"&&Oa&&y.jsx(b.Suspense,{fallback:null,children:y.jsx(A8e,{id:Ud,dataResponse:Zv,onClick:(ze,At)=>d1(ze,At),onHighlight:ze=>Mf(ze),onDismiss:tb,className:"mb-3 sm:mb-0 sm:mt-3",ref:Vd})}),N==="actions-autosuggest"&&y.jsx(b.Suspense,{fallback:null,children:y.jsx(k8e,{onClick:ze=>cy(ze)})}),N==="starter-prompts"&&gp&&y.jsx(jBe,{className:"sm:mt-8",onWidgetClick:a_})]})]})]}),bp&&y.jsx(b.Suspense,{fallback:null,children:y.jsx(R8e,{dismissable:!0,dissmissAfter:10*1e3,dismiss:f1,title:bp.title,message:bp.message})})]}):null}function Ite(t){const e=je("force-cookie-banner-location");return(t&&AI.includes(t))===!0||e}function W8e(t){const{isChecked:e,label:n,description:r,className:i,onChange:o,accessory:s,disabled:a}=t,c=b.useId(),[l,d]=b.useState(!1),p=()=>d(!0),m=()=>d(!1),{focusable:g}=gv({autoRestoreFocus:!0,forceFocus:!0});let C=e?"bg-green-400":"bg-black/20 dark:bg-white/20";return a&&(C="bg-black/20 after:bg-white/40 dark:bg-white/20 dark:after:bg-black/40"),y.jsxs("label",{className:fe("flex items-center justify-between gap-4",!a&&"cursor-pointer",i),htmlFor:c,ref:g.ref,children:[y.jsxs("div",{className:"flex flex-1 flex-col",children:[y.jsx("span",{className:"text-foreground-800 text-sm",children:n}),r&&y.jsx("span",{className:"font-medium text-foreground-450 text-xs",children:r})]}),y.jsxs("span",{className:"flex flex-row items-center gap-2",children:[s,y.jsx("input",{id:c,type:"checkbox",title:n,checked:e,onChange:_=>o(_.target.checked),onFocus:p,onBlur:m,className:"sr-only",disabled:a}),y.jsx("div",{className:fe("relative h-6 w-10 rounded-full","after:absolute after:start-[2px] after:top-[2px] after:size-5 after:rounded-full after:transition-all contrast-more:forced-color-adjust-none",C,!a&&"after:bg-white after:shadow-switch after:hover:scale-110 after:active:w-6",e&&"after:translate-x-4",e&&!a&&"after:active:translate-x-3",l&&"outline")})]})]})}function K8e(){const t=Ra("kill-cookie-banner"),e=oe(fs),[n,r]=Lt(vD),[i,o]=b.useState("main"),[s,a]=b.useState(!1),[c,l]=b.useState(!1),[d,p]=b.useState(!1),m=Ite(e),g=!!lq(),C=!t&&m&&!g&&!n;if(b.useEffect(()=>{C&&he.trackEvent({name:"system",data:{eventName:"cookieBannerShown",eventInfo_region:e}})},[e,C]),!C)return null;const _=S=>{he.trackEvent({name:"interaction",data:{eventName:"cookieBannerChoice",eventInfo_analytics:S.analytics,eventInfo_advertising:S.advertising,eventInfo_socialMedia:S.socialMedia}}),a_e(S),r(!0)};return y.jsxs("div",{className:"pointer-events-none absolute inset-x-0 top-0 flex w-full justify-center p-3",children:[y.jsx("div",{className:"absolute top-0 h-3.5 w-full bg-stone-150 opacity-90 dark:bg-midnight-850"}),y.jsx("div",{className:fe("relative w-full max-w-cookie-banner rounded-xl border border-black/5 shadow-xl dark:border-black/40",kc,Un.modal),children:y.jsxs("div",{className:"pointer-events-auto relative max-h-[90vh] overflow-auto p-5",id:"cookie-banner",children:[i==="main"&&y.jsxs("div",{className:"flex flex-col gap-4",children:[y.jsx("h3",{className:"text-md",children:Ae("cookies.heading")}),y.jsxs("div",{className:"flex flex-col gap-x-8 gap-y-6 text-2xs sm:flex-row",children:[y.jsxs("div",{className:"flex flex-col gap-x-5 gap-y-4 text-2xs sm:flex-row",children:[y.jsx("p",{children:Ae("cookies.bannerIntro")}),y.jsxs("p",{children:[Ae("cookies.bannerExplanation"),y.jsx(Ju,{href:cv,title:Ae("cookies.privacyLink"),className:"ps-1 underline",children:Ae("cookies.privacyLink")})]})]}),y.jsxs("div",{className:"flex min-w-44 shrink-0 grow flex-col gap-2",children:[y.jsx(lt,{variant:"rect",size:"32-xs",onClick:()=>_({analytics:!0,advertising:!0,socialMedia:!0}),title:Ae("cookies.accept"),testId:"cookie-banner-accept-button",children:Ae("cookies.accept")}),y.jsx(lt,{variant:"rect",size:"32-xs",onClick:()=>_({analytics:!1,advertising:!1,socialMedia:!1}),title:Ae("cookies.reject"),testId:"cookie-banner-reject-button",children:Ae("cookies.reject")}),y.jsx(lt,{variant:"rect",color:"subtle-dimmed",size:"32-xs",onClick:()=>{o("more-options")},title:Ae("cookies.moreOptions"),testId:"cookie-banner-options-button",children:Ae("cookies.moreOptions")})]})]})]}),i==="more-options"&&y.jsxs("div",{className:"flex flex-col",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx(lt,{title:Ae("common.backText"),variant:"circle",color:"subtle-dimmed",size:"32-xs",onClick:()=>o("main"),children:y.jsx(Xh,{className:"rotate-180"})}),y.jsx("h3",{className:"ps-3 text-md",children:Ae("cookies.moreOptionsHeading")})]}),y.jsx("p",{className:"py-3 text-2xs",children:Ae("cookies.essentialCookiesExplanation")}),y.jsx(NP,{label:Ae("cookies.advertisingLabel"),explanation:Ae("cookies.advertisingDescription"),isChecked:c,onChange:()=>l(S=>!S)}),y.jsx(NP,{label:Ae("cookies.analyticsLabel"),explanation:Ae("cookies.analyticsDescription"),isChecked:s,onChange:()=>a(S=>!S)}),y.jsx(NP,{label:Ae("cookies.socialMediaLabel"),explanation:Ae("cookies.socialMediaDescription"),isChecked:d,onChange:()=>p(S=>!S)}),y.jsx("div",{className:"flex justify-end",children:y.jsx(lt,{variant:"rect",size:"36-sm",className:"w-fit px-7",onClick:()=>{_({analytics:s,advertising:c,socialMedia:d})},title:Ae("cookies.savePreferences"),children:Ae("cookies.savePreferences")})})]})]})})]})}function NP(t){const{label:e,explanation:n,isChecked:r,onChange:i}=t;return y.jsxs(y.Fragment,{children:[y.jsx(_3,{horizontalMargin:!1}),y.jsx(W8e,{label:e,className:"w-full py-2 pe-1",isChecked:r,onChange:i}),y.jsx("p",{className:"pb-4 pt-1 text-2xs",children:n})]})}function G8e(){const[t,e]=b.useState(!0),n=oe(sl),r=ate(),i=b.useMemo(()=>n==null?void 0:n.images,[n]),o=b.useMemo(()=>({title:n==null?void 0:n.title,subTitle:n==null?void 0:n.subTitle}),[n]),a=oe(Rd)==="dark"?i==null?void 0:i.dark:i==null?void 0:i.light,c=o;b.useEffect(()=>{zm({name:"interaction",status:"Shown",eventName:"crossPromotionStripCard",source:"bottomRightCard"})},[]);const l=()=>{e(!1),r()};return n===null||!t?null:y.jsx(_i,{mode:"sync",className:"fixed bottom-5 end-5 z-[1000]",children:y.jsxs("div",{className:fe("flex h-32 w-96 flex-col justify-center rounded-5xl border border-white bg-background-100 p-3 dark:border-white/5 dark:bg-background-250"),children:[y.jsxs("div",{className:"flex items-center",children:[a&&y.jsx("img",{src:a,alt:Ae("crossSelling.imageAlt"),className:"size-24 rounded-lg object-cover"}),y.jsxs("div",{className:"ml-3 mr-6",children:[y.jsx("div",{className:"mb-1 text-sm",children:y.jsx("strong",{children:c.title})}),y.jsx("div",{className:"text-sm",children:c.subTitle})]})]}),y.jsx("div",{className:"absolute end-1.5 top-1.5 flex self-start",children:y.jsx(lt,{title:Ae("common.closeText"),variant:"square",color:"subtle-dimmed","aria-label":Ae("common.closeText"),onClick:l,className:"flex size-8 items-center justify-center p-1.5",children:y.jsx(Hs,{className:"m-0 size-5 self-center p-0"})})})]})})}function YV({icon:t,text:e,buttonText:n,buttonColor:r,buttonOnClick:i,className:o=""}){return y.jsxs("div",{className:fe("flex items-center justify-between",o),children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"flex size-10 items-center justify-center rounded-[8.5px] border border-black/10 bg-background-200 dark:border-white/10",children:y.jsx("div",{className:"m-1 size-6",children:t})}),y.jsx("p",{className:"text-base",children:e})]}),y.jsx(lt,{className:"h-10 w-24",color:r,title:n,"aria-label":n,variant:"rect",onClick:i,children:n})]})}const xte=t=>b.createElement("svg",{viewBox:"0 0 192 192",xmlns:"http://www.w3.org/2000/svg",fill:"none",...t},b.createElement("circle",{cx:96,cy:96,r:74,stroke:"currentColor",strokeWidth:12}),b.createElement("ellipse",{cx:96,cy:96,stroke:"currentColor",strokeWidth:12,rx:30,ry:74}),b.createElement("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:12,d:"M28 72h136M28 120h136"})),wqe=Object.freeze(Object.defineProperty({__proto__:null,default:xte},Symbol.toStringTag,{value:"Module"})),q8e="https://ercz.adj.st/home?network=1g17o7tz&campaign=1gl0zo0u&adj_t=1gl0zo0u&adj_deep_link=sapphirecopilot%3A%2F%2Fhome%3Fnetwork%3D1g17o7tz%26campaign%3D1gl0zo0u&adj_redirect_android=https%3A%2F%2Fplay.google.com%2Fstore%2Fapps%2Fdetails%3Fid%3Dcom.microsoft.copilot&adj_redirect_ios=https%3A%2F%2Fapps.apple.com%2Fus%2Fapp%2Fmicrosoft-copilot%2Fid6472538445%3Fct%3DCMC_Copilot_ContinueChatting%26pt%3D80423";function Y8e(){const t=N3(),e=mq(),n=hq(),r=C_e(),i=b.useRef(null),[o,s]=b.useState(!1),a=oe(tx),c=oe(Nv),l=oe(Iq);b.useEffect(()=>{if(!l||!a||c||t||n||r||!e){s(!1);return}const m=ir(Z8),g=ir(WR),C=!WT(m,3*wE),_=m3(g,3);C||_?(s(!0),zm({name:"system",status:"Shown",eventName:"copilotMobileCrossSelling"})):zm({name:"system",status:"TriggeredButSnoozed",eventName:"copilotMobileCrossSelling"})},[c,t,n,r,a,l,e]);const d=()=>{Ci(Z8,Date.now().toString());const m=ir(WR);Ci(WR,`${parseInt(m??"0",10)+1}`),s(!1),zm({name:"interaction",status:"Dismissed",eventName:"copilotMobileCrossSelling"})},p=()=>{window.open(q8e),s(!1),zm({name:"interaction",status:"Clicked",eventName:"copilotMobileCrossSelling"})};return o?y.jsx(_i,{mode:"sync",className:fe("relative",Un.modal),children:y.jsx("div",{className:"fixed inset-0 grid bg-stone-850/30 dark:bg-midnight-850/70",children:y.jsx("div",{ref:i,className:"mb-0 h-fit w-full self-end justify-self-center rounded-t-3xl border border-white/10 bg-background-200 p-2 contrast-more:border-2 md:mb-5 md:w-fit md:rounded-3xl",children:y.jsxs("div",{className:"mx-3 mb-6 mt-3 flex flex-col gap-4",children:[y.jsx("div",{className:"text-md md:text-center",children:Ae("crossSelling.header")}),y.jsx(YV,{icon:y.jsx(GC,{}),text:Ae("crossSelling.copilotApp"),buttonText:Ae("common.open"),buttonColor:"strong",buttonOnClick:p,className:"gap-14"}),y.jsx(YV,{icon:y.jsx(xte,{}),text:Ae("crossSelling.browser"),buttonText:Ae("common.continue"),buttonColor:"subtle-bright",buttonOnClick:d,className:"gap-14"})]})})})}):null}function Q8e(){b.useEffect(()=>{const t=document.activeElement;return()=>{t.focus()}},[])}const Ate=t=>b.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...t},b.createElement("path",{d:"M3.28034 2.21968C2.98745 1.92678 2.51257 1.92677 2.21968 2.21966C1.92678 2.51255 1.92677 2.98743 2.21966 3.28032L3.48326 4.54395C3.17684 5.03983 3 5.62426 3 6.25V17.75C3 19.5449 4.45507 21 6.25 21H17.75C18.3757 21 18.96 20.8232 19.4559 20.5169L20.7194 21.7805C21.0123 22.0734 21.4872 22.0734 21.7801 21.7805C22.073 21.4876 22.073 21.0127 21.7801 20.7198L3.28034 2.21968ZM11.1189 12.1797C10.8678 12.2864 10.6322 12.4409 10.4258 12.643L4.60326 18.3437C4.53643 18.1583 4.5 17.9584 4.5 17.75V6.25C4.5 6.0437 4.5357 5.84574 4.60125 5.66196L11.1189 12.1797ZM19.5 6.25V16.3183L20.9993 17.8176C20.9998 17.7951 21 17.7726 21 17.75V6.25C21 4.45507 19.5449 3 17.75 3H6.25C6.2275 3 6.20505 3.00023 6.18265 3.00068L7.68194 4.5H17.75C18.7165 4.5 19.5 5.2835 19.5 6.25ZM18.3305 19.4014C18.1489 19.4653 17.9535 19.5 17.75 19.5H6.25C6.04613 19.5 5.8504 19.4651 5.66845 19.4011L11.4752 13.7148L11.5588 13.644C11.8501 13.4316 12.2596 13.4553 12.5247 13.7148L18.3305 19.4014ZM15.2521 6.5C16.4959 6.5 17.5042 7.50831 17.5042 8.75212C17.5042 9.99592 16.4959 11.0042 15.2521 11.0042C14.0083 11.0042 13 9.99592 13 8.75212C13 7.50831 14.0083 6.5 15.2521 6.5ZM15.2521 8C14.8367 8 14.5 8.33673 14.5 8.75212C14.5 9.1675 14.8367 9.50423 15.2521 9.50423C15.6675 9.50423 16.0042 9.1675 16.0042 8.75212C16.0042 8.33673 15.6675 8 15.2521 8Z",fill:"currentColor"})),Sqe=Object.freeze(Object.defineProperty({__proto__:null,default:Ate},Symbol.toStringTag,{value:"Module"}));function X8e(t,e=200,n=50){const[r,i]=b.useState(!1),[o,s]=b.useState(null);return b.useEffect(()=>{let a;if(!t)a=setTimeout(()=>{i(!0),s(Date.now())},e);else if(r){const c=o?Date.now()-o:1/0,l=n-c;l>0?a=setTimeout(()=>{i(!1),s(null)},l):(i(!1),s(null))}return()=>{clearTimeout(a)}},[t,e,n,r,o]),r}function Z8e(t){const{onError:e,onLoad:n,loadingPlaceholder:r,alt:i,errorClass:o,className:s,src:a,fallbackSrc:c,...l}=t,[d,p]=b.useState(!1),[m,g]=b.useState(!1),[C,_]=b.useState(!1),S=X8e(m);if(b.useEffect(()=>{p(!1),g(!1),_(!1)},[a]),d)return y.jsx(J8e,{className:o});const w=C&&c?c:a;return y.jsxs(y.Fragment,{children:[S&&(r==null?void 0:r()),b.createElement("img",{...l,alt:i,key:w,src:w,className:fe(s,!m&&r&&"hidden"),onLoad:T=>{g(!0),n==null||n(T)},onError:T=>{c&&!C?_(!0):p(!0),e==null||e(T)}})]})}function J8e(t){const{className:e}=t;return y.jsx("div",{className:fe("flex size-full items-center justify-center",fte,e),children:y.jsx(Ate,{})})}function e9e(t){const{className:e}=t;return y.jsx(Rr,{children:y.jsx(b.Suspense,{fallback:y.jsx("div",{"aria-hidden":!0}),children:y.jsx(ct.div,{className:fe(e,"flex size-full items-center justify-center"),"aria-hidden":!0,children:y.jsx(Cn,{type:"spinnerThemed",className:"size-11 text-center",rendererSettings:{preserveAspectRatio:"xMidYMid slice"}})})})})}function t9e(t){const e=cn(sn);he.trackEvent({name:"system",data:{eventName:"clientImageError",eventInfo_url:t,eventInfo_conversationId:e}})}const n9e=b.lazy(()=>de(()=>import("./video-player-v_Kk6WSl.js"),__vite__mapDeps([270,271,272,273])).then(t=>({default:t.VideoPlayer})));function r9e(){const{closeMediaViewer:t,isMediaViewerOpen:e}=Nd(),n=oe(zv),r=n==null?void 0:n.media[n.currentMediaIndex],i=b.useRef(null),{t:o}=pt();yx(()=>{t()}),Q8e(),$v(i);const s=b.useCallback(l=>{l.key==="Escape"&&e&&t()},[t,e]);if(Md(s),!n||!r)return null;const a=n.media.length>1,c=o("mediaViewer.mediaCountOfTotal",{count:n.currentMediaIndex+1,total:n.media.length});return r.type==="custom-view"?y.jsxs("div",{className:fe("pointer-events-auto absolute inset-0",Un.mediaViewer),ref:i,tabIndex:-1,children:[n.hasBackgroundForCustomView&&y.jsx(Ll,{}),y.jsx("div",{className:fe("absolute inset-x-0 bottom-0 overflow-auto",n.customViewTopClass??"top-16"),children:r.render()})]}):y.jsxs("div",{className:fe("pointer-events-auto absolute inset-0 flex justify-center overflow-auto"),ref:i,tabIndex:-1,children:[y.jsx(Ll,{}),y.jsx(Wv,{msg:c}),y.jsx("div",{className:"relative h-full max-w-full px-2 pb-[144px] pt-[88px] sm:px-[104px]",children:y.jsxs("div",{className:"flex h-full min-h-[200px] flex-col items-center justify-center overflow-auto",children:[y.jsxs("div",{className:fe("flex min-h-14 w-full gap-4",n.isCurrentMediaLoading&&"hidden"),children:[y.jsx("div",{className:"flex min-w-0 flex-1 flex-col gap-1",children:y.jsx(i9e,{})}),a&&y.jsx("div",{className:"flex shrink-0 justify-end text-xs",children:c})]}),y.jsx(o9e,{})]})}),a&&y.jsx(s9e,{})]})}function i9e(){var n,r;const t=oe(zv),e=t==null?void 0:t.media[t.currentMediaIndex];return!e||e.type==="custom-view"?null:e.type==="card"?e.renderHeader():y.jsxs(y.Fragment,{children:[((n=e.source)==null?void 0:n.title)&&y.jsx("div",{className:"truncate text-xs",children:e.source.title}),((r=e.source)==null?void 0:r.url)&&y.jsxs("div",{className:"flex text-2xs",children:[e.source.iconUrl&&y.jsx("img",{src:e.source.iconUrl,alt:e.source.title,className:"mr-2 inline-block size-4 rounded-full"}),y.jsx("a",{href:e.source.url,className:"block truncate",children:gO(e.source.url)})]})]})}function o9e(){var a,c;const[t,e]=Ope(zv),n=b.useRef(null),r=je("image-fallback-thumbnail"),i=t==null?void 0:t.media[t.currentMediaIndex];b.useEffect(()=>{n.current&&e(l=>{if(l){const d=l.media[l.currentMediaIndex];d&&d.type==="video"&&n.current&&(d.player=n.current)}})},[n,e]);const o=b.useCallback(l=>{e(d=>{d&&(d.isCurrentMediaLoading=!l)})},[e]);if(!i)return null;const s=()=>y.jsx(e9e,{});switch(i.type){case"card":return i.renderCard();case"image":return y.jsx(Z8e,{loadingPlaceholder:s,src:i.url,fallbackSrc:r?i.thumbnailUrl:void 0,alt:i.altText,referrerPolicy:"no-referrer",errorClass:"h-[calc(100%-56px-44px)] squircle-16 aspect-video",onError:()=>t9e(i.url),onLoad:()=>o(!0),className:fe("max-h-[calc(100%-56px-44px)] squircle-16")},i.url?i.url:Math.random());case"video":return y.jsx(Qx,{background:i.isShort?"transparent":"default",className:"flex size-full max-h-[calc(100%-56px-32px)] max-w-full",label:(a=i.source)==null?void 0:a.title,size:i.moments&&i.moments.length>0?"md":"xs",children:y.jsx(b.Suspense,{fallback:y.jsx("div",{className:"flex size-full items-center justify-center",children:y.jsx(Cn,{className:"size-12"})}),children:y.jsx(n9e,{isShort:i.isShort,url:i.url,title:((c=i.source)==null?void 0:c.title)??"",bestMomentIndex:i.bestMomentIndex,moments:i.moments,autoPlay:!0,allowFullScreen:!0,ref:n})})});default:return null}}function s9e(){const t=oe(zv),{next:e,previous:n}=Nd(),{t:r}=pt(),i=b.useCallback(a=>{a.key==="ArrowRight"?e():a.key==="ArrowLeft"&&n()},[e,n]);if(Md(i),!t)return null;const o=t.currentMediaIndex>0,s=t.currentMediaIndex<t.media.length-1;return y.jsxs(y.Fragment,{children:[y.jsx(QV,{title:r("mediaViewer.control.previousMedia"),onClick:n,disabled:!o,className:"start-4 sm:start-7",children:y.jsx(Xh,{className:"size-6 rotate-180"})}),y.jsx(QV,{title:r("mediaViewer.control.nextMedia"),onClick:e,disabled:!s,className:"end-4 sm:end-7",children:y.jsx(Xh,{className:"size-6"})})]})}function QV(t){const{onClick:e,disabled:n,children:r,title:i,className:o}=t,s=gi({breakpoint:"sm"});return y.jsx("div",{className:fe("absolute top-[calc(50%-20px)]",Un.mediaViewer,o),children:y.jsx(lt,{size:s?"40-base":"48-lg",variant:"circle",color:s?"acrylic-thin":"subtle-dimmed-inverted",title:i,onClick:e,disabled:n,children:r})})}function a9e({pixelUrl:t,onComplete:e}){return b.useEffect(()=>{const n=setTimeout(()=>{e()},3e3);return()=>{clearTimeout(n)}},[t,e]),y.jsx("img",{className:"hidden",src:t,width:"1",height:"1",alt:"",referrerPolicy:"no-referrer-when-downgrade",onLoad:e,onError:e})}function c9e(){const t=je("ads-pixels"),[e,n]=Lt(Oq),r=oe(vD),i=oe(fs),o=(i&&AI.includes(i))===!0,s=b.useMemo(()=>AC(),[r]),a=!o||s.advertising;if(!t||!a)return null;const c=Object.values(e).filter(l=>l.isMounted).map(l=>l.url);return y.jsx("div",{className:"absolute start-[-9999px] top-[-9999px] size-px overflow-hidden",children:c.map(l=>y.jsx(a9e,{pixelUrl:l,onComplete:()=>n(d=>d[l]?{...d,[l]:{...d[l],isMounted:!1}}:d)},l))})}function l9e({onClick:t}){return y.jsx("div",{className:"absolute end-0 top-0 z-10 p-1 rtl:right-auto",children:y.jsx(lt,{title:Ae("product.dismiss"),"aria-label":Ae("product.dismiss"),variant:"rect",color:"subtle-bright-inverted",size:"32-xs",onClick:t,children:y.jsx(Hs,{className:"size-4"})})})}const u9e=["overflow-hidden","rounded-[20px]","border","border-solid","border-white/20","shadow-[0px_6px_12px_0px_rgba(0,0,0,0.08)]","backdrop-blur-[30px]","bg-acrylic-default-tint-light/95","dark:bg-acrylic-default-tint-dark/95"];function d9e(t){const{title:e,subtitle:n,dismiss:r,link:i,dismissable:o=!0,className:s,Icon:a,iconClassName:c,isRTL:l,onClick:d}=t,p=n??i?y.jsxs(y.Fragment,{children:[typeof n=="string"?`${n} `:null,i&&y.jsx("span",{className:"font-sans font-normal leading-5 text-salmon-550 underline text-sm",role:"button",tabIndex:0,"aria-label":i,children:i})]}):null;return y.jsx("div",{className:fe("pointer-events-none absolute start-1/2 top-5 -translate-x-1/2",Un.toastNotification,s),children:y.jsx(Rr,{children:y.jsxs(ct.div,{className:fe("pointer-events-auto","relative",u9e,d&&"cursor-pointer"),initial:{opacity:0,y:-40,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-40,scale:.98},transition:{type:"spring",stiffness:400,damping:30},onClick:d,children:[o&&y.jsx(l9e,{onClick:r}),y.jsx("div",{className:fe("flex","flex-col","items-center","justify-center","py-2","ps-2","pe-1.5",{"w-[min(381px,100vw)]":!!p}),children:y.jsxs("div",{className:fe("relative flex w-full items-center p-0",{"gap-x-3":a,"flex-row-reverse":a&&l}),children:[a&&y.jsx("div",{className:"flex size-16 shrink-0 items-center justify-center rounded-md border border-black/8",children:y.jsx(a,{className:c})}),y.jsxs("div",{className:fe("flex flex-1 flex-col justify-center py-1",{"ps-4":!a&&p,"pe-10":o&&p,"px-4":!p}),children:[y.jsx("header",{className:fe("flex w-full overflow-hidden pb-1",{"items-center":!!p,"items-center justify-center":!p}),children:y.jsx("h2",{className:fe("font-sans text-foreground-750",{"text-base-strong":!!p,"text-sm":!p}),children:e})}),p&&y.jsx("p",{className:"w-full font-sans font-normal leading-5 text-foreground-700 text-sm",children:p}),y.jsx(Wv,{msg:`${e??""} ${typeof n=="string"?n:""}`,type:"assertive"})]})]})})]})},e)})}function f9e(){const[t,e]=Lt(p3),n=$5(),r=$q(),i=ds(),{openMediaViewer:o}=Nd(),s=We(Ks),a=b.useCallback(()=>{t!=null&&t.trackingArgs&&Yt({source:"toastNotification",scenario:t.trackingArgs.scenario,customData:t.trackingArgs.customData})},[t]),c=b.useCallback(()=>{e(null)},[e]),l=b.useCallback(()=>{if(!(t!=null&&t.action))return;a();const{action:d}=t;switch(d.type){case"SWITCH_CONVERSATION":r({id:d.conversationId});break;case"GO_TO_PAGE":i({from:window.location.pathname,to:d.to});break;case"OPEN_URL":window.open(d.target,"_blank","noopener,noreferrer");break;case"OPEN_MEDIA_VIEWER":o(d.mediaViewerParams);break;case"EXPAND_COMPOSER":s(d.composerSection);break}c()},[t,a,c,r,i,o,s]);return b.useEffect(()=>{let d;return t!=null&&t.dismissAfter&&(d=window.setTimeout(c,t.dismissAfter)),()=>clearTimeout(d)},[t,c]),t?y.jsx(d9e,{title:t.title,subtitle:t.subtitle,link:t.link,dismissable:t.dismissable,className:t.className,Icon:t.iconProvider,dismiss:d=>{d==null||d.stopPropagation(),c()},isRTL:n,onClick:t.action?l:void 0}):null}function h9e(){var i;const t=je("top-banner-upgrade-surface-app"),e=(i=Qe.instance().config().uiOverrides)==null?void 0:i.showUpgradeAppTopBanner,n=t&&e;b.useEffect(()=>{n&&he.trackEvent({name:"system",data:{eventName:"upgradeSurfaceApp",eventInfo_status:"Shown"}})},[n]);const r=()=>{he.trackEvent({name:"interaction",data:{eventName:"upgradeSurfaceApp",eventInfo_status:"Clicked"}}),window.open("macappstore://apps.apple.com/app/id6738511300")};return n?y.jsxs("div",{className:"pointer-events-none absolute inset-x-0 top-0 flex w-full justify-center p-3",children:[y.jsx("div",{className:"absolute top-0 h-3.5 w-full bg-stone-150 opacity-90 dark:bg-midnight-850"}),y.jsx("div",{className:fe("relative w-full max-w-cookie-banner rounded-xl border border-black/5 shadow-xl dark:border-black/40",kc,Un.modal),children:y.jsx("div",{className:"pointer-events-auto relative max-h-[90vh] overflow-auto p-5",id:"cookie-banner",children:y.jsxs("div",{className:"flex flex-col gap-4",children:[y.jsx("h3",{className:"text-md",children:Ae("upgradeSurface.heading")}),y.jsxs("div",{className:"flex flex-col gap-x-8 gap-y-6 text-2xs sm:flex-row",children:[y.jsxs("div",{className:"flex flex-col gap-x-5 gap-y-4 text-2xs sm:flex-row",children:[y.jsx("p",{children:Ae("upgradeSurface.primaryDescription")}),y.jsx("p",{children:Ae("upgradeSurface.secondaryDescription")})]}),y.jsx("div",{className:"flex min-w-44 shrink-0 grow flex-col justify-center gap-2",children:y.jsx(lt,{variant:"rect",size:"32-xs",onClick:r,title:Ae("upgradeSurface.buttonText"),children:Ae("upgradeSurface.buttonText")})})]})]})})})]}):null}function p9e(t){const{children:e}=t,n=gi({breakpoint:"md"}),r=Po();return y.jsxs("div",{className:"relative h-full overflow-hidden",children:[y.jsx("div",{className:fe("absolute size-full",r&&!n&&"t-main-clip-path"),children:y.jsx(Ll,{isFixed:!0})}),y.jsx("div",{className:fe("relative size-full overflow-hidden",r&&!n&&"rounded-[10px]"),children:e})]})}var MP={exports:{}},XV;function m9e(){return XV||(XV=1,function(t){var e=function(){function n(m,g){return g!=null&&m instanceof g}var r;try{r=Map}catch{r=function(){}}var i;try{i=Set}catch{i=function(){}}var o;try{o=Promise}catch{o=function(){}}function s(m,g,C,_,S){typeof g=="object"&&(C=g.depth,_=g.prototype,S=g.includeNonEnumerable,g=g.circular);var w=[],T=[],I=typeof Buffer<"u";typeof g>"u"&&(g=!0),typeof C>"u"&&(C=1/0);function A(k,R){if(k===null)return null;if(R===0)return k;var M,P;if(typeof k!="object")return k;if(n(k,r))M=new r;else if(n(k,i))M=new i;else if(n(k,o))M=new o(function(j,V){k.then(function(K){j(A(K,R-1))},function(K){V(A(K,R-1))})});else if(s.__isArray(k))M=[];else if(s.__isRegExp(k))M=new RegExp(k.source,p(k)),k.lastIndex&&(M.lastIndex=k.lastIndex);else if(s.__isDate(k))M=new Date(k.getTime());else{if(I&&Buffer.isBuffer(k))return Buffer.allocUnsafe?M=Buffer.allocUnsafe(k.length):M=new Buffer(k.length),k.copy(M),M;n(k,Error)?M=Object.create(k):typeof _>"u"?(P=Object.getPrototypeOf(k),M=Object.create(P)):(M=Object.create(_),P=_)}if(g){var N=w.indexOf(k);if(N!=-1)return T[N];w.push(k),T.push(M)}n(k,r)&&k.forEach(function(j,V){var K=A(V,R-1),z=A(j,R-1);M.set(K,z)}),n(k,i)&&k.forEach(function(j){var V=A(j,R-1);M.add(V)});for(var D in k){var G;P&&(G=Object.getOwnPropertyDescriptor(P,D)),!(G&&G.set==null)&&(M[D]=A(k[D],R-1))}if(Object.getOwnPropertySymbols)for(var U=Object.getOwnPropertySymbols(k),D=0;D<U.length;D++){var W=U[D],$=Object.getOwnPropertyDescriptor(k,W);$&&!$.enumerable&&!S||(M[W]=A(k[W],R-1),$.enumerable||Object.defineProperty(M,W,{enumerable:!1}))}if(S)for(var L=Object.getOwnPropertyNames(k),D=0;D<L.length;D++){var B=L[D],$=Object.getOwnPropertyDescriptor(k,B);$&&$.enumerable||(M[B]=A(k[B],R-1),Object.defineProperty(M,B,{enumerable:!1}))}return M}return A(m,C)}s.clonePrototype=function(g){if(g===null)return null;var C=function(){};return C.prototype=g,new C};function a(m){return Object.prototype.toString.call(m)}s.__objToStr=a;function c(m){return typeof m=="object"&&a(m)==="[object Date]"}s.__isDate=c;function l(m){return typeof m=="object"&&a(m)==="[object Array]"}s.__isArray=l;function d(m){return typeof m=="object"&&a(m)==="[object RegExp]"}s.__isRegExp=d;function p(m){var g="";return m.global&&(g+="g"),m.ignoreCase&&(g+="i"),m.multiline&&(g+="m"),g}return s.__getRegExpFlags=p,s}();t.exports&&(t.exports=e)}(MP)),MP.exports}var g9e=m9e();const ZV=uC(g9e);function v9e(){const t=oe(Qr),e=je("account-change-chat-reset");b.useEffect(()=>{e&&lee()},[t,e])}const y9e={revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1,refreshInterval:D3};function b9e(t){return ci(t,oxe).then(e=>e.data)}function aa(t){const e=t,n=e.slice(0,-1),r=e.slice(-1);return[...xFe(n),...r]}function C9e(){const{data:t,mutate:e}=hp("/config",b9e,y9e),n=We(GI),r=We(Eq),i=We(xq),o=We(w3e),s=We(S3e),a=We(E3e),c=We(fD),l=We(hD);cte(e),b.useEffect(()=>{t&&(n(t.voices),r(t.signInPrompts),i(t.maxTextMessageLength),o(t.maxPageContentLength),a(t.pageLimit),s(t.maxPageTitleLength),t.characters&&l(t.characters),t.feedbackOptions.text=aa(t.feedbackOptions.text),t.feedbackOptions.image=aa(t.feedbackOptions.image),t.feedbackOptions.card.local=aa(t.feedbackOptions.card.local),t.feedbackOptions.card.ads=aa(t.feedbackOptions.card.ads),t.feedbackOptions.card.video=aa(t.feedbackOptions.card.video),t.feedbackOptions.card.image=aa(t.feedbackOptions.card.image),t.feedbackOptions.card.shopping=aa(t.feedbackOptions.card.shopping),t.feedbackOptions.card.sports=aa(t.feedbackOptions.card.sports),t.feedbackOptions.card.finance=aa(t.feedbackOptions.card.finance),t.feedbackOptions.card.quiz=aa(t.feedbackOptions.card.quiz),t.feedbackOptions.card.weather=aa(t.feedbackOptions.card.weather),c(t.feedbackOptions))},[t,r,n,i,o,s,c,l,a])}function _9e(){const t=xd(Nr);return b.useCallback(n=>{t(r=>{for(const{id:i,title:o,updatedAt:s,characterId:a,continuedAt:c}of n){const l=r.get(i);l?(l.title=o,l.updatedAt=s,l.characterId=a??null,l.continuedAt=c):r.set(i,{id:i,title:o,updatedAt:s,characterId:a??null,streamingState:"idle",history:[],continuedAt:null})}})},[t])}function w9e(t,e){if(!(e!=null&&e.next)&&t>0)return null;const n={url:"/conversations",isFirstPage:t===0};return e!=null&&e.next&&(n.args={cursor:e.next}),n}function S9e(){const t=_9e(),e=We(aD),n=b.useCallback(async({url:r,args:i,isFirstPage:o})=>{const s=await ci(r,Cxe,{query:i}).then(a=>a.data);if(s.results.length>0){const a=s.results.map(c=>({...c,history:[],streamingState:"idle"}));t(a),e(!0)}else o&&e(!1);return s},[t,e]);return i3(n,w9e)}function E9e(){const t=We(fs),e=We(bAe);return b.useCallback(async()=>{const n=await ci("/user",RY,{parseOptions:{safe:!0},query:{"api-version":"2"}}).then(s=>s.data),{id:r,anid:i,isHistoryMigrationPending:o}=n;return he.setAnid(i),he.setPicassoId(r),e(o),t(n.regionCode),n},[e,t])}function T9e(){const t=oe(Qr),e=oe(Nv),{refetch:n}=S9e(),r=E9e(),i=We(Fi),o=We(Fh),s=We(LC),a=We(uQ),c=We(fQ),l=We(zD),d=We($D),p=We(mAe),m=We(W_e),g=We(hQ),C=We(gAe),_=We(cQ),S=We(WD),w=We(KD),T=We(vAe),I=je("multiplecharacters"),A=je("account-change-chat-reset"),k=px()[0]==="audioCall";b.useEffect(()=>{(async()=>{const M=Promise.all([r(),ci("/user/settings",vxe).then(Ie=>Ie.data),n()]),P=Cd.instance().getUserInfo(),[{id:N,firstName:D,isPro:G,inEeaPlusRegion:U,isEligibleForFreeTrial:W,phoneLink:$,ageGroup:L,allowedToggles:B,remainingCalls:j,subscriptions:V,accountTier:K},{preferredVoice:z,preferredCharacter:H,optOutOfTraining:q,optInToVoiceTraining:le,optOutOfPersonalization:Ce,optOutOfPhoneConnection:_e,optInToGenerativeUI:be,allowBiometricDataUse:Pe,allowOneDriveReads:Oe,features:Q}]=await M;if(he.setIsAad(e),i({id:N,firstName:D,isPro:G&&!e,inEeaPlusRegion:U,isEligibleForFreeTrial:W,phoneLink:$,ageGroup:L,allowedToggles:B,subscriptions:V,accountTier:K,isStudent:void 0}),_(D??void 0),!A&&!k&&await lee(),z&&s(z),I&&H){const Ie=Cq(H);a(Ie)}c(q),l(le),d(Ce),p(!!_e),m(!!be),g(!!Pe),C(!!Oe),T((Q==null?void 0:Q.suggestedFollowups)??!0),j&&(S(j.podcastGeneration),w(j.research)),he.setSettings({userSettingVoiceType:z??void 0,userConsentPersonalization:!Ce,userConsentModelTraining:!q,userSubscription:G?"pro":"free"});const ee=await P;if(ee){const{mail:Ie,givenName:re,imgSrc:ue,isStudent:xe}=ee;i(Y=>Y&&{...Y,givenName:re,email:Ie,imgSrc:ue,isStudent:xe}),re&&!D&&_(re),e||o(null)}})().catch(console.error)},[t,A,i,o,n,c,s,I,p,m,l,d,g,C,r,e,a,k,_,S,w,T])}const I9e=h.object({isMobileAppInstalled:h.boolean()}),x9e="/user/install-status";async function A9e(){try{return(await ci(x9e,I9e,{options:{method:"GET"}})).data.isMobileAppInstalled}catch(t){throw console.error("Failed to fetch mobile app install status:",t),t}}function k9e(){const t=We(gD),{data:e,error:n,isLoading:r,mutate:i}=hp("mobileAppInstallStatus",A9e,{revalidateOnFocus:!1,revalidateOnReconnect:!1,dedupingInterval:6e4});return b.useEffect(()=>{e!==void 0&&t(e)},[e,t]),{isMobileAppInstalled:e,isLoading:r,error:n||null,refetch:i}}const R9e="/user/narrative";function JV(t,e){var n;return(n=t.filter(r=>r.name===e)[0])==null?void 0:n.url}function Eqe(t){const{background1:e,background2:n,background3:r}=t,o=[n,e,r].filter(a=>typeof a=="object"&&"light"in a&&"dark"in a);if(o.length===0)return[];const s=[];for(let a=0;a<o.length;a+=1){const c=o[a],l=o[(a+1)%o.length];!c||!l||(s.push({type:"gradient",from:c,to:l}),s.push({type:"solid",color:l}))}return s}function Tqe(t,e,n){const r=t[e%t.length];return r?r.type==="gradient"?`linear-gradient(to bottom, ${n?`#${r.from.dark}`:`#${r.from.light}`}, ${n?`#${r.to.dark}`:`#${r.to.light}`})`:n?`#${r.color.dark}`:`#${r.color.light}`:"var(--background-color)"}function Iqe(t,e){return e==="wavy-shape"?JV(t,"hero-image-wavy-tablet"):JV(t,`hero-image-${e}-tablet`)}const P9e=h.object({from:h.string()});function O9e(t){return P9e.safeParse(t).success}function xqe(t){return O9e(t)?t.from:"/"}const Aqe={start:{...Vt,y:300},end:{...Rn,y:0}},kqe={duration:H2e,ease:z2e},N9e={revalidateOnFocus:!1,shouldRetryOnError:!1,refreshInterval:D3};async function M9e(t){const{data:e,response:n}=await ci(t,HIe,{options:{method:"GET",headers:{"Content-Type":"application/json"}},query:{"api-version":"2"}});if(!n.ok)return null;const{id:r,sections:i,theme:o,masks:s,font:a,fontHandwriting:c}=e;return{id:r,sections:i.filter(l=>l.type!=="shareDefault"),config:{theme:o,masks:s,font:a,...c?{fontHandwriting:c}:{}}}}function L9e(){const t=co(),e=je("memory-narrative"),n=t&&e,{data:r,error:i,isLoading:o}=hp(n?R9e:null,M9e,N9e);return{isLoading:o,error:i,data:o||!r?null:r}}const kte=b.forwardRef((t,e)=>{var S;const{children:n}=t,r=koe(),i=!bx(),o=hz(),s=b.useRef(o),a=u2(),c=b.useContext(a);let l=c;const d=Wn(),p=b.useRef(d),m=b.useRef((S=window.history.state)==null?void 0:S.from),g=Po();r?s.current=ZV(o):(l=ZV(c),l.__store.state.matches=[...o.map((w,T)=>({...s.current[T]??w,id:w.id})),...s.current.slice(o.length)]);const C=j9e(d,m.current,g)&&i;return Qe.instance().config().disableRouteAnimation??!1?y.jsx("div",{ref:e,className:"relative size-full max-h-dvh",children:y.jsx(a.Provider,{value:l,children:n})}):y.jsx(ct.div,{ref:e,className:"relative size-full max-h-dvh",initial:m.current&&!i?"enter":!1,animate:"animate",exit:"exit",variants:{enter:{opacity:0,scale:eH(d,m.current,"enter",g)},animate:{opacity:1,scale:1},exit:{scale:eH(d,p.current,"exit",g),opacity:0,transition:{duration:C?void 0:0}}},layout:!0,transition:Tx,style:{willChange:"transform"},children:y.jsx(a.Provider,{value:l,children:n})})});kte.displayName="AnimatedOutlet";function D9e(t){const{children:e}=t;T9e(),k9e(),L9e(),C9e(),v9e(),GUe();const n=hz(),r=os({strict:!1}),i=n.findIndex(s=>s.id===r.id)+1,o=n[i];return y.jsx(Rr,{mode:"popLayout",children:y.jsx(kte,{children:e},o==null?void 0:o.id)})}function eH(t,e,n,r){const i=["/talk","/pages","/chats","/daily","/podcasts","/discover","/"],o=r&&t.startsWith("/chats")&&(e==null?void 0:e.startsWith("/chats")),s=t.startsWith("/pages")||t.startsWith("/chats")&&(e==null?void 0:e.startsWith("/pages")),a=t.endsWith("/talk")||(e==null?void 0:e.endsWith("/talk")),c=t.startsWith("/memory")||(e==null?void 0:e.startsWith("/memory")),l=s===!0||o===!0||a===!0||c===!0?1:.75,d=s===!0||o===!0||c===!0?1:1.5,p=i.findIndex(m=>m==="/talk"?t.endsWith(m):t.startsWith(m))<i.findIndex(m=>m==="/talk"?e==null?void 0:e.endsWith(m):e==null?void 0:e.startsWith(m));return n==="enter"?p?l:d:p?d:l}function j9e(t,e,n){return!(t.startsWith("/chats")&&(e!=null&&e.startsWith("/chats"))&&n)}const F9e=b.lazy(()=>de(()=>import("./settings-M998LU6x.js").then(t=>t.s),__vite__mapDeps([274,275,276,277,258,278,279,280,281,282,283,229,284,285,215,286,230,287,288,289,290,291,292,231,216,218,293,294,295,296,297,298,299,300,301,223,224,302]))),U9e=b.lazy(()=>de(()=>import("./picture-in-picture-C-t77SD0.js"),__vite__mapDeps([303,268,269,270,271,272,273])).then(t=>({default:t.PictureInPicture}))),B9e=b.lazy(()=>de(()=>import("./composer-large-screen-DHhKiXMG.js"),__vite__mapDeps([304,294,305,306,307])));function V9e(t){const{children:e}=t,n=Wn(),{isMediaViewerOpen:r}=Nd(),{isPictureInPictureOpen:i}=mee(),o=Po(),s=gje(),a=vje(),{showSettings:c,showSettingsRelyOnChatDetailLayout:l,showCookieBanner:d,showMobileCrossSelling:p,tvCopilotIcon:m}=b.useContext($J)??{},g=yje({showSettings:!!c,showSettingsRelyOnChatDetailLayout:l}),C=oe(sl),_=(C==null?void 0:C.type)==="card";return y.jsxs(y.Fragment,{children:[y.jsx(w5e,{children:y.jsxs(p9e,{children:[y.jsx(f9e,{}),y.jsx(D9e,{children:e}),r&&y.jsx(r9e,{}),s&&y.jsx($8e,{}),a&&y.jsx(b.Suspense,{fallback:null,children:y.jsx(B9e,{})}),g&&y.jsx(b.Suspense,{fallback:null,children:y.jsx(F9e,{className:fe("top-6",o&&"-me-1 -mt-3")})})]})}),p&&n.startsWith("/chats")&&!n.endsWith("/talk")&&y.jsx(Y8e,{}),_&&y.jsx(G8e,{}),m,d&&y.jsx(K8e,{}),i&&y.jsx(b.Suspense,{fallback:y.jsx(Tje,{}),children:y.jsx(U9e,{})}),y.jsx(h9e,{}),y.jsx(eFe,{}),y.jsx("div",{id:"inAppFeedbackOcv"}),y.jsx("div",{id:"popoverPortal"}),y.jsx(c9e,{})]})}function H9e(){const{t}=pt(),e=oe(mQ);let n="main";ir(UN)&&e==="permanent"&&(n="confirm-submission");const[r,i]=b.useState(n),[o,s]=b.useState(""),[a,c]=b.useState(!1),l=!o||o.trim().length===0||a,d=async()=>{if(!l){Or({source:"submitBanAppeal"}),c(!0);try{await ko({path:"/user/bans/appeal",args:{body:{appealText:`APPEAL: ${o}`}}}),i("confirm-submission"),Ci(UN,new Date().toISOString())}catch(p){he.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"submitBanAppeal",eventInfo_errorMessage:`${p}`,eventInfo_details:"Error submitting ban appeal"}})}c(!1)}};return y.jsxs("main",{className:"relative size-full",children:[y.jsx(Ll,{forceGradient:!0}),y.jsxs(_i,{id:r,className:"relative z-10 m-auto flex h-dvh max-w-[540px] flex-col items-center justify-center gap-3 p-12 text-center",children:[r==="main"&&y.jsxs(y.Fragment,{children:[y.jsx("h1",{className:"text-2xl",children:e==="permanent"?t("composer.userBan.permanent"):t("composer.userBan.temporary",{duration:t(e==="1-hr"?"composer.userBan.duration1Hr":"composer.userBan.duration24Hr")})}),y.jsx("p",{children:t(e==="permanent"?"composer.userBan.banMessagePermanent":"composer.userBan.banMessageTemporary")}),e==="permanent"&&y.jsx(lt,{color:"strong",size:"56-xl",className:"mt-6 w-full",title:t("composer.userBan.submitAppeal"),onClick:()=>i("submit-appeal"),children:t("composer.userBan.submitAppeal")})]}),r==="submit-appeal"&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex w-full items-center pb-4",children:[y.jsx(lt,{variant:"square",color:"subtle-dimmed-inverted",size:"32-xs",title:t("common.backText"),onClick:()=>i("main"),children:y.jsx(zC,{className:"size-5 -rotate-90"})}),y.jsx("h2",{className:"grow pe-8",children:t("composer.userBan.submitAppeal")})]}),y.jsx("textarea",{className:"h-[240px] w-full resize-none rounded-xl bg-background-100 p-4 placeholder:text-foreground-650 contrast-more:border-2 dark:text-white",onChange:p=>s(p.target.value),disabled:a,placeholder:t("composer.userBan.submitAppealPlaceholder")}),y.jsx(lt,{color:"strong",className:"w-full",size:"56-xl",title:t("common.submitText"),onClick:d,disabled:l,children:t("common.submitText")})]}),r==="confirm-submission"&&y.jsxs(y.Fragment,{children:[y.jsx("h1",{className:"text-2xl",children:t("composer.userBan.appealSubmitted")}),y.jsx("p",{children:t("composer.userBan.appealSubmittedDescription")}),y.jsx(Wv,{msg:`${t("composer.userBan.appealSubmitted")}, ${t("composer.userBan.appealSubmittedDescription")}`})]})]})]})}const z9e=.05,$9e=.1;function W9e(){return Qe.instance().config().sentryDsnOverride??"https://323dd84fb4f632ccd95493debe9312e0@o4508134825000960.ingest.us.sentry.io/4508799962644480"}async function K9e(){const t=await de(()=>import("./index-REtLvepy.js"),__vite__mapDeps([308,309]));if(ch("kill-sentry"))return;const n=[t.browserTracingIntegration(),t.tanstackRouterBrowserTracingIntegration(QC)];t.init({dsn:W9e(),release:Y0e(),sampleRate:$9e,environment:"production",integrations:n,tracesSampleRate:z9e}),t.setTag("surface","cmc")}function G9e(t){const e=oe(fs);b.useEffect(()=>{if(he.initialize(),t){const n=performance.now(),r=n-window.appStart;performance.mark("startupTime-begin",{startTime:window.appStart}),performance.mark("startupTime-end",{startTime:n}),performance.measure("startupTime","startupTime-begin","startupTime-end"),he.trackEvent({name:"system",data:{eventName:"copilotStart",eventInfo_duration:r,eventInfo_landingPage:he.getLandingPage()}}),K9e().catch(console.error)}},[t]),b.useEffect(()=>{t&&e&&setTimeout(()=>{Hm("onPageLoad")},1e3)},[t,e])}function q9e(t){b.useEffect(()=>(document.addEventListener("visibilitychange",t),()=>{document.removeEventListener("visibilitychange",t)}),[t])}function Y9e(){q9e(()=>{document.visibilityState==="visible"&&he.trackEvent({name:"system",data:{eventName:"copilotVisible"}})})}const Rte=h.discriminatedUnion("eventName",[h.object({eventName:h.literal("auth0.accountAdded")}),h.object({eventName:h.literal("auth0.accountRemoved")})]);function Pte(){return Pc(HN,h.boolean().nullable())===!0}function Q9e(){return Pc(sQ,h.boolean().nullable())===!0}function X9e(){return Pc(fT,h.boolean().nullable())===!0}function Ote(t){for(const e of t)if(e.tenantId===_E)return e;return t[0]}function e0(t){return Kh(t)?"AAD":"MSA"}function Z9e(){const[t,e]=b.useState(!1),n=We(Qr),r=We(ll),i=oe(eQ);return b.useEffect(()=>{if(t||Pte())return;function s(c){var l;if(c===null){n(null),he.setUserAccountType(void 0);return}n({id:((l=c.idTokenClaims)==null?void 0:l.oid)??"",tenantId:c.tenantId,provider:"microsoft",accountType:e0(c.tenantId)}),he.setUserAccountType(e0(c.tenantId))}async function a(){try{const{msal:c}=await Eo.get();he.trackEvent({name:"system",data:{eventName:"copilotMsalInit",eventInfo_initTrigger:"hook",eventInfo_timing:performance.now()-window.appStart}}),e(!0);const{monitorAccountChangesAcrossTabs:l,enableAuth0:d}=Qe.instance().config();l&&c.enableAccountStorageEvents(),c.addEventCallback(async p=>{if(TZ(p),(p.eventType===at.LOGIN_SUCCESS||p.eventType===at.ACQUIRE_TOKEN_SUCCESS)&&p.payload&&"account"in p.payload&&p.payload.account){const{account:m}=p.payload,g=c.getActiveAccount();(!g||g.homeAccountId!==m.homeAccountId)&&(c.setActiveAccount(m),s(m))}else if(p.eventType===at.LOGOUT_SUCCESS){const m=Ote(c.getAllAccounts());c.setActiveAccount(m??null),s(m??null)}else p.eventType===at.ACCOUNT_ADDED?r({reason:"login"}):p.eventType===at.ACCOUNT_REMOVED&&r({reason:"logout"})}),d&&l&&vT.addEventListener("message",p=>{const m=Rte.safeParse(p.data);if(!m.success)return;const{eventName:g}=m.data;g==="auth0.accountAdded"?r({reason:"login"}):g==="auth0.accountRemoved"&&r({reason:"logout"})})}catch(c){he.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"MsalInitError",eventInfo_details:"hook",eventInfo_errorMessage:c instanceof Error?c.message:""}})}}a().catch(console.error)},[t,r,n]),i===!0?i:t}async function J9e(){const t=Ht();async function e(){return await Cd.instance().getAccountFromProviders()!==null}function n(){return Q9e()?!X9e():!1}function r(o){var s;if(o===null){t.set(Qr,null),he.setUserAccountType(void 0);return}t.set(Qr,{id:((s=o.idTokenClaims)==null?void 0:s.oid)??"",tenantId:o.tenantId,provider:"microsoft",accountType:e0(o.tenantId)}),he.setUserAccountType(e0(o.tenantId))}async function i(){try{const{msal:o}=await Eo.get();he.trackEvent({name:"system",data:{eventName:"copilotMsalInit",eventInfo_initTrigger:"DCL",eventInfo_timing:performance.now()-window.appStart}});const s=await e();t.set(eQ,!0);const{monitorAccountChangesAcrossTabs:a,enableAuth0:c}=Qe.instance().config();if(a&&o.enableAccountStorageEvents(),!s&&n())try{const l=await o.ssoSilent({scopes:[kW],prompt:"none",redirectUri:typeof window<"u"?window.location.origin:void 0}),d=e0(l.account.tenantId)==="MSA";Uh(fT,h.boolean(),!0),d?(o.setActiveAccount(l.account),r(l.account)):await o.logoutRedirect({account:l.account,onRedirectNavigate:()=>!1})}catch{}o.addEventCallback(async l=>{if(TZ(l),(l.eventType===at.LOGIN_SUCCESS||l.eventType===at.ACQUIRE_TOKEN_SUCCESS)&&l.payload&&"account"in l.payload&&l.payload.account){const{account:d}=l.payload,p=o.getActiveAccount();(!p||p.homeAccountId!==d.homeAccountId)&&(o.setActiveAccount(d),r(d))}else if(l.eventType===at.LOGOUT_SUCCESS){const d=Ote(o.getAllAccounts());o.setActiveAccount(d??null),r(d??null)}else l.eventType===at.ACCOUNT_ADDED?t.set(ll,{reason:"login"}):l.eventType===at.ACCOUNT_REMOVED&&t.set(ll,{reason:"logout"})}),c&&a&&vT.addEventListener("message",l=>{const d=Rte.safeParse(l.data);if(!d.success)return;const{eventName:p}=d.data;p==="auth0.accountAdded"?t.set(ll,{reason:"login"}):p==="auth0.accountRemoved"&&t.set(ll,{reason:"logout"})})}catch(o){he.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"MsalInitError",eventInfo_details:"DCL",eventInfo_errorMessage:o instanceof Error?o.message:""}})}}return i()}function e7e(){const t=b_e(),e=We(DC);t&&(r=>N_e.includes(r))(t)&&e(t)}function t7e(){const t=Ra("kill-clarity");lte({onStartComplete:()=>{e()}});const e=()=>{try{if(t)return()=>{};window.clarity||(window.clarity=function(...i){window.clarity&&(window.clarity.q=window.clarity.q??[]).push(i)});const n=document.createElement("script");return n.type="text/javascript",n.async=!0,n.src="/cl/tag/n59ae4ieqq",document.body.appendChild(n),window.clarity("signal",async r=>{if(r.type==="cl_dtrs"&&r.value){const{sendChallengeResponse:i}=await Jf();i({method:"clarity",token:r.value})}}),window.clarity("metadata",()=>{gM({surface:"cmc"});const r=cn(vQ);r!==null&&gM({isNewUser:r.toString()})},!1,!0),()=>{delete window.clarity,n.remove()}}catch(n){return he.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"useClarity",eventInfo_details:"Error loading Clarity",eventInfo_errorMessage:`${n}`}}),()=>{}}}}function LP(t){if(Qe.instance().config().persistThemeChoice){const n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";t!==n?Ci(hT,t):ka(hT)}document.documentElement.setAttribute("data-theme",t),Pr.emit("theme:color-applied",t)}function n7e(){const{persistThemeChoice:t,enforceTheme:e}=Qe.instance().config(),[n,r]=Lt(Rd);b.useEffect(()=>{const i=window.matchMedia("(prefers-color-scheme: dark)"),o=a=>{const c=a.matches?"dark":"light";r(c),LP(c),t&&ka(hT)};let s=t?ir(hT):"";return s!=="dark"&&s!=="light"&&(s=i.matches?"dark":"light"),e&&(s=e),r(s),LP(s),i.addEventListener("change",o),()=>{i.removeEventListener("change",o)}},[r,t,e]),b.useEffect(()=>{n&&LP(n)},[n])}function r7e(){b.useEffect(()=>{if(window.ReportingObserver===void 0)return()=>{};const t=new ReportingObserver(e=>{for(const n of e){if(n.type!=="csp-violation"||!n.body)continue;const{body:r}=n,{blockedURL:i,documentURL:o,effectiveDirective:s,disposition:a}=r;console.error("Reporting CSP violation",{blockedURL:i,documentURL:o,effectiveDirective:s,disposition:a}),he.trackEvent({name:"system",data:{eventName:"copilotCSPViolation",eventInfo_blockedURL:i,eventInfo_documentURL:o,eventInfo_effectiveDirective:s,eventInfo_disposition:a}})}},{buffered:!0,types:["csp-violation"]});return t.observe(),()=>{t.disconnect()}},[])}function i7e(){const t=je("custom-1ds"),e=oe(fs);b.useEffect(()=>{if(!t||!Qe.instance().config().enableCustom1DS)return fq(),()=>{};if(!e)return()=>{};const n=()=>{if(window.oneDS){const{ApplicationInsights:o}=window.oneDS;return new o}},r=()=>{var c;window.OneDsAzureAnalytics=window.OneDsAzureAnalytics??n();function o(){var d;return!!!((d=window.OneDsAzureAnalytics)!=null&&d.getCookieMgr().get("MSCC"))}const s={adobe:o(),google:o()},a={instrumentationKey:"c72e6b24df604532a6282edd268b4ba4-9cdee1fe-5d2f-4626-9620-dbad9b53a8e5-8065",channelConfiguration:{eventsLimitInMem:50,autoFlushEventsLimit:1},propertyConfiguration:{userConsentCookieName:KI.name,gpcDataSharingOptIn:uq(),callback:{userConsentDetails:()=>{if(!AI.includes(e))return{Required:!0,Analytics:!0,SocialMedia:!0,Advertising:!0};const l=AC();return{Required:Object.values(l).includes(!0),Analytics:l.analytics,SocialMedia:l.socialMedia,Advertising:l.advertising}}}},webAnalyticsConfiguration:{coreData:{appId:"JS:Copilot_microsoft_com"},cookiesToCollect:["_mkto_trk"],urlCollectQuery:!0,syncMuid:o()},extensionConfig:{IdSyncPlugin:s}};window.postConsAzure1DSInit||((c=window.OneDsAzureAnalytics)==null||c.initialize(a,[]),window.postConsAzure1DSInit=!0)},i=document.createElement("script");return i.src="https://az416426.vo.msecnd.net/scripts/c/ms.analytics-web-4.min.js",i.async=!0,i.onload=r,document.head.appendChild(i),()=>{document.head.removeChild(i)}},[t,e])}function o7e(t){const{handler:e}=eee({deferred:!0}),{handler:n}=fee({deferred:!0}),{passthroughType:r,prompt:i}=hee(),o=b.useCallback(c=>{he.setLandingPage("chatWithPartialPromptPassthrough"),e(c)},[e]),s=b.useCallback(c=>{he.setLandingPage("chatWithFullPromptPassthrough"),n(c)},[n]),a=b.useCallback(()=>{if(i&&r)switch(r){case"partial":o(i);break;case"full":s(i);break}},[s,o,r,i]);b.useEffect(()=>{t&&a()},[t,a])}function s7e(){const t=Wn(),e=YI(),n=b.useRef(!1),r=oe(Fi),[i,o]=Lt(td),s=je("character-animation-vasa"),a=je("character-animation-spda2e");b.useEffect(()=>{t.startsWith("/chats")&&_r("appearance-talk")==="1"&&(n.current=!0)},[t]),b.useEffect(()=>{!s&&!a||r&&n.current&&(n.current=!1,o(UD))},[r,n,e,s,a,i,o])}function a7e(){const t=oe(sn),e=oe(hAe),n=je("adsidsync"),r=oe(fs),i=co(),o=Ite(r),s=oe(vD);b.useEffect(()=>{const{adsEnabled:a,enforceAdsOptOutOfPersonalization:c}=Qe.instance().config();if(t&&e&&n&&a){const l=new URLSearchParams;if(l.append("cpid",e),l.append("cvid",t),i&&l.append("cp","1"),lq()){const C=AC().advertising;if(o&&!C)return;C&&!c?l.append("ps","1"):l.append("ps","0")}else{if(o)return;l.append("ps","1")}const p=`https://c.bing.com/cp?${l}`,m=performance.now();fetch(p,{method:"GET",mode:"no-cors",credentials:"include"}).then(g=>{const C=performance.now();_Q(p,"GET",C-m,g.clone())}).catch(g=>{he.trackEvent({name:"system",data:{eventName:"copilotWebError",eventInfo_errorType:"adsError",eventInfo_errorMessage:"Ads Id Sync failed with error",eventInfo_details:`Ads Id Sync failed: ${g}`}})})}},[s,t,r,o,n,e,i])}function c7e(t){const e=oe(Qr),n=oe(tx),r=oe(GD),i=oe(jC),o=oe(nx),{upsellFromAuth0:s}=Qe.instance().config().proSubscription,{handleProSubscription:a}=ZT({payflowEntryPoint:"RedirectFromAuth0Account",skuType:o?"FreeTrial":"1Mo-Paid",upsellReason:"",entryStyle:"Redirect"}),l=co()&&(e==null?void 0:e.provider)==="microsoft",d=je("cmc-m365-sku"),p=jh("pff"),m=l_e("needsStartSubscription"),g=Wn(),C=b.useRef(!1);b.useEffect(()=>{if(m&&d&&l&&!g.startsWith("/subscription/start")&&(p==="WinNative"||p==="EdgeSidepane")){dq("needsStartSubscription"),setTimeout(()=>{a()},0);return}if(!(s!=null&&s.navigateToProSubPageAfterLogin))return;const _=sessionStorage.getItem(bO);if(!_)return;async function S(w){const[,T]=w.split("-");if(T==="link"){const I=performance.now(),{getAuth0AccessToken:A,auth0:k}=await nl.get(),R=await A(f0);if(!R){Bh({feature:"accountLinkAuth0WithMSA",errorType:"LinkStartedWithoutAuth0Token"});return}try{await ko({path:"/user/link",args:{body:{token:R}}})}catch(M){M instanceof Error&&Bh({feature:"accountLinkAuth0WithMSA",errorType:M.name,errorMessage:M.message,exception:M.stack})}finally{k.logout({openUrl:!1}),FC({feature:"accountLinkAuth0WithMSA",duration:performance.now()-I}),i||await a()}}}if(t&&!C.current&&n){if(C.current=!0,sessionStorage.removeItem(bO),(e==null?void 0:e.accountType)!=="MSA"||r)return;S(_)}},[t,a,s,e,i,r,n,g,l,p,d,m])}function l7e(t){const e=We(mD);b.useEffect(()=>{if(!t)return()=>{};const n=o=>BZ(o)?(e(o.toString()),!0):!1,r=o=>{const s=o.target.closest("a");s&&s instanceof HTMLAnchorElement&&n(s.href)&&o.preventDefault()},i=window.open;return window.open=function(...s){return s.length>0&&typeof s[0]=="string"&&!n(s[0])?i.apply(window,s):null},document.addEventListener("click",r),()=>{window.open=i,document.removeEventListener("click",r)}},[t,e])}function u7e(){b.useEffect(()=>{const t=ir(BN),e=Date.now();t||Ci(BN,e.toString())},[])}function d7e(){b.useEffect(()=>{},[])}function f7e(t){const[e,n]=b.useState(!1),r=UZ();return b.useEffect(()=>{e||!t||r({enablePageRedirect:!0,overwriteData:!1}).then(i=>{i&&n(!0)}).catch(console.error)},[r,e,t]),{appInitialized:e}}let Nte=-1;const Xx=t=>{addEventListener("pageshow",e=>{e.persisted&&(Nte=e.timeStamp,t(e))},!0)},dv=(t,e,n,r)=>{let i,o;return s=>{e.value>=0&&(s||r)&&(o=e.value-(i??0),(o||i===void 0)&&(i=e.value,e.delta=o,e.rating=((a,c)=>a>c[1]?"poor":a>c[0]?"needs-improvement":"good")(e.value,n),t(e)))}},Mte=t=>{requestAnimationFrame(()=>requestAnimationFrame(()=>t()))},H3=()=>{const t=performance.getEntriesByType("navigation")[0];if(t&&t.responseStart>0&&t.responseStart<performance.now())return t},Zx=()=>{const t=H3();return(t==null?void 0:t.activationStart)??0},fv=(t,e=-1)=>{const n=H3();let r="navigate";return Nte>=0?r="back-forward-cache":n&&(document.prerendering||Zx()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:t,value:e,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},DP=new WeakMap;function h7e(t,e){return DP.get(t)||DP.set(t,new e),DP.get(t)}const Lte=(t,e,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const r=new PerformanceObserver(i=>{Promise.resolve().then(()=>{e(i.getEntries())})});return r.observe({type:t,buffered:!0,...n}),r}}catch{}},Dte=t=>{let e=!1;return()=>{e||(t(),e=!0)}};let Wm=-1;const tH=()=>document.visibilityState!=="hidden"||document.prerendering?1/0:0,eI=t=>{document.visibilityState==="hidden"&&Wm>-1&&(Wm=t.type==="visibilitychange"?t.timeStamp:0,p7e())},nH=()=>{addEventListener("visibilitychange",eI,!0),addEventListener("prerenderingchange",eI,!0)},p7e=()=>{removeEventListener("visibilitychange",eI,!0),removeEventListener("prerenderingchange",eI,!0)},jte=()=>{var t;return Wm<0&&(Wm=(document.prerendering||(t=globalThis.performance.getEntriesByType("visibility-state").filter(n=>n.name==="hidden")[0])==null?void 0:t.startTime)??tH(),nH(),Xx(()=>{setTimeout(()=>{Wm=tH(),nH()})})),{get firstHiddenTime(){return Wm}}},z3=t=>{document.prerendering?addEventListener("prerenderingchange",()=>t(),!0):t()},rH=[1800,3e3],m7e=(t,e={})=>{z3(()=>{const n=jte();let r,i=fv("FCP");const o=Lte("paint",s=>{for(const a of s)a.name==="first-contentful-paint"&&(o.disconnect(),a.startTime<n.firstHiddenTime&&(i.value=Math.max(a.startTime-Zx(),0),i.entries.push(a),r(!0)))});o&&(r=dv(t,i,rH,e.reportAllChanges),Xx(s=>{i=fv("FCP"),r=dv(t,i,rH,e.reportAllChanges),Mte(()=>{i.value=performance.now()-s.timeStamp,r(!0)})}))})},g7e=t=>{const e=globalThis.requestIdleCallback||setTimeout;document.visibilityState==="hidden"?t():(e(t=Dte(t)),document.addEventListener("visibilitychange",t,{once:!0}))};let v7e=class{constructor(){Se(this,"m")}h(e){var n;(n=this.m)==null||n.call(this,e)}};const iH=[2500,4e3],y7e=(t,e={})=>{z3(()=>{const n=jte();let r,i=fv("LCP");const o=h7e(e,v7e),s=c=>{e.reportAllChanges||(c=c.slice(-1));for(const l of c)o.h(l),l.startTime<n.firstHiddenTime&&(i.value=Math.max(l.startTime-Zx(),0),i.entries=[l],r())},a=Lte("largest-contentful-paint",s);if(a){r=dv(t,i,iH,e.reportAllChanges);const c=Dte(()=>{s(a.takeRecords()),a.disconnect(),r(!0)});for(const l of["keydown","click","visibilitychange"])addEventListener(l,()=>g7e(c),{capture:!0,once:!0});Xx(l=>{i=fv("LCP"),r=dv(t,i,iH,e.reportAllChanges),Mte(()=>{i.value=performance.now()-l.timeStamp,r(!0)})})}})},oH=[800,1800],XM=t=>{document.prerendering?z3(()=>XM(t)):document.readyState!=="complete"?addEventListener("load",()=>XM(t),!0):setTimeout(t)},b7e=(t,e={})=>{let n=fv("TTFB"),r=dv(t,n,oH,e.reportAllChanges);XM(()=>{const i=H3();i&&(n.value=Math.max(i.responseStart-Zx(),0),n.entries=[i],r(!0),Xx(()=>{n=fv("TTFB",0),r=dv(t,n,oH,e.reportAllChanges),r(!0)}))})},jP=t=>{var o;const e=(o=performance.getEntriesByType("navigation")[0])==null?void 0:o.type;let n;const r=navigator;r.connection&&typeof r.connection.effectiveType=="string"&&(n=r.connection.effectiveType);const i={eventName:t.name,eventInfo_duration:t.value,eventInfo_navigationType:e,eventInfo_connectionType:n};he.trackEvent({name:"system",data:i});try{const s=`web-vitals-${t.name}`;performance.mark(s),performance.measure(`web-vitals-measure-${t.name}`)}catch{}};let sH=!1;function C7e(){if(typeof window>"u"||sH)return;sH=!0;let t,e;const n=r=>{e=r,t&&clearTimeout(t),t=window.setTimeout(()=>{e&&(jP(e),e=void 0)},1e3)};b7e(jP),m7e(jP),y7e(n,{reportAllChanges:!0})}function _7e(){b.useEffect(()=>(window.addEventListener("unhandledrejection",m8),()=>{window.removeEventListener("unhandledrejection",m8)}),[])}function w7e(){typeof window<"u"&&(Object.defineProperty(window,"APP_VERSION",{value:iD()}),Object.defineProperty(window,"APP_SURFACE",{value:"cmc"}))}const S7e=new doe({defaultOptions:{queries:{retry:0,refetchOnWindowFocus:!1}}});function E7e({showSettings:t,showCookieBanner:e,showMobileCrossSelling:n,showSettingsRelyOnChatDetailLayout:r,children:i}){u7e(),px(),e7e(),aje(),ENe();const o=Z9e(),{appInitialized:s}=f7e(o);_6e(),o7e(s),n7e(),_7e();const a=C3();l7e(a);const c=oe(ll);Y9e(),T5e(),i7e(),s7e();const l=oe($0);G9e(s),C7e(),c7e(s),d7e(),t7e(),r7e(),a7e();const d=b.useMemo(()=>({showSettings:t,showCookieBanner:e,showMobileCrossSelling:n,showSettingsRelyOnChatDetailLayout:r,tvCopilotIcon:i}),[t,e,n,r,i]);return l==="user-banned"?y.jsx(H9e,{}):l==="age-verification"?y.jsx(UDe,{}):l?y.jsx(t3,{}):!s||!o?null:c?y.jsx(uJ,{accountActionRequired:c}):y.jsx(foe,{client:S7e,children:y.jsx(Mz,{reducedMotion:"user",children:y.jsx($J.Provider,{value:d,children:y.jsx(V9e,{children:y.jsx(fz,{})})})})})}function T7e(t){return y.jsxs(uW,{fallback:y.jsx(t3,{}),onError:gq,children:[y.jsx(j4e,{}),y.jsx(E7e,{...t})]})}w7e();document.addEventListener("DOMContentLoaded",()=>{Pte()&&setTimeout(()=>J9e(),0)});function I7e(){const t=co(),e=oe($D),n=We(gQ);b.useEffect(()=>{t&&!e&&cNe()&&n(!0)},[t,e,n])}P4e();function x7e(){return I7e(),y.jsx(T7e,{showCookieBanner:!0,showSettings:!0,showMobileCrossSelling:!0,showSettingsRelyOnChatDetailLayout:!0})}const pn=Eie({component:x7e}),Fte=b.lazy(()=>de(()=>import("./discover-CmjIRn4t.js"),__vite__mapDeps([310,311,312,313,314,217,315,269,271,316,317,318,319,320,321,322,323,305,324,325,256,233]))),A7e=dn("/")({component:()=>y.jsx(b.Suspense,{fallback:y.jsx("div",{className:"flex h-full items-center justify-center",children:y.jsx(Cn,{className:"size-12"})}),children:y.jsx(Fte,{})})}),k7e=dn("/discover")({component:()=>y.jsx(b.Suspense,{fallback:y.jsx("div",{className:"flex h-full items-center justify-center",children:y.jsx(Cn,{className:"size-12"})}),children:y.jsx(Fte,{})})}),R7e=100,aH=.3,P7e=2*Ka,O7e="bottom-[60px] sm:bottom-[120px] h-[50px]",Ute="min-h-[60px] sm:min-h-[120px]",Bte="min-h-[calc(100dvh-60px-var(--chat-details-container-height)-var(--composer-container-height)-(2*var(--layout-offset-y)))] sm:min-h-[calc(100dvh-120px-var(--composer-container-height)-(2*var(--layout-offset-y)))]",N7e="min-h-[calc(100dvh-48px-var(--chat-details-container-height)-var(--composer-container-height)-(2*var(--layout-offset-y)))] sm:min-h-[calc(100dvh-48px-var(--composer-container-height)-(2*var(--layout-offset-y)))]",M7e="min-h-[calc(100dvh-80px-var(--chat-details-container-height)-var(--composer-container-height)-(2*var(--layout-offset-y)))] sm:min-h-[calc(100dvh-80px-var(--composer-container-height)-(2*var(--layout-offset-y)))]",L7e="bottom-[var(--character-component-height)] h-[50px]",D7e="min-h-[calc(100dvh-var(--character-component-height)-var(--composer-container-height)-(2*var(--layout-offset-y)))]";function j7e(t,e,n,r,i){const[o,s]=Lt(wq),a=b.useCallback(()=>{s(A=>!A)},[s]),c=Po(),l=b.useMemo(()=>({variants:{start:{opacity:0},exiting:{opacity:0,y:-100,transition:{duration:.2,y:{duration:.3}}}},initial:"start",animate:o?"exiting":"default"}),[o]),d=b.useMemo(()=>({initial:{opacity:0,y:R7e},animate:{opacity:1,y:0,transition:{duration:.4,y:{duration:aH}}},exit:{opacity:0,y:-100,transition:{duration:.2,y:{duration:aH}}},onAnimationStart:A=>{typeof A=="object"&&!Array.isArray(A)&&A.opacity===1&&(setTimeout(()=>t(),10),s(!1))}}),[t,s]),p=n?L7e:O7e,m=n?`min-h-[${r}px]`:Ute,{highlighted:g,backstage:C}=U7e(i,o),_=B7e(n,C,g),S=b.useRef(null),{scrollYProgress:w}=Eue({target:S,container:e,offset:["end start","start start"]}),T=Og(w,[P7e/100,1],[0,1]);return{toggleMessagesAreExiting:a,backstageMessagesProps:l,highlightedMessagesProps:d,opacity:c?T:w,sentinelRef:S,sentinelClasses:p,backstageClasses:m,highlightedClasses:_,highlighted:g,backstage:C}}function F7e(t){var i;const e=Vte(t);if(!e)return[];const n=e.author==="human",r=!n&&((i=t.at(-2))==null?void 0:i.author)==="ai";return n||r?[e]:t.slice(-2)}function Vte(t){return t.at(-1)}function U7e(t,e){const n=F7e(t),r=t.slice(0,-(n.length+(e?2:0)));return{highlighted:n,backstage:r}}function B7e(t,e,n){return t?D7e:Qe.instance().config().smallAnochorTopWithoutHeader&&n.length>0?e.length===0?M7e:N7e:Bte}function Hte(){return fe(oC("pageContainer")??"px-6","mx-auto w-full max-w-chat")}function V7e(){var t=new Map;function e(n){var r=n.root,i=n.rootMargin,o=n.threshold,s=t.get(r);s||(s=new Map,t.set(r,s));var a=JSON.stringify({rootMargin:i,threshold:o}),c=s.get(a);if(!c){var l=new Map,d=new IntersectionObserver(function(p){p.forEach(function(m){var g=l.get(m.target);g==null||g(m)})},{root:r,rootMargin:i,threshold:o});c={observer:d,entryCallbacks:l},s.set(a,c)}return{observe:function(m,g){var C,_;(C=c)==null||C.entryCallbacks.set(m,g),(_=c)==null||_.observer.observe(m)},unobserve:function(m){var g,C;(g=c)==null||g.entryCallbacks.delete(m),(C=c)==null||C.observer.unobserve(m)}}}return{getObserver:e}}var H7e="0px",z7e=[0],$7e=V7e();function W7e(t){var e,n,r=(e=t==null?void 0:t.rootMargin)!=null?e:H7e,i=(n=t==null?void 0:t.threshold)!=null?n:z7e,o=b.useRef(null),s=b.useRef(null),a=b.useRef(null),c=b.useState(),l=c[0],d=c[1],p=b.useCallback(function(){var _=o.current;if(!_){d(void 0);return}var S=$7e.getObserver({root:s.current,rootMargin:r,threshold:i});S.observe(_,function(w){d(w)}),a.current=S},[r,i]),m=b.useCallback(function(){var _=a.current,S=o.current;S&&(_==null||_.unobserve(S)),a.current=null},[]),g=b.useCallback(function(_){m(),o.current=_,p()},[p,m]),C=b.useCallback(function(_){m(),s.current=_,p()},[p,m]);return[g,{entry:l,rootRef:C}]}function ZM(){return ZM=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZM.apply(this,arguments)}function K7e(t){var e,n=W7e(t),r=n[0],i=n[1],o=!!((e=i.entry)!=null&&e.isIntersecting),s=b.useState(o),a=s[0],c=s[1];return o&&!a&&c(!0),[r,ZM({},i,{isVisible:o,wasEverVisible:a})]}var G7e=100;function q7e(t){var e=t.loading,n=t.hasNextPage,r=t.onLoadMore,i=t.rootMargin,o=t.disabled,s=t.delayInMs,a=s===void 0?G7e:s,c=K7e({rootMargin:i}),l=c[0],d=c[1],p=d.rootRef,m=d.isVisible,g=!o&&!e&&m&&n;return b.useEffect(function(){if(g){var C=setTimeout(function(){r()},a);return function(){clearTimeout(C)}}},[r,g,a]),[l,{rootRef:p}]}const $3=t=>y.jsx(Q7e,{...t});$3.Motion=b.forwardRef(Y7e);function Y7e(t,e){const{children:n,axis:r="vertical",circular:i=!0,tabbable:o,autoFocus:s=!1,...a}=t,c=rJ({axis:r,circular:i,tabbable:o}),l=b.useRef(null);return b.useImperativeHandle(e,()=>l.current,[]),$v(l,s),je("a11y-keyboard-navigation")?y.jsx(ct.div,{ref:l,...c,...a,children:n}):y.jsx(ct.div,{ref:l,...a,children:n})}function Q7e(t){const{children:e,axis:n="vertical",circular:r,tabbable:i,autoFocus:o=!1,...s}=t,a=rJ({axis:n,circular:r,tabbable:i}),c=b.useRef(null);return $v(c,o),je("a11y-keyboard-navigation")?y.jsx("div",{ref:c,...a,...s,children:e}):y.jsx("div",{ref:c,...s,children:e})}async function JM(t,e,n){try{await ko({path:`/conversations/${t}/react`,args:{body:{[n]:e},analytics:{anonymousPath:"/conversations/*/react"}}})}catch{}}async function zte(t,e,n){try{await ko({path:`/conversations/${t}/feedback`,args:{body:{types:Array.from(e),text:n},analytics:{anonymousPath:"/conversations/*/feedback"}}})}catch{}}const $te=t=>b.createElement("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},b.createElement("path",{d:"M10.052 17.7057C10.3913 18.683 11.6841 19.1333 12.4829 18.2962C12.6455 18.1257 12.8081 17.9416 12.9176 17.7774C13.2379 17.2968 13.3725 16.6641 13.4218 16.0477C13.4721 15.4195 13.438 14.7454 13.3738 14.1352C13.3093 13.5225 13.2129 12.9604 13.1328 12.5522C13.1294 12.5345 13.1259 12.5171 13.1225 12.5H14.006C15.8777 12.5 17.2924 10.8049 16.9576 8.96334L16.2737 5.20164C15.8017 2.60569 13.2078 0.970952 10.6622 1.66519L5.06251 3.19239C4.14894 3.44154 3.45455 4.18547 3.26885 5.11401L2.91581 6.87918C2.63809 8.2678 3.69991 9.43756 4.82905 9.88388C5.15163 10.0114 5.44337 10.1732 5.66974 10.374C7.37583 11.8875 7.99442 13.0971 9.05406 15.2231C9.4084 15.9339 9.77205 16.8995 10.052 17.7057ZM12.0165 12.1214L12.0169 12.1229L12.0187 12.1303L12.0262 12.1614C12.0328 12.1892 12.0426 12.231 12.0549 12.2851C12.0793 12.3933 12.1135 12.5507 12.1515 12.7446C12.2277 13.1333 12.3188 13.665 12.3793 14.2398C12.4401 14.8171 12.4685 15.4242 12.425 15.9679C12.3806 16.5235 12.2652 16.9532 12.0855 17.2227C12.0264 17.3113 11.9138 17.444 11.7594 17.6058C11.5605 17.8142 11.1314 17.7657 10.9967 17.3777C10.7141 16.5639 10.3334 15.5481 9.94904 14.777C8.88216 12.6365 8.19326 11.2759 6.33336 9.62597C5.99304 9.32406 5.58878 9.1089 5.19665 8.9539C4.31631 8.60592 3.75035 7.80549 3.89639 7.0753L4.24943 5.31013C4.36085 4.753 4.77748 4.30665 5.32562 4.15715L10.9254 2.62995C12.9052 2.08999 14.9227 3.36145 15.2898 5.38053L15.9738 9.14223C16.197 10.3699 15.2538 11.5 14.006 11.5H12.5015C12.3476 11.5 12.2022 11.5709 12.1074 11.6923C12.0127 11.8136 11.9792 11.972 12.0165 12.1214C12.0165 12.1214 12.0165 12.1213 12.0165 12.1214Z",fill:"currentColor"})),Pqe=Object.freeze(Object.defineProperty({__proto__:null,default:$te},Symbol.toStringTag,{value:"Module"})),Wte=t=>b.createElement("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},b.createElement("path",{d:"M10.052 2.29418C10.3913 1.31688 11.6841 0.866611 12.4829 1.70374C12.6455 1.87416 12.8081 2.05832 12.9176 2.22254C13.2379 2.70305 13.3725 3.33584 13.4218 3.9522C13.4721 4.58034 13.438 5.25446 13.3738 5.86473C13.3093 6.47735 13.2129 7.03948 13.1328 7.44766C13.1294 7.46535 13.1259 7.48277 13.1225 7.49989H14.006C15.8777 7.49989 17.2924 9.19503 16.9576 11.0365L16.2737 14.7983C15.8017 17.3942 13.2078 19.0289 10.6622 18.3347L5.06251 16.8075C4.14894 16.5583 3.45455 15.8144 3.26885 14.8859L2.91581 13.1207C2.63809 11.7321 3.69991 10.5623 4.82905 10.116C5.15163 9.9885 5.44337 9.82668 5.66974 9.62586C7.37583 8.11234 7.99442 6.90276 9.05406 4.77684C9.4084 4.06594 9.77205 3.10043 10.052 2.29418ZM12.0165 7.87851L12.0169 7.87696L12.0187 7.86962L12.0262 7.83852C12.0328 7.81068 12.0426 7.76892 12.0549 7.71482C12.0793 7.60658 12.1135 7.44919 12.1515 7.25525C12.2277 6.86655 12.3188 6.33493 12.3793 5.76005C12.4401 5.18282 12.4685 4.57569 12.425 4.03195C12.3806 3.47644 12.2652 3.04673 12.0855 2.77724C12.0264 2.68859 11.9138 2.55593 11.7594 2.3941C11.5605 2.18565 11.1314 2.23417 10.9967 2.62217C10.7141 3.43598 10.3334 4.45183 9.94904 5.22294C8.88216 7.36338 8.19326 8.72396 6.33336 10.3739C5.99304 10.6758 5.58878 10.891 5.19665 11.046C4.31631 11.394 3.75035 12.1944 3.89639 12.9246L4.24943 14.6898C4.36085 15.2469 4.77748 15.6932 5.32562 15.8427L10.9254 17.3699C12.9052 17.9099 14.9227 16.6384 15.2898 14.6194L15.9738 10.8577C16.197 9.62998 15.2538 8.49989 14.006 8.49989H12.5015C12.3476 8.49989 12.2022 8.42895 12.1074 8.3076C12.0127 8.18627 11.9792 8.02785 12.0165 7.87851C12.0165 7.87847 12.0165 7.87855 12.0165 7.87851Z",fill:"currentColor"})),Oqe=Object.freeze(Object.defineProperty({__proto__:null,default:Wte},Symbol.toStringTag,{value:"Module"}));function Kte(t){const{titleText:e,subtitleText:n,positiveButtonText:r,negativeButtonText:i,positiveButtonTitle:o,negativeButtonTitle:s,modalHeaderText:a,onPositiveClick:c,onNegativeClick:l,isModalOpen:d,onModalClose:p,modalContent:m,className:g="",isDebugAudioRecorderEnabled:C=!1}=t;return y.jsxs("div",{className:g,children:[y.jsx("div",{className:"relative w-full pb-6 after:absolute after:mt-3 after:w-full after:border-b after:border-stroke-300"}),y.jsx("h2",{className:"mt-5 text-foreground-600 text-xs",children:y.jsx("strong",{children:e})}),y.jsx("p",{className:"mt-1 text-foreground-600 text-xs",children:n}),y.jsxs("div",{className:fe("mt-3.5 grid w-fit min-w-72 grid-rows-1 gap-2",C?"grid-cols-3":"grid-cols-2"),children:[y.jsxs(lt,{onClick:c,title:o,variant:"rect",size:"36-sm",children:[y.jsx(Wte,{className:"size-5"})," ",r]}),y.jsxs(lt,{onClick:l,title:s,variant:"rect",size:"36-sm",children:[y.jsx($te,{className:"size-5"})," ",i]}),C&&y.jsx(lt,{onClick:async()=>{await dFe.download()},title:"Download audio debug",variant:"rect",size:"36-sm",children:"Download audio debug"})]}),d&&y.jsx(Wx,{isOpen:!0,onClose:p,headerText:a,className:"w-full max-w-[400px]",children:m})]})}function X7e(){}function Z7e({inputValue:t,handleChange:e}){const[n,r]=b.useState(""),{t:i}=pt();return Ra("kill-free-form-text")?null:y.jsx(j3,{disabled:!1,className:"max-h-[8rem] grow-0 basis-[8rem] !items-start overflow-auto rounded-xl border-2 border-stone-700 bg-black/5 px-0.5",inputValue:t,characterLimit:fme,autoFocus:!1,setInput:s=>{e(s)},placeholder:i("chat.feedback.placeholder"),errorMessage:n,setError:r,onEnter:X7e,isMultiLines:!0})}function Gte(t){const{feedbackOptions:e,onSubmit:n}=t,{t:r}=pt(),[i,o]=b.useState(new Set),[s,a]=b.useState(""),c=i.size===0,l=p=>{o(m=>{const g=new Set(m);return i.has(p)?g.delete(p):g.add(p),g})},d=async()=>{n(i,s),o(new Set)};return e?y.jsxs("div",{className:"flex flex-col gap-2 pt-2",children:[e.map(p=>y.jsx(_ee,{label:p.label,setChecked:()=>l(p.type),checked:i.has(p.type)},p.type)),c?null:y.jsx(Z7e,{inputValue:s,handleChange:a}),y.jsx(lt,{title:r("chat.feedback.submitFeedbackButton"),size:"48-lg",color:"strong",className:"mt-4 max-h-12",disabled:c,onClick:d,children:r("chat.feedback.submitFeedbackButton")})]}):null}function J7e(t){var w,T;const{className:e}=t,n=oe(fD),[r,i]=Lt(qI),[o,s]=b.useState(!1),[a,c]=b.useState(),l=je("ads-showroom-picasso-feedback"),{t:d}=pt(),p=I=>{Or({source:"feedback",scenario:S_e[I],conversationId:r==null?void 0:r.conversationId,additionalData:{brandId:r==null?void 0:r.brandId,brandName:(r==null?void 0:r.brandName)??""}})},m=()=>{s(!1),i(void 0)},g=async I=>{r!=null&&r.conversationId&&l&&await JM(r.conversationId,I,"showroomReaction")},C=()=>{var I;p("thumbs-up"),c("thumbs-up"),(I=n==null?void 0:n.showroom)!=null&&I.positive?s(!0):m(),g("thumbs-up")},_=()=>{var I;p("thumbs-down"),c("thumbs-down"),(I=n==null?void 0:n.showroom)!=null&&I.negative?s(!0):m(),g("thumbs-down")},S=async(I,A)=>{m(),r&&he.trackEvent({name:"interaction",data:{eventName:"copilotSubmitFineConversationFeedback",eventInfo_fineFeedbackTypes:Array.from(I).join(","),eventInfo_conversationId:r.conversationId,eventInfo_additionalData:JSON.stringify({brandId:r.brandId,brandName:r.brandName,reactionType:a})}}),r!=null&&r.conversationId&&I.size>0&&zte(r.conversationId,I,A)};return y.jsx(Kte,{titleText:d("ads.showroomFeedbackTitle",{brand:r==null?void 0:r.brandName}),subtitleText:d("ads.showroomFeedbackDescription"),positiveButtonText:d("ads.showroomFeedbackPositive"),negativeButtonText:d("ads.showroomFeedbackNegative"),positiveButtonTitle:d("reviewPrompt.positive"),negativeButtonTitle:d("reviewPrompt.negative"),modalHeaderText:d("ads.showroomFeedbackModalTitle"),onPositiveClick:C,onNegativeClick:_,isModalOpen:o,onModalClose:m,modalContent:y.jsx(Gte,{onSubmit:S,feedbackOptions:a==="thumbs-up"?((w=n==null?void 0:n.showroom)==null?void 0:w.positive)??void 0:(T=n==null?void 0:n.showroom)==null?void 0:T.negative}),className:e,isDebugAudioRecorderEnabled:!1})}function eVe(t){const{onSubmit:e}=t,{t:n}=pt(),[r,i]=b.useState(!1),o=async s=>{i(!0),await e(s),i(!1)};return y.jsxs("div",{children:[y.jsx("p",{children:n("voice.feedback.reviewReason")}),y.jsx(lt,{title:n("voice.feedback.okay"),size:"48-lg",color:"strong",className:"mt-4 max-h-12 w-full",disabled:r,onClick:()=>o(!0),children:n("voice.feedback.okay")}),y.jsx(lt,{title:n("voice.feedback.noThanks"),size:"48-lg",color:"default",className:"mt-3 w-full",onClick:()=>o(!1),children:n("voice.feedback.noThanks")})]})}function tVe({className:t}){const e=oe(sn),n=oe(fD),r=We(Iv),[i,o]=Lt(zD),[s,a]=b.useState(),c=je("debug-audio-recorder")&&!1,l=TAe(),{t:d}=pt(),p=()=>{Or({source:"voiceFeedback",scenario:"thumbsUp",conversationId:e,destination:l?"appearance":void 0}),e&&JM(e,"thumbs-up","audioReaction"),r(!1),Pr.emit("feedback:ai-message-reaction","positive")},m=()=>{Or({source:"voiceFeedback",scenario:"thumbsDown",conversationId:e,destination:l?"appearance":void 0}),e&&JM(e,"thumbs-down","audioReaction"),a("feedback-options")},g=()=>{a(null),r(!1)},C=async(w,T)=>{e&&w.size>0&&zte(e,w,T),i?g():a("review-request")},_=async w=>{w&&(o(!0),await P3e({optInToVoiceTraining:!0})),g()},S=()=>s==="feedback-options"?y.jsx(Gte,{onSubmit:C,feedbackOptions:n==null?void 0:n.call}):s==="review-request"?y.jsx(eVe,{onSubmit:_}):null;return y.jsx(Kte,{titleText:d("voice.feedback.howWasVoiceChat"),subtitleText:d("voice.feedback.giveFeedback"),positiveButtonText:d("voice.feedback.good"),negativeButtonText:d("voice.feedback.bad"),positiveButtonTitle:d("reviewPrompt.positive"),negativeButtonTitle:d("reviewPrompt.negative"),modalHeaderText:d(s==="feedback-options"?"voice.feedback.chooseWhatHappened":"voice.feedback.canMicrosoftReview"),onPositiveClick:p,onNegativeClick:m,isModalOpen:!!s,onModalClose:g,modalContent:S(),className:t,isDebugAudioRecorderEnabled:c})}const nVe=b.lazy(()=>de(()=>import("./index.es-BQTTWj8K.js"),[])),rVe=gee();function iVe({onAnimationClicked:t}){const e=b.useRef(null),{t:n}=pt(),[r,i]=b.useState(null);b.useEffect(()=>{rVe.load("../../assets/lottie/character-thinking-cloud-animation.json").then(i).catch(()=>i(null))},[]),b.useEffect(()=>{const a=e.current;return a&&r&&a.playSegments([0,67],!0),()=>{a&&r&&a.playSegments([350,370],!0)}},[r]);const o=()=>{var c,l;(c=e.current)==null||c.playSegments([320,345],!0),(l=e.current)==null||l.pause(),t();const a=document.getElementById(pte);a==null||a.focus()},s=a=>{a.key==="Enter"&&o()};return y.jsx("div",{children:y.jsx(b.Suspense,{fallback:y.jsx("div",{}),children:y.jsx(nVe,{lottieRef:e,role:"button",tabIndex:0,"aria-label":n("characterAnimation.characterThinkingCloudAriaLabelText"),title:n("characterAnimation.characterThinkingCloudAriaLabelText"),animationData:r,loop:!1,onMouseDown:o,onMouseEnter:()=>{var a;return(a=e.current)==null?void 0:a.playSegments([275,295],!0)},onMouseLeave:()=>{var a;return(a=e.current)==null?void 0:a.playSegments([296,315],!0)},onKeyDown:s,onComplete:()=>{var a;return(a=e.current)==null?void 0:a.playSegments([68,274],!0)}})})})}const cH=1,oVe=b.lazy(()=>de(()=>import("./character-6RQdaeoH.js"),__vite__mapDeps([226,227])).then(t=>({default:t.Character})));function sVe({animatingMessageId:t,isStreamingMessage:e,displayedCharacterId:n,setCharacterComponentHeight:r}){const i=je("characterspeech"),[o,s]=b.useState(0),[a,c]=b.useState(!1),[l,d]=Lt(yh),{submitMessage:p}=$x(),m=oe(Ul),g=()=>{s(0),c(!1)};b.useEffect(()=>{let S;return i&&l==="idle"&&(S=setInterval(()=>{s(w=>w<cH?w+1:w),m.length>0&&o===cH&&!e&&(c(!0),he.trackEvent({name:"system",data:{eventName:"characterTalkToMeDisplayed",eventInfo_conversationId:cn(sn),eventInfo_characterId:n}}))},1e3)),()=>clearInterval(S)},[l,n,m.length,i,o,e]),b.useEffect(()=>{i&&l!=="idle"&&l!=="hovering"&&g()},[l,i]);const C=async()=>{g(),d("responding"),await p({command:{type:"promptCharacterSpeech"},inputMethod:"promptCharacterSpeech"}),he.trackEvent({name:"interaction",data:{eventName:"characterTalkToMeClicked",eventInfo_conversationId:cn(sn),eventInfo_characterId:n}})};function _(){switch(n){case"aqua":return"translate-x-9";case"mica":return"translate-x-14";case"erin":return"translate-x-16";default:throw new Error("Invalid characterId provided to getTranslateXClass")}}return y.jsx(uW,{fallback:y.jsx(t3,{}),onError:L_e(t,n),children:y.jsxs("div",{"data-testid":"character-div",className:fe("sticky top-0 h-2/5 min-h-[40vh] w-full bg-gradient-chat-light-character dark:bg-midnight-850 dark:bg-none",Un.babylonCharacter),style:{maskImage:"linear-gradient(to bottom, #000 95%, transparent 100%)"},children:[y.jsx(Rr,{children:a&&y.jsx(ct.div,{className:fe("absolute start-1/2 top-12 size-36",_()),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},children:y.jsx(iVe,{onAnimationClicked:C})})}),y.jsx(b.Suspense,{fallback:y.jsx("div",{className:"flex h-full items-center justify-center",children:y.jsx(Cn,{type:"spinnerThemed",className:"size-12"})}),children:y.jsx(oVe,{characterId:n,setCharacterComponentHeight:r})})]})})}function aVe({className:t}){const{t:e}=pt();return y.jsxs("div",{className:En("flex items-center gap-2",t),children:[y.jsx(Cn,{type:"reasoning",className:"size-11"}),y.jsxs("div",{className:"flex flex-col text-sm",children:[y.jsx("span",{children:e("chat.reasoningLoading.title")}),y.jsx("span",{className:"text-foreground-450 dark:text-foreground-600",children:e("chat.reasoningLoading.description")})]})]})}function lH(){switch(oe(so)){case"chat":case"computerUse":case"research":return y.jsx(Cn,{type:"spinnerThemed",className:"absolute -ms-2.5 -mt-2 size-11"});case"reasoning":return y.jsx(aVe,{className:"absolute -ms-2.5 -mt-2 w-max"});default:return null}}const cVe=b.lazy(()=>de(()=>import("./actions-chat-detail-C5QLNSuX.js"),__vite__mapDeps([326,327,328,315,329,330,322,255])).then(t=>({default:t.ActionsChatDetail}))),lVe=b.lazy(()=>de(()=>import("./showroom-chat-detail-C1mGFvIA.js"),[]).then(t=>({default:t.ShowroomChatDetail})));function uVe(){const t=oe(xv);return y.jsx("div",{className:"flex size-full items-center justify-center",children:t?y.jsx(b.Suspense,{fallback:y.jsx(uH,{}),children:y.jsx(lVe,{})}):y.jsx(b.Suspense,{fallback:y.jsx(uH,{}),children:y.jsx(cVe,{})})})}function uH(){return y.jsx("div",{className:"flex size-full items-center justify-center",children:y.jsx(Cn,{className:"size-12"})})}const uS=376,FP="0.5rem";function qte(t){const{children:e}=t,n=oe(cs),r=Po(),i=n==="side-by-side",o=O3(),s=n==="side-by-side"&&!o,a=r?"bg-stone-150":"bg-gradient-chat-light",c=S3(l=>{const d=document.getElementById("app");d&&d.style.setProperty("--chat-details-container-height",o?`${l.height}px`:null)});return y.jsxs("div",{className:fe("flex size-full max-h-[100vh] min-h-0",o&&"flex-col",i&&"bg-sidebar-light dark:bg-sidebar-dark",r&&i&&"pb-2"),style:s?{gap:FP}:void 0,children:[n!=="chat-only"&&y.jsx(ct.div,{ref:c,className:fe("rounded-lg",o&&"h-fit",i&&"shadow-lg","dark:bg-midnight-850 dark:bg-none",a),initial:{width:s?`calc(100% - ${FP} - max(${uS}px, 25%))`:"100%"},animate:{width:s?`calc(100% - ${FP} - max(${uS}px, 25%))`:"100%"},transition:Gs,children:y.jsx(uVe,{})}),y.jsx(ct.div,{className:fe(n==="detail-only"&&"hidden",i&&a,o?"h-[calc(100vh-var(--chat-details-container-height))]":"h-full",i&&"rounded-lg pb-px shadow-lg dark:bg-midnight-850 dark:bg-none"),initial:{width:s?`max(${uS}px, 25%)`:"100%"},animate:{width:s?`max(${uS}px, 25%)`:"100%"},transition:Gs,children:e})]})}function dVe(t,e,n){const r=PS(t,e),i=Kg(e,{weekStartsOn:1}),o=PS(i,e),s=PS(oT(i,7),e),a=og(t,"EEEE",{weekStartsOn:1}),c=n(`dates.weekdays.${a.toLowerCase()}`),l=n(`dates.months.${og(t,"MMMM").toLowerCase()}Abbr`),d=og(t,"d"),p=n("dates.dayMonthDate",{day:c,month:l,date:d});return r>=1?p:r>=0?`${n("dates.today")}`:r>=-1?`${n("dates.yesterday")}`:r>=o?c:r>=s?n("dates.previousDay",{day:c}):p}function fVe(t,e){return dVe(t,new Date,e)}function Nqe(t){const e=Math.max(0,t),n=Math.floor(e/60),r=e%60;return`${n}:${r<10?"0":""}${r}`}function hVe(t){const{date:e,className:n}=t,{t:r}=pt();return y.jsxs("div",{className:fe("flex items-center",n),children:[y.jsx("span",{className:"opacity-70 text-xs-strong","data-testid":"date-divider",children:fVe(e,r)}),y.jsx(_3,{verticalMargin:!1,color:"accent",className:"mt-px grow"})]})}function pVe(t){const{content:e}=t;return y.jsx("div",{className:"text-center text-foreground-450 text-xs dark:text-foreground-600",children:e})}const mVe="contrast-more:outline contrast-more:after:border-2 contrast-more:after:absolute contrast-more:after:pointer-events-none contrast-more:after:w-2/3 contrast-more:after:h-2/3",gVe="text-stone-550 active:text-stone-350 dark:text-slate-400 active:dark:text-slate-450",vVe="bg-white/3 safe-hover:bg-black/5 active:bg-black/3 dark:bg-black/3 dark:safe-hover:bg-white/5 dark:active:bg-white/3",yVe="border-[1px] border-black/8 dark:border-white/8",bVe=`${gVe} ${vVe} ${yVe}`;function CVe(t){const{children:e,isSelected:n,className:r,onClick:i,disabled:o,unselectedColorClass:s,variant:a="standard"}=t,{focusable:c}=gv({autoRestoreFocus:!0,forceFocus:!0});let l;return n?l=Sh.strong:a==="flat"?l=bVe:l=Sh[s??"overlay-dimmed-inverted"],y.jsx("button",{disabled:o,type:"button",ref:c.ref,className:fe("shadow-none dark:shadow-none",d0,rL["40-base"],iL["40-base"],yO["40-base"],vI,l,r,n&&mVe),onClick:i,"aria-pressed":n,"data-spatial-focus-key":c.focusKey,children:e})}function _Ve(t){const{query:e,messageId:n,index:r,onClick:i}=t,o=oe(sn),s=()=>{Or({source:"suggestionChip",conversationId:o,messageId:n}),he.trackEvent({name:"interaction",data:{eventName:"copilotSuggestionFollowupSelection",eventInfo_messageId:n,eventInfo_conversationId:o??"",eventInfo_suggestionIndex:r}}),i()};return y.jsx(CVe,{isSelected:!1,variant:"flat",className:"max-w-[80%] text-start sm:max-w-fit",onClick:s,children:y.jsx("span",{className:"p-1",children:e})})}function wVe(t){const{mostRecentMessageId:e,className:n}=t,r=oe($_e),i=r&&e===r.messageId;return b.useEffect(()=>{i&&Mv({page:"chat",scenario:"suggestionReceived"})},[i]),y.jsx("div",{className:fe("mt-auto",n),children:i&&y.jsx(SVe,{suggestions:r.suggestions,messageId:r.messageId})})}function SVe({suggestions:t,messageId:e}){const{submitMessage:n}=$x(),r=b.useRef(null),i=Q2(r,{amount:"all",once:!0});return b.useEffect(()=>{i&&Mv({page:"chat",scenario:"suggestionRender"})},[i]),y.jsx(_i,{ref:r,duration:zs.suggestions,className:"flex flex-col items-end gap-3 pb-8",children:t.map((o,s)=>y.jsx(_Ve,{index:s,messageId:e,onClick:()=>n({text:o,inputMethod:"suggestion"}),query:o},o))})}function W3(t){const{pages:e,className:n,children:r,disableLink:i,clickSource:o}=t,{pushPages:s}=HJ(),a=()=>{Pr.emit("disclaimer:open-settings"),s(e),Yt({source:o??"settingsLink",destination:e[e.length-1]})};return i?y.jsx("span",{children:r}):y.jsx("button",{className:n,type:"button",title:"",onClick:a,children:r})}function dH(t){var e;return((e=Qe.instance().config().settingsOverrides)==null?void 0:e[t.key])??t.default}function EVe(){const t=co(),e=oe(fQ),n=oe(zD),r=oe($D),i=oe(Tv),o=oe(CAe),s=!!oe(_Ae),a=!!oe(wAe),c=!!(dH({key:"shouldShowTextModelTrainingSettings",default:!0})&&s),l=!!(dH({key:"shouldShowVoiceModelTrainingSettings",default:!0})&&a),d=je("view-settings-disclaimer"),p=c||l,m=!p||e&&!n,g=NZ(),[C,_]=Lt(gQ),[S,w]=b.useState(!1);b.useEffect(()=>{if((p||o)&&t&&!i){if(C){w(!0),_(!1);return}if(g<NO){w(!0);return}let A;try{A=lNe()}catch{A=new Date}const k=rq(A,6),R=new Date;R>k&&(w(!0),Ci(q0,R.toISOString()))}},[t,p,i,g,o,C,_]);const T=()=>m===void 0||r===void 0||o===void 0?null:i||!t?"chat.unauthenticatedDisclaimer":!o||!S?"chat.firstTurnDisclaimerBase":!m&&!r?d?"chat.firstTurnDisclaimerPersonalizationTrainingViewSettings":"chat.firstTurnDisclaimerPersonalizationTraining":m&&!r?d?"chat.firstTurnPersonalizationDisclaimerViewSettings":"chat.firstTurnPersonalizationDisclaimer":r&&!m?d?"chat.firstTurnTrainingDisclaimerViewSettings":"chat.firstTurnTrainingDisclaimer":"chat.firstTurnDisclaimerBase";return(()=>{var k,R,M;let A=T();return A?(k=Qe.instance().config().uiOverrides)!=null&&k.hideTrainingDisclaimer?"chat.firstTurnDisclaimerBase":(A=((M=(R=Qe.instance().config()).textOverrides)==null?void 0:M.call(R,A))??A,A):null})()}const K3="text-foreground-450 text-xs dark:text-foreground-600",TVe="underline",fH={settingsLink:y.jsx(W3,{pages:["menu","account","privacy"],className:fe(K3,TVe),clickSource:"disclaimerSettingsLink"}),learnMoreLink:y.jsx(t2,{link:HT})},hH={termsLink:y.jsx(t2,{link:eC}),privacyLink:y.jsx(t2,{link:cv})},IVe={settingsLink:y.jsx(W3,{pages:["menu","account","privacy"],className:fe(K3),disableLink:!0})};function e2(t){const{forceVisible:e,disableDisclaimerSettingsLink:n,className:r}=t,i=EVe(),o=oe(Zs);if(!(o==null?void 0:o.isNew)&&!e||!i)return null;const a=c=>{switch(c){case"chat.unauthenticatedDisclaimer":return y.jsxs(y.Fragment,{children:[y.jsx(ma,{i18nKey:"chat.firstTurnDisclaimerBase"})," ",y.jsx(ma,{i18nKey:c,components:{termsLink:hH.termsLink,privacyLink:hH.privacyLink}})]});case"chat.firstTurnTrainingDisclaimer":case"chat.firstTurnPersonalizationDisclaimer":case"chat.firstTurnDisclaimerPersonalizationTraining":case"chat.firstTurnTrainingDisclaimerViewSettings":case"chat.firstTurnPersonalizationDisclaimerViewSettings":case"chat.firstTurnDisclaimerPersonalizationTrainingViewSettings":return y.jsxs(y.Fragment,{children:[y.jsx(ma,{i18nKey:"chat.firstTurnPersonalizationDisclaimerBase"})," ",y.jsx(ma,{i18nKey:c,components:{settingsLink:n?IVe.settingsLink:fH.settingsLink}})]});case"chat.edge.firstTurnPersonalizationDisclaimer":case"chat.edge.firstTurnPersonalizationSettingsDisclaimer":return y.jsxs(y.Fragment,{children:[y.jsx(ma,{i18nKey:"chat.firstTurnPersonalizationDisclaimerBase"})," ",y.jsx(ma,{i18nKey:c,components:{learnMoreLink:fH.learnMoreLink,bold:y.jsx("strong",{})}})]});case"chat.firstTurnDisclaimerBase":case"chat.firstTurnPersonalizationDisclaimerBase":case"chat.tv.firstTurnDisclaimer":return y.jsx(ma,{i18nKey:c});default:return null}};return y.jsx(_i,{id:i,mode:"wait",className:fe("space-y-8 pb-8",K3,r),children:a(i)})}function t2(t){const{children:e,link:n}=t;return y.jsx(Ju,{className:"underline",href:n,title:"",children:e})}function Yte(t){const{customBottomDisclaimer:e}=t,n=je("async-disclaimer-text"),r=Kx(),[i,o]=b.useState(!n);return b.useEffect(()=>{r&&r.length>0&&o(!0)},[r]),e||(i?y.jsx(_i,{className:"absolute bottom-0 flex max-w-chat justify-center px-6 text-center","data-testid":"bottom-disclaimer",children:y.jsx(e2,{})}):null)}const xVe="h-2/5 max-h-[40vh] min-h-[32vh] w-full";function AVe(){return y.jsx("div",{"aria-hidden":!0,className:En(xVe,"flex flex-col items-center justify-center"),children:y.jsx(Cn,{type:"spinnerThemed",className:"size-12"})})}const Qte=1.2;function Mqe(t={},e={}){return{start:{...t,opacity:0},end:n=>({...e,opacity:1,transition:{delay:n,ease:"easeInOut",duration:Qte}})}}var Ef={},rb={},Tf={},pH;function Xte(){if(pH)return Tf;pH=1,Object.defineProperty(Tf,"__esModule",{value:!0}),Tf.Node=Tf.NodeType=void 0;var t;(function(o){o[o.element=1]="element",o[o.text=3]="text"})(t||(Tf.NodeType=t={}));class e{constructor({nodeType:s,namespace:a,selfCloseTag:c,text:l,nodeName:d,childNodes:p,parentNode:m,attributes:g}){this.namespace=a||null,this.nodeType=s,this.isSelfCloseTag=!!c,this.text=l||null,this.nodeName=s===t.element?d:"#text",this.childNodes=p||[],this.parentNode=m,this.attributes=g||[]}get firstChild(){return this.childNodes[0]||null}get lastChild(){return this.childNodes[this.childNodes.length-1]||null}get innerHTML(){return this.childNodes.reduce((s,a)=>s+(a.nodeType===t.text?a.text:a.outerHTML),"")}get outerHTML(){if(this.nodeType===t.text)return this.textContent;const s=i(this.attributes),a=`<${this.nodeName}${s.length?" ":""}${s}${this.isSelfCloseTag?"/":""}>`;if(this.isSelfCloseTag)return a;const c=this.childNodes.map(d=>d.outerHTML).join(""),l=`</${this.nodeName}>`;return[a,c,l].join("")}get textContent(){return this.nodeType===t.text?this.text:this.childNodes.map(s=>s.textContent).join("").replace(/\x20+/g," ")}getAttribute(s){const a=this.attributes.find(c=>c.name===s);return a?a.value:null}getElementsByTagName(s){return n(this,a=>a.nodeName.toUpperCase()===s.toUpperCase())}getElementsByClassName(s){const a=new RegExp(`^(.*?\\s)?${s}(\\s.*?)?$`);return n(this,c=>!!(c.attributes.length&&a.test(c.getAttribute("class")||"")))}getElementsByName(s){return n(this,a=>!!(a.attributes.length&&a.getAttribute("name")===s))}getElementById(s){return r(this,a=>!!(a.attributes.length&&a.getAttribute("id")===s))}}Tf.Node=e,e.ELEMENT_NODE=t.element,e.TEXT_NODE=t.text;function n(o,s){return o.nodeType===t.text?[]:o.childNodes.reduce((a,c)=>c.nodeType!==t.text&&s(c)?[...a,c,...n(c,s)]:[...a,...n(c,s)],[])}function r(o,s){for(let a=0,c=o.childNodes.length;a<c;a++){const l=o.childNodes[a];if(s(l))return l;const d=r(l,s);if(d)return d}return null}function i(o){return o.map(s=>s.name+(s.value?`="${s.value}"`:"")).join(" ")}return Tf}var ib={},mH;function kVe(){if(mH)return ib;mH=1,Object.defineProperty(ib,"__esModule",{value:!0}),ib.NodeAttribute=void 0;let t=class{constructor({name:n,value:r}){this.name=n,this.value=r}};return ib.NodeAttribute=t,ib}var gH;function vH(){if(gH)return rb;gH=1,Object.defineProperty(rb,"__esModule",{value:!0}),rb.Dom=void 0;const t=Xte(),e=kVe(),n=/(<\/?(?:[a-z][a-z0-9]*:)?[a-z][a-z0-9-_.]*?[a-z0-9]*\s*(?:\s+[a-z0-9-_:]+(?:=(?:(?:'[\s\S]*?')|(?:"[\s\S]*?")))?)*\s*\/?>)|([^<]|<(?![a-z/]))*/gi,r=/\s[a-z0-9-_:]+\b(\s*=\s*('|")[\s\S]*?\2)?/gi,i=/(\s[a-z0-9-_:]+\b\s*)(?:=(\s*('|")[\s\S]*?\3))?/gi,o=/^<[a-z]/,s=/\/>$/,a=/^<\//,c=/^[^<]/,l=/<\/?((?:([a-z][a-z0-9]*):)?(?:[a-z](?:[a-z0-9-_.]*[a-z0-9])?))/i,d=/^('|")|('|")$/g,p=/^(?:area|base|br|col|command|embed|hr|img|input|link|meta|param|source)/i;let m=class{constructor(R){this.rawHTML=R}find(R,M){const P=g(this.rawHTML,R,M);return M?P[0]||null:P}getElementsByClassName(R){const M=new RegExp(`^(.*?\\s)?${R}(\\s.*?)?$`);return this.find(P=>!!(P.attributes.length&&M.test(P.getAttribute("class")||"")))}getElementsByTagName(R){return this.find(M=>M.nodeName.toUpperCase()===R.toUpperCase())}getElementById(R){return this.find(M=>M.getAttribute("id")===R,!0)}getElementsByName(R){return this.find(M=>M.getAttribute("name")===R)}getElementsByAttribute(R,M){return this.find(P=>P.getAttribute(R)===M)}};rb.Dom=m;function g(k,R,M=!1){const P=C(k),N=[];for(const D of P)if(D&&R(D)&&(N.push(D),M))return N;return N}function*C(k){const R=S(k);let M=null;for(let P=0,N=R.length;P<N;P++){const D=R[P];M=w(D,M)||M,_(M,D)&&(yield M,M=M.parentNode)}for(;M;)yield M,M=M.parentNode}function _(k,R){if(!R)return!1;const M=a.test(R),[,P]=R.match(l)||[];return M&&k.nodeName===P||k.isSelfCloseTag||k.nodeType===t.NodeType.text}function S(k){return k.match(n)||[]}function w(k,R){const M=c.test(k),P=o.test(k);return M?A(k,R):P?T(k,R):null}function T(k,R){var M;const[,P,N]=k.match(l)||[],D=s.test(k)||p.test(P),G=I(k),U=new t.Node({nodeType:t.NodeType.element,nodeName:P,namespace:N,attributes:G,childNodes:[],parentNode:R,selfCloseTag:D});return(M=R==null?void 0:R.childNodes)===null||M===void 0||M.push(U),U}function I(k){return(k.match(r)||[]).map(R=>{i.lastIndex=0;const M=i.exec(R)||[],[,P="",N=""]=M;return new e.NodeAttribute({name:P.trim(),value:N.trim().replace(d,"")})})}function A(k,R){var M;const P=new t.Node({nodeType:t.NodeType.text,nodeName:"#text",text:k,parentNode:R});return(M=R==null?void 0:R.childNodes)===null||M===void 0||M.push(P),P}return rb}var yH;function RVe(){return yH||(yH=1,function(t){var e=Ef&&Ef.__createBinding||(Object.create?function(o,s,a,c){c===void 0&&(c=a);var l=Object.getOwnPropertyDescriptor(s,a);(!l||("get"in l?!s.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return s[a]}}),Object.defineProperty(o,c,l)}:function(o,s,a,c){c===void 0&&(c=a),o[c]=s[a]}),n=Ef&&Ef.__exportStar||function(o,s){for(var a in o)a!=="default"&&!Object.prototype.hasOwnProperty.call(s,a)&&e(s,o,a)};Object.defineProperty(t,"__esModule",{value:!0}),t.parseFromString=void 0;const r=vH();function i(o){return new r.Dom(o)}t.parseFromString=i,n(vH(),t),n(Xte(),t)}(Ef)),Ef}var bH=RVe();function Zte(t){const e=[];let n="",r=!1;for(const i of t)i===" "||i===`
`?r=!0:r&&(e.push(n),n="",r=!1),n+=i;return n.length>0&&e.push(n),e}function jqe(t){const n=bH.parseFromString(`<html>${t}</html>`).getElementsByTagName("html")[0];let r=[];for(const i of n.childNodes)i.nodeType===bH.NodeType.text?i.textContent&&(r=r.concat(Zte(i.textContent))):r.push(i.outerHTML);return r}function PVe(t){return t===" "||t===`
`||t==="	"}function Fqe(t,e,n={}){if(t.length<=e)return t;function r(a){const c=a.trim();return n.ellipsis?`${c}...`:c}const i=t.indexOf(`
`,0);if(i>=0&&i<e){const a=t.slice(0,i);return r(a)}let o=e;for(;o>0;){const a=t[o];if(a&&!PVe(a))o-=1;else break}let s=t.slice(0,e);return o>0&&(s=t.slice(0,o)),r(s)}function OVe(t){const{text:e,staggerChildren:n=.018,delayChildren:r=0,initialOpacity:i=0}=t;return y.jsx(ct.div,{variants:{show:{transition:{staggerChildren:n,delayChildren:r}}},initial:"hidden",animate:"show",children:Zte(e).map((o,s)=>y.jsx(ct.span,{variants:{hidden:{opacity:i},show:{opacity:1,transition:{duration:Qte}}},children:o},s))})}function NVe(){const t=gi({breakpoint:"md"}),e=Po(),n=oe(Od);return e&&n&&!t}const MVe={sm:"text-md",md:"text-xl",lg:"text-2xl"};function LVe(t){const{subheading:e}=t;return y.jsx("h2",{className:"mt-4 text-foreground-800 text-base",children:e})}function DVe(t){const{className:e,fontSize:n="lg"}=t,r=oe(lQ),{t:i}=pt(),o=NVe(),{greetingKey:s,widgetGreeting:a,widgetSubheading:c,showPromptedGreetingUI:l}=ste(),d=s?i(s,{name:r}):void 0;return l?y.jsxs("div",{className:En(e,"flex w-full flex-col items-start justify-start gap-2 sm:mb-6 sm:h-[100px] sm:justify-end"),children:[y.jsxs("div",{className:"flex gap-2 text-foreground-550 dark:text-foreground-750",children:[y.jsx("p",{className:"text-xs-strong",children:i("common.copilotText")}),y.jsx("p",{className:"text-xs",children:og(new Date,"h:mm aa")})]}),a?y.jsx("h1",{className:"text-lg",children:y.jsx(Jte,{text:a})}):y.jsxs(y.Fragment,{children:[y.jsx(uv,{className:"h-[24px] w-4/5 rounded-md"}),y.jsx(uv,{className:"h-[24px] w-1/4 rounded-md"})]})]}):y.jsxs("div",{className:En(e,"flex flex-col items-start",MVe[n],o&&c&&"mb-8 bp-960:mb-0"),"data-testid":"launch-greeting",children:[y.jsx("h1",{children:d}),c&&y.jsx(LVe,{subheading:c})]})}const Jte=b.memo(t=>{const{text:e}=t;return y.jsx(OVe,{text:e,staggerChildren:.02,delayChildren:.1,initialOpacity:.1},e)});Jte.displayName="AnimatedTextMemo";function jVe(t){const{customLaunchGreeting:e,className:n}=t,r=gi({breakpoint:"sm"}),{showShoppingCardInNewChat:i}=Yx();return e||y.jsx(DVe,{className:n,fontSize:r||i?"md":"lg"})}function FVe(t){const{className:e}=t;return oe(Tv)?y.jsx(e2,{forceVisible:!0,className:e}):y.jsx(e2,{className:e})}function UVe({characterId:t,className:e}){const n=oe(Zs),[r,i]=Lt(Sq),{t:o}=pt();return b.useEffect(()=>{(n==null?void 0:n.isNew)===!1&&i(!1)},[i,n==null?void 0:n.isNew]),n!=null&&n.isNew?y.jsxs(_i,{id:"character-disclaimer",mode:"wait",className:fe("pb-2 text-stone-550/90 text-xs dark:text-slate-250/60",e),children:[o("characterAnimation.characterDisclaimerTextV2",{characterName:M_e(t,o)})," ",r&&y.jsx(ma,{i18nKey:"characterAnimation.characterSettingDisclaimerText",components:{settingsLink:y.jsx(W3,{pages:["menu","character-options"],className:"text-stone-550/90 underline text-xs dark:text-slate-250/60"})}})]}):null}function BVe(){return y.jsx(Qx,{size:"sm",stroke:!0,className:"flex h-[172px] w-[324px] cursor-pointer flex-col p-4",children:y.jsx("div",{className:"flex flex-1",children:y.jsx(uv,{className:"size-full",style:{clipPath:"var(--clip-path-squircle-36)"}})})})}const VVe=b.lazy(()=>de(()=>import("./contextual-shopping-card-8nLFddEn.js"),__vite__mapDeps([331,332,239,235,333,236,237,238,334,229,335,336,265,337,338,339])).then(t=>({default:t.AnimatedContextualShoppingCard})));function ene(t){const{customLaunchGreeting:e}=t,{isCentralComposerEnabled:n,isWidgetSectionEnabled:r,isAppearanceOnHomeEnabled:i}=qx(),o=gi({breakpoint:"sm"}),s=rte({breakpoint:"h760"}),a=je("multiplecharacters"),c=L3(),l=oe(dD),d=oe(c6e),p=We(td),m=!bx(),g=a&&l!==null,C=pee(),{launchGreetingShown:_,widgetSubheading:S}=ste(),{showShoppingCardInNewChat:w,shoppingProductMetadata:T}=Yx(),I=!d&&!g&&!_&&c&&!C,A=g||o&&!I,R=oe(so)==="computerUse",M=r&&!R&&!o&&!s,P=I&&"pb-2",N=b.lazy(()=>Promise.resolve({default:()=>null}));return b.useEffect(()=>{i&&p(UD)},[p,i]),y.jsxs(_i,{delay:.2,initial:m?"initial":!1,className:En(n?"mt-2 flex flex-col items-start text-pretty pe-0 sm:absolute sm:inset-x-0 sm:inset-y-0 sm:mx-auto sm:mt-0 sm:max-w-chat sm:px-4 sm:pb-[calc(var(--composer-container-height))]":P,w&&"mx-auto mt-2 max-w-sm sm:relative sm:mt-6 sm:max-w-md sm:px-4",i&&!s?"gap-1 sm:justify-start":"gap-2 sm:justify-center",M&&!S&&"sm:pb-[calc(var(--composer-container-height)-64px)]",M&&S&&"sm:pb-[calc(var(--composer-container-height)-32px)]"),children:[i&&!s&&y.jsx(b.Suspense,{fallback:y.jsx(AVe,{}),children:y.jsx(N,{className:En("order-2 mt-20 w-full sm:order-1 sm:mt-0")})}),I&&y.jsx(jVe,{customLaunchGreeting:e,className:En("sm:ps-2",i&&"text-center",i&&!s&&"order-1 sm:order-2")}),g&&y.jsx(UVe,{characterId:l}),w&&T&&y.jsx(b.Suspense,{fallback:y.jsx(BVe,{}),children:y.jsx(VVe,{content:T})}),A&&y.jsx(FVe,{})]})}const CH=10,HVe=0,zVe=.2;function $Ve({onClick:t,shouldShowScrollToBottomButton:e}){const{t:n}=pt();return y.jsx(Rr,{children:e&&y.jsx(ct.div,{className:fe("absolute start-1/2 -translate-x-1/2",Un.chatScrollToBottomButton),style:{bottom:"calc(var(--composer-container-height) + 1.5rem)"},initial:{...Vt,y:CH},animate:{...Rn,y:HVe},exit:{...Vt,y:CH},transition:{duration:zVe},children:y.jsx(lt,{className:"backdrop-blur-md",color:"default",variant:"square",title:n("chat.scrollToBottom"),onClick:t,children:y.jsx(zC,{className:"size-6 rotate-180"})})})})}const tne=t=>b.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},b.createElement("mask",{id:"mask0_12117_44960",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:0,y:0,width:20,height:20},b.createElement("path",{d:"M7.19253 7.24894C7.46962 6.94112 7.94384 6.91617 8.25172 7.1932L10.7517 9.44267C10.9098 9.58487 11 9.78745 11 10C11 10.2126 10.9098 10.4152 10.7517 10.5574L8.25172 12.8068C7.94384 13.0839 7.46962 13.0589 7.19253 12.7511C6.91543 12.4433 6.94039 11.9692 7.24827 11.6922L8.29553 10.7499H4.75C4.33579 10.7499 4 10.4141 4 10C4 9.58591 4.33579 9.2502 4.75 9.2502H8.29553L7.24828 8.30789C6.94039 8.03086 6.91543 7.55675 7.19253 7.24894ZM20 15.2506C20 16.7691 18.7688 18 17.25 18L2.75 18C1.23122 18 0 16.7691 0 15.2506V4.74937C0 3.23093 1.23122 2 2.75 2H17.25C18.7688 2 20 3.23094 20 4.74937L20 15.2506ZM17.25 16.5003C17.9404 16.5003 18.5 15.9408 18.5 15.2506L18.5 4.74937C18.5 4.05917 17.9404 3.49966 17.25 3.49966L13.9958 3.49966L13.9958 16.5003H17.25ZM12.4958 16.5003L12.4958 3.49966L2.75 3.49965C2.05965 3.49965 1.5 4.05917 1.5 4.74937L1.5 15.2506C1.5 15.9408 2.05964 16.5003 2.75 16.5003L12.4958 16.5003Z",fill:"currentColor"})),b.createElement("g",{mask:"url(#mask0_12117_44960)"},b.createElement("rect",{width:24,height:24,transform:"translate(-2 -2)",fill:"currentColor"}))),Uqe=Object.freeze(Object.defineProperty({__proto__:null,default:tne},Symbol.toStringTag,{value:"Module"}));function WVe(){const t=!Ra("kill-share-c2"),e=Wn(),n=oe(Zs);return!!(t&&e.startsWith("/chats")&&!e.endsWith("/talk")&&(n!=null&&n.history.length))}function nne(){const{t}=pt(),e=gi({breakpoint:"md"}),n=gi({breakpoint:"sm"}),r=gi({breakpoint:"xl"}),i=oe(cs)==="side-by-side",o=oe(Od),s=Wn(),a=We(cs),c=O3(),l=i&&!n&&s.startsWith("/chats"),d=WVe()&&r,p=(e||!o||l||d)&&!c,m=b.useCallback(()=>{a("detail-only")},[a]);return y.jsx("div",{className:fe("sticky top-0 z-10 w-full"),children:y.jsx(Rr,{children:p&&y.jsx(ct.div,{className:"absolute h-16 w-full rounded-lg bg-stone-150/90 backdrop-blur-md dark:bg-midnight-850/80",initial:"initial",animate:"animate",exit:"exit",variants:{initial:Vt,animate:Rn,exit:Vt},transition:Gs,"data-testid":"sticky-header",children:l&&y.jsx(ct.div,{initial:Vt,animate:Rn,exit:{transition:{duration:0},...Vt},transition:Gs,children:y.jsx(lt,{title:t("actions.hideDetails"),color:"subtle-dimmed",variant:"square",size:"36-sm",className:"ms-3.5 mt-1.5",onClick:m,children:y.jsx(tne,{className:"size-5"})})})})})})}const KVe="answerCards.ariaLabel.numberOfLocalResultsSingle",GVe="answerCards.ariaLabel.numberOfLocalResultsPlural";function qVe(t){let e="";for(const r of t.entities){if(e+=r.name,r.category&&(e+=`, ${r.category}`),r.price&&(e+=`, ${YVe(r.price)}`),r.reviews[0]){const i=r.reviews[0];e+=", ",e+=Ae("answerCards.ariaLabel.ratedByReviewer",{rating:i.rating,reviewCount:i.count,reviewProvider:i.providerName})}r.phoneNumber&&(e+=", ",e+=Ae("answerCards.ariaLabel.phoneNumber",{phoneNumber:r.phoneNumber})),r.location.address&&(e+=", ",e+=Ae("answerCards.ariaLabel.address",{address:r.location.address})),e+=". "}const n=t.entities.length===1?KVe:GVe;return Ae(n,{count:t.entities.length,resultSummary:e})}function YVe(t){switch(t.length){case 1:return Ae("answerCards.ariaLabel.inexpensivePrices");case 2:return Ae("answerCards.ariaLabel.averagePrices");default:return Ae("answerCards.ariaLabel.expensivePrices")}}function QVe(t){const{content:e,announce:n}=t;let r;for(const i of e){switch(i.type){case"text":r=i.text;break;case"image":i.url?r=Ae("chat.imageGenerated",{prompt:i.prompt??""}):r=Ae("chat.imageGenerating");break;case"page":break;case"citation":break;case"card":r=XVe(i.card);break}r&&n({msg:r})}}function XVe(t){switch(t.type){case"localEntity":return qVe(t);case"ads":case"weather":case"weatherTemperatureHourly":case"weatherTemperatureDaily":case"weatherPrecipitationHourly":case"weatherPrecipitationDaily":case"image":case"phoneImages":case"phoneLinking":case"phoneAlarm":case"phoneTimer":case"phoneSendMessage":case"video":case"sportsSchedule":case"sportsGame":case"safetyHelpline":case"shopping":case"shoppingProducts":case"shoppingCurated":case"job":case"quiz":case"financeChart":case"generativeUI":case"recipe":case"mediaSpotlight":case"m365":return"";default:return""}}function ZVe(t,e){const n=b.useRef();b.useEffect(()=>{var i;if(e==="streaming")return;const r=t.at(-1);r&&r.author==="ai"&&r.id!==((i=n.current)==null?void 0:i.id)&&(QVe({content:r.content,announce:Bee}),n.current=r)},[t,e])}function JVe(t){b.useEffect(()=>{if(t.current){const e=r=>{var o,s,a,c,l;const i=window.getSelection();if(i!=null&&i.rangeCount){let d=document.createElement("div");const p=i.getRangeAt(0),{startContainer:m,endContainer:g}=p;d.appendChild(p.cloneContents());const C=(o=m.parentElement)==null?void 0:o.closest("pre"),_=(s=g.parentElement)==null?void 0:s.closest("pre"),S=!!C&&!!_&&C===_,w=!!((a=m.parentElement)!=null&&a.closest("table")),T=d.getElementsByTagName("*");for(const R of T)R.getAttribute("data-copy")==="false"?R.remove():(R.removeAttribute("style"),R.removeAttribute("class"),R.removeAttribute("initial"),R.removeAttribute("animate"),R.removeAttribute("variants"),R.removeAttribute("custom"));if(S){const R=document.createElement("pre");R.appendChild(d),d=R}if(w){const R=document.createElement("table"),M=Array.from(d.children);for(const P of M)R.appendChild(P);d=R}d.style.position="absolute",d.style.left="-9999px",document.body.appendChild(d);const I=window.getSelection(),A=document.createRange();A.selectNodeContents(d),I==null||I.removeAllRanges(),I==null||I.addRange(A);const k=(I==null?void 0:I.toString())??"";I==null||I.removeAllRanges(),I==null||I.addRange(p),document.body.removeChild(d),d.removeAttribute("style"),(c=r.clipboardData)==null||c.setData("text/plain",k),(l=r.clipboardData)==null||l.setData("text/html",S||w?d.outerHTML:d.innerHTML)}r.preventDefault()},n=t.current;return n.addEventListener("copy",e),()=>{n.removeEventListener("copy",e)}}return()=>{}},[t])}const eHe=typeof document<"u"?b.useLayoutEffect:b.useEffect;function tHe(t,e){const n=b.useRef(0),r=b.useRef(0);b.useEffect(()=>{const{current:i}=e,o=()=>{if(i){const s=i.scrollHeight-i.scrollTop;r.current=s}};return i==null||i.addEventListener("scroll",o,{passive:!0}),o(),()=>{i==null||i.removeEventListener("scroll",o)}},[e]),eHe(()=>{const{current:i}=e;i&&i.scrollTop+r.current!==i.scrollHeight&&(n.current===0?setTimeout(()=>{i.scrollTop=i.scrollHeight},100):i.scrollTop=i.scrollHeight-r.current,n.current=t)},[t,e])}function nHe(t,e){const n=Ra("kill-review-prompt"),i=!!Qe.instance().config().promptForReviews&&!n,o=We(Ks),s=b.useCallback(async c=>{if(!i)return;const{shown:l}=await YOe.run({});if(l)return;const p=Q6e()>=$6e,m=c>H6e;(p||m)&&!X6e()&&(o("prompt-review"),he.trackEvent({name:"system",data:{eventName:"inAppSurveyPopUp",eventInfo_triggerType:m?"longChat":"activeDays"}}))},[i,o]),a=b.useRef(!1);b.useEffect(()=>{e&&(a.current=!0)},[e]),b.useEffect(()=>{e||!a.current||s(t)},[t,e,s])}function rHe(t){return b.useCallback(({behavior:n="smooth",delay:r=0})=>{setTimeout(()=>{t.current&&t.current.scrollTo({top:t.current.scrollHeight,behavior:n})},r)},[t])}const iHe=.1;function oHe(t){const{chatRef:e,isEnabled:n}=t,r=b.useRef(null),[i,o]=b.useState(!1),s=b.useCallback(a=>{const c=a[0];c&&o(!c.isIntersecting)},[]);return b.useEffect(()=>{if(!n||!e.current||!r.current)return()=>{};const a=new IntersectionObserver(s,{root:e.current,threshold:iHe});return a.observe(r.current),()=>{a.disconnect()}},[n,e,s]),{bottomRef:r,shouldShowScrollToBottomButton:i}}function sHe(){const t=oe(DC),e=xd(Nr),n=oe(lD);b.useEffect(()=>{e(r=>{if(n){const i=r.get(n);i&&(i.characterId=t)}})},[n,t,e])}async function aHe(t,e){const n=yD(e);if(n){const{message:r,part:i}=n;if(!i.task)return;const o=await Jf();o.setConversationIdByMessageId({messageId:r.id,conversationId:t}),o.setMessageIdByTaskId({taskId:i.task.id,messageId:r.id})}}const cHe=window.requestIdleCallback||function(e){const n=Date.now();return setTimeout(()=>{e({didTimeout:!1,timeRemaining(){return Math.max(0,50-(Date.now()-n))}})},1)},rne=t=>b.createElement("svg",{viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...t},b.createElement("path",{d:"M2 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v7a2 2 0 0 1-1.164 1.818 1.497 1.497 0 0 0-.275-.379l-.446-.446A1 1 0 0 0 17 13V6a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h5v1H4a2 2 0 0 1-2-2V6Zm8.854 4.146A.5.5 0 0 0 10 10.5v7a.5.5 0 0 0 .91.287l1.571-2.245 2.943.452a.5.5 0 0 0 .43-.848l-5-5ZM11 15.915v-4.207l3.066 3.067-1.74-.268a.5.5 0 0 0-.486.207l-.84 1.2Z"})),Bqe=Object.freeze(Object.defineProperty({__proto__:null,default:rne},Symbol.toStringTag,{value:"Module"})),ine=t=>b.createElement("svg",{viewBox:"0 0 64 64",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...t},b.createElement("path",{d:"M32.0007 5.33301C46.7282 5.33301 58.6673 17.2721 58.6673 31.9997C58.6673 46.7273 46.7282 58.6663 32.0007 58.6663C17.2731 58.6663 5.33398 46.7273 5.33398 31.9997C5.33398 17.2721 17.2731 5.33301 32.0007 5.33301ZM32.0007 8.66634C19.114 8.66634 8.66732 19.113 8.66732 31.9997C8.66732 44.8863 19.114 55.333 32.0007 55.333C44.8873 55.333 55.334 44.8863 55.334 31.9997C55.334 19.113 44.8873 8.66634 32.0007 8.66634ZM23.7105 21.3663L23.8458 21.4878L32.0007 29.6437L40.1555 21.4878C40.763 20.8803 41.7227 20.8398 42.3772 21.3663L42.5125 21.4878C43.12 22.0953 43.1605 23.0551 42.634 23.7095L42.5125 23.8449L34.3567 31.9997L42.5125 40.1545C43.12 40.762 43.1605 41.7217 42.634 42.3762L42.5125 42.5115C41.905 43.119 40.9453 43.1595 40.2908 42.633L40.1555 42.5115L32.0007 34.3557L23.8458 42.5115C23.2383 43.119 22.2786 43.1595 21.6241 42.633L21.4888 42.5115C20.8813 41.904 20.8408 40.9443 21.3673 40.2898L21.4888 40.1545L29.6447 31.9997L21.4888 23.8449C20.8813 23.2374 20.8408 22.2776 21.3673 21.6232L21.4888 21.4878C22.0963 20.8803 23.0561 20.8398 23.7105 21.3663Z"})),Vqe=Object.freeze(Object.defineProperty({__proto__:null,default:ine},Symbol.toStringTag,{value:"Module"})),_H="size-5",wH="flex w-full items-center justify-end gap-1.5 text-foreground-450 dark:text-slate-400";function lHe({type:t}){const{t:e}=pt();switch(t){case"takeTaskControl":return y.jsxs("div",{className:wH,children:[y.jsx(rne,{className:_H}),e("actions.tookControl")]});case"cancelTask":return y.jsxs("div",{className:wH,children:[y.jsx(ine,{className:_H}),e("actions.cancelledTask")]});case"createPage":case"appendToPage":case"promptCharacterSpeech":default:return null}}function uHe(t){const{fileName:e,fileType:n}=t,r=n!==""?n:y3(e);return qC(r)?y.jsx("div",{className:"flex w-full justify-end",children:y.jsx(mte,{filename:e,fileType:r})}):null}async function Hqe(t,e){const r=`Copilot_${og(new Date,"yyyyMMdd_HHmmss")}`,o=await(await fetch(t)).blob(),s=URL.createObjectURL(o),a=document.createElement("a");a.href=s,a.download=r,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s)}function dHe(t){t.target instanceof HTMLImageElement&&URL.revokeObjectURL(t.target.src)}async function fHe(t,e=!1){try{const n=await rv(t,{analytics:{anonymousPath:"/attachments/*.png"}});if(e&&n.status!==200)return null;const r=await n.blob();return URL.createObjectURL(r)}catch{return null}}function hHe(t){const{url:e}=t,{t:n}=pt(),[r,i]=b.useState(null);return b.useEffect(()=>{if(!e){i(null);return}async function o(){i(await fHe(e))}o()},[e]),y.jsx("div",{className:"flex w-full justify-end",children:y.jsx("div",{className:"h-fit max-w-[min(80%,256px)] overflow-hidden rounded-2xl bg-background-static-250 p-0 shadow-inner dark:bg-background-static-900",children:r&&y.jsx("img",{alt:n("chat.uploadedImageAltText"),src:r,onLoad:dHe})})})}function pHe(t){const{text:e}=t;return y.jsx("div",{className:"flex w-full flex-col items-end","data-content":"user-message",children:y.jsx("div",{className:fe("font-ligatures-none h-fit max-w-[80%] self-end whitespace-pre-wrap break-words rounded-2xl bg-spot-peach-250/60 px-5 py-3 dark:bg-midnight-800",QM("userMessage")??"text-base"),children:e})})}const one=b.forwardRef((t,e)=>{const{children:n,tabBehavior:r="limited-trap-focus",ignoreDefaultKeydown:i,...o}=t,s=iJ({tabBehavior:r,ignoreDefaultKeydown:i});return je("a11y-keyboard-navigation")?y.jsx(ct.div,{ref:e,...s,...o,tabIndex:0,children:n}):y.jsx(ct.div,{...o,ref:e,children:n})});one.displayName="FocusableGroupMotion";function mHe(t){const{children:e,tabBehavior:n="limited-trap-focus",ignoreDefaultKeydown:r,...i}=t,o=iJ({tabBehavior:n,ignoreDefaultKeydown:r});return je("a11y-keyboard-navigation")?y.jsx("div",{...o,...i,tabIndex:0,role:"article",children:e}):y.jsx("div",{...i,children:e})}const sne=t=>y.jsx(mHe,{...t});sne.Motion=one;function gHe(){const{t}=pt();return y.jsx("div",{className:"flex w-full justify-end",children:y.jsx("div",{className:"flex size-48 items-center justify-center rounded-[12px] border border-saddle-250 bg-spot-peach-200 px-4 py-2 dark:border-slate-700 dark:bg-midnight-750",children:y.jsx("span",{className:"text-center text-foreground-450 text-sm",children:t("share.imagePlaceholder")})})})}function vHe({tabs:t=[]}){return t.length===0?null:y.jsx("div",{className:"flex min-h-[60px] flex-col gap-2",tabIndex:0,role:"button",children:y.jsx(Gee,{showRemoveIcon:!1,tabs:t})})}function yHe(t){const{message:e,className:n,isForSharing:r}=t,{t:i}=pt(),s=!!oe(xv),a=je("edge-multi-tabs-manual"),c=je("a11y-keyboard-navigation"),l=!Ra("kill-share-c2"),d=i(c?"chat.userSaid":"chat.user");return y.jsxs(sne,{className:fe("space-y-1",n),id:`${e.id}-user-message`,"aria-labelledby":`${e.id}-user-message`,children:[y.jsxs("div",{className:"relative space-y-3",children:[y.jsx("h2",{className:"sr-only","aria-label":d,"data-copy":"false",children:d}),e.content.map((p,m)=>p.type==="browserTabs"?a&&Xee(p.tabs)?y.jsx(vHe,{tabs:p.tabs},m):null:p.type==="text"?y.jsx(pHe,{text:p.text},m):p.type==="command"?y.jsx(lHe,{type:p.command.type},m):p.type==="document"?y.jsx(uHe,{fileType:p.contentType,fileName:p.fileName},m):l&&r?y.jsx(gHe,{},m):y.jsx(hHe,{url:p.url},m)),e.emojiReaction&&y.jsx("div",{className:"absolute -bottom-3 end-3",children:e.emojiReaction})]}),!s&&e.brand&&y.jsx("div",{className:"w-full px-3 text-right text-foreground-600 text-xs",children:i("ads.aboutBrand",{brand:e.brand.brandLogo.businessName})})]},e.id)}const bHe=b.lazy(()=>de(()=>import("./action-alert-CteS1cmv.js"),__vite__mapDeps([340,307])).then(t=>({default:t.ActionAlert}))),CHe=b.lazy(()=>de(()=>import("./ai-message-Ezfi436W.js"),__vite__mapDeps([341,342,305,306,314,343,344,218,345,336,265]))),_He=1.5,SH="inline-block w-full space-y-8",G3="max-w-chat w-full";function ane(t){var Fe,ut,_t,it;const{className:e,conversationContainerClassName:n="mb-[var(--composer-container-height)]",customLaunchGreeting:r,customBottomDisclaimer:i,enableHighlightedClasses:o=!0,enableBackstageClasses:s=!0,disableStickyHeader:a=!1,disableSuggestions:c=!1,reactionsToDisable:l}=t,{loader:d}=Cte(),p=oe(Ul),m=oe(Zs),g=oe(dD),C=oe(so),_=oe(Nq),S=oe(qI),w=gi({breakpoint:"sm"}),I=je("multiplecharacters")&&g!==null,A=je("scroll-to-bottom-button"),k=je("sharecontinue"),R=!bx(),[M,P]=b.useState(0);sHe();const N=b.useRef(null),D=rHe(N);tHe(p.length,N),JVe(N);const[G]=q7e({...d,disabled:!!d.error}),{backstageMessagesProps:U,highlightedMessagesProps:W,sentinelRef:$,sentinelClasses:L,backstageClasses:B,highlightedClasses:j,opacity:V,highlighted:K,backstage:z}=j7e(()=>D({behavior:"instant",delay:Qe.instance().config().scrollToBottomDelay}),N,I,M,p),H=Og(V,ne=>ne<.5?"none":"auto"),q=()=>D({behavior:"smooth"}),{bottomRef:le,shouldShowScrollToBottomButton:Ce}=oHe({chatRef:N,isEnabled:A}),be=oe(uD).get((m==null?void 0:m.id)??""),Pe=oe(Iv);b.useEffect(()=>{m!=null&&m.id&&(aHe(m.id,p),cHe(()=>{de(()=>import("./ai-message-Ezfi436W.js"),__vite__mapDeps([341,342,305,306,314,343,344,218,345,336,265]))}))},[m==null?void 0:m.id,p]),ZVe(p,m==null?void 0:m.streamingState);const Oe=Vte(K),Q=(Oe==null?void 0:Oe.author)==="human"&&Oe.id===""||(m==null?void 0:m.streamingState)==="streaming",ee=!!oe(wb),Ie=oe($b),re=Q&&!be||ee||Ie,ue=je("announce-loading"),xe=b.useId(),{disableMultiturn:Y}=Qe.instance().config(),ge=(ut=(Fe=Qe.instance().config().styleOverrides)==null?void 0:Fe.width)==null?void 0:ut.chat;nHe(p.length,Q);const Ee=Po(),ye=L3(),{showShoppingCardInNewChat:pe}=Yx(),Le=!I&&!w&&ye,De=s&&!(pe&&!w),{crossPromotion:Xe}=Qe.instance().config(),mt=Xe==null?void 0:Xe.chatBanner,dt=oe(Rd)==="dark"?mt==null?void 0:mt.dark:mt==null?void 0:mt.light,[$t,nn]=b.useState(!1),{isMediaViewerOpen:Wt}=Nd(),Ye=je("chat-refactor-max-width"),et=Ye?Hte():void 0,te=Ye?"w-full":G3,Re=(m==null?void 0:m.streamingState)==="idle",Me=(ne,Te=!1,Ne,rt=!1)=>ne.map((tt,Et)=>{const Dt=new Date(tt.createdAt),Mt=Et>0?ne[Et-1]:Ne,Jt=Mt&&new Date(Mt.createdAt),ur=!Jt||!sD(Dt,Jt),Sn=k&&V6e(m!=null&&m.continuedAt?new Date(m.continuedAt):null,Dt,Jt);return y.jsxs(b.Fragment,{children:[Sn&&y.jsx(pVe,{content:Ae("chat.continuedConversationDisclaimer")}),ur&&!Y&&y.jsx(hVe,{date:Dt,className:et}),tt.author==="ai"?y.jsx(b.Suspense,{fallback:y.jsx(lH,{}),children:y.jsx(CHe,{message:tt,isStreamingComplete:Re,shouldAnimate:Te,reactionsToDisable:l,isLastMessage:rt&&Et===ne.length-1})}):y.jsx(yHe,{message:tt,className:et})]},tt.id)});return y.jsx(qte,{children:y.jsxs("div",{className:fe("scrollbar-stable flex size-full flex-col items-center overflow-y-auto overflow-x-hidden overscroll-contain text-foreground-800 sm:min-w-chat-side-by-side",(m==null?void 0:m.id)&&zq(m.id)&&"t-custom-scrollbar",Qe.instance().config().showScrollbarOnHover&&"scrollbar-container",Wt&&"invisible",e),ref:N,"data-testid":"chat-page",children:[!a&&y.jsx(nne,{}),d.hasNextPage&&y.jsx("div",{ref:G}),I&&y.jsx(sVe,{animatingMessageId:be,isStreamingMessage:Q,displayedCharacterId:g,setCharacterComponentHeight:P}),dt&&$t&&y.jsxs("div",{className:"fixed bottom-6 end-6 flex w-40 flex-col items-center gap-1 rounded-3xl px-3 pb-2 pt-3 shadow-lg dark:bg-midnight-750",children:[y.jsx("img",{src:dt,alt:Ae("crossSelling.chatBannerImageAlt"),className:"size-36 object-contain"}),y.jsx("p",{className:"mt-2 text-center text-foreground-750 text-xs",children:Ae("crossSelling.chatBannerLabel")})]}),y.jsx($3.Motion,{circular:!1,tabbable:!0,initial:R?"start":!1,animate:"end",variants:{start:Vt,end:{...Rn,transition:{duration:.2,delay:.2}}},className:fe(n,"grow",!Ye&&(oC("pageContainer")??"px-6"),te,ge),layout:"position",transition:Gs,"data-content":"conversation","data-copy":"false",children:y.jsxs(b.Suspense,{fallback:y.jsx("div",{"aria-hidden":!0}),children:[y.jsxs(ct.div,{className:fe("relative",Ee||!a?"pt-10":"pt-6",z.length>0&&SH,De&&B),variants:U.variants,initial:R?U.initial:!1,animate:U.animate,style:{opacity:p.length>0?V:0,pointerEvents:H},children:[y.jsx("div",{className:fe("absolute -z-10 w-full",L),ref:$}),Me(z)]}),y.jsxs("div",{className:fe(o&&j,"flex flex-col"),"data-testid":"highlighted-chats",children:[y.jsx(Rr,{mode:"wait",initial:!1,children:y.jsxs(y.Fragment,{children:[y.jsx("div",{className:et,children:y.jsx(ene,{customLaunchGreeting:r})}),K.length>0&&y.jsxs(ct.div,{className:fe("pb-6",SH),initial:W.initial,animate:W.animate,exit:W.exit,onAnimationStart:W.onAnimationStart,onAnimationComplete:()=>{nn(!0)},children:[Me(K,!!be,z[z.length-1]??void 0,!0),y.jsx(b.Suspense,{fallback:y.jsx("div",{"aria-hidden":!0}),children:re&&y.jsx("div",{className:et,children:y.jsxs(ct.div,{"aria-hidden":!0,className:fe("relative size-7"),initial:"start",animate:"end",variants:{start:{...Vt,scale:0},end:{...Rn,scale:1,transition:{...V2e,delay:_He}}},children:[ue&&y.jsx(Wv,{id:xe,timeout:3e3,msg:Ae(C==="reasoning"?"chat.reasoning":"chat.loading"),type:"polite"}),y.jsx(lH,{})]})})}),y.jsx(_i,{children:Pe&&y.jsx(tVe,{className:et})}),y.jsx(_i,{children:S&&S.visible&&y.jsx(J7e,{className:et})})]},(_t=K[0])==null?void 0:_t.createdAt)]})}),!c&&y.jsx(wVe,{mostRecentMessageId:Oe==null?void 0:Oe.id,className:et}),_&&y.jsx(b.Suspense,{fallback:null,children:y.jsx(bHe,{startIcon:(it=_.startIconProvider)==null?void 0:it.call(_),title:_.title,subTitle:_.subTitle,conversationId:_.conversationId,onClick:_.onClick,trackingArgs:_.trackingArgs,className:et})}),y.jsx("div",{ref:le,style:{height:0,overflow:"hidden"}}),y.jsx($Ve,{shouldShowScrollToBottomButton:Ce,onClick:q})]})]})}),Le&&y.jsx(Yte,{customBottomDisclaimer:i})]})})}const zqe=Object.freeze(Object.defineProperty({__proto__:null,CHAT_WIDTH_CLASSES:G3,default:ane},Symbol.toStringTag,{value:"Module"}));function cne(t){var _,S;const{className:e,conversationContainerClassName:n="mb-[var(--composer-container-height)]",customLaunchGreeting:r,customBottomDisclaimer:i,disableStickyHeader:o=!1,enableBackstageClasses:s=!0,enableHighlightedClasses:a=!0}=t,c=je("chat-refactor-max-width"),l=gi({breakpoint:"sm"}),d=Po(),p=!l,m=(S=(_=Qe.instance().config().styleOverrides)==null?void 0:_.width)==null?void 0:S.chat,g=c?Hte():void 0,C=c?"w-full":G3;return y.jsx(qte,{children:y.jsxs("div",{className:En("scrollbar-stable flex size-full flex-col items-center overflow-y-auto overflow-x-hidden overscroll-contain text-foreground-800 sm:min-w-chat-side-by-side",Qe.instance().config().showScrollbarOnHover&&"scrollbar-container",e),"data-testid":"landing-page",children:[!o&&y.jsx(nne,{}),y.jsx($3.Motion,{circular:!1,tabbable:!0,initial:"start",animate:"end",variants:{start:Vt,end:{...Rn,transition:{duration:.2,delay:.2}}},className:En(n,"grow",!c&&(oC("pageContainer")??"px-6"),C,m),layout:"position",transition:Gs,children:y.jsxs(b.Suspense,{fallback:y.jsx("div",{"aria-hidden":!0}),children:[y.jsx("div",{className:En("relative",d||!o?"pt-10":"pt-6",s&&Ute)}),y.jsx("div",{className:En("flex",a&&Bte),children:y.jsx(Rr,{mode:"wait",initial:!1,children:y.jsx("div",{className:g,children:y.jsx(ene,{customLaunchGreeting:r})})})})]})}),p&&y.jsx(Yte,{customBottomDisclaimer:i})]})})}const wHe=dn("/")({component:cne});dn("/w/landing")({component:cne});const SHe=bie("/chats/$conversationId");function EHe(t){const{disableStickyHeader:e}=t,{conversationId:n}=SHe.useParams(),r=We(sn),i=je("conversation-id-sync");return b.useEffect(()=>{i&&r(n)},[n,r,i]),y.jsx(ane,{disableStickyHeader:e})}const THe=dn("/chats/$conversationId")({component:EHe}),IHe=dn("/wham")(),xHe=dn("/topic-selection")(),AHe=dn("/login")(),kHe=dn("/gaming")(),RHe=dn("/fang")(),PHe=dn("/discover")(),OHe=dn("/daily")(),NHe=dn("/agents")(),MHe=dn("/referrals/")(),LHe=dn("/portrait/")(),DHe=dn("/labs_/")(),jHe=dn("/subscription/start")(),FHe=dn("/subscription/manage")(),UHe=dn("/shares/$conversationId")(),BHe=dn("/referrals/rules")(),VHe=dn("/pro/subscribe")(),HHe=dn("/portrait/talk")(),zHe=dn("/pages/$pageId")(),$He=dn("/memory/narrative")(),WHe=dn("/campaigns/$campaignId")(),KHe=dn("/sharing/podcasts/$shareId")(),GHe=dn("/shares/pages/$shareId")(),qHe=dn("/pro/redeem/$redeemCode")(),YHe=dn("/pro/ewallet/return")(),QHe=dn("/podcasts/$podcastType/$podcastId")(),XHe=dn("/labs_/experiments/$experimentAlias")(),ZHe=dn("/chats_/$conversationId/talk")(),JHe=dn("/labs_/experiments/3d-generations/")(),eze=dn("/labs_/experiments/3d-generations/my-creations")(),tze=dn("/labs_/experiments/3d-generations/shares/$shareId")(),nze=IHe.update({id:"/wham",path:"/wham",getParentRoute:()=>pn}).lazy(()=>de(()=>import("./wham.lazy-B-L5A0cY.js"),__vite__mapDeps([346,347,223,224])).then(t=>t.Route)),rze=xHe.update({id:"/topic-selection",path:"/topic-selection",getParentRoute:()=>pn}).lazy(()=>de(()=>import("./topic-selection.lazy-C-hSZ_JC.js"),[]).then(t=>t.Route)),ize=AHe.update({id:"/login",path:"/login",getParentRoute:()=>pn}).lazy(()=>de(()=>import("./login.lazy-Tl19C3QK.js"),__vite__mapDeps([348,263])).then(t=>t.Route)),oze=kHe.update({id:"/gaming",path:"/gaming",getParentRoute:()=>pn}).lazy(()=>de(()=>import("./gaming.lazy-TuX86IZE.js"),__vite__mapDeps([349,347,223,224])).then(t=>t.Route)),sze=RHe.update({id:"/fang",path:"/fang",getParentRoute:()=>pn}).lazy(()=>de(()=>import("./fang.lazy-C5LwrwZM.js"),__vite__mapDeps([350,342,305,306,314,343,344,218,345,336,265])).then(t=>t.Route)),aze=PHe.update({id:"/discover",path:"/discover",getParentRoute:()=>pn}).lazy(()=>de(()=>Promise.resolve().then(()=>O$e),void 0).then(t=>t.Route)),cze=OHe.update({id:"/daily",path:"/daily",getParentRoute:()=>pn}).lazy(()=>de(()=>import("./daily.lazy-G8ZwFR7E.js"),__vite__mapDeps([351,352,353,354,355,356,312,216,357,266,311])).then(t=>t.Route)),lze=NHe.update({id:"/agents",path:"/agents",getParentRoute:()=>pn}).lazy(()=>de(()=>import("./agents.lazy-DZ7im1zI.js"),[]).then(t=>t.Route)),uze=A7e.update({id:"/",path:"/",getParentRoute:()=>pn}),dze=MHe.update({id:"/referrals/",path:"/referrals/",getParentRoute:()=>pn}).lazy(()=>de(()=>import("./index.lazy-HDwiEzT0.js"),__vite__mapDeps([358,289,290,359,360,361,362,363,364])).then(t=>t.Route)),fze=LHe.update({id:"/portrait/",path:"/portrait/",getParentRoute:()=>pn}).lazy(()=>de(()=>import("./index.lazy-DGeYP30d.js"),[]).then(t=>t.Route)),hze=DHe.update({id:"/labs_/",path:"/labs/",getParentRoute:()=>pn}).lazy(()=>de(()=>import("./index.lazy-lyLVffdn.js"),__vite__mapDeps([365,366,367,368,369,370,371,372])).then(t=>t.Route)),pze=jHe.update({id:"/subscription/start",path:"/subscription/start",getParentRoute:()=>pn}).lazy(()=>de(()=>import("./subscription.start.lazy-Bay_pvir.js"),[]).then(t=>t.Route)),mze=FHe.update({id:"/subscription/manage",path:"/subscription/manage",getParentRoute:()=>pn}).lazy(()=>de(()=>import("./subscription.manage.lazy-CnXNDTH7.js"),__vite__mapDeps([373,302,315])).then(t=>t.Route)),gze=UHe.update({id:"/shares/$conversationId",path:"/shares/$conversationId",getParentRoute:()=>pn}).lazy(()=>de(()=>import("./shares._conversationId.lazy-s-4rDnR8.js"),[]).then(t=>t.Route)),vze=BHe.update({id:"/referrals/rules",path:"/referrals/rules",getParentRoute:()=>pn}).lazy(()=>de(()=>import("./rules.lazy-DrYEVpkh.js"),__vite__mapDeps([374,290,360,293,375])).then(t=>t.Route)),yze=VHe.update({id:"/pro/subscribe",path:"/pro/subscribe",getParentRoute:()=>pn}).lazy(()=>de(()=>import("./pro.subscribe.lazy-BWD3QDpj.js"),__vite__mapDeps([376,377,309,378,379,221,380,381,382,383,384,385,283,229,280,386,387,285,388,389,390,301,391,392,393,394,395,396,397,398,223,224,399,400])).then(t=>t.Route)),bze=HHe.update({id:"/portrait/talk",path:"/portrait/talk",getParentRoute:()=>pn}).lazy(()=>de(()=>import("./talk.lazy-Cq-ZFq4U.js"),[]).then(t=>t.Route)),Cze=zHe.update({id:"/pages/$pageId",path:"/pages/$pageId",getParentRoute:()=>pn}).lazy(()=>de(()=>import("./pages._pageId.lazy-D_-zG5CT.js"),__vite__mapDeps([401,402,403,404,405,406,407,408,343,307,409,410,260,411,213,225,412,413,215,216,345])).then(t=>t.Route)),_ze=$He.update({id:"/memory/narrative",path:"/memory/narrative",getParentRoute:()=>pn}).lazy(()=>de(()=>import("./memory.narrative.lazy-LbfBCr0u.js"),__vite__mapDeps([414,279])).then(t=>t.Route)),wze=WHe.update({id:"/campaigns/$campaignId",path:"/campaigns/$campaignId",getParentRoute:()=>pn}).lazy(()=>de(()=>import("./campaigns._campaignId.lazy-CtH9GYgB.js"),[]).then(t=>t.Route)),Sze=wHe.update({id:"/w/landing",path:"/w/landing",getParentRoute:()=>pn}),Eze=THe.update({id:"/chats/$conversationId",path:"/chats/$conversationId",getParentRoute:()=>pn}),Tze=KHe.update({id:"/sharing/podcasts/$shareId",path:"/sharing/podcasts/$shareId",getParentRoute:()=>pn}).lazy(()=>de(()=>import("./sharing.podcasts._shareId.lazy-CXfo8xLk.js"),__vite__mapDeps([415,356,312,216,357,325])).then(t=>t.Route)),Ize=GHe.update({id:"/shares/pages/$shareId",path:"/shares/pages/$shareId",getParentRoute:()=>pn}).lazy(()=>de(()=>import("./shares.pages._shareId.lazy-CkstVWMD.js"),__vite__mapDeps([416,413,216,402,403,404,405,406,407,408,343,307,409,410,260,411,213,225,412,215,417])).then(t=>t.Route)),xze=qHe.update({id:"/pro/redeem/$redeemCode",path:"/pro/redeem/$redeemCode",getParentRoute:()=>pn}).lazy(()=>de(()=>import("./pro.redeem._redeemCode.lazy-DPT1-QRd.js"),[]).then(t=>t.Route)),Aze=YHe.update({id:"/pro/ewallet/return",path:"/pro/ewallet/return",getParentRoute:()=>pn}).lazy(()=>de(()=>import("./pro.ewallet.return.lazy-i_moGF_q.js"),__vite__mapDeps([418,381])).then(t=>t.Route)),kze=QHe.update({id:"/podcasts/$podcastType/$podcastId",path:"/podcasts/$podcastType/$podcastId",getParentRoute:()=>pn}).lazy(()=>de(()=>import("./podcasts._podcastType._podcastId.lazy-DmYn7uNA.js"),__vite__mapDeps([419,352,353,354,355,356,312,216,357,266,311])).then(t=>t.Route)),Rze=XHe.update({id:"/labs_/experiments/$experimentAlias",path:"/labs/experiments/$experimentAlias",getParentRoute:()=>pn}).lazy(()=>de(()=>import("./experiments._experimentAlias.lazy-NQw3Amcv.js").then(t=>t.e),__vite__mapDeps([420,367,366,368,369,370,371,268,269])).then(t=>t.Route)),Pze=ZHe.update({id:"/chats_/$conversationId/talk",path:"/chats/$conversationId/talk",getParentRoute:()=>pn}).lazy(()=>de(()=>import("./chats_._conversationId.talk.lazy-O604Hy-N.js"),__vite__mapDeps([421,422,423,424,278])).then(t=>t.Route)),Oze=JHe.update({id:"/labs_/experiments/3d-generations/",path:"/labs/experiments/3d-generations/",getParentRoute:()=>pn}).lazy(()=>de(()=>import("./my-creations.lazy-u05By-uy.js").then(t=>t.i),__vite__mapDeps([425,366,301,426,288,215,353,354,355,427])).then(t=>t.Route)),Nze=eze.update({id:"/labs_/experiments/3d-generations/my-creations",path:"/labs/experiments/3d-generations/my-creations",getParentRoute:()=>pn}).lazy(()=>de(()=>import("./my-creations.lazy-u05By-uy.js").then(t=>t.m),__vite__mapDeps([425,366,301,426,288,215,353,354,355,427])).then(t=>t.Route)),Mze=tze.update({id:"/labs_/experiments/3d-generations/shares/$shareId",path:"/labs/experiments/3d-generations/shares/$shareId",getParentRoute:()=>pn}).lazy(()=>de(()=>import("./shares._shareId.lazy-CO4bGOuA.js"),[]).then(t=>t.Route)),Lze={IndexRoute:uze,AgentsLazyRoute:lze,DailyLazyRoute:cze,DiscoverLazyRoute:aze,FangLazyRoute:sze,GamingLazyRoute:oze,LoginLazyRoute:ize,TopicSelectionLazyRoute:rze,WhamLazyRoute:nze,ChatsConversationIdRoute:Eze,WLandingRoute:Sze,CampaignsCampaignIdLazyRoute:wze,MemoryNarrativeLazyRoute:_ze,PagesPageIdLazyRoute:Cze,PortraitTalkLazyRoute:bze,ProSubscribeLazyRoute:yze,ReferralsRulesLazyRoute:vze,SharesConversationIdLazyRoute:gze,SubscriptionManageLazyRoute:mze,SubscriptionStartLazyRoute:pze,LabsIndexLazyRoute:hze,PortraitIndexLazyRoute:fze,ReferralsIndexLazyRoute:dze,ChatsConversationIdTalkLazyRoute:Pze,LabsExperimentsExperimentAliasLazyRoute:Rze,PodcastsPodcastTypePodcastIdLazyRoute:kze,ProEwalletReturnLazyRoute:Aze,ProRedeemRedeemCodeLazyRoute:xze,SharesPagesShareIdLazyRoute:Ize,SharingPodcastsShareIdLazyRoute:Tze,LabsExperiments3dGenerationsMyCreationsLazyRoute:Nze,LabsExperiments3dGenerationsIndexLazyRoute:Oze,LabsExperiments3dGenerationsSharesShareIdLazyRoute:Mze},Dze=pn._addFileChildren(Lze)._addFileTypes(),QC=jie({routeTree:Dze});function jze(){return y.jsx(Bie,{router:QC})}(function(){const t="onabort onactivate onactivateinvisible onafterprint onafterupdate onanimationcancel onanimationend onanimationiteration onanimationstart onariarequest onauxclick onbeforeactivate onbeforecopy onbeforecut onbeforedeactivate onbeforeeditfocus onbeforepaste onbeforeprint onbeforeunload onbegin onblur onbounce oncancel oncanplay oncanplaythrough oncellchange onchange onclick onclose oncommand oncontextmenu oncontrolselect oncopy oncuechange oncut ondataavailable ondatasetchanged ondatasetcomplete ondblclick ondeactivate ondrag ondragdrop ondragend ondragenter ondragexit ondragleave ondragover ondragstart ondrop ondurationchange onemptied onend onended onerror onerrorupdate onexit onfilterchange onfinish onfocus onfocusin onfocusout onformdata onfullscreenchange onfullscreenerror ongotpointercapture onhelp oninput oninvalid onkeydown onkeypress onkeyup onlayoutcomplete onload onloadeddata onloadedmetadata onloadend onloadstart onlosecapture onlostpointercapture onmediacomplete onmediaerror onmessage onmousedown onmouseenter onmouseleave onmousemove onmouseout onmouseover onmouseup onmousewheel onmove onmoveend onmovestart onmozfullscreenchange onmozfullscreenerror onmscontentzoom onmsgesturechange onmsgesturedoubletap onmsgestureend onmsgesturehold onmsgesturestart onmsgesturetap onmsgotpointercapture onmsinertiastart onmslostpointercapture onmsmanipulationstatechanged onmspointercancel onmspointerdown onmspointerenter onmspointerleave onmspointermove onmspointerout onmspointerover onmspointerup onoffline ononline onoutofsync onoverscroll onpaste onpause onplay onplaying onpointercancel onpointerdown onpointerenter onpointerleave onpointermove onpointerout onpointerover onpointerrawupdate onpointerup onprogress onpropertychange onratechange onreadystatechange onrepeat onreset onresize onresizeend onresizestart onresume onreverse onrowdelete onrowenter onrowexit onrowinserted onscroll onscrollend onsearch onseek onseeked onseeking onselect onselectionchange onselectstart onshow onstalled onstart onstop onstorage onsubmit onsuspend onsynchrestored ontimeerror ontimeupdate ontoggle ontrackchange ontransitioncancel ontransitionend ontransitionrun ontransitionstart onunload onurlflip onvolumechange onwaiting onwebkitanimationend onwebkitanimationiteration onwebkitanimationstart onwebkitfullscreenchange onwebkitfullscreenerror onwebkittransitionend onwheel".split(" ");function e(){if(typeof window<"u"){const p=[];for(const m in HTMLElement.prototype)m.slice(0,2)==="on"&&p.push(m);return p}return t}const n=typeof window<"u",r=()=>{throw new TypeError("undefined conversion")},i=()=>null,{toLowerCase:o,toUpperCase:s}=String.prototype;function a(){throw new TypeError("Illegal constructor")}function c(){throw new TypeError("Illegal constructor")}const{l}=function(){function p(Q){let ee=W.get(Q);return ee===void 0&&(ee=I(null),W.set(Q,ee)),ee}function m(Q){const ee=M(Q);if(ee==null||M(ee)!==P)throw Error();for(const Ie of R(ee))A(Q,Ie,{value:Q[Ie]});return Q}function g(Q,ee){k(Q.prototype),delete Q.name,A(Q,"name",{value:ee})}function C(Q){return ee=>ee instanceof Q&&W.has(ee)}function _(Q,ee){function Ie(ue,xe){const Y=ee[xe]||(Q=="default"?i:r),ge=k(new ue(U,Q));return k({[xe](Ee,...ye){if(Ee=Y(""+Ee,...ye),Ee==null){if(Q=="default")return Ee;Ee=""}return Ee=""+Ee,ye=k(I(ge)),p(ye).v=Ee,ye}}[xe])}const re=I(a.prototype);for(const ue of R(Pe))re[ue]=Ie(Pe[ue],ue);return A(re,"name",{value:Q,writable:!1,configurable:!1,enumerable:!0}),k(re)}function S(Q,ee,Ie,re="",ue=""){if(Q=s.apply(String(Q)),(re=ue||re)||(re="http://www.w3.org/1999/xhtml"),re=N.apply(_e,[re])?_e[re]:null){if(N.apply(re,[Q])&&re[Q]&&N.apply(re[Q][ee],[Ie])&&re[Q][ee][Ie])return re[Q][ee][Ie];if(N.apply(re,["*"])&&N.apply(re["*"][ee],[Ie])&&re["*"][ee][Ie])return re["*"][ee][Ie]}}function w(){return j}const{assign:T,create:I,defineProperty:A,freeze:k,getOwnPropertyNames:R,getPrototypeOf:M,prototype:P}=Object,{hasOwnProperty:N}=P,{forEach:D,push:G}=Array.prototype,U=Symbol(),W=m(new WeakMap),$=m([]),L=m([]);let B=!0,j=null,V=!1;class K{constructor(ee,Ie){if(ee!==U)throw Error("cannot call the constructor");A(this,"policyName",{value:Ie,enumerable:!0})}toString(){return p(this).v}valueOf(){return p(this).v}}class z extends K{}g(z,"TrustedScriptURL");class H extends K{}g(H,"TrustedHTML");class q extends K{}g(q,"TrustedScript"),g(K,"TrustedType");const le=k(I(new H(U,"")));p(le).v="";const Ce=k(I(new q(U,"")));p(Ce).v="";const _e={"http://www.w3.org/1999/xhtml":{EMBED:{attributes:{src:z.name}},IFRAME:{attributes:{srcdoc:H.name}},OBJECT:{attributes:{data:z.name,codebase:z.name}},SCRIPT:{attributes:{src:z.name,text:q.name},properties:{innerText:q.name,textContent:q.name,text:q.name}},"*":{attributes:{},properties:{innerHTML:H.name,outerHTML:H.name}}},"http://www.w3.org/2000/svg":{"*":{attributes:{},properties:{}}}};var be={codebase:"codeBase",formaction:"formAction"};!n||"srcdoc"in HTMLIFrameElement.prototype||delete _e["http://www.w3.org/1999/xhtml"].IFRAME.attributes.srcdoc;for(const Q of Object.keys(_e["http://www.w3.org/1999/xhtml"])){_e["http://www.w3.org/1999/xhtml"][Q].properties||(_e["http://www.w3.org/1999/xhtml"][Q].properties={});for(const ee of Object.keys(_e["http://www.w3.org/1999/xhtml"][Q].attributes))_e["http://www.w3.org/1999/xhtml"][Q].properties[be[ee]?be[ee]:ee]=_e["http://www.w3.org/1999/xhtml"][Q].attributes[ee]}for(const Q of e())_e["http://www.w3.org/1999/xhtml"]["*"].attributes[Q]="TrustedScript",_e["http://www.w3.org/2000/svg"]["*"].attributes[Q]="TrustedScript";const Pe={createHTML:H,createScriptURL:z,createScript:q},Oe=Pe.hasOwnProperty;return be=I(c.prototype),T(be,{createPolicy:function(Q,ee){if(!Q.match(/^[-#a-zA-Z0-9=_/@.%]+$/g))throw new TypeError("Policy "+Q+" contains invalid characters.");if(V&&L.indexOf(Q)===-1&&L.indexOf("*")===-1)throw new TypeError("Policy "+Q+" disallowed.");if(Q==="default"&&j)throw new TypeError("Policy "+Q+" already exists.");if(V&&!B&&$.indexOf(Q)!==-1)throw new TypeError("Policy "+Q+" exists.");$.push(Q);const Ie=I(null);if(ee&&typeof ee=="object")for(const re of R(ee))Oe.call(Pe,re)&&(Ie[re]=ee[re]);else console.warn("trustedTypes.createPolicy "+Q+" was given an empty policy");return k(Ie),ee=_(Q,Ie),Q==="default"&&(j=ee),ee},h:C(H),j:C(z),i:C(q),c:function(Q,ee,Ie="",re=""){return ee=o.apply(String(ee)),S(Q,"attributes",ee,Ie,re)||null},f:function(Q,ee,Ie=""){return S(Q,"properties",String(ee),Ie)||null},g:function(Q=""){if(!Q)try{Q=document.documentElement.namespaceURI}catch{Q="http://www.w3.org/1999/xhtml"}return(Q=_e[Q])?JSON.parse(JSON.stringify(Q)):{}},a:le,b:Ce,o:j,TrustedHTML:H,TrustedScriptURL:z,TrustedScript:q}),A(be,"defaultPolicy",{get:w,set:()=>{}}),{l:k(be),w:function(Q,ee){V=!0,L.length=0,D.call(Q,Ie=>{G.call(L,""+Ie)}),B=ee,$.length=0},m:function(){V=!1},s:w,u:function(){j=null,$.splice($.indexOf("default"),1)}}}();if(typeof window<"u"&&(window.TrustedTypes&&typeof window.trustedTypes>"u"&&(window.trustedTypes=Object.freeze(window.TrustedTypes)),typeof window.trustedTypes>"u")){var d=Object.create(c.prototype);Object.assign(d,{isHTML:l.h,isScriptURL:l.j,isScript:l.i,createPolicy:l.createPolicy,getAttributeType:l.c,getPropertyType:l.f,getTypeMapping:l.g,emptyHTML:l.a,emptyScript:l.b,_isPolyfill_:!0}),Object.defineProperty(d,"defaultPolicy",Object.getOwnPropertyDescriptor(l,"defaultPolicy")||{}),window.trustedTypes=Object.freeze(d),window.TrustedHTML=l.TrustedHTML,window.TrustedScriptURL=l.TrustedScriptURL,window.TrustedScript=l.TrustedScript,window.TrustedTypePolicy=a,window.TrustedTypePolicyFactory=c}}).call(void 0);/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:lne,setPrototypeOf:EH,isFrozen:Fze,getPrototypeOf:Uze,getOwnPropertyDescriptor:Bze}=Object;let{freeze:no,seal:qs,create:une}=Object,{apply:n2,construct:r2}=typeof Reflect<"u"&&Reflect;no||(no=function(e){return e});qs||(qs=function(e){return e});n2||(n2=function(e,n,r){return e.apply(n,r)});r2||(r2=function(e,n){return new e(...n)});const dS=ro(Array.prototype.forEach),Vze=ro(Array.prototype.lastIndexOf),TH=ro(Array.prototype.pop),ob=ro(Array.prototype.push),Hze=ro(Array.prototype.splice),WS=ro(String.prototype.toLowerCase),UP=ro(String.prototype.toString),IH=ro(String.prototype.match),sb=ro(String.prototype.replace),zze=ro(String.prototype.indexOf),$ze=ro(String.prototype.trim),la=ro(Object.prototype.hasOwnProperty),Wi=ro(RegExp.prototype.test),ab=Wze(TypeError);function ro(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return n2(t,e,r)}}function Wze(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return r2(t,n)}}function an(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:WS;EH&&EH(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const o=n(i);o!==i&&(Fze(e)||(e[r]=o),i=o)}t[i]=!0}return t}function Kze(t){for(let e=0;e<t.length;e++)la(t,e)||(t[e]=null);return t}function Lf(t){const e=une(null);for(const[n,r]of lne(t))la(t,n)&&(Array.isArray(r)?e[n]=Kze(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=Lf(r):e[n]=r);return e}function cb(t,e){for(;t!==null;){const r=Bze(t,e);if(r){if(r.get)return ro(r.get);if(typeof r.value=="function")return ro(r.value)}t=Uze(t)}function n(){return null}return n}const xH=no(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),BP=no(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),VP=no(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Gze=no(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),HP=no(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),qze=no(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),AH=no(["#text"]),kH=no(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),zP=no(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),RH=no(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),fS=no(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Yze=qs(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Qze=qs(/<%[\w\W]*|[\w\W]*%>/gm),Xze=qs(/\$\{[\w\W]*/gm),Zze=qs(/^data-[\-\w.\u00B7-\uFFFF]+$/),Jze=qs(/^aria-[\-\w]+$/),dne=qs(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),e$e=qs(/^(?:\w+script|data):/i),t$e=qs(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),fne=qs(/^html$/i),n$e=qs(/^[a-z][.\w]*(-[.\w]+)+$/i);var PH=Object.freeze({__proto__:null,ARIA_ATTR:Jze,ATTR_WHITESPACE:t$e,CUSTOM_ELEMENT:n$e,DATA_ATTR:Zze,DOCTYPE_NAME:fne,ERB_EXPR:Qze,IS_ALLOWED_URI:dne,IS_SCRIPT_OR_DATA:e$e,MUSTACHE_EXPR:Yze,TMPLIT_EXPR:Xze});const lb={element:1,text:3,progressingInstruction:7,comment:8,document:9},r$e=function(){return typeof window>"u"?null:window},i$e=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}},OH=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function hne(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r$e();const e=Tt=>hne(Tt);if(e.version="3.2.4",e.removed=[],!t||!t.document||t.document.nodeType!==lb.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,i=r.currentScript,{DocumentFragment:o,HTMLTemplateElement:s,Node:a,Element:c,NodeFilter:l,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:p,DOMParser:m,trustedTypes:g}=t,C=c.prototype,_=cb(C,"cloneNode"),S=cb(C,"remove"),w=cb(C,"nextSibling"),T=cb(C,"childNodes"),I=cb(C,"parentNode");if(typeof s=="function"){const Tt=n.createElement("template");Tt.content&&Tt.content.ownerDocument&&(n=Tt.content.ownerDocument)}let A,k="";const{implementation:R,createNodeIterator:M,createDocumentFragment:P,getElementsByTagName:N}=n,{importNode:D}=r;let G=OH();e.isSupported=typeof lne=="function"&&typeof I=="function"&&R&&R.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:U,ERB_EXPR:W,TMPLIT_EXPR:$,DATA_ATTR:L,ARIA_ATTR:B,IS_SCRIPT_OR_DATA:j,ATTR_WHITESPACE:V,CUSTOM_ELEMENT:K}=PH;let{IS_ALLOWED_URI:z}=PH,H=null;const q=an({},[...xH,...BP,...VP,...HP,...AH]);let le=null;const Ce=an({},[...kH,...zP,...RH,...fS]);let _e=Object.seal(une(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),be=null,Pe=null,Oe=!0,Q=!0,ee=!1,Ie=!0,re=!1,ue=!0,xe=!1,Y=!1,ge=!1,Ee=!1,ye=!1,pe=!1,Le=!0,De=!1;const Xe="user-content-";let mt=!0,qe=!1,dt={},$t=null;const nn=an({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Wt=null;const Ye=an({},["audio","video","img","source","image","track"]);let et=null;const te=an({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Re="http://www.w3.org/1998/Math/MathML",Me="http://www.w3.org/2000/svg",Fe="http://www.w3.org/1999/xhtml";let ut=Fe,_t=!1,it=null;const ne=an({},[Re,Me,Fe],UP);let Te=an({},["mi","mo","mn","ms","mtext"]),Ne=an({},["annotation-xml"]);const rt=an({},["title","style","font","a","script"]);let tt=null;const Et=["application/xhtml+xml","text/html"],Dt="text/html";let Mt=null,Jt=null;const ur=n.createElement("form"),Sn=function(ae){return ae instanceof RegExp||ae instanceof Function},Ln=function(){let ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Jt&&Jt===ae)){if((!ae||typeof ae!="object")&&(ae={}),ae=Lf(ae),tt=Et.indexOf(ae.PARSER_MEDIA_TYPE)===-1?Dt:ae.PARSER_MEDIA_TYPE,Mt=tt==="application/xhtml+xml"?UP:WS,H=la(ae,"ALLOWED_TAGS")?an({},ae.ALLOWED_TAGS,Mt):q,le=la(ae,"ALLOWED_ATTR")?an({},ae.ALLOWED_ATTR,Mt):Ce,it=la(ae,"ALLOWED_NAMESPACES")?an({},ae.ALLOWED_NAMESPACES,UP):ne,et=la(ae,"ADD_URI_SAFE_ATTR")?an(Lf(te),ae.ADD_URI_SAFE_ATTR,Mt):te,Wt=la(ae,"ADD_DATA_URI_TAGS")?an(Lf(Ye),ae.ADD_DATA_URI_TAGS,Mt):Ye,$t=la(ae,"FORBID_CONTENTS")?an({},ae.FORBID_CONTENTS,Mt):nn,be=la(ae,"FORBID_TAGS")?an({},ae.FORBID_TAGS,Mt):{},Pe=la(ae,"FORBID_ATTR")?an({},ae.FORBID_ATTR,Mt):{},dt=la(ae,"USE_PROFILES")?ae.USE_PROFILES:!1,Oe=ae.ALLOW_ARIA_ATTR!==!1,Q=ae.ALLOW_DATA_ATTR!==!1,ee=ae.ALLOW_UNKNOWN_PROTOCOLS||!1,Ie=ae.ALLOW_SELF_CLOSE_IN_ATTR!==!1,re=ae.SAFE_FOR_TEMPLATES||!1,ue=ae.SAFE_FOR_XML!==!1,xe=ae.WHOLE_DOCUMENT||!1,Ee=ae.RETURN_DOM||!1,ye=ae.RETURN_DOM_FRAGMENT||!1,pe=ae.RETURN_TRUSTED_TYPE||!1,ge=ae.FORCE_BODY||!1,Le=ae.SANITIZE_DOM!==!1,De=ae.SANITIZE_NAMED_PROPS||!1,mt=ae.KEEP_CONTENT!==!1,qe=ae.IN_PLACE||!1,z=ae.ALLOWED_URI_REGEXP||dne,ut=ae.NAMESPACE||Fe,Te=ae.MATHML_TEXT_INTEGRATION_POINTS||Te,Ne=ae.HTML_INTEGRATION_POINTS||Ne,_e=ae.CUSTOM_ELEMENT_HANDLING||{},ae.CUSTOM_ELEMENT_HANDLING&&Sn(ae.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(_e.tagNameCheck=ae.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ae.CUSTOM_ELEMENT_HANDLING&&Sn(ae.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(_e.attributeNameCheck=ae.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ae.CUSTOM_ELEMENT_HANDLING&&typeof ae.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(_e.allowCustomizedBuiltInElements=ae.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),re&&(Q=!1),ye&&(Ee=!0),dt&&(H=an({},AH),le=[],dt.html===!0&&(an(H,xH),an(le,kH)),dt.svg===!0&&(an(H,BP),an(le,zP),an(le,fS)),dt.svgFilters===!0&&(an(H,VP),an(le,zP),an(le,fS)),dt.mathMl===!0&&(an(H,HP),an(le,RH),an(le,fS))),ae.ADD_TAGS&&(H===q&&(H=Lf(H)),an(H,ae.ADD_TAGS,Mt)),ae.ADD_ATTR&&(le===Ce&&(le=Lf(le)),an(le,ae.ADD_ATTR,Mt)),ae.ADD_URI_SAFE_ATTR&&an(et,ae.ADD_URI_SAFE_ATTR,Mt),ae.FORBID_CONTENTS&&($t===nn&&($t=Lf($t)),an($t,ae.FORBID_CONTENTS,Mt)),mt&&(H["#text"]=!0),xe&&an(H,["html","head","body"]),H.table&&(an(H,["tbody"]),delete be.tbody),ae.TRUSTED_TYPES_POLICY){if(typeof ae.TRUSTED_TYPES_POLICY.createHTML!="function")throw ab('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ae.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ab('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');A=ae.TRUSTED_TYPES_POLICY,k=A.createHTML("")}else A===void 0&&(A=i$e(g,i)),A!==null&&typeof k=="string"&&(k=A.createHTML(""));no&&no(ae),Jt=ae}},dr=an({},[...BP,...VP,...Gze]),wr=an({},[...HP,...qze]),ps=function(ae){let Ve=I(ae);(!Ve||!Ve.tagName)&&(Ve={namespaceURI:ut,tagName:"template"});const bt=WS(ae.tagName),Pn=WS(Ve.tagName);return it[ae.namespaceURI]?ae.namespaceURI===Me?Ve.namespaceURI===Fe?bt==="svg":Ve.namespaceURI===Re?bt==="svg"&&(Pn==="annotation-xml"||Te[Pn]):!!dr[bt]:ae.namespaceURI===Re?Ve.namespaceURI===Fe?bt==="math":Ve.namespaceURI===Me?bt==="math"&&Ne[Pn]:!!wr[bt]:ae.namespaceURI===Fe?Ve.namespaceURI===Me&&!Ne[Pn]||Ve.namespaceURI===Re&&!Te[Pn]?!1:!wr[bt]&&(rt[bt]||!dr[bt]):!!(tt==="application/xhtml+xml"&&it[ae.namespaceURI]):!1},Ui=function(ae){ob(e.removed,{element:ae});try{I(ae).removeChild(ae)}catch{S(ae)}},lo=function(ae,Ve){try{ob(e.removed,{attribute:Ve.getAttributeNode(ae),from:Ve})}catch{ob(e.removed,{attribute:null,from:Ve})}if(Ve.removeAttribute(ae),ae==="is")if(Ee||ye)try{Ui(Ve)}catch{}else try{Ve.setAttribute(ae,"")}catch{}},Oo=function(ae){let Ve=null,bt=null;if(ge)ae="<remove></remove>"+ae;else{const Xt=IH(ae,/^[\r\n\t ]+/);bt=Xt&&Xt[0]}tt==="application/xhtml+xml"&&ut===Fe&&(ae='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ae+"</body></html>");const Pn=A?A.createHTML(ae):ae;if(ut===Fe)try{Ve=new m().parseFromString(Pn,tt)}catch{}if(!Ve||!Ve.documentElement){Ve=R.createDocument(ut,"template",null);try{Ve.documentElement.innerHTML=_t?k:Pn}catch{}}const Mr=Ve.body||Ve.documentElement;return ae&&bt&&Mr.insertBefore(n.createTextNode(bt),Mr.childNodes[0]||null),ut===Fe?N.call(Ve,xe?"html":"body")[0]:xe?Ve.documentElement:Mr},No=function(ae){return M.call(ae.ownerDocument||ae,ae,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT|l.SHOW_PROCESSING_INSTRUCTION|l.SHOW_CDATA_SECTION,null)},Mc=function(ae){return ae instanceof p&&(typeof ae.nodeName!="string"||typeof ae.textContent!="string"||typeof ae.removeChild!="function"||!(ae.attributes instanceof d)||typeof ae.removeAttribute!="function"||typeof ae.setAttribute!="function"||typeof ae.namespaceURI!="string"||typeof ae.insertBefore!="function"||typeof ae.hasChildNodes!="function")},Ld=function(ae){return typeof a=="function"&&ae instanceof a};function Mo(Tt,ae,Ve){dS(Tt,bt=>{bt.call(e,ae,Ve,Jt)})}const Pa=function(ae){let Ve=null;if(Mo(G.beforeSanitizeElements,ae,null),Mc(ae))return Ui(ae),!0;const bt=Mt(ae.nodeName);if(Mo(G.uponSanitizeElement,ae,{tagName:bt,allowedTags:H}),ae.hasChildNodes()&&!Ld(ae.firstElementChild)&&Wi(/<[/\w]/g,ae.innerHTML)&&Wi(/<[/\w]/g,ae.textContent)||ae.nodeType===lb.progressingInstruction||ue&&ae.nodeType===lb.comment&&Wi(/<[/\w]/g,ae.data))return Ui(ae),!0;if(!H[bt]||be[bt]){if(!be[bt]&&Dd(bt)&&(_e.tagNameCheck instanceof RegExp&&Wi(_e.tagNameCheck,bt)||_e.tagNameCheck instanceof Function&&_e.tagNameCheck(bt)))return!1;if(mt&&!$t[bt]){const Pn=I(ae)||ae.parentNode,Mr=T(ae)||ae.childNodes;if(Mr&&Pn){const Xt=Mr.length;for(let Ur=Xt-1;Ur>=0;--Ur){const wi=_(Mr[Ur],!0);wi.__removalCount=(ae.__removalCount||0)+1,Pn.insertBefore(wi,w(ae))}}}return Ui(ae),!0}return ae instanceof c&&!ps(ae)||(bt==="noscript"||bt==="noembed"||bt==="noframes")&&Wi(/<\/no(script|embed|frames)/i,ae.innerHTML)?(Ui(ae),!0):(re&&ae.nodeType===lb.text&&(Ve=ae.textContent,dS([U,W,$],Pn=>{Ve=sb(Ve,Pn," ")}),ae.textContent!==Ve&&(ob(e.removed,{element:ae.cloneNode()}),ae.textContent=Ve)),Mo(G.afterSanitizeElements,ae,null),!1)},uo=function(ae,Ve,bt){if(Le&&(Ve==="id"||Ve==="name")&&(bt in n||bt in ur))return!1;if(!(Q&&!Pe[Ve]&&Wi(L,Ve))){if(!(Oe&&Wi(B,Ve))){if(!le[Ve]||Pe[Ve]){if(!(Dd(ae)&&(_e.tagNameCheck instanceof RegExp&&Wi(_e.tagNameCheck,ae)||_e.tagNameCheck instanceof Function&&_e.tagNameCheck(ae))&&(_e.attributeNameCheck instanceof RegExp&&Wi(_e.attributeNameCheck,Ve)||_e.attributeNameCheck instanceof Function&&_e.attributeNameCheck(Ve))||Ve==="is"&&_e.allowCustomizedBuiltInElements&&(_e.tagNameCheck instanceof RegExp&&Wi(_e.tagNameCheck,bt)||_e.tagNameCheck instanceof Function&&_e.tagNameCheck(bt))))return!1}else if(!et[Ve]){if(!Wi(z,sb(bt,V,""))){if(!((Ve==="src"||Ve==="xlink:href"||Ve==="href")&&ae!=="script"&&zze(bt,"data:")===0&&Wt[ae])){if(!(ee&&!Wi(j,sb(bt,V,"")))){if(bt)return!1}}}}}}return!0},Dd=function(ae){return ae!=="annotation-xml"&&IH(ae,K)},ms=function(ae){Mo(G.beforeSanitizeAttributes,ae,null);const{attributes:Ve}=ae;if(!Ve||Mc(ae))return;const bt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:le,forceKeepAttr:void 0};let Pn=Ve.length;for(;Pn--;){const Mr=Ve[Pn],{name:Xt,namespaceURI:Ur,value:wi}=Mr,Js=Mt(Xt);let fr=Xt==="value"?wi:$ze(wi);if(bt.attrName=Js,bt.attrValue=fr,bt.keepAttr=!0,bt.forceKeepAttr=void 0,Mo(G.uponSanitizeAttribute,ae,bt),fr=bt.attrValue,De&&(Js==="id"||Js==="name")&&(lo(Xt,ae),fr=Xe+fr),ue&&Wi(/((--!?|])>)|<\/(style|title)/i,fr)){lo(Xt,ae);continue}if(bt.forceKeepAttr||(lo(Xt,ae),!bt.keepAttr))continue;if(!Ie&&Wi(/\/>/i,fr)){lo(Xt,ae);continue}re&&dS([U,W,$],jd=>{fr=sb(fr,jd," ")});const Hl=Mt(ae.nodeName);if(uo(Hl,Js,fr)){if(A&&typeof g=="object"&&typeof g.getAttributeType=="function"&&!Ur)switch(g.getAttributeType(Hl,Js)){case"TrustedHTML":{fr=A.createHTML(fr);break}case"TrustedScriptURL":{fr=A.createScriptURL(fr);break}}try{Ur?ae.setAttributeNS(Ur,Xt,fr):ae.setAttribute(Xt,fr),Mc(ae)?Ui(ae):TH(e.removed)}catch{}}}Mo(G.afterSanitizeAttributes,ae,null)},Yv=function Tt(ae){let Ve=null;const bt=No(ae);for(Mo(G.beforeSanitizeShadowDOM,ae,null);Ve=bt.nextNode();)Mo(G.uponSanitizeShadowNode,Ve,null),Pa(Ve),ms(Ve),Ve.content instanceof o&&Tt(Ve.content);Mo(G.afterSanitizeShadowDOM,ae,null)};return e.sanitize=function(Tt){let ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ve=null,bt=null,Pn=null,Mr=null;if(_t=!Tt,_t&&(Tt="<!-->"),typeof Tt!="string"&&!Ld(Tt))if(typeof Tt.toString=="function"){if(Tt=Tt.toString(),typeof Tt!="string")throw ab("dirty is not a string, aborting")}else throw ab("toString is not a function");if(!e.isSupported)return Tt;if(Y||Ln(ae),e.removed=[],typeof Tt=="string"&&(qe=!1),qe){if(Tt.nodeName){const wi=Mt(Tt.nodeName);if(!H[wi]||be[wi])throw ab("root node is forbidden and cannot be sanitized in-place")}}else if(Tt instanceof a)Ve=Oo("<!---->"),bt=Ve.ownerDocument.importNode(Tt,!0),bt.nodeType===lb.element&&bt.nodeName==="BODY"||bt.nodeName==="HTML"?Ve=bt:Ve.appendChild(bt);else{if(!Ee&&!re&&!xe&&Tt.indexOf("<")===-1)return A&&pe?A.createHTML(Tt):Tt;if(Ve=Oo(Tt),!Ve)return Ee?null:pe?k:""}Ve&&ge&&Ui(Ve.firstChild);const Xt=No(qe?Tt:Ve);for(;Pn=Xt.nextNode();)Pa(Pn),ms(Pn),Pn.content instanceof o&&Yv(Pn.content);if(qe)return Tt;if(Ee){if(ye)for(Mr=P.call(Ve.ownerDocument);Ve.firstChild;)Mr.appendChild(Ve.firstChild);else Mr=Ve;return(le.shadowroot||le.shadowrootmode)&&(Mr=D.call(r,Mr,!0)),Mr}let Ur=xe?Ve.outerHTML:Ve.innerHTML;return xe&&H["!doctype"]&&Ve.ownerDocument&&Ve.ownerDocument.doctype&&Ve.ownerDocument.doctype.name&&Wi(fne,Ve.ownerDocument.doctype.name)&&(Ur="<!DOCTYPE "+Ve.ownerDocument.doctype.name+`>
`+Ur),re&&dS([U,W,$],wi=>{Ur=sb(Ur,wi," ")}),A&&pe?A.createHTML(Ur):Ur},e.setConfig=function(){let Tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ln(Tt),Y=!0},e.clearConfig=function(){Jt=null,Y=!1},e.isValidAttribute=function(Tt,ae,Ve){Jt||Ln({});const bt=Mt(Tt),Pn=Mt(ae);return uo(bt,Pn,Ve)},e.addHook=function(Tt,ae){typeof ae=="function"&&ob(G[Tt],ae)},e.removeHook=function(Tt,ae){if(ae!==void 0){const Ve=Vze(G[Tt],ae);return Ve===-1?void 0:Hze(G[Tt],Ve,1)[0]}return TH(G[Tt])},e.removeHooks=function(Tt){G[Tt]=[]},e.removeAllHooks=function(){G=OH()},e}var NH=hne(),t0=class{constructor(t,e,n,r,i,o){Se(this,"type",3);Se(this,"name","");Se(this,"prefix","");Se(this,"value","");Se(this,"suffix","");Se(this,"modifier",3);this.type=t,this.name=e,this.prefix=n,this.value=r,this.suffix=i,this.modifier=o}hasCustomName(){return this.name!==""&&typeof this.name!="number"}},o$e=/[$_\p{ID_Start}]/u,s$e=/[$_\u200C\u200D\p{ID_Continue}]/u,i2=".*";function a$e(t,e){return/^[\x00-\x7F]*$/.test(t)}function pne(t,e=!1){let n=[],r=0;for(;r<t.length;){let i=t[r],o=function(s){if(!e)throw new TypeError(s);n.push({type:"INVALID_CHAR",index:r,value:t[r++]})};if(i==="*"){n.push({type:"ASTERISK",index:r,value:t[r++]});continue}if(i==="+"||i==="?"){n.push({type:"OTHER_MODIFIER",index:r,value:t[r++]});continue}if(i==="\\"){n.push({type:"ESCAPED_CHAR",index:r++,value:t[r++]});continue}if(i==="{"){n.push({type:"OPEN",index:r,value:t[r++]});continue}if(i==="}"){n.push({type:"CLOSE",index:r,value:t[r++]});continue}if(i===":"){let s="",a=r+1;for(;a<t.length;){let c=t.substr(a,1);if(a===r+1&&o$e.test(c)||a!==r+1&&s$e.test(c)){s+=t[a++];continue}break}if(!s){o(`Missing parameter name at ${r}`);continue}n.push({type:"NAME",index:r,value:s}),r=a;continue}if(i==="("){let s=1,a="",c=r+1,l=!1;if(t[c]==="?"){o(`Pattern cannot start with "?" at ${c}`);continue}for(;c<t.length;){if(!a$e(t[c])){o(`Invalid character '${t[c]}' at ${c}.`),l=!0;break}if(t[c]==="\\"){a+=t[c++]+t[c++];continue}if(t[c]===")"){if(s--,s===0){c++;break}}else if(t[c]==="("&&(s++,t[c+1]!=="?")){o(`Capturing groups are not allowed at ${c}`),l=!0;break}a+=t[c++]}if(l)continue;if(s){o(`Unbalanced pattern at ${r}`);continue}if(!a){o(`Missing pattern at ${r}`);continue}n.push({type:"REGEX",index:r,value:a}),r=c;continue}n.push({type:"CHAR",index:r,value:t[r++]})}return n.push({type:"END",index:r,value:""}),n}function mne(t,e={}){let n=pne(t);e.delimiter??(e.delimiter="/#?"),e.prefixes??(e.prefixes="./");let r=`[^${As(e.delimiter)}]+?`,i=[],o=0,s=0,a=new Set,c=T=>{if(s<n.length&&n[s].type===T)return n[s++].value},l=()=>c("OTHER_MODIFIER")??c("ASTERISK"),d=T=>{let I=c(T);if(I!==void 0)return I;let{type:A,index:k}=n[s];throw new TypeError(`Unexpected ${A} at ${k}, expected ${T}`)},p=()=>{let T="",I;for(;I=c("CHAR")??c("ESCAPED_CHAR");)T+=I;return T},m=T=>T,g=e.encodePart||m,C="",_=T=>{C+=T},S=()=>{C.length&&(i.push(new t0(3,"","",g(C),"",3)),C="")},w=(T,I,A,k,R)=>{let M=3;switch(R){case"?":M=1;break;case"*":M=0;break;case"+":M=2;break}if(!I&&!A&&M===3){_(T);return}if(S(),!I&&!A){if(!T)return;i.push(new t0(3,"","",g(T),"",M));return}let P;A?A==="*"?P=i2:P=A:P=r;let N=2;P===r?(N=1,P=""):P===i2&&(N=0,P="");let D;if(I?D=I:A&&(D=o++),a.has(D))throw new TypeError(`Duplicate name '${D}'.`);a.add(D),i.push(new t0(N,D,g(T),P,g(k),M))};for(;s<n.length;){let T=c("CHAR"),I=c("NAME"),A=c("REGEX");if(!I&&!A&&(A=c("ASTERISK")),I||A){let R=T??"";e.prefixes.indexOf(R)===-1&&(_(R),R=""),S();let M=l();w(R,I,A,"",M);continue}let k=T??c("ESCAPED_CHAR");if(k){_(k);continue}if(c("OPEN")){let R=p(),M=c("NAME"),P=c("REGEX");!M&&!P&&(P=c("ASTERISK"));let N=p();d("CLOSE");let D=l();w(R,M,P,N,D);continue}S(),d("END")}return i}function As(t){return t.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}function MH(t){return t&&t.ignoreCase?"ui":"u"}function c$e(t,e,n){return gne(mne(t,n),e,n)}function Km(t){switch(t){case 0:return"*";case 1:return"?";case 2:return"+";case 3:return""}}function gne(t,e,n={}){n.delimiter??(n.delimiter="/#?"),n.prefixes??(n.prefixes="./"),n.sensitive??(n.sensitive=!1),n.strict??(n.strict=!1),n.end??(n.end=!0),n.start??(n.start=!0),n.endsWith="";let r=n.start?"^":"";for(let a of t){if(a.type===3){a.modifier===3?r+=As(a.value):r+=`(?:${As(a.value)})${Km(a.modifier)}`;continue}e&&e.push(a.name);let c=`[^${As(n.delimiter)}]+?`,l=a.value;if(a.type===1?l=c:a.type===0&&(l=i2),!a.prefix.length&&!a.suffix.length){a.modifier===3||a.modifier===1?r+=`(${l})${Km(a.modifier)}`:r+=`((?:${l})${Km(a.modifier)})`;continue}if(a.modifier===3||a.modifier===1){r+=`(?:${As(a.prefix)}(${l})${As(a.suffix)})`,r+=Km(a.modifier);continue}r+=`(?:${As(a.prefix)}`,r+=`((?:${l})(?:`,r+=As(a.suffix),r+=As(a.prefix),r+=`(?:${l}))*)${As(a.suffix)})`,a.modifier===0&&(r+="?")}let i=`[${As(n.endsWith)}]|$`,o=`[${As(n.delimiter)}]`;if(n.end)return n.strict||(r+=`${o}?`),n.endsWith.length?r+=`(?=${i})`:r+="$",new RegExp(r,MH(n));n.strict||(r+=`(?:${o}(?=${i}))?`);let s=!1;if(t.length){let a=t[t.length-1];a.type===3&&a.modifier===3&&(s=n.delimiter.indexOf(a)>-1)}return s||(r+=`(?=${o}|${i})`),new RegExp(r,MH(n))}var Lu={delimiter:"",prefixes:"",sensitive:!0,strict:!0},l$e={delimiter:".",prefixes:"",sensitive:!0,strict:!0},u$e={delimiter:"/",prefixes:"/",sensitive:!0,strict:!0};function d$e(t,e){return t.length?t[0]==="/"?!0:!e||t.length<2?!1:(t[0]=="\\"||t[0]=="{")&&t[1]=="/":!1}function vne(t,e){return t.startsWith(e)?t.substring(e.length,t.length):t}function f$e(t,e){return t.endsWith(e)?t.substr(0,t.length-e.length):t}function yne(t){return!t||t.length<2?!1:t[0]==="["||(t[0]==="\\"||t[0]==="{")&&t[1]==="["}var bne=["ftp","file","http","https","ws","wss"];function Cne(t){if(!t)return!0;for(let e of bne)if(t.test(e))return!0;return!1}function h$e(t,e){if(t=vne(t,"#"),e||t==="")return t;let n=new URL("https://example.com");return n.hash=t,n.hash?n.hash.substring(1,n.hash.length):""}function p$e(t,e){if(t=vne(t,"?"),e||t==="")return t;let n=new URL("https://example.com");return n.search=t,n.search?n.search.substring(1,n.search.length):""}function m$e(t,e){return e||t===""?t:yne(t)?Sne(t):wne(t)}function g$e(t,e){if(e||t==="")return t;let n=new URL("https://example.com");return n.password=t,n.password}function v$e(t,e){if(e||t==="")return t;let n=new URL("https://example.com");return n.username=t,n.username}function y$e(t,e,n){if(n||t==="")return t;if(e&&!bne.includes(e))return new URL(`${e}:${t}`).pathname;let r=t[0]=="/";return t=new URL(r?t:"/-"+t,"https://example.com").pathname,r||(t=t.substring(2,t.length)),t}function b$e(t,e,n){return _ne(e)===t&&(t=""),n||t===""?t:Ene(t)}function C$e(t,e){return t=f$e(t,":"),e||t===""?t:q3(t)}function _ne(t){switch(t){case"ws":case"http":return"80";case"wws":case"https":return"443";case"ftp":return"21";default:return""}}function q3(t){if(t==="")return t;if(/^[-+.A-Za-z0-9]*$/.test(t))return t.toLowerCase();throw new TypeError(`Invalid protocol '${t}'.`)}function _$e(t){if(t==="")return t;let e=new URL("https://example.com");return e.username=t,e.username}function w$e(t){if(t==="")return t;let e=new URL("https://example.com");return e.password=t,e.password}function wne(t){if(t==="")return t;if(/[\t\n\r #%/:<>?@[\]^\\|]/g.test(t))throw new TypeError(`Invalid hostname '${t}'`);let e=new URL("https://example.com");return e.hostname=t,e.hostname}function Sne(t){if(t==="")return t;if(/[^0-9a-fA-F[\]:]/g.test(t))throw new TypeError(`Invalid IPv6 hostname '${t}'`);return t.toLowerCase()}function Ene(t){if(t===""||/^[0-9]*$/.test(t)&&parseInt(t)<=65535)return t;throw new TypeError(`Invalid port '${t}'.`)}function S$e(t){if(t==="")return t;let e=new URL("https://example.com");return e.pathname=t[0]!=="/"?"/-"+t:t,t[0]!=="/"?e.pathname.substring(2,e.pathname.length):e.pathname}function E$e(t){return t===""?t:new URL(`data:${t}`).pathname}function T$e(t){if(t==="")return t;let e=new URL("https://example.com");return e.search=t,e.search.substring(1,e.search.length)}function I$e(t){if(t==="")return t;let e=new URL("https://example.com");return e.hash=t,e.hash.substring(1,e.hash.length)}var wg,Gi,ni,Qn,oh,Sg,Go,Eg,Tg,Ig,Ke,zr,Tne,o2,Tb,KS,ks,s2,Ine,GS,xne,Ane,qS,_m,Df,kne,Rne,Pne,One,Ga,Nne,QH,x$e=(QH=class{constructor(t){Rt(this,Ke);Rt(this,wg);Rt(this,Gi,[]);Rt(this,ni,{});Rt(this,Qn,0);Rt(this,oh,1);Rt(this,Sg,0);Rt(this,Go,0);Rt(this,Eg,0);Rt(this,Tg,0);Rt(this,Ig,!1);ht(this,wg,t)}get result(){return J(this,ni)}parse(){for(ht(this,Gi,pne(J(this,wg),!0));J(this,Qn)<J(this,Gi).length;ht(this,Qn,J(this,Qn)+J(this,oh))){if(ht(this,oh,1),J(this,Gi)[J(this,Qn)].type==="END"){if(J(this,Go)===0){Je(this,Ke,o2).call(this),Je(this,Ke,Df).call(this)?Je(this,Ke,zr).call(this,9,1):Je(this,Ke,_m).call(this)?Je(this,Ke,zr).call(this,8,1):Je(this,Ke,zr).call(this,7,0);continue}else if(J(this,Go)===2){Je(this,Ke,Tb).call(this,5);continue}Je(this,Ke,zr).call(this,10,0);break}if(J(this,Eg)>0)if(Je(this,Ke,Rne).call(this))ht(this,Eg,J(this,Eg)-1);else continue;if(Je(this,Ke,kne).call(this)){ht(this,Eg,J(this,Eg)+1);continue}switch(J(this,Go)){case 0:Je(this,Ke,s2).call(this)&&Je(this,Ke,Tb).call(this,1);break;case 1:if(Je(this,Ke,s2).call(this)){Je(this,Ke,Nne).call(this);let t=7,e=1;Je(this,Ke,Ine).call(this)?(t=2,e=3):J(this,Ig)&&(t=2),Je(this,Ke,zr).call(this,t,e)}break;case 2:Je(this,Ke,GS).call(this)?Je(this,Ke,Tb).call(this,3):(Je(this,Ke,qS).call(this)||Je(this,Ke,_m).call(this)||Je(this,Ke,Df).call(this))&&Je(this,Ke,Tb).call(this,5);break;case 3:Je(this,Ke,xne).call(this)?Je(this,Ke,zr).call(this,4,1):Je(this,Ke,GS).call(this)&&Je(this,Ke,zr).call(this,5,1);break;case 4:Je(this,Ke,GS).call(this)&&Je(this,Ke,zr).call(this,5,1);break;case 5:Je(this,Ke,Pne).call(this)?ht(this,Tg,J(this,Tg)+1):Je(this,Ke,One).call(this)&&ht(this,Tg,J(this,Tg)-1),Je(this,Ke,Ane).call(this)&&!J(this,Tg)?Je(this,Ke,zr).call(this,6,1):Je(this,Ke,qS).call(this)?Je(this,Ke,zr).call(this,7,0):Je(this,Ke,_m).call(this)?Je(this,Ke,zr).call(this,8,1):Je(this,Ke,Df).call(this)&&Je(this,Ke,zr).call(this,9,1);break;case 6:Je(this,Ke,qS).call(this)?Je(this,Ke,zr).call(this,7,0):Je(this,Ke,_m).call(this)?Je(this,Ke,zr).call(this,8,1):Je(this,Ke,Df).call(this)&&Je(this,Ke,zr).call(this,9,1);break;case 7:Je(this,Ke,_m).call(this)?Je(this,Ke,zr).call(this,8,1):Je(this,Ke,Df).call(this)&&Je(this,Ke,zr).call(this,9,1);break;case 8:Je(this,Ke,Df).call(this)&&Je(this,Ke,zr).call(this,9,1);break}}J(this,ni).hostname!==void 0&&J(this,ni).port===void 0&&(J(this,ni).port="")}},wg=new WeakMap,Gi=new WeakMap,ni=new WeakMap,Qn=new WeakMap,oh=new WeakMap,Sg=new WeakMap,Go=new WeakMap,Eg=new WeakMap,Tg=new WeakMap,Ig=new WeakMap,Ke=new WeakSet,zr=function(t,e){var n,r,i;switch(J(this,Go)){case 0:break;case 1:J(this,ni).protocol=Je(this,Ke,Ga).call(this);break;case 2:break;case 3:J(this,ni).username=Je(this,Ke,Ga).call(this);break;case 4:J(this,ni).password=Je(this,Ke,Ga).call(this);break;case 5:J(this,ni).hostname=Je(this,Ke,Ga).call(this);break;case 6:J(this,ni).port=Je(this,Ke,Ga).call(this);break;case 7:J(this,ni).pathname=Je(this,Ke,Ga).call(this);break;case 8:J(this,ni).search=Je(this,Ke,Ga).call(this);break;case 9:J(this,ni).hash=Je(this,Ke,Ga).call(this);break}J(this,Go)!==0&&t!==10&&([1,2,3,4].includes(J(this,Go))&&[6,7,8,9].includes(t)&&((n=J(this,ni)).hostname??(n.hostname="")),[1,2,3,4,5,6].includes(J(this,Go))&&[8,9].includes(t)&&((r=J(this,ni)).pathname??(r.pathname=J(this,Ig)?"/":"")),[1,2,3,4,5,6,7].includes(J(this,Go))&&t===9&&((i=J(this,ni)).search??(i.search=""))),Je(this,Ke,Tne).call(this,t,e)},Tne=function(t,e){ht(this,Go,t),ht(this,Sg,J(this,Qn)+e),ht(this,Qn,J(this,Qn)+e),ht(this,oh,0)},o2=function(){ht(this,Qn,J(this,Sg)),ht(this,oh,0)},Tb=function(t){Je(this,Ke,o2).call(this),ht(this,Go,t)},KS=function(t){return t<0&&(t=J(this,Gi).length-t),t<J(this,Gi).length?J(this,Gi)[t]:J(this,Gi)[J(this,Gi).length-1]},ks=function(t,e){let n=Je(this,Ke,KS).call(this,t);return n.value===e&&(n.type==="CHAR"||n.type==="ESCAPED_CHAR"||n.type==="INVALID_CHAR")},s2=function(){return Je(this,Ke,ks).call(this,J(this,Qn),":")},Ine=function(){return Je(this,Ke,ks).call(this,J(this,Qn)+1,"/")&&Je(this,Ke,ks).call(this,J(this,Qn)+2,"/")},GS=function(){return Je(this,Ke,ks).call(this,J(this,Qn),"@")},xne=function(){return Je(this,Ke,ks).call(this,J(this,Qn),":")},Ane=function(){return Je(this,Ke,ks).call(this,J(this,Qn),":")},qS=function(){return Je(this,Ke,ks).call(this,J(this,Qn),"/")},_m=function(){if(Je(this,Ke,ks).call(this,J(this,Qn),"?"))return!0;if(J(this,Gi)[J(this,Qn)].value!=="?")return!1;let t=Je(this,Ke,KS).call(this,J(this,Qn)-1);return t.type!=="NAME"&&t.type!=="REGEX"&&t.type!=="CLOSE"&&t.type!=="ASTERISK"},Df=function(){return Je(this,Ke,ks).call(this,J(this,Qn),"#")},kne=function(){return J(this,Gi)[J(this,Qn)].type=="OPEN"},Rne=function(){return J(this,Gi)[J(this,Qn)].type=="CLOSE"},Pne=function(){return Je(this,Ke,ks).call(this,J(this,Qn),"[")},One=function(){return Je(this,Ke,ks).call(this,J(this,Qn),"]")},Ga=function(){let t=J(this,Gi)[J(this,Qn)],e=Je(this,Ke,KS).call(this,J(this,Sg)).index;return J(this,wg).substring(e,t.index)},Nne=function(){let t={};Object.assign(t,Lu),t.encodePart=q3;let e=c$e(Je(this,Ke,Ga).call(this),void 0,t);ht(this,Ig,Cne(e))},QH),$P=["protocol","username","password","hostname","port","pathname","search","hash"],ku="*";function LH(t,e){if(typeof t!="string")throw new TypeError("parameter 1 is not of type 'string'.");let n=new URL(t,e);return{protocol:n.protocol.substring(0,n.protocol.length-1),username:n.username,password:n.password,hostname:n.hostname,port:n.port,pathname:n.pathname,search:n.search!==""?n.search.substring(1,n.search.length):void 0,hash:n.hash!==""?n.hash.substring(1,n.hash.length):void 0}}function Qc(t,e){return e?Ib(t):t}function ub(t,e,n){let r;if(typeof e.baseURL=="string")try{r=new URL(e.baseURL),e.protocol===void 0&&(t.protocol=Qc(r.protocol.substring(0,r.protocol.length-1),n)),!n&&e.protocol===void 0&&e.hostname===void 0&&e.port===void 0&&e.username===void 0&&(t.username=Qc(r.username,n)),!n&&e.protocol===void 0&&e.hostname===void 0&&e.port===void 0&&e.username===void 0&&e.password===void 0&&(t.password=Qc(r.password,n)),e.protocol===void 0&&e.hostname===void 0&&(t.hostname=Qc(r.hostname,n)),e.protocol===void 0&&e.hostname===void 0&&e.port===void 0&&(t.port=Qc(r.port,n)),e.protocol===void 0&&e.hostname===void 0&&e.port===void 0&&e.pathname===void 0&&(t.pathname=Qc(r.pathname,n)),e.protocol===void 0&&e.hostname===void 0&&e.port===void 0&&e.pathname===void 0&&e.search===void 0&&(t.search=Qc(r.search.substring(1,r.search.length),n)),e.protocol===void 0&&e.hostname===void 0&&e.port===void 0&&e.pathname===void 0&&e.search===void 0&&e.hash===void 0&&(t.hash=Qc(r.hash.substring(1,r.hash.length),n))}catch{throw new TypeError(`invalid baseURL '${e.baseURL}'.`)}if(typeof e.protocol=="string"&&(t.protocol=C$e(e.protocol,n)),typeof e.username=="string"&&(t.username=v$e(e.username,n)),typeof e.password=="string"&&(t.password=g$e(e.password,n)),typeof e.hostname=="string"&&(t.hostname=m$e(e.hostname,n)),typeof e.port=="string"&&(t.port=b$e(e.port,t.protocol,n)),typeof e.pathname=="string"){if(t.pathname=e.pathname,r&&!d$e(t.pathname,n)){let i=r.pathname.lastIndexOf("/");i>=0&&(t.pathname=Qc(r.pathname.substring(0,i+1),n)+t.pathname)}t.pathname=y$e(t.pathname,t.protocol,n)}return typeof e.search=="string"&&(t.search=p$e(e.search,n)),typeof e.hash=="string"&&(t.hash=h$e(e.hash,n)),t}function Ib(t){return t.replace(/([+*?:{}()\\])/g,"\\$1")}function A$e(t){return t.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}function k$e(t,e){e.delimiter??(e.delimiter="/#?"),e.prefixes??(e.prefixes="./"),e.sensitive??(e.sensitive=!1),e.strict??(e.strict=!1),e.end??(e.end=!0),e.start??(e.start=!0),e.endsWith="";let n=".*",r=`[^${A$e(e.delimiter)}]+?`,i=/[$_\u200C\u200D\p{ID_Continue}]/u,o="";for(let s=0;s<t.length;++s){let a=t[s];if(a.type===3){if(a.modifier===3){o+=Ib(a.value);continue}o+=`{${Ib(a.value)}}${Km(a.modifier)}`;continue}let c=a.hasCustomName(),l=!!a.suffix.length||!!a.prefix.length&&(a.prefix.length!==1||!e.prefixes.includes(a.prefix)),d=s>0?t[s-1]:null,p=s<t.length-1?t[s+1]:null;if(!l&&c&&a.type===1&&a.modifier===3&&p&&!p.prefix.length&&!p.suffix.length)if(p.type===3){let m=p.value.length>0?p.value[0]:"";l=i.test(m)}else l=!p.hasCustomName();if(!l&&!a.prefix.length&&d&&d.type===3){let m=d.value[d.value.length-1];l=e.prefixes.includes(m)}l&&(o+="{"),o+=Ib(a.prefix),c&&(o+=`:${a.name}`),a.type===2?o+=`(${a.value})`:a.type===1?c||(o+=`(${r})`):a.type===0&&(!c&&(!d||d.type===3||d.modifier!==3||l||a.prefix!=="")?o+="*":o+=`(${n})`),a.type===1&&c&&a.suffix.length&&i.test(a.suffix[0])&&(o+="\\"),o+=Ib(a.suffix),l&&(o+="}"),a.modifier!==3&&(o+=Km(a.modifier))}return o}var ec,sh,xg,ri,ha,Ag,XH,R$e=(XH=class{constructor(t={},e,n){Rt(this,ec);Rt(this,sh,{});Rt(this,xg,{});Rt(this,ri,{});Rt(this,ha,{});Rt(this,Ag,!1);try{let r;if(typeof e=="string"?r=e:n=e,typeof t=="string"){let a=new x$e(t);if(a.parse(),t=a.result,r===void 0&&typeof t.protocol!="string")throw new TypeError("A base URL must be provided for a relative constructor string.");t.baseURL=r}else{if(!t||typeof t!="object")throw new TypeError("parameter 1 is not of type 'string' and cannot convert to dictionary.");if(r)throw new TypeError("parameter 1 is not of type 'string'.")}typeof n>"u"&&(n={ignoreCase:!1});let i={ignoreCase:n.ignoreCase===!0};ht(this,ec,ub({pathname:ku,protocol:ku,username:ku,password:ku,hostname:ku,port:ku,search:ku,hash:ku},t,!0)),_ne(J(this,ec).protocol)===J(this,ec).port&&(J(this,ec).port="");let s;for(s of $P){if(!(s in J(this,ec)))continue;let a={},c=J(this,ec)[s];switch(J(this,xg)[s]=[],s){case"protocol":Object.assign(a,Lu),a.encodePart=q3;break;case"username":Object.assign(a,Lu),a.encodePart=_$e;break;case"password":Object.assign(a,Lu),a.encodePart=w$e;break;case"hostname":Object.assign(a,l$e),yne(c)?a.encodePart=Sne:a.encodePart=wne;break;case"port":Object.assign(a,Lu),a.encodePart=Ene;break;case"pathname":Cne(J(this,sh).protocol)?(Object.assign(a,u$e,i),a.encodePart=S$e):(Object.assign(a,Lu,i),a.encodePart=E$e);break;case"search":Object.assign(a,Lu,i),a.encodePart=T$e;break;case"hash":Object.assign(a,Lu,i),a.encodePart=I$e;break}try{J(this,ha)[s]=mne(c,a),J(this,sh)[s]=gne(J(this,ha)[s],J(this,xg)[s],a),J(this,ri)[s]=k$e(J(this,ha)[s],a),ht(this,Ag,J(this,Ag)||J(this,ha)[s].some(l=>l.type===2))}catch{throw new TypeError(`invalid ${s} pattern '${J(this,ec)[s]}'.`)}}}catch(r){throw new TypeError(`Failed to construct 'URLPattern': ${r.message}`)}}test(t={},e){let n={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof t!="string"&&e)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof t>"u")return!1;try{typeof t=="object"?n=ub(n,t,!1):n=ub(n,LH(t,e),!1)}catch{return!1}let r;for(r of $P)if(!J(this,sh)[r].exec(n[r]))return!1;return!0}exec(t={},e){let n={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof t!="string"&&e)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof t>"u")return;try{typeof t=="object"?n=ub(n,t,!1):n=ub(n,LH(t,e),!1)}catch{return null}let r={};e?r.inputs=[t,e]:r.inputs=[t];let i;for(i of $P){let o=J(this,sh)[i].exec(n[i]);if(!o)return null;let s={};for(let[a,c]of J(this,xg)[i].entries())if(typeof c=="string"||typeof c=="number"){let l=o[a+1];s[c]=l}r[i]={input:n[i]??"",groups:s}}return r}static compareComponent(t,e,n){let r=(a,c)=>{for(let l of["type","modifier","prefix","value","suffix"]){if(a[l]<c[l])return-1;if(a[l]!==c[l])return 1}return 0},i=new t0(3,"","","","",3),o=new t0(0,"","","","",3),s=(a,c)=>{let l=0;for(;l<Math.min(a.length,c.length);++l){let d=r(a[l],c[l]);if(d)return d}return a.length===c.length?0:r(a[l]??i,c[l]??i)};return!J(e,ri)[t]&&!J(n,ri)[t]?0:J(e,ri)[t]&&!J(n,ri)[t]?s(J(e,ha)[t],[o]):!J(e,ri)[t]&&J(n,ri)[t]?s([o],J(n,ha)[t]):s(J(e,ha)[t],J(n,ha)[t])}get protocol(){return J(this,ri).protocol}get username(){return J(this,ri).username}get password(){return J(this,ri).password}get hostname(){return J(this,ri).hostname}get port(){return J(this,ri).port}get pathname(){return J(this,ri).pathname}get search(){return J(this,ri).search}get hash(){return J(this,ri).hash}get hasRegExpGroups(){return J(this,Ag)}},ec=new WeakMap,sh=new WeakMap,xg=new WeakMap,ri=new WeakMap,ha=new WeakMap,Ag=new WeakMap,XH);globalThis.URLPattern||(globalThis.URLPattern=R$e);let Mne;function $qe(t){Mne=t}function P$e(){var t,e;typeof window<"u"&&(window.copilotTrustedTypesPolicy=(t=window.trustedTypes)==null?void 0:t.createPolicy("copilotPolicy",{createHTML:n=>NH.sanitize(n)}),(e=window.trustedTypes)==null||e.createPolicy("default",{createScriptURL:n=>{const r=/^\/cl\//,i=new URLPattern({protocol:"https",hostname:"*.cloudflare.com"}),o=new URLPattern({protocol:"https",hostname:"bat.bing.com"}),s=new URLPattern({protocol:"https",hostname:"az416426.vo.msecnd.net"}),a=new URLPattern({protocol:"https",hostname:"fpt.dfp.microsoft.com"}),c=new URLPattern({protocol:"https",hostname:"assets.msn.com"}),l=new URLPattern({protocol:"https",hostname:"content.lifecycle.office.net"});if(r.test(n)||i.test(n)||o.test(n)||s.test(n)||a.test(n)||c.test(n)||l.test(n)||n===Mne)return n;throw new Error(`Unsafe script URL "${n}" blocked by CSP.`)},createHTML:n=>NH.sanitize(n)}))}P$e();Fre.createRoot(document.getElementById("app")).render(y.jsx(Dl.StrictMode,{children:y.jsx(jze,{})}));const O$e=Object.freeze(Object.defineProperty({__proto__:null,Route:k7e},Symbol.toStringTag,{value:"Module"}));export{zs as $,he as A,FJ as B,_ee as C,UJ as D,VJ as E,BJ as F,VWe as G,Rd as H,e3 as I,ct as J,BKe as K,kc as L,jKe as M,X0e as N,oWe as O,_i as P,Ec as Q,uC as R,Wv as S,uv as T,lt as U,Cn as V,Dl as W,se as X,Xh as Y,Un as Z,Rr as _,Yt as a,E3e as a$,Rn as a0,Vt as a1,Sh as a2,J$e as a3,rK as a4,Tx as a5,Hs as a6,qu as a7,hQ as a8,ma as a9,Nq as aA,$q as aB,de as aC,gi as aD,rte as aE,Q2 as aF,Md as aG,z_e as aH,nx as aI,Qr as aJ,GD as aK,ZT as aL,k3 as aM,lme as aN,jC as aO,Xje as aP,Zje as aQ,Cwe as aR,XOe as aS,A8 as aT,$x as aU,bD as aV,MWe as aW,n5e as aX,YDe as aY,q7e as aZ,bGe as a_,t2 as aa,HT as ab,P3e as ac,Qe as ad,mq as ae,je as af,sl as ag,ir as ah,pT as ai,VD as aj,ate as ak,zm as al,Ci as am,iKe as an,Ae as ao,m3 as ap,WT as aq,wE as ar,$v as as,ln as at,Fi as au,Fje as av,$5 as aw,lUe as ax,Qx as ay,uUe as az,Mv as b,fqe as b$,fL as b0,WKe as b1,Pr as b2,tp as b3,co as b4,Hv as b5,tWe as b6,eWe as b7,hx as b8,Vee as b9,Jf as bA,zC as bB,J8e as bC,Mqe as bD,Or as bE,n4e as bF,uW as bG,fte as bH,Cee as bI,l3 as bJ,cn as bK,lh as bL,Yg as bM,Xy as bN,yKe as bO,hWe as bP,pWe as bQ,mWe as bR,Ev as bS,qh as bT,wee as bU,dn as bV,Ju as bW,bie as bX,tNe as bY,sI as bZ,qje as b_,Zs as ba,Lt as bb,MGe as bc,ste as bd,TNe as be,$M as bf,Kv as bg,e2 as bh,cV as bi,aV as bj,rS as bk,MFe as bl,LFe as bm,NGe as bn,DFe as bo,jFe as bp,Uv as bq,Wn as br,yI as bs,oL as bt,sL as bu,hv as bv,s5e as bw,a5e as bx,j7 as by,og as bz,D$e as c,QVe as c$,En as c0,_We as c1,W_e as c2,wWe as c3,hAe as c4,gte as c5,u3 as c6,Ra as c7,xwe as c8,sne as c9,vKe as cA,Z8e as cB,Rq as cC,hFe as cD,mT as cE,iQ as cF,tV as cG,nV as cH,nKe as cI,bW as cJ,Y4e as cK,DGe as cL,OGe as cM,BGe as cN,UGe as cO,jGe as cP,VGe as cQ,HGe as cR,cee as cS,KBe as cT,NY as cU,Wxe as cV,z0 as cW,cv as cX,rqe as cY,iWe as cZ,sqe as c_,QM as ca,IWe as cb,mL as cc,ko as cd,rv as ce,CWe as cf,gO as cg,gq as ch,xFe as ci,Ul as cj,Cte as ck,mr as cl,fFe as cm,Ht as cn,o3 as co,NWe as cp,Wte as cq,$te as cr,Z6e as cs,Cx as ct,yh as cu,N_e as cv,dAe as cw,hD as cx,dUe as cy,S3 as cz,ds as d,YKe as d$,V2e as d0,Hqe as d1,Bee as d2,Wx as d3,_3 as d4,iqe as d5,SAe as d6,eqe as d7,JGe as d8,Y_e as d9,GC as dA,eC as dB,Kee as dC,K5e as dD,q4e as dE,fNe as dF,B2e as dG,p3 as dH,n3 as dI,KT as dJ,cI as dK,G$e as dL,tK as dM,t9e as dN,HJ as dO,xo as dP,y5e as dQ,oqe as dR,w_e as dS,dWe as dT,fWe as dU,__e as dV,hH as dW,NVe as dX,t3 as dY,XKe as dZ,eo as d_,tqe as da,Pc as db,cKe as dc,Uh as dd,l_e as de,jh as df,qWe as dg,GWe as dh,YWe as di,oKe as dj,BUe as dk,Yx as dl,CM as dm,R3 as dn,UWe as dp,jWe as dq,zJ as dr,W8e as ds,x7 as dt,Cfe as du,zpe as dv,Nd as dw,$3 as dx,Rje as dy,PZ as dz,Ks as e,cqe as e$,oGe as e0,iGe as e1,qKe as e2,xd as e3,Nr as e4,io as e5,sGe as e6,eGe as e7,Kt as e8,nK as e9,nGe as eA,QDe as eB,HFe as eC,vGe as eD,jqe as eE,Zte as eF,J2 as eG,Ije as eH,Aq as eI,Nqe as eJ,jfe as eK,Iv as eL,qI as eM,dKe as eN,N3 as eO,LGe as eP,kI as eQ,RGe as eR,iS as eS,Xu as eT,QT as eU,cm as eV,am as eW,yHe as eX,aqe as eY,KWe as eZ,hqe as e_,D3 as ea,mee as eb,mje as ec,qx as ed,Kje as ee,i3e as ef,i3 as eg,$We as eh,S9e as ei,c3 as ej,Aa as ek,lD as el,bAe as em,yWe as en,Po as eo,lAe as ep,r3 as eq,jq as er,Bq as es,Gje as et,Hq as eu,fVe as ev,Od as ew,HWe as ex,tGe as ey,rGe as ez,fe as f,S8e as f$,j6e as f0,UY as f1,WBe as f2,D6e as f3,dVe as f4,ch as f5,FWe as f6,yC as f7,Z2 as f8,kJ as f9,rL as fA,iL as fB,yO as fC,sD as fD,oT as fE,EKe as fF,PS as fG,Id as fH,lI as fI,Jie as fJ,Kie as fK,F$e as fL,p4 as fM,ua as fN,uI as fO,$ie as fP,Wie as fQ,vz as fR,ioe as fS,qie as fT,Yi as fU,U$e as fV,B$e as fW,oC as fX,G3 as fY,Ll as fZ,E8e as f_,Ode as fa,FGe as fb,vI as fc,Hee as fd,Hx as fe,bi as ff,rCe as fg,nCe as fh,a8 as fi,WI as fj,FCe as fk,aWe as fl,sWe as fm,cs as fn,cD as fo,O3 as fp,PWe as fq,kwe as fr,ine as fs,rne as ft,Vq as fu,dHe as fv,fHe as fw,U9 as fx,bWe as fy,sUe as fz,pt as g,Th as g$,uqe as g0,JVe as g1,e6e as g2,lqe as g3,WWe as g4,jde as g5,kje as g6,OKe as g7,PKe as g8,GI as g9,a3 as gA,xte as gB,EWe as gC,TWe as gD,Ls as gE,pFe as gF,jM as gG,wFe as gH,LM as gI,TP as gJ,gWe as gK,wKe as gL,SKe as gM,CKe as gN,_Ke as gO,XBe as gP,Cqe as gQ,bKe as gR,lQ as gS,nne as gT,UW as gU,hL as gV,js as gW,Tl as gX,tc as gY,st as gZ,bI as g_,lKe as ga,LC as gb,pAe as gc,CVe as gd,PAe as ge,Rk as gf,td as gg,dH as gh,$S as gi,UD as gj,YI as gk,Wb as gl,i8e as gm,yx as gn,EGe as go,L5 as gp,SFe as gq,Mz as gr,sV as gs,Eee as gt,lFe as gu,QOe as gv,NH as gw,yfe as gx,dC as gy,oJ as gz,LKe as h,aee as h$,Zn as h0,Qi as h1,Xi as h2,_I as h3,Vs as h4,pL as h5,El as h6,uL as h7,Eh as h8,ns as h9,OVe as hA,kqe as hB,Aqe as hC,z2e as hD,H2e as hE,L9e as hF,Eqe as hG,Tqe as hH,Iqe as hI,JV as hJ,xqe as hK,MQ as hL,xb as hM,tS as hN,gKe as hO,_Q as hP,Z7e as hQ,aKe as hR,$Ke as hS,fD as hT,dqe as hU,S_e as hV,oee as hW,OWe as hX,BV as hY,pqe as hZ,yGe as h_,DWe as ha,BWe as hb,aI as hc,q$e as hd,Xwe as he,J6e as hf,xv as hg,$0 as hh,cW as hi,so as hj,pGe as hk,mGe as hl,d0 as hm,fs as hn,H5e as ho,z5e as hp,gM as hq,$qe as hr,W5 as hs,YVe as ht,Dn as hu,xKe as hv,AKe as hw,i9 as hx,kKe as hy,RKe as hz,d3 as i,mUe as i$,y3e as i0,MKe as i1,NKe as i2,mNe as i3,H$e as i4,Qee as i5,Fqe as i6,JFe as i7,gGe as i8,n3e as i9,Z$e as iA,X$e as iB,TAe as iC,Yee as iD,qee as iE,mSe as iF,LWe as iG,RWe as iH,mAe as iI,vAe as iJ,fKe as iK,nWe as iL,DC as iM,TFe as iN,uQ as iO,M_e as iP,gAe as iQ,HM as iR,TV as iS,nqe as iT,NNe as iU,$D as iV,R9e as iW,cQ as iX,TBe as iY,Y$e as iZ,rWe as i_,Hte as ia,NV as ib,bfe as ic,K_e as id,jUe as ie,lWe as ig,uWe as ih,H0 as ii,LUe as ij,F_e as ik,uKe as il,FM as im,_Fe as io,E3 as ip,Aee as iq,PGe as ir,Pq as is,qV as it,_qe as iu,fAe as iv,uD as iw,L_e as ix,j_e as iy,Q$e as iz,y as j,ZKe as j$,qGe as j0,fQ as j1,zD as j2,hKe as j3,kq as j4,_Ae as j5,wAe as j6,CAe as j7,wGe as j8,xWe as j9,cte as jA,z$e as jB,GGe as jC,QKe as jD,Pde as jE,xq as jF,IBe as jG,_Be as jH,KKe as jI,XUe as jJ,q3e as jK,G3e as jL,qC as jM,Nc as jN,dee as jO,zx as jP,vWe as jQ,w3e as jR,ane as jS,$3e as jT,LBe as jU,j3 as jV,GKe as jW,CGe as jX,_Ge as jY,S3e as jZ,JKe as j_,AWe as ja,kWe as jb,sKe as jc,tx as jd,mKe as je,XGe as jf,QGe as jg,XT as jh,WM as ji,A3 as jj,YGe as jk,rKe as jl,pKe as jm,UUe as jn,gD as jo,WVe as jp,Bx as jq,a6e as jr,DKe as js,hme as jt,ame as ju,h5e as jv,HKe as jw,cWe as jx,SWe as jy,FC as jz,oe as k,_x as k0,zWe as k1,KIe as k2,M$e as k3,cl as k4,zye as k5,Zbe as k6,K0e as k7,xOe as k8,TKe as k9,KGe as kA,ZGe as kB,mqe as kC,gqe as kD,vqe as kE,yqe as kF,bqe as kG,wqe as kH,Sqe as kI,Pqe as kJ,Oqe as kK,Uqe as kL,Bqe as kM,Vqe as kN,zqe as kO,IKe as ka,qT as kb,ahe as kc,$$e as kd,W$e as ke,K$e as kf,FKe as kg,UKe as kh,VKe as ki,zKe as kj,aGe as kk,cGe as kl,lGe as km,uGe as kn,dGe as ko,fGe as kp,hGe as kq,vee as kr,TGe as ks,IGe as kt,xGe as ku,AGe as kv,kGe as kw,zGe as kx,$Ge as ky,WGe as kz,sn as l,SGe as m,hp as n,ci as o,zee as p,Fx as q,b as r,WC as s,Bh as t,We as u,Px as v,X5 as w,Ox as x,eDe as y,h as z};
